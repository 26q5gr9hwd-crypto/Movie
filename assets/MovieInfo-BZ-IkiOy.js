import{_ as We,r as c,c as D,b as u,d as a,e,s as te,t as k,K as ie,g as y,L as _e,n as L,q as Qe,u as Et,i as Pt,O as wn,z as Mt,l as ze,o as ut,P as At,x as Ye,E as Cn,f as re,Q as at,m as X,R as se,y as Z,U as O,S as Ln,D as kt,V as Pe,W as _n,X as St,Y as _t,Z as In,$ as mn,a0 as Tn,k as Rn,v as rt,a1 as Sn,a2 as Se,w as fn,a3 as yt,a4 as Pn,a5 as An,a6 as xn,a7 as Un,a8 as gn,a9 as jn,aa as Nn,a as Bn,ab as kn,ac as Hn,ad as Dn,ae as $n,af as On,ag as Vn}from"./index-CMRPBAVA.js";import{_ as Fn,a as yn,b as pn,M as hn}from"./MovieList-CAI2AHNm.js";import{S as En}from"./SpinnerLoading-vzPqKgd2.js";import{N as Rt}from"./ToastMessage-jtbyzFNu.js";import{u as qn,S as Kn,a as zn}from"./trailer-DFtr7l9c.js";import{u as Mn,f as Wn,a as Gn}from"./dateUtils-1oVa_-_S.js";const ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Yn="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",gt=i=>{const t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.color="white",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="2rem",t.style.zIndex="99000",t.textContent=i,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},2e3)},Xn={key:0},Zn={key:1},Qn={class:"players-list"},Jn=["onClick"],eo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},to={key:0},no={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},oo={key:1},lo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},so=["onClick"],io={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},ao={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(i,{emit:t}){const r=i,n=t,C=c(null),_=D(()=>r.players.filter(h=>!E(h)&&!M(h))),v=D(()=>r.players.some(h=>E(h))),g=D(()=>r.players.some(h=>M(h))),E=h=>h.key.toUpperCase().includes("HDREZKA"),M=h=>h.key.toUpperCase().includes("KODIK"),o=h=>h.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),d=h=>{n("select",h),n("close")},w=h=>r.selectedPlayer&&r.selectedPlayer.key===h.key,b=h=>r.selectedPlayer?h==="hdrezka"&&E(r.selectedPlayer)||h==="kodik"&&M(r.selectedPlayer):!1,j=h=>{C.value=h},S=()=>{C.value=null},P=h=>{let T=r.players.filter(A=>h==="hdrezka"&&E(A)||h==="kodik"&&M(A));return h==="kodik"?T.sort((A,z)=>o(A.translate).localeCompare(o(z.translate))):T},I=h=>P(h).some(T=>T.warning);return(h,T)=>(a(),u("div",{class:"modal",onClick:T[4]||(T[4]=Qe(A=>h.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:T[3]||(T[3]=Qe(()=>{},["stop"]))},[e("button",{class:"close",onClick:T[0]||(T[0]=A=>h.$emit("close"))},"√ó"),C.value?(a(),u("h2",Zn,[e("button",{class:"back-btn",onClick:S},"‚Üê –ù–∞–∑–∞–¥"),te(" "+k(C.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(a(),u("h2",Xn,"–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–µ—Ä")),e("ul",Qn,[C.value?(a(!0),u(ie,{key:1},_e(P(C.value),A=>(a(),u("li",{key:A.key},[e("button",{class:L(["player-item",{active:w(A)}]),onClick:z=>d(A)},[te(k(o(A.translate))+" ",1),A.warning?(a(),u("span",io,"warning")):y("",!0)],10,so)]))),128)):(a(),u(ie,{key:0},[(a(!0),u(ie,null,_e(_.value,A=>(a(),u("li",{key:A.key},[e("button",{class:L(["player-item",{active:w(A)}]),onClick:z=>d(A)},[te(k(o(A.translate))+" ",1),A.warning?(a(),u("span",eo,"warning")):y("",!0)],10,Jn)]))),128)),v.value?(a(),u("li",to,[e("button",{class:L(["group-item",{active:b("hdrezka")}]),onClick:T[1]||(T[1]=A=>j("hdrezka"))},[T[5]||(T[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),T[6]||(T[6]=te(" ReYohoho - HDrezka ")),I("hdrezka")?(a(),u("span",no,"warning")):y("",!0)],2)])):y("",!0),g.value?(a(),u("li",oo,[e("button",{class:L(["group-item",{active:b("kodik")}]),onClick:T[2]||(T[2]=A=>j("kodik"))},[T[7]||(T[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),T[8]||(T[8]=te(" Kodik ")),I("kodik")?(a(),u("span",lo,"warning")):y("",!0)],2)])):y("",!0)],64))])])]))}},ro=We(ao,[["__scopeId","data-v-8b8d2b67"]]),uo={class:"players-list"},co=["src"],vo={key:1,class:"controls"},mo={class:"main-controls"},fo={class:"material-icons"},go={class:"list-button-item"},ko={class:"material-icons"},yo={class:"list-button-item"},po={class:"material-icons"},ho={class:"list-button-item"},bo={class:"list-button-item"},wo={class:"material-icons"},Co={class:"list-button-item"},_o={class:"material-icons"},Eo={class:"tooltip-container","data-tooltip-container":"dimming"},Mo={class:"material-icons"},Lo={class:"tooltip-container","data-tooltip-container":"blur"},Io={class:"tooltip-container","data-tooltip-container":"compressor"},To={class:"tooltip-container","data-tooltip-container":"mirror"},Ro={class:"tooltip-container","data-tooltip-container":"theater"},So={class:"material-symbols-outlined"},Po={class:"custom-tooltip","data-tooltip":"theater"},Ao={class:"tooltip-container","data-tooltip-container":"pip"},xo={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},Uo={class:"current-ratio"},jo=["onClick"],No={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},Bo={class:"custom-tooltip","data-tooltip":"app_link"},Ho={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},Do={class:"custom-tooltip","data-tooltip":"copy_link"},$o={key:0,class:"desktop-list-buttons"},Oo={class:"tooltip-container"},Vo={class:"material-icons"},Fo={class:"custom-tooltip"},qo={class:"tooltip-container"},Ko={class:"material-icons"},zo={class:"custom-tooltip"},Wo={class:"tooltip-container"},Go={class:"custom-tooltip"},Yo={class:"tooltip-container"},Xo={class:"material-icons"},Zo={class:"custom-tooltip"},Qo={class:"tooltip-container"},Jo={class:"material-icons"},el={class:"custom-tooltip"},tl={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(i,{emit:t}){const r=Et(),n=qn(),C=Pt(),_=wn(),v=Mt(),g=c(_.params.kp_id),E=i,M=t,o=c([]),d=c(null),w=c(!0),b=c(!1),j=c(!1),S=c(null),P=c(null),I=c(!1),h=c(""),T=c(null),A=c(window.innerHeight*.9),z=D(()=>"".concat(A.value,"px")),V=D(()=>r.isMobile),$=D(()=>!!window.electronAPI),R=c(null),be=c(!1);let pe=null;const ke=c(null),$e=c(null),H=c(null),J=c(null),G=c(!1),q=c(!1),ne=c(null),ye=c(null),ae=c(null),me=c(null),Ee=c(null),fe=c(null),Ae=f=>{const s=document.querySelector('[data-tooltip-container="'.concat(f,'"]')),x=document.querySelector('[data-tooltip="'.concat(f,'"]'));if(!s||!x)return;const Y=s.getBoundingClientRect(),ee=x.getBoundingClientRect(),de=window.innerHeight;Y.bottom+ee.height>de?(x.style.top="auto",x.style.bottom="100%",x.style.marginTop="0",x.style.marginBottom="12px",x.style.transform="translateX(-50%)"):(x.style.top="100%",x.style.bottom="auto",x.style.marginTop="12px",x.style.marginBottom="0",x.style.transform="translateX(-50%)")},oe=f=>{R.value=f,be.value=!1,clearTimeout(pe),Pe(()=>{Ae(f)})},Me=()=>{be.value||(pe=setTimeout(()=>{R.value=null},300))},ce=()=>{be.value=!0,clearTimeout(pe)},Be=()=>{be.value=!1,R.value=null},we=D({get:()=>n.aspectRatio,set:f=>n.updateAspectRatio(f)}),xe=D({get:()=>n.isCentered,set:f=>n.updateCentering(f)}),lt=D(()=>{var f,s,x,Y,ee,de,et,tt,nt,ot;return((s=(f=E.movieInfo)==null?void 0:f.lists)==null?void 0:s.isFavorite)||((Y=(x=E.movieInfo)==null?void 0:x.lists)==null?void 0:Y.isWatching)||((de=(ee=E.movieInfo)==null?void 0:ee.lists)==null?void 0:de.isLater)||((tt=(et=E.movieInfo)==null?void 0:et.lists)==null?void 0:tt.isCompleted)||((ot=(nt=E.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isAbandoned)}),Je=D(()=>n.preferredPlayer),st=c(0),Le=f=>f.toUpperCase(),Oe=()=>{if(b.value||!P.value)return;const[f,s]=we.value.split(":").map(Number);A.value=window.innerHeight*.9,st.value=Math.min(P.value.clientWidth*(s/f),A.value)},he=D(()=>{if(b.value)return{};const[f,s]=we.value.split(":").map(Number),x=A.value*(f/s);return{width:"100%",maxWidth:"".concat(x,"px"),maxHeight:z.value,margin:"0 auto",overflow:"hidden"}}),Ve=D(()=>{const[f,s]=we.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(s/f*100,"%")}}),p=()=>{P.value&&setTimeout(()=>{Pe(()=>{P.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Q=async()=>{try{h.value="",T.value=null;const f=await Ln(E.kpId);if(o.value=Object.entries(f).map(([s,x])=>({key:s.toUpperCase(),...x})),o.value.length>0){if(Je.value){const s=Le(Je.value),x=o.value.find(Y=>Le(Y.key)===s);d.value=x||o.value[0]}else d.value=o.value[0];M("update:selectedPlayer",d.value)}}catch(f){const{message:s,code:x}=kt(f);h.value=s,T.value=x,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–µ–µ—Ä–æ–≤:",f)}},Fe=()=>{I.value=!0},dt=()=>{I.value=!1},Xe=()=>{try{return ne.value||(ne.value=new(window.AudioContext||window.webkitAudioContext)),ye.value||(ye.value=ne.value.createDynamicsCompressor(),ye.value.threshold.value=-50,ye.value.knee.value=40,ye.value.ratio.value=12,ye.value.attack.value=0,ye.value.release.value=.25,me.value=ne.value.createGain(),Ee.value=ne.value.createGain(),me.value.gain.value=0,Ee.value.gain.value=1,ye.value.connect(me.value),me.value.connect(ne.value.destination),Ee.value.connect(ne.value.destination)),!0}catch(f){return console.log("Error initializing audio context:",f),!1}},Ze=async f=>{try{if(!ne.value||fe.value===f)return!0;const s=S.value,x=(s==null?void 0:s.src)||"";if(x.includes("videoframe")||x.includes("kinoserial.net")||x.includes("allarknow"))return console.log("Player detected as unsupported for compressor:",x),fe.value=f,ae.value=null,q.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1;if(ae.value)try{ae.value.disconnect()}catch(ee){}const Y=async(ee=0)=>{ee>0&&await new Promise(de=>setTimeout(de,ee));try{return ae.value=ne.value.createMediaElementSource(f),fe.value=f,ae.value.connect(ye.value),ae.value.connect(Ee.value),console.log("Video audio setup completed (attempt with ".concat(ee,"ms delay)")),!0}catch(de){if(de.name==="InvalidStateError"&&de.message.includes("already connected"))return console.log("MediaElementSource already connected (".concat(ee,"ms delay attempt)")),!1;throw de}};return await Y(0)||await Y(100)||await Y(300)||await Y(800)?!0:(console.log("Video element has internal audio processing, compressor not available for this player"),fe.value=f,ae.value=null,q.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1)}catch(s){return console.log("Error setting up video audio:",s),!1}},qe=async f=>{if(S.value)try{const s=S.value,x=s.contentDocument||s.contentWindow.document;if(!x)return;const Y=x.querySelectorAll("video");if(Y.length===0)return;const ee=Y[0];if(!Xe())return;if(!await Ze(ee)||!ae.value){console.log("Compressor not available for this player");return}f&&!q.value?(me.value.gain.setValueAtTime(1,ne.value.currentTime),Ee.value.gain.setValueAtTime(0,ne.value.currentTime),q.value=!0,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –≤–∫–ª—é—á—ë–Ω"),console.log("Compressor enabled")):!f&&q.value&&(me.value.gain.setValueAtTime(0,ne.value.currentTime),Ee.value.gain.setValueAtTime(1,ne.value.currentTime),q.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –æ—Ç–∫–ª—é—á—ë–Ω"),console.log("Compressor disabled"))}catch(s){console.log("Compressor error:",s),$.value&&window.electronAPI.showToast("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞")}},ct=()=>{$.value?window.electronAPI.sendHotKey("F2"):(gt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},N=()=>{$.value?(m.value=!m.value,qe(m.value)):(gt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},W=()=>{$.value?(l.value=!l.value,F(l.value)):(gt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},K=()=>{b.value=!b.value,b.value?(window.addEventListener("mousemove",Ie),document.addEventListener("keydown",Ce),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Ie),document.removeEventListener("keydown",Ce),document.body.classList.remove("no-scroll")),j.value=b.value,Pe(()=>p())},ue=c(null),Ie=()=>{ue.value=setTimeout(()=>{clearTimeout(ue.value),j.value=!1},4e3),j.value=!0},He=D(()=>r.dimmingEnabled),vt=()=>{b.value||r.toggleDimming()},m=D({get:()=>n.compressorEnabled,set:f=>n.updateCompressor(f)}),l=D({get:()=>n.mirrorEnabled,set:f=>n.updateMirror(f)}),F=f=>{if(S.value)try{const s=S.value,x=s.contentDocument||s.contentWindow.document;if(!x)return;const Y=x.querySelectorAll("video");if(Y.length>0&&(Y.forEach(ee=>{f?ee.style.transform="scaleX(-1)":ee.style.transform="scaleX(1)"}),G.value=f,$.value)){const ee=f?"–ó–µ—Ä–∫–∞–ª–æ –≤–∫–ª—é—á–µ–Ω–æ":"–ó–µ—Ä–∫–∞–ª–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ";window.electronAPI.showToast(ee)}}catch(s){}},le=()=>{J.value&&clearInterval(J.value),J.value=setInterval(()=>{if(S.value)try{const f=S.value,s=f.contentDocument||f.contentWindow.document;if(!s)return;const x=s.querySelectorAll("video");if(x.length>0){const Y=x[0],de=Y.style.transform==="scaleX(-1)";l.value&&!de?(Y.style.transform="scaleX(-1)",G.value=!0):!l.value&&de&&(Y.style.transform="scaleX(1)",G.value=!1),fe.value!==Y?(console.log("Video element changed, reinitializing compressor"),fe.value=null,q.value=!1,m.value&&setTimeout(()=>{qe(!0)},500)):m.value!==q.value&&ae.value&&(console.log("Compressor state mismatch, reapplying"),qe(m.value))}}catch(f){}},1e3)},Ue=()=>{w.value=!1,le()},Ce=f=>{(f.key==="Escape"&&b.value||f.altKey&&f.keyCode===84)&&K()},Te=f=>{we.value=f,setTimeout(()=>{xe.value&&p()},310)},je=()=>{const f="reyohoho://#".concat(g.value);try{window.location.href=f}catch(s){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏:",s)}},Ne=()=>{const f=window.location.href;navigator.clipboard.writeText(f).then(()=>{}),ke.value.showNotification("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–ª—å–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞")};function ve(f){return f.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const ge=D(()=>{var f,s;return $.value?!1:!((s=(f=d.value)==null?void 0:f.key)!=null&&s.toUpperCase().includes("TORRENTS"))}),Ge=()=>{try{ae.value&&(ae.value.disconnect(),ae.value=null),ne.value&&(ne.value.close(),ne.value=null),ye.value=null,me.value=null,Ee.value=null,fe.value=null,q.value=!1}catch(f){console.log("Error cleaning up audio context:",f)}},Ke=f=>{var s;if(((s=d.value)==null?void 0:s.key)===f.key){dt();return}d.value=f,w.value=!0,G.value=!1,q.value=!1,fe.value=null,J.value&&(clearInterval(J.value),J.value=null),n.updatePreferredPlayer(Le(f.key)),M("update:selectedPlayer",f)};ze(d,f=>{if(f)if(w.value=!0,G.value=!1,q.value=!1,fe.value=null,J.value&&(clearInterval(J.value),J.value=null),n.updatePreferredPlayer(Le(f.key)),M("update:selectedPlayer",f),f.key.toUpperCase().includes("TORRENTS")){const s=document.querySelector(".rocketme_fon");s&&(s.style.display="none");const x=document.querySelector(".pm_preloader");x&&(x.style.display="none")}else{const s=document.querySelector(".rocketme_fon");s&&(s.style.display="");const x=document.querySelector(".pm_preloader");x&&(x.style.display="")}}),ze(()=>_.params.kp_id,async f=>{f&&f!==g.value&&(g.value=f,G.value=!1,q.value=!1,fe.value=null,J.value&&(clearInterval(J.value),J.value=null),xe.value&&p())},{immediate:!0});const De=["16:9","12:5","4:3"],it=()=>{const s=(De.indexOf(we.value)+1)%De.length;Te(De[s])},Lt=f=>{var x,Y,ee,de,et,tt,nt,ot,pt,ht,bt,wt,Ct;return(Ct={[O.FAVORITE]:((Y=(x=E.movieInfo)==null?void 0:x.lists)==null?void 0:Y.isFavorite)||!1,[O.HISTORY]:((de=(ee=E.movieInfo)==null?void 0:ee.lists)==null?void 0:de.isHistory)||!1,[O.LATER]:((tt=(et=E.movieInfo)==null?void 0:et.lists)==null?void 0:tt.isLater)||!1,[O.COMPLETED]:((ot=(nt=E.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isCompleted)||!1,[O.ABANDONED]:((ht=(pt=E.movieInfo)==null?void 0:pt.lists)==null?void 0:ht.isAbandoned)||!1,[O.WATCHING]:((wt=(bt=E.movieInfo)==null?void 0:bt.lists)==null?void 0:wt.isWatching)||!1}[f])!=null?Ct:!1},Re=async f=>{if(!C.token){ke.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:It});return}try{const s={[O.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[O.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[O.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[O.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[O.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[O.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};Lt(f)?(await _n(g.value,f),ke.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(s[f]))):(await St(g.value,f),ke.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(s[f])))}catch(s){const{message:x,code:Y}=kt(s);ke.value.showNotification("".concat(x," ").concat(Y))}M("update:movieInfo")},It=()=>{v.push("/login")},mt=D(()=>n.showFavoriteTooltip),Tt=()=>{v.push("/settings"),Be()},U=async()=>{if(!$.value){gt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank");return}if(S.value)try{const f=S.value,s=f.contentDocument||f.contentWindow.document;if(!s)return;const x=s.querySelector("video");if(!x)return;document.pictureInPictureElement?await document.exitPictureInPicture():document.pictureInPictureEnabled?await x.requestPictureInPicture():gt('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}catch(f){console.error("Error toggling PiP:",f),gt('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}};return ut(()=>{w.value=!0,Q(),V.value&&(we.value="4:3"),Oe(),window.addEventListener("resize",Oe),window.addEventListener("resize",Ae),xe.value&&p()}),At(()=>{window.removeEventListener("resize",Oe),window.removeEventListener("resize",Ae),window.removeEventListener("mousemove",Ie),document.removeEventListener("keydown",Ce),document.body.classList.remove("no-scroll"),J.value&&clearInterval(J.value),Ge()}),(f,s)=>{var x,Y,ee,de,et,tt,nt,ot,pt,ht,bt,wt,Ct,Bt,Ht,Dt,$t,Ot,Vt,Ft,qt,Kt,zt,Wt,Gt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,sn,an,rn,un,dn,cn,vn;return h.value?(a(),Ye(Cn,{key:0,message:h.value,code:T.value},null,8,["message","code"])):(a(),u(ie,{key:1},[e("div",uo,[s[41]||(s[41]=e("span",null,"–ü–ª–µ–µ—Ä:",-1)),e("button",{class:"player-btn",onClick:Fe},k(d.value?ve(d.value.translate).toUpperCase():"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–µ—Ä–æ–≤..."),1)]),I.value?(a(),Ye(ro,{key:0,players:o.value,"selected-player":d.value,onClose:dt,onSelect:Ke},null,8,["players","selected-player"])):y("",!0),e("div",{ref_key:"containerRef",ref:P,class:L(["player-container",{"theater-mode":b.value}]),style:at(b.value?{}:he.value)},[e("div",{class:L(["iframe-wrapper",{pm_video:ge.value}]),style:at(b.value?{}:Ve.value)},[X(e("iframe",{ref_key:"playerIframe",ref:S,src:(x=d.value)==null?void 0:x.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:L(["responsive-iframe",{"theater-mode-unlock":j.value,"theater-mode-lock":b.value,dimmed:He.value}]),onLoad:Ue},null,42,co),[[se,!w.value&&((Y=d.value)==null?void 0:Y.iframe)]]),w.value?(a(),Ye(En,{key:0})):y("",!0)],6),b.value?(a(),u("button",{key:0,class:L(["close-theater-btn",{visible:j.value}]),onClick:K}," ‚úñ ",2)):y("",!0)],6),b.value?y("",!0):(a(),u("div",vo,[e("div",mo,[V.value?y("",!0):(a(),u("div",{key:0,ref_key:"tooltipContainer",ref:$e,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[mt.value?(a(),u("button",{key:0,class:L(["favorite-btn",{active:(de=(ee=i.movieInfo)==null?void 0:ee.lists)==null?void 0:de.isFavorite}]),onMouseenter:s[0]||(s[0]=B=>oe("favorite")),onMouseleave:Me,onClick:s[1]||(s[1]=B=>Re(Z(O).FAVORITE))},[e("span",fo,k((tt=(et=i.movieInfo)==null?void 0:et.lists)!=null&&tt.isFavorite?"favorite":"favorite_border"),1),e("span",{class:L(["material-icons dropdown-arrow",{highlighted:lt.value}])},"expand_more",2)],34)):y("",!0),X(e("div",{ref_key:"tooltip",ref:H,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:ce,onMouseleave:Be},[e("div",go,[e("button",{class:L(["favorite-btn",{active:(ot=(nt=i.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isFavorite}]),onClick:s[2]||(s[2]=B=>Re(Z(O).FAVORITE))},[e("span",ko,k((ht=(pt=i.movieInfo)==null?void 0:pt.lists)!=null&&ht.isFavorite?"favorite":"favorite_border"),1),s[42]||(s[42]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))],2)]),e("div",yo,[e("button",{class:L(["watching-btn",{active:(wt=(bt=i.movieInfo)==null?void 0:bt.lists)==null?void 0:wt.isWatching}]),onClick:s[3]||(s[3]=B=>Re(Z(O).WATCHING))},[e("span",po,k((Bt=(Ct=i.movieInfo)==null?void 0:Ct.lists)!=null&&Bt.isWatching?"visibility":"visibility_off"),1),s[43]||(s[43]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))],2)]),e("div",ho,[e("button",{class:L(["later-btn",{active:(Dt=(Ht=i.movieInfo)==null?void 0:Ht.lists)==null?void 0:Dt.isLater}]),onClick:s[4]||(s[4]=B=>Re(Z(O).LATER))},s[44]||(s[44]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ",-1)]),2)]),e("div",bo,[e("button",{class:L(["completed-btn",{active:(Ot=($t=i.movieInfo)==null?void 0:$t.lists)==null?void 0:Ot.isCompleted}]),onClick:s[5]||(s[5]=B=>Re(Z(O).COMPLETED))},[e("span",wo,k((Ft=(Vt=i.movieInfo)==null?void 0:Vt.lists)!=null&&Ft.isCompleted?"check_circle":"check_circle_outline"),1),s[45]||(s[45]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))],2)]),e("div",Co,[e("button",{class:L(["abandoned-btn",{active:(Kt=(qt=i.movieInfo)==null?void 0:qt.lists)==null?void 0:Kt.isAbandoned}]),onClick:s[6]||(s[6]=B=>Re(Z(O).ABANDONED))},[e("span",_o,k(((Wt=(zt=i.movieInfo)==null?void 0:zt.lists)!=null&&Wt.isAbandoned,"not_interested")),1),s[46]||(s[46]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))],2)]),e("div",{class:"tooltip-hint"},[s[48]||(s[48]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[s[47]||(s[47]=te("–°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ ")),e("a",{class:"settings-link",onClick:Tt},"–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")])])],544),[[se,R.value==="favorite"&&mt.value]])],512)),V.value?y("",!0):(a(),u(ie,{key:1},[e("div",Eo,[e("button",{class:L(["dimming-btn",{active:He.value}]),onMouseenter:s[7]||(s[7]=B=>oe("dimming")),onMouseleave:s[8]||(s[8]=B=>R.value=null),onClick:vt},[e("span",Mo,k(He.value?"light_mode":"dark_mode"),1)],34),X(e("div",{class:"custom-tooltip","data-tooltip":"dimming"},k(He.value?"–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ":"–í–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ"),513),[[se,R.value==="dimming"]])]),e("div",Lo,[e("button",{class:L(["blur-btn",{"electron-only":!$.value}]),onMouseenter:s[9]||(s[9]=B=>oe("blur")),onMouseleave:s[10]||(s[10]=B=>R.value=null),onClick:ct},s[49]||(s[49]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"blur"},k($.value?"–ë–ª—é—Ä":"–ë–ª—é—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="blur"]])]),e("div",Io,[e("button",{class:L(["material-symbols-outlined",{active:m.value,"electron-only":!$.value}]),onMouseenter:s[11]||(s[11]=B=>oe("compressor")),onMouseleave:s[12]||(s[12]=B=>R.value=null),onClick:N},s[50]||(s[50]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"compressor"},k($.value?"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä":"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="compressor"]])]),e("div",To,[e("button",{class:L(["mirror-btn",{active:l.value,"electron-only":!$.value}]),onMouseenter:s[13]||(s[13]=B=>oe("mirror")),onMouseleave:s[14]||(s[14]=B=>R.value=null),onClick:W},s[51]||(s[51]=[e("span",{class:"material-icons"},"flip",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"mirror"},k($.value?"–ó–µ—Ä–∫–∞–ª–æ":"–ó–µ—Ä–∫–∞–ª–æ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="mirror"]])]),e("div",Ro,[e("button",{class:"theater-mode-btn",onMouseenter:s[15]||(s[15]=B=>oe("theater")),onMouseleave:s[16]||(s[16]=B=>R.value=null),onClick:K},[e("span",So,k(b.value?"fullscreen_exit":"aspect_ratio"),1)],32),X(e("div",Po,[te(k(b.value?"–í—ã–π—Ç–∏ –∏–∑ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞":"–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")+" ",1),s[52]||(s[52]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[se,R.value==="theater"]])]),e("div",Ao,[e("button",{class:L(["pip-btn",{"electron-only":!$.value}]),onMouseenter:s[17]||(s[17]=B=>oe("pip")),onMouseleave:s[18]||(s[18]=B=>R.value=null),onClick:U},s[53]||(s[53]=[e("span",{class:"material-icons"},"picture_in_picture_alt",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"pip"},k($.value?"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ":"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="pip"]])]),e("div",xo,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:s[19]||(s[19]=B=>oe("aspect_ratio")),onMouseleave:Me,onClick:it},[e("span",Uo,k(we.value),1)],32),X(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:ce,onMouseleave:Be},[(a(),u(ie,null,_e(De,B=>e("div",{key:B,class:L(["aspect-ratio-option",{active:we.value===B}]),onClick:nr=>Te(B)},k(B),11,jo)),64))],544),[[se,R.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:s[21]||(s[21]=B=>oe("centering")),onMouseleave:Me},[e("button",{class:"center-btn",onClick:p},s[54]||(s[54]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),X(e("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:ce,onMouseleave:Be},[s[55]||(s[55]=te(" –û—Ç—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–µ—Ä ")),re(Kn,{modelValue:xe.value,"onUpdate:modelValue":s[20]||(s[20]=B=>xe.value=B),title:"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞"},null,8,["modelValue"]),s[56]||(s[56]=e("span",{class:"tooltip-title"},"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞",-1))],544),[[se,R.value==="centering"]])],32),$.value?y("",!0):(a(),u("div",No,[e("button",{class:"app-link-btn",onMouseenter:s[22]||(s[22]=B=>oe("app_link")),onMouseleave:s[23]||(s[23]=B=>R.value=null),onClick:je},s[57]||(s[57]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),X(e("div",Bo," –û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ",512),[[se,R.value==="app_link"]])])),$.value?(a(),u("div",Ho,[e("button",{class:"copy-link-btn",onMouseenter:s[24]||(s[24]=B=>oe("copy_link")),onMouseleave:s[25]||(s[25]=B=>R.value=null),onClick:Ne},s[58]||(s[58]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),X(e("div",Do," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ",512),[[se,R.value==="copy_link"]])])):y("",!0)],64))]),!V.value&&!mt.value?(a(),u("div",$o,[e("div",Oo,[e("button",{class:L(["favorite-btn",{active:(Yt=(Gt=i.movieInfo)==null?void 0:Gt.lists)==null?void 0:Yt.isFavorite}]),onMouseenter:s[26]||(s[26]=B=>oe("favorite")),onMouseleave:s[27]||(s[27]=B=>R.value=null),onClick:s[28]||(s[28]=B=>Re(Z(O).FAVORITE))},[e("span",Vo,k((Zt=(Xt=i.movieInfo)==null?void 0:Xt.lists)!=null&&Zt.isFavorite?"favorite":"favorite_border"),1)],34),X(e("div",Fo,k("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[se,R.value==="favorite"]])]),e("div",qo,[e("button",{class:L(["watching-btn",{active:(Jt=(Qt=i.movieInfo)==null?void 0:Qt.lists)==null?void 0:Jt.isWatching}]),onMouseenter:s[29]||(s[29]=B=>oe("watching")),onMouseleave:s[30]||(s[30]=B=>R.value=null),onClick:s[31]||(s[31]=B=>Re(Z(O).WATCHING))},[e("span",Ko,k((tn=(en=i.movieInfo)==null?void 0:en.lists)!=null&&tn.isWatching?"visibility":"visibility_off"),1)],34),X(e("div",zo,k("–°–º–æ—Ç—Ä—é"),512),[[se,R.value==="watching"]])]),e("div",Wo,[e("button",{class:L(["later-btn",{active:(on=(nn=i.movieInfo)==null?void 0:nn.lists)==null?void 0:on.isLater}]),onMouseenter:s[32]||(s[32]=B=>oe("later")),onMouseleave:s[33]||(s[33]=B=>R.value=null),onClick:s[34]||(s[34]=B=>Re(Z(O).LATER))},s[59]||(s[59]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),X(e("div",Go,k("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[se,R.value==="later"]])]),e("div",Yo,[e("button",{class:L(["completed-btn",{active:(sn=(ln=i.movieInfo)==null?void 0:ln.lists)==null?void 0:sn.isCompleted}]),onMouseenter:s[35]||(s[35]=B=>oe("completed")),onMouseleave:s[36]||(s[36]=B=>R.value=null),onClick:s[37]||(s[37]=B=>Re(Z(O).COMPLETED))},[e("span",Xo,k((rn=(an=i.movieInfo)==null?void 0:an.lists)!=null&&rn.isCompleted?"check_circle":"check_circle_outline"),1)],34),X(e("div",Zo,k("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[se,R.value==="completed"]])]),e("div",Qo,[e("button",{class:L(["abandoned-btn",{active:(dn=(un=i.movieInfo)==null?void 0:un.lists)==null?void 0:dn.isAbandoned}]),onMouseenter:s[38]||(s[38]=B=>oe("abandoned")),onMouseleave:s[39]||(s[39]=B=>R.value=null),onClick:s[40]||(s[40]=B=>Re(Z(O).ABANDONED))},[e("span",Jo,k(((vn=(cn=i.movieInfo)==null?void 0:cn.lists)!=null&&vn.isAbandoned,"not_interested")),1)],34),X(e("div",el,k("–ë—Ä–æ—à–µ–Ω–æ"),512),[[se,R.value==="abandoned"]])])])):y("",!0)])),re(Rt,{ref_key:"notificationRef",ref:ke},null,512)],64))}}},bn=We(tl,[["__scopeId","data-v-0787d568"]]),nl={key:0,class:"carousel-container"},ol={class:"carousel-wrapper"},ll=["onClick"],sl=["src","alt"],il={class:"video-name"},al={key:0,class:"video-player"},rl=["src"],ul={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(i,{emit:t}){const r=Et(),n=D(()=>r.isMobile),C=i,_=t,v=c(C.activeVideoIndex),g=c(null),E=c(!1),M=c(!1),o=()=>{if(!g.value)return;const{scrollLeft:P,scrollWidth:I,clientWidth:h}=g.value;E.value=P>0,M.value=P<I-h-1},d=P=>{if(!g.value)return;const I=g.value.querySelector(".carousel-item");if(!I)return;const h=I.clientWidth+16;g.value.scrollBy({left:h*P,behavior:"smooth"})},w=P=>{v.value=P,_("select",C.videos[P])},b=()=>o(),j=c([]),S=async P=>{try{return(await fetch("https://img.youtube.com/vi/".concat(P,"/0.jpg"))).ok}catch(I){return!1}};return ut(async()=>{const P=C.videos.map(async h=>await S(h.videoId)?h:null),I=await Promise.all(P);j.value=I.filter(Boolean),o(),window.addEventListener("resize",b)}),ze(()=>C.videos,async P=>{const I=P.map(async T=>await S(T.videoId)?T:null),h=await Promise.all(I);j.value=h.filter(Boolean)}),ze(()=>C.activeVideoIndex,P=>{v.value=P}),At(()=>{window.removeEventListener("resize",b)}),(P,I)=>j.value.length?(a(),u("div",nl,[I[4]||(I[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",ol,[X(e("button",{class:"scroll-button left",onClick:I[0]||(I[0]=h=>d(-1))},I[2]||(I[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[se,!n.value&&E.value]]),e("div",{ref_key:"carousel",ref:g,class:"carousel",onScroll:o},[(a(!0),u(ie,null,_e(j.value,(h,T)=>(a(),u("div",{key:T,class:"carousel-item",onClick:A=>w(T)},[e("img",{src:"https://img.youtube.com/vi/".concat(h.videoId,"/0.jpg"),alt:h.name},null,8,sl),e("div",il,k(h.name),1)],8,ll))),128))],544),X(e("button",{class:"scroll-button right",onClick:I[1]||(I[1]=h=>d(1))},I[3]||(I[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[se,!n.value&&M.value]])]),v.value!==null?(a(),u("div",al,[e("iframe",{src:i.videos[v.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,rl)])):y("",!0)])):y("",!0)}},dl=We(ul,[["__scopeId","data-v-4a5806b3"]]),cl={class:"rating-container"},vl={class:"rating-display"},ml={class:"rating-numbers"},fl=["onClick","onMouseenter"],gl={key:0,class:"tooltip-footer"},kl={class:"rating-numbers mobile-rating-numbers"},yl=["onClick"],pl={key:0,class:"mobile-modal-footer"},hl={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(i){const t=Et(),r=Mt(),n=i,C=c(null),_=c(null),v=c(null),g=c(null),E=c(0),M=c(!1),o=c(!1);let d=null;const w=A=>A?A.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",b=()=>{d=setTimeout(()=>{M.value=!1,t.isMobile||(o.value=!1)},100)},j=()=>{d&&(clearTimeout(d),d=null),M.value=!0},S=()=>{t.isMobile&&(o.value=!o.value)},P=()=>{r.push("/login")},I=async()=>{try{const A=await In(n.kpId);_.value=A.user_rating,v.value=A.average_rating,g.value=w(A.vote_count)}catch(A){console.error("Error loading rating:",A)}},h=async A=>{var z;try{A===_.value?(await mn(n.kpId,null),_.value=null,C.value.showNotification("–û—Ü–µ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞")):(await mn(n.kpId,A),_.value=A,C.value.showNotification("–û—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")),t.isMobile&&(o.value=!1),I()}catch(V){console.error("Error setting rating:",V),((z=V.response)==null?void 0:z.status)===401?C.value.showNotification('–î–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:P}):C.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏"),t.isMobile&&(o.value=!1)}},T=()=>{o.value=!1};return ut(()=>{I()}),(A,z)=>(a(),u("div",cl,[e("div",vl,[e("a",{href:"#",class:L(["rating-link",{"has-rating":_.value}]),onMouseenter:z[0]||(z[0]=V=>M.value=!0),onMouseleave:b,onClick:Qe(S,["prevent"])},[z[3]||(z[3]=e("img",{src:Fn,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",{class:L(["average-rating",Z(_t)(v.value)])},k(v.value?v.value.toFixed(1).replace(/\.0$/,""):"‚Äî"),3)],34),X(e("div",{class:"rating-tooltip",onMouseenter:j,onMouseleave:b},[e("div",ml,[(a(),u(ie,null,_e(10,V=>e("button",{key:V,class:L(["number-btn",{active:V===_.value,hover:V===E.value,"average-highlight":v.value&&V<=Math.round(v.value)}]),onClick:$=>h(V),onMouseenter:$=>E.value=V,onMouseleave:z[1]||(z[1]=$=>E.value=0)},k(V),43,fl)),64))]),g.value?(a(),u("div",gl,"–û—Ü–µ–Ω–æ–∫: "+k(g.value),1)):y("",!0)],544),[[se,(M.value||o.value)&&!Z(t).isMobile]])]),re(Rt,{ref_key:"notificationRef",ref:C},null,512),Z(t).isMobile&&o.value?(a(),u("div",{key:0,class:"mobile-modal-overlay",onClick:T},[e("div",{class:"mobile-modal",onClick:z[2]||(z[2]=Qe(()=>{},["stop"]))},[e("div",{class:"mobile-modal-header"},[z[4]||(z[4]=e("h3",null,"–û—Ü–µ–Ω–∏—Ç—å —Ñ–∏–ª—å–º",-1)),e("button",{class:"close-button",onClick:T},"√ó")]),e("div",kl,[(a(),u(ie,null,_e(10,V=>e("button",{key:V,class:L(["number-btn",{active:V===_.value,"average-highlight":v.value&&V<=Math.round(v.value)}]),onClick:$=>h(V)},k(V),11,yl)),64))]),g.value?(a(),u("div",pl,"–û—Ü–µ–Ω–æ–∫: "+k(g.value),1)):y("",!0)])])):y("",!0)]))}},bl=We(hl,[["__scopeId","data-v-2df64bd5"]]),wl={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const i=this.categories.find(t=>t.name===this.activeCategory);return i?i.emojis:[]}},methods:{selectEmoji(i){this.$emit("emoji-selected",i)}}},Cl={class:"emoji-categories"},_l=["onClick"],El={class:"emoji-grid"},Ml=["onClick"];function Ll(i,t,r,n,C,_){return r.isVisible?(a(),u("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=v=>i.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=v=>i.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=v=>i.$emit("close"))},t[3]||(t[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",Cl,[(a(!0),u(ie,null,_e(C.categories,v=>(a(),u("button",{key:v.name,onClick:g=>C.activeCategory=v.name,class:L([{active:C.activeCategory===v.name},"category-btn"]),type:"button"},k(v.icon),11,_l))),128))]),e("div",El,[(a(!0),u(ie,null,_e(_.currentEmojis,v=>(a(),u("button",{key:v,onClick:g=>_.selectEmoji(v),class:"emoji-btn",type:"button"},k(v),9,Ml))),128))])],32)):y("",!0)}const xt=We(wl,[["render",Ll],["__scopeId","data-v-209132f3"]]),Il=async i=>{const t=await Tn();return await i(t)},Tl=async i=>{const{data:t}=await Il(r=>r.get("/search_emotes/".concat(i)));return t.emotes||[]},Rl={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(i,{emit:t}){const r=c(""),n=c([]),C=c(null),_=c(!1),g=Rn(async d=>{if(!i.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!d.trim()){n.value=[],_.value=!1;return}_.value=!0;try{n.value=await Tl(d)}catch(w){console.error("Error searching images:",w),n.value=[]}finally{_.value=!1}},300),E=()=>{if(!i.currentUser){t("login-required");return}r.value.trim()&&(_.value=!0),g(r.value)},M=d=>{if(!i.currentUser){t("login-required");return}t("image-selected",d),t("close")},o=()=>{setTimeout(()=>{i.isVisible&&t("mouse-leave")},100)};return ze(()=>i.isVisible,d=>{d&&(r.value="",n.value=[],_.value=!1)}),{searchQuery:r,images:n,searchInput:C,isLoading:_,handleSearch:E,selectImage:M,handleInputBlur:o}}},Sl={key:0,class:"auth-required"},Pl={class:"auth-message"},Al={key:1},xl={class:"image-picker-header"},Ul={class:"image-content"},jl={key:0,class:"loading-spinner"},Nl={key:1,class:"image-grid"},Bl=["onClick"],Hl=["src","alt"],Dl={key:2,class:"no-images"},$l={key:3,class:"no-search"};function Ol(i,t,r,n,C,_){return r.isVisible?(a(),u("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=v=>i.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=v=>i.$emit("mouse-leave")),onClick:t[9]||(t[9]=Qe(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=v=>i.$emit("close"))},t[10]||(t[10]=[e("i",{class:"fas fa-times"},null,-1)])),r.currentUser?(a(),u("div",Al,[e("div",xl,[X(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=v=>n.searchQuery=v),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:t[3]||(t[3]=(...v)=>n.handleSearch&&n.handleSearch(...v)),onClick:t[4]||(t[4]=Qe(()=>{},["stop"])),onFocus:t[5]||(t[5]=v=>i.$emit("mouse-enter")),onBlur:t[6]||(t[6]=(...v)=>n.handleInputBlur&&n.handleInputBlur(...v))},null,544),[[rt,n.searchQuery]])]),e("div",Ul,[n.isLoading?(a(),u("div",jl,t[14]||(t[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)]))):n.images.length>0?(a(),u("div",Nl,[(a(!0),u(ie,null,_e(n.images,(v,g)=>(a(),u("div",{key:g,class:"image-item",onClick:E=>n.selectImage(v)},[e("img",{src:v,alt:"Image "+(g+1)},null,8,Hl)],8,Bl))),128))])):n.searchQuery.trim()?(a(),u("div",Dl,t[15]||(t[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)]))):(a(),u("div",$l,t[16]||(t[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])))])])):(a(),u("div",Sl,[e("div",Pl,[t[11]||(t[11]=e("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),t[13]||(t[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:t[1]||(t[1]=v=>i.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):y("",!0)}const Ut=We(Rl,[["render",Ol],["__scopeId","data-v-f33eb3f6"]]),Vl={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(i,{emit:t}){const r=c(""),n=c(""),C=c(null),_=c(null),v=D(()=>/^https?:\/\/.+/.test(r.value.trim())&&n.value.trim()),g=()=>{t("close"),M()},E=()=>{v.value&&(t("submit",{url:r.value.trim(),title:n.value.trim()}),g())},M=()=>{r.value="",n.value=""},o=d=>{var w;d.key==="Enter"?(d.preventDefault(),v.value?E():d.target===C.value&&r.value.trim()&&((w=_.value)==null||w.focus())):d.key==="Escape"&&g()};return ze(()=>i.isVisible,d=>{d&&(i.selectedText.trim()&&(n.value=i.selectedText.trim()),Pe(()=>{var w;(w=C.value)==null||w.focus()}))}),{linkUrl:r,linkTitle:n,urlInput:C,titleInput:_,isValidLink:v,closeModal:g,submitLink:E,handleKeydown:o}}},Fl={class:"link-modal-header"},ql={class:"link-modal-content"},Kl={class:"form-group"},zl={class:"form-group"},Wl={class:"link-modal-footer"},Gl=["disabled"];function Yl(i,t,r,n,C,_){return r.isVisible?(a(),u("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=(...v)=>n.closeModal&&n.closeModal(...v))},[e("div",{class:"link-modal",onClick:t[7]||(t[7]=Qe(()=>{},["stop"]))},[e("div",Fl,[t[10]||(t[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:t[0]||(t[0]=(...v)=>n.closeModal&&n.closeModal(...v))},t[9]||(t[9]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",ql,[e("div",Kl,[t[11]||(t[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),X(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=v=>n.linkUrl=v),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=(...v)=>n.handleKeydown&&n.handleKeydown(...v))},null,544),[[rt,n.linkUrl]])]),e("div",zl,[t[12]||(t[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),X(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=v=>n.linkTitle=v),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:t[4]||(t[4]=(...v)=>n.handleKeydown&&n.handleKeydown(...v))},null,544),[[rt,n.linkTitle]])])]),e("div",Wl,[e("button",{class:"cancel-button",onClick:t[5]||(t[5]=(...v)=>n.closeModal&&n.closeModal(...v))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!n.isValidLink,onClick:t[6]||(t[6]=(...v)=>n.submitLink&&n.submitLink(...v))},"–î–æ–±–∞–≤–∏—Ç—å",8,Gl)])])])):y("",!0)}const jt=We(Vl,[["render",Yl],["__scopeId","data-v-a794d83f"]]);function Xl(){const i=c(!1),t=c(!1),r=c(!1),n=()=>{t.value=!0},C=()=>{t.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},_=()=>{r.value=!0,i.value=!0},v=()=>{r.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},g=()=>{i.value=!1};return{showEmojiPicker:i,isEmojiHovered:t,isButtonHovered:r,handleEmojiMouseEnter:n,handleEmojiMouseLeave:C,handleButtonMouseEnter:_,handleButtonMouseLeave:v,closeEmojiPicker:g,insertEmoji:(o,d,w,b)=>{const j=d.value;if(j){const S=j.selectionStart,P=j.selectionEnd,I=w.value.substring(0,S),h=w.value.substring(P),T=I+o+h;b(T),Pe(()=>{j.focus(),j.setSelectionRange(S+o.length,S+o.length),j.style.height&&(j.style.height="auto",j.style.height="".concat(Math.min(j.scrollHeight,200),"px"))})}else b(w.value+o)},handleGlobalClick:o=>{!o.target.closest(".emoji-picker")&&!o.target.closest(".emoji-button-inline")&&g()}}}function Zl(){const i=c(!1),t=c(!1),r=c(!1),n=()=>{t.value=!0},C=()=>{t.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},_=()=>{r.value=!0,i.value=!0},v=()=>{r.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},g=()=>{i.value=!1};return{showImagePicker:i,isImageHovered:t,isButtonHovered:r,handleImageMouseEnter:n,handleImageMouseLeave:C,handleImageButtonMouseEnter:_,handleButtonMouseLeave:v,closeImagePicker:g,insertImage:(o,d,w,b)=>{const j=d.value;if(j){const S=j.selectionStart,P=j.selectionEnd,I="[img]".concat(o,"[/img]"),h=w.value.slice(0,S)+I+w.value.slice(P);b(h),Pe(()=>{j.focus(),j.setSelectionRange(S+I.length,S+I.length),j.style.height&&(j.style.height="auto",j.style.height="".concat(Math.min(j.scrollHeight,200),"px"))})}else{const S="[img]".concat(o,"[/img]");b(w.value+S)}},handleGlobalClick:o=>{!o.target.closest(".image-picker")&&!o.target.closest(".emoji-button-inline")&&g()}}}function Ql(){const i=c(!1),t=c("");return{showLinkModal:i,selectedTextForLink:t,insertLink:(v,g)=>{const E=v.value;if(E){const M=E.selectionStart,o=E.selectionEnd,d=g.value.slice(M,o);t.value=d.trim()||""}i.value=!0},insertLinkFromModal:(v,g,E,M)=>{const o=g.value;if(o){const d=o.selectionStart,w=o.selectionEnd,b="[link=".concat(v.url,"]").concat(v.title,"[/link]"),j=E.value.slice(0,d)+b+E.value.slice(w);M(j),Pe(()=>{o.focus(),o.setSelectionRange(d+b.length,d+b.length),o.style.height&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))})}},closeLinkModal:()=>{i.value=!1},insertSpoiler:(v,g,E)=>{const M=v.value;if(M){const o=M.selectionStart,d=M.selectionEnd,w=g.value.slice(o,d);let b;w.trim()?b="[spoiler]".concat(w,"[/spoiler]"):b="[spoiler][/spoiler]";const j=g.value.slice(0,o)+b+g.value.slice(d);E(j),Pe(()=>{if(M.focus(),w.trim())M.setSelectionRange(o+b.length,o+b.length);else{const S=o+9;M.setSelectionRange(S,S)}M.style.height&&(M.style.height="auto",M.style.height="".concat(Math.min(M.scrollHeight,200),"px"))})}}}}function Jl(){return{autoResize:r=>{const n=r==null?void 0:r.target;n&&(n.style.height="auto",n.style.height="".concat(Math.min(n.scrollHeight,200),"px"))},autoResizeElement:r=>{r&&(r.style.height="auto",r.style.height="".concat(Math.min(r.scrollHeight,200),"px"))}}}function Nt(){const i=Xl(),t=Zl(),r=Ql(),{autoResize:n,autoResizeElement:C}=Jl(),_=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,i.showEmojiPicker.value=!0,t.showImagePicker.value=!1},v=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,t.showImagePicker.value=!0,i.showEmojiPicker.value=!1},g=()=>{i.isButtonHovered.value=!1,t.isButtonHovered.value=!1,setTimeout(()=>{!i.isEmojiHovered.value&&!t.isImageHovered.value&&!i.isButtonHovered.value&&!t.isButtonHovered.value&&(i.showEmojiPicker.value=!1,t.showImagePicker.value=!1)},300)},E=()=>{i.showEmojiPicker.value=!1,t.showImagePicker.value=!1},M=S=>{!S.target.closest(".emoji-picker")&&!S.target.closest(".image-picker")&&!S.target.closest(".emoji-button-inline")&&E()},o=(S,P,I,h)=>{i.insertEmoji(S,P,I,h)},d=(S,P,I,h)=>{t.insertImage(S,P,I,h)},w=(S,P,I)=>{r.insertLink(S,P,I)},b=(S,P,I,h)=>{r.insertLinkFromModal(S,P,I,h)},j=(S,P,I)=>{r.insertSpoiler(S,P,I)};return ut(()=>{document.addEventListener("click",M)}),At(()=>{document.removeEventListener("click",M)}),{showEmojiPicker:i.showEmojiPicker,handleEmojiMouseEnter:i.handleEmojiMouseEnter,handleEmojiMouseLeave:i.handleEmojiMouseLeave,closeEmojiPicker:i.closeEmojiPicker,showImagePicker:t.showImagePicker,handleImageMouseEnter:t.handleImageMouseEnter,handleImageMouseLeave:t.handleImageMouseLeave,closeImagePicker:t.closeImagePicker,showLinkModal:r.showLinkModal,selectedTextForLink:r.selectedTextForLink,closeLinkModal:r.closeLinkModal,handleButtonMouseEnter:_,handleImageButtonMouseEnter:v,handleButtonMouseLeave:g,closeAllPickers:E,insertEmojiUniversal:o,insertImageUniversal:d,insertLinkUniversal:w,insertLinkFromModalUniversal:b,insertSpoilerUniversal:j,autoResize:n,autoResizeElement:C}}const es=i=>i===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":i>=2&&i<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",ts=i=>{if(!i)return"?";const t=i.split(" ");return t.length===1?i.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},ns={name:"CommentItem",components:{EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{comment:{type:Object,required:!0,default:()=>({username:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(i,{emit:t}){var he,Ve;const r=Mt(),n=D(()=>{var p;return i.editingCommentId===((p=i.comment)==null?void 0:p.id)}),C=c(((he=i.comment)==null?void 0:he.content)||""),_=c(((Ve=i.comment)==null?void 0:Ve.user_rating)||0),v=c(null),g=c(null),{showEmojiPicker:E,showImagePicker:M,showLinkModal:o,selectedTextForLink:d,handleEmojiMouseEnter:w,handleEmojiMouseLeave:b,handleImageMouseEnter:j,handleImageMouseLeave:S,handleButtonMouseEnter:P,handleImageButtonMouseEnter:I,handleButtonMouseLeave:h,closeEmojiPicker:T,closeImagePicker:A,closeLinkModal:z,insertEmojiUniversal:V,insertImageUniversal:$,insertLinkUniversal:R,insertLinkFromModalUniversal:be,insertSpoilerUniversal:pe,autoResize:ke}=Nt(),{formatContentWithTruncation:$e}=Mn();ut(async()=>{var p;if((p=i.comment)!=null&&p.user_avatar){const Q=await Sn();v.value="".concat(Q).concat(i.comment.user_avatar)}});const H=D(()=>{var p;return i.currentUser&&((p=i.comment)==null?void 0:p.user_id)===i.currentUser.id}),J=D(()=>{var p;return i.currentUser&&((p=i.comment)==null?void 0:p.user_id)===i.currentUser.id||i.currentUser&&i.currentUser.is_admin===1}),G=D(()=>{var p,Q,Fe;return((p=i.comment)==null?void 0:p.updated_at)&&((Q=i.comment)==null?void 0:Q.updated_at)!==((Fe=i.comment)==null?void 0:Fe.created_at)}),q=D(()=>{var p,Q;return(p=i.comment)!=null&&p.is_deleted?!1:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3}),ne=D(()=>q.value),ye=c(!1),ae=D(()=>{var p,Q;return(p=i.comment)!=null&&p.is_deleted?null:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3?"lowRating":null}),me=()=>{var p,Q;t("start-edit",(p=i.comment)==null?void 0:p.id),C.value=((Q=i.comment)==null?void 0:Q.content)||"",Pe(()=>{g.value&&(g.value.focus(),ke({target:g.value}))})},Ee=()=>{var p;t("cancel-edit"),C.value=((p=i.comment)==null?void 0:p.content)||""},fe=()=>{var p;C.value.trim()&&t("edit",(p=i.comment)==null?void 0:p.id,C.value.trim())},Ae=()=>{var p;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&t("delete",(p=i.comment)==null?void 0:p.id)},oe=p=>{var Q,Fe;_.value===p?(_.value=0,t("rate",(Q=i.comment)==null?void 0:Q.id,p)):(_.value=p,t("rate",(Fe=i.comment)==null?void 0:Fe.id,p))},Me=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),fe())},ce=D(()=>{var p;return $e((p=i.comment)==null?void 0:p.content)}),Be=()=>{console.log("Avatar load error, falling back to initials"),v.value=null,Pe(()=>{const p=document.querySelector(".avatar-placeholder");p&&(p.style.display="flex")})},we=()=>{r.push("/login")},xe=p=>{V(p,g,C,Q=>{C.value=Q})},lt=p=>{$(p,g,C,Q=>{C.value=Q})},Je=()=>{pe(g,C,p=>{C.value=p})},st=()=>{R(g,C,p=>{C.value=p})},Le=p=>{be(p,g,C,Q=>{C.value=Q})},Oe=p=>{ke(p)};return ze(C,()=>{n.value&&g.value&&Pe(()=>{Oe({target:g.value})})}),{isEditing:n,editContent:C,userRating:_,isCommentOwner:H,canDeleteComment:J,isCommentEdited:G,formatDate:Gn,formatRelativeTime:Wn,startEdit:me,cancelEdit:Ee,saveEdit:fe,confirmDelete:Ae,rateComment:oe,avatarUrl:v,getInitials:ts,handleEditKeydown:Me,isCommentHidden:ne,showHiddenComment:ye,hiddenCommentReason:ae,formattedContent:ce,autoResizeEdit:Oe,editTextarea:g,showEmojiPicker:E,showImagePicker:M,insertEmojiEdit:xe,insertImageEdit:lt,insertSpoilerEdit:Je,insertLinkEdit:st,handleEmojiMouseEnter:w,handleEmojiMouseLeave:b,handleImageMouseEnter:j,handleImageMouseLeave:S,closeEmojiPicker:T,closeImagePicker:A,handleButtonMouseEnter:P,handleButtonMouseLeave:h,handleImageButtonMouseEnter:I,handleAvatarError:Be,openLogin:we,showLinkModal:o,selectedTextForLink:d,insertLinkFromModal:Le,closeLinkModal:z}}},os=["data-comment-id"],ls={class:"comment-header"},ss={class:"user-info"},is={class:"user-avatar"},as=["src","alt"],rs={class:"user-details"},us={class:"username"},ds={key:0,class:"user-rating"},cs=["title"],vs=["title"],ms={class:"comment-content"},fs={key:0,class:"hidden-comment-warning"},gs={key:1},ks={key:0,class:"deleted-comment"},ys={key:1},ps={key:0,class:"edit-form"},hs={class:"edit-textarea-container"},bs={class:"edit-footer"},ws={class:"edit-actions"},Cs=["disabled"],_s={class:"character-counter-container"},Es={key:1,class:"comment-text-container"},Ms=["innerHTML"],Ls={class:"comment-footer"},Is={class:"comment-actions"},Ts={class:"rating-buttons"},Rs={class:"action-buttons"};function Ss(i,t,r,n,C,_){var o,d,w,b,j,S,P,I,h,T,A,z,V,$,R,be,pe,ke,$e;const v=Se("router-link"),g=Se("EmojiPicker"),E=Se("ImagePicker"),M=Se("LinkModal");return a(),u("div",{class:"comment-item","data-comment-id":(o=r.comment)==null?void 0:o.id},[e("div",ls,[e("div",ss,[re(v,{to:{path:"/lists/".concat((d=r.comment)==null?void 0:d.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:fn(()=>{var H,J;return[e("div",is,[n.avatarUrl?(a(),u("img",{key:0,src:n.avatarUrl,alt:((H=r.comment)==null?void 0:H.username)||"–ê–Ω–æ–Ω–∏–º",onError:t[0]||(t[0]=(...G)=>n.handleAvatarError&&n.handleAvatarError(...G)),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,as)):(a(),u("div",{key:1,class:"avatar-placeholder",style:at({display:n.avatarUrl?"none":"flex"})},k(n.getInitials(((J=r.comment)==null?void 0:J.username)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",rs,[re(v,{to:{path:"/lists/".concat((w=r.comment)==null?void 0:w.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:fn(()=>{var H;return[e("span",us,k(((H=r.comment)==null?void 0:H.username)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(b=r.comment)!=null&&b.user_movie_rating?(a(),u("span",ds,[t[18]||(t[18]=e("i",{class:"fas fa-star"},null,-1)),te(" "+k(r.comment.user_movie_rating),1)])):y("",!0),e("span",{class:"date",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((j=r.comment)==null?void 0:j.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((S=r.comment)==null?void 0:S.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((P=r.comment)==null?void 0:P.created_at))},[te(k(n.formatRelativeTime((I=r.comment)==null?void 0:I.created_at))+" ",1),n.isCommentEdited?(a(),u("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((h=r.comment)==null?void 0:h.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((T=r.comment)==null?void 0:T.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((A=r.comment)==null?void 0:A.created_at))},null,8,vs)):y("",!0)],8,cs)])])]),e("div",ms,[!((z=r.comment)!=null&&z.is_deleted)&&n.isCommentHidden&&!n.showHiddenComment?(a(),u("div",fs,[n.hiddenCommentReason==="lowRating"?(a(),u("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=H=>n.showHiddenComment=!0)},t[19]||(t[19]=[e("i",{class:"fas fa-eye-slash"},null,-1),te(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):y("",!0)])):(a(),u("div",gs,[(V=r.comment)!=null&&V.is_deleted?(a(),u("div",ks,t[20]||(t[20]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),te(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(a(),u("div",ys,[n.isEditing?(a(),u("div",ps,[e("div",hs,[X(e("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=H=>n.editContent=H),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=(...H)=>n.handleEditKeydown&&n.handleEditKeydown(...H)),onInput:t[4]||(t[4]=(...H)=>n.autoResizeEdit&&n.autoResizeEdit(...H))},null,544),[[rt,n.editContent]])]),e("div",bs,[e("div",ws,[e("button",{onClick:t[5]||(t[5]=(...H)=>n.cancelEdit&&n.cancelEdit(...H)),class:"cancel-button"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:t[6]||(t[6]=(...H)=>n.saveEdit&&n.saveEdit(...H)),class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Cs)]),e("div",_s,[e("div",{class:L(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},k(n.editContent.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=(...H)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...H)),onMouseleave:t[8]||(t[8]=(...H)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...H))}," üòä ",34),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[9]||(t[9]=(...H)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...H)),onMouseleave:t[10]||(t[10]=(...H)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...H))},t[21]||(t[21]=[yt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-f1c85dfc><g id="logo" data-v-f1c85dfc><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-f1c85dfc></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-f1c85dfc></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-f1c85dfc></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=(...H)=>n.insertSpoilerEdit&&n.insertSpoilerEdit(...H)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[22]||(t[22]=[e("i",{class:"fas fa-eye-slash"},null,-1)])),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=(...H)=>n.insertLinkEdit&&n.insertLinkEdit(...H)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[23]||(t[23]=[e("i",{class:"fas fa-link"},null,-1)])),re(g,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),re(E,{"is-visible":n.showImagePicker,"current-user":r.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),re(M,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(a(),u("div",Es,[e("p",{class:"comment-text",innerHTML:n.formattedContent},null,8,Ms)]))]))]))]),e("div",Ls,[e("div",Is,[e("div",Ts,[!n.isCommentOwner&&!(($=r.comment)!=null&&$.is_deleted)?(a(),u("button",{key:0,onClick:t[13]||(t[13]=H=>n.rateComment(1)),class:L(["rating-button",{"rated-up":n.userRating===1}])},t[24]||(t[24]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):y("",!0),e("span",{class:L(["rating-count",{"rating-positive":n.userRating===1,"rating-negative":n.userRating===-1}])},k(((R=r.comment)==null?void 0:R.rating)||0),3),!n.isCommentOwner&&!((be=r.comment)!=null&&be.is_deleted)?(a(),u("button",{key:1,onClick:t[14]||(t[14]=H=>n.rateComment(-1)),class:L(["rating-button",{"rated-down":n.userRating===-1}])},t[25]||(t[25]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):y("",!0)]),e("div",Rs,[!r.currentUser||r.currentUser.allow_comments===1?(a(),u("button",{key:0,onClick:t[15]||(t[15]=H=>i.$emit("reply",r.comment)),class:"action-button reply-button"},t[26]||(t[26]=[e("i",{class:"fas fa-reply"},null,-1)]))):y("",!0),n.isCommentOwner&&!((pe=r.comment)!=null&&pe.is_deleted)&&!n.isEditing&&((ke=r.currentUser)==null?void 0:ke.allow_comments)===1?(a(),u("button",{key:1,onClick:t[16]||(t[16]=(...H)=>n.startEdit&&n.startEdit(...H)),class:"action-button edit-button"},t[27]||(t[27]=[e("i",{class:"fas fa-edit"},null,-1)]))):y("",!0),n.canDeleteComment&&!(($e=r.comment)!=null&&$e.is_deleted)?(a(),u("button",{key:2,onClick:t[17]||(t[17]=(...H)=>n.confirmDelete&&n.confirmDelete(...H)),class:"action-button delete-button"},t[28]||(t[28]=[e("i",{class:"fas fa-trash"},null,-1)]))):y("",!0)])])])],8,os)}const Ps=We(ns,[["render",Ss],["__scopeId","data-v-f1c85dfc"]]),As={name:"CommentThread",components:{CommentItem:Ps,EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(i,{emit:t}){const r=c(null),n=c(!0),{showEmojiPicker:C,showImagePicker:_,showLinkModal:v,selectedTextForLink:g,handleEmojiMouseEnter:E,handleEmojiMouseLeave:M,handleImageMouseEnter:o,handleImageMouseLeave:d,handleButtonMouseEnter:w,handleImageButtonMouseEnter:b,handleButtonMouseLeave:j,closeEmojiPicker:S,closeImagePicker:P,closeLinkModal:I,insertEmojiUniversal:h,insertImageUniversal:T,insertLinkUniversal:A,insertLinkFromModalUniversal:z,insertSpoilerUniversal:V}=Nt(),$=G=>{t("update-reply-content",G.target.value);const q=G.target;q&&(q.style.height="auto",q.style.height="".concat(Math.min(q.scrollHeight,200),"px"))},R={get value(){return i.replyContent},set value(G){t("update-reply-content",G)}};return{replyTextarea:r,showEmojiPicker:C,showImagePicker:_,isCollapsed:n,insertEmoji:G=>{h(G,r,R,q=>{t("update-reply-content",q)})},insertImage:G=>{T(G,r,R,q=>{t("update-reply-content",q)})},insertSpoiler:()=>{V(r,R,G=>{t("update-reply-content",G)})},handleEmojiMouseEnter:E,handleEmojiMouseLeave:M,handleImageMouseEnter:o,handleImageMouseLeave:d,handleButtonMouseEnter:w,handleButtonMouseLeave:j,closeEmojiPicker:S,closeImagePicker:P,handleImageButtonMouseEnter:b,handleReplyInput:$,toggleCollapsed:()=>{n.value=!n.value},showLinkModal:v,selectedTextForLink:g,insertLink:()=>{A(r,R,G=>{t("update-reply-content",G)})},closeLinkModal:I,insertLinkFromModal:G=>{z(G,r,R,q=>{t("update-reply-content",q)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:i}=Mn();return i(this.comment.content)}}},xs={class:"comment-thread"},Us={key:0,class:"reply-form"},js={class:"textarea-container"},Ns=["value","placeholder","disabled"],Bs={class:"reply-footer"},Hs={class:"reply-actions"},Ds=["disabled"],$s={class:"character-counter-container"},Os=["disabled"],Vs={key:1,class:"replies-container"},Fs=["title"],qs={class:"replies-count"},Ks=["title"],zs={key:0,class:"replies-content"};function Ws(i,t,r,n,C,_){const v=Se("CommentItem"),g=Se("EmojiPicker"),E=Se("ImagePicker"),M=Se("LinkModal"),o=Se("CommentThread",!0);return a(),u("div",xs,[re(v,{comment:r.comment,"current-user":r.currentUser,"editing-comment-id":r.editingCommentId,onReply:t[0]||(t[0]=d=>i.$emit("reply",d)),onStartEdit:t[1]||(t[1]=d=>i.$emit("start-edit",d)),onCancelEdit:t[2]||(t[2]=d=>i.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(d,w)=>i.$emit("edit",d,w)),onDelete:t[4]||(t[4]=d=>i.$emit("delete",d)),onRate:t[5]||(t[5]=(d,w)=>i.$emit("rate",d,w))},null,8,["comment","current-user","editing-comment-id"]),r.replyTo&&r.replyTo.id===r.comment.id?(a(),u("div",Us,[e("div",js,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:r.replyContent,placeholder:_.getReplyPlaceholder,disabled:r.currentUser&&r.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=(...d)=>n.handleReplyInput&&n.handleReplyInput(...d)),onKeydown:t[7]||(t[7]=d=>i.$emit("reply-keydown",d))},null,40,Ns)]),e("div",Bs,[e("div",Hs,[e("button",{class:"cancel-reply",onClick:t[8]||(t[8]=d=>i.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!r.replyContent.trim()||r.replyContent.length>1500||r.currentUser&&r.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=d=>i.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,Ds)]),e("div",$s,[e("div",{class:L(["character-counter-inline",{"near-limit":r.replyContent.length>1400,"at-limit":r.replyContent.length>=1500}])},k(r.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=(...d)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...d)),onMouseleave:t[11]||(t[11]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))}," üòä ",34),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[12]||(t[12]=(...d)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...d)),onMouseleave:t[13]||(t[13]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))},t[29]||(t[29]=[yt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:r.currentUser&&r.currentUser.allow_comments!==1,onClick:t[14]||(t[14]=(...d)=>n.insertSpoiler&&n.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[30]||(t[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,Os),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=(...d)=>n.insertLink&&n.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[31]||(t[31]=[e("i",{class:"fas fa-link"},null,-1)])),re(g,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),re(E,{"is-visible":n.showImagePicker,"current-user":r.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>i.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),re(M,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):y("",!0),r.comment.replies&&r.comment.replies.length>0?(a(),u("div",Vs,[e("button",{class:"collapse-toggle",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[17]||(t[17]=(...d)=>n.toggleCollapsed&&n.toggleCollapsed(...d))},[e("span",{class:L(["collapse-icon",{expanded:!n.isCollapsed}])},t[32]||(t[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",qs,k(r.comment.replies.length)+" "+k(r.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,Fs),e("div",{class:"vertical-line-clickable",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[18]||(t[18]=(...d)=>n.toggleCollapsed&&n.toggleCollapsed(...d))},[e("div",{class:L(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,Ks),n.isCollapsed?y("",!0):(a(),u("div",zs,[(a(!0),u(ie,null,_e(r.comment.replies,d=>(a(),Ye(o,{key:d.id,comment:d,"current-user":r.currentUser,"reply-to":r.replyTo,"reply-content":r.replyContent,"editing-comment-id":r.editingCommentId,onReply:t[19]||(t[19]=w=>i.$emit("reply",w)),onStartEdit:t[20]||(t[20]=w=>i.$emit("start-edit",w)),onCancelEdit:t[21]||(t[21]=w=>i.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(w,b)=>i.$emit("edit",w,b)),onDelete:t[23]||(t[23]=w=>i.$emit("delete",w)),onRate:t[24]||(t[24]=(w,b)=>i.$emit("rate",w,b)),onSubmitReply:t[25]||(t[25]=w=>i.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=w=>i.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=w=>i.$emit("update-reply-content",w)),onReplyKeydown:t[28]||(t[28]=w=>i.$emit("reply-keydown",w))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):y("",!0)])}const Gs=We(As,[["render",Ws],["__scopeId","data-v-6c0fc347"]]),Ys={name:"Comments",components:{CommentThread:Gs,Notification:Rt,EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{movieId:{type:[String,Number],required:!0}},setup(i){const t=Pt(),r=Mt(),n=Et(),C=c([]),_=c(""),v=c(null),g=c(""),E=c(null),M=c(t.user),o=c(null),d=c(null),w=c(n.isAutoShowComments),b=c(!1),j=c(3),S=c(3),{showEmojiPicker:P,showImagePicker:I,showLinkModal:h,selectedTextForLink:T,handleEmojiMouseEnter:A,handleEmojiMouseLeave:z,handleImageMouseEnter:V,handleImageMouseLeave:$,handleButtonMouseEnter:R,handleImageButtonMouseEnter:be,handleButtonMouseLeave:pe,closeEmojiPicker:ke,closeImagePicker:$e,closeLinkModal:H,insertEmojiUniversal:J,insertImageUniversal:G,insertLinkUniversal:q,insertLinkFromModalUniversal:ne,insertSpoilerUniversal:ye,autoResize:ae}=Nt(),me=D(()=>{const N=(W=null)=>C.value.filter(K=>K.parent_id===W).sort((K,ue)=>K.id-ue.id).map(K=>({...K,replies:N(K.id)})).filter(K=>!K.is_deleted||K.replies&&K.replies.length>0);return N()}),Ee=D(()=>{const N=W=>W.reduce((K,ue)=>K+1+N(ue.replies||[]),0);return N(me.value)}),fe=D(()=>me.value.slice(0,S.value)),Ae=D(()=>me.value.length>S.value),oe=D(()=>me.value.length-S.value),Me=()=>{S.value+=j.value},ce=async()=>{try{const N=await Pn(i.movieId);C.value=N}catch(N){console.error("Failed to load comments:",N),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},Be=async()=>{if(b.value)return;if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!_.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(_.value.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(i.movieId,_.value.trim()),_.value="",await ce(),w.value=!0,Pe(()=>{d.value&&(d.value.focus(),d.value.style.height="auto"),setTimeout(()=>{const W=document.querySelectorAll(".comment-item[data-comment-id]");if(W.length>0){const K=Array.from(W).map(ue=>parseInt(ue.getAttribute("data-comment-id"))).filter(ue=>!isNaN(ue));if(K.length>0){const ue=Math.max(...K),Ie=document.querySelector('[data-comment-id="'.concat(ue,'"]'));Ie&&Ie.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(W){console.error("Failed to create comment:",W),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},we=N=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}E.value=null,v.value=N,g.value="",Pe(()=>{const W=document.querySelector(".reply-form");W&&W.scrollIntoView({behavior:"smooth",block:"center"})})},xe=async()=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!g.value.trim()||!v.value)){if(g.value.length>1500){o.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(i.movieId,g.value.trim(),v.value.id);const N=v.value.id;await ce(),g.value="",v.value=null,Pe(()=>{setTimeout(()=>{const W=document.querySelector('[data-comment-id="'.concat(N,'"]'));if(W){const K=W.querySelector(".replies-content");if(K){const ue=K.querySelectorAll(".comment-item[data-comment-id]");if(ue.length>0){const Ie=Array.from(ue).map(He=>parseInt(He.getAttribute("data-comment-id"))).filter(He=>!isNaN(He));if(Ie.length>0){const He=Math.max(...Ie),vt=document.querySelector('[data-comment-id="'.concat(He,'"]'));vt&&vt.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(N){console.error("Error submitting reply:",N),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},lt=async(N,W)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(W.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await Un(N,W.trim()),await ce(),E.value=null}catch(K){console.error("Failed to update comment:",K),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Je=async N=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}try{await xn(N),await ce()}catch(W){console.error("Failed to delete comment:",W),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},st=async(N,W)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}try{await An(N,W),await ce()}catch(K){console.error("Failed to rate comment:",K),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Le=N=>{b.value||P.value||N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Be())},Oe=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),xe())},he=()=>{r.push("/login")},Ve=N=>{b.value=!0,J(N,d,_,W=>{_.value=W}),setTimeout(()=>{b.value=!1},100)},p=N=>{G(N,d,_,W=>{_.value=W})},Q=()=>{ye(d,_,N=>{_.value=N})},Fe=()=>{q(d,_,N=>{_.value=N})},dt=N=>{ne(N,d,_,W=>{_.value=W})},Xe=D(()=>M.value?M.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Ze=D(()=>M.value?M.value.allow_comments===1:!0),qe=N=>{v.value=null,g.value="",E.value=N},ct=()=>{E.value=null};return ut(()=>{ce()}),{comments:C,groupedComments:me,displayedComments:fe,hasMoreComments:Ae,remainingCommentsCount:oe,showMoreComments:Me,newComment:_,replyTo:v,replyContent:g,editingCommentId:E,currentUser:M,notificationRef:o,commentTextarea:d,showComments:w,submitComment:Be,handleReply:we,submitReply:xe,handleEdit:lt,handleDelete:Je,handleRate:st,handleCommentKeydown:Le,handleReplyKeydown:Oe,autoResize:ae,totalCommentsCount:Ee,getCommentWordForm:es,showEmojiPicker:P,showImagePicker:I,showLinkModal:h,selectedTextForLink:T,insertEmoji:Ve,insertImage:p,handleEmojiMouseEnter:A,handleEmojiMouseLeave:z,handleImageMouseEnter:V,handleImageMouseLeave:$,closeEmojiPicker:ke,closeImagePicker:$e,handleButtonMouseLeave:pe,handleButtonMouseEnter:R,handleImageButtonMouseEnter:be,getCommentPlaceholder:Xe,canComment:Ze,handleStartEdit:qe,handleCancelEdit:ct,insertSpoiler:Q,insertLink:Fe,insertLinkFromModal:dt,closeLinkModal:H}}},Xs={class:"comments-section"},Zs={class:"spoiler-content"},Qs={key:1,class:"comments-container"},Js={class:"comments-header"},ei={class:"textarea-container"},ti=["placeholder","disabled"],ni={class:"comment-footer"},oi={class:"comment-actions"},li=["disabled"],si={class:"character-counter-container"},ii=["disabled"],ai=["disabled"],ri=["disabled"],ui={class:"comments-list"},di={key:0,class:"show-more-comments"};function ci(i,t,r,n,C,_){const v=Se("EmojiPicker"),g=Se("ImagePicker"),E=Se("LinkModal"),M=Se("CommentThread"),o=Se("Notification");return a(),u("div",Xs,[n.showComments?(a(),u("div",Qs,[e("div",Js,[e("button",{class:"hide-comments-btn",onClick:t[1]||(t[1]=d=>n.showComments=!1)},t[18]||(t[18]=[e("i",{class:"fas fa-eye-slash"},null,-1),te(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:t[11]||(t[11]=Qe((...d)=>n.submitComment&&n.submitComment(...d),["prevent"]))},[e("div",ei,[X(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[2]||(t[2]=d=>n.newComment=d),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&n.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[3]||(t[3]=(...d)=>n.autoResize&&n.autoResize(...d)),onKeydown:t[4]||(t[4]=(...d)=>n.handleCommentKeydown&&n.handleCommentKeydown(...d))},null,40,ti),[[rt,n.newComment]])]),e("div",ni,[e("div",oi,[e("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&n.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,li)]),e("div",si,[e("div",{class:L(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},k(n.newComment.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[5]||(t[5]=(...d)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...d)),onMouseleave:t[6]||(t[6]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))}," üòä ",42,ii),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[7]||(t[7]=(...d)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...d)),onMouseleave:t[8]||(t[8]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))},t[19]||(t[19]=[yt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-79080d6f><g id="logo" data-v-79080d6f><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-79080d6f></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-79080d6f></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-79080d6f></path></g></svg>',1)]),42,ai),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&n.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=(...d)=>n.insertSpoiler&&n.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[20]||(t[20]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,ri),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[10]||(t[10]=(...d)=>n.insertLink&&n.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[21]||(t[21]=[e("i",{class:"fas fa-link"},null,-1)])),re(v,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),re(g,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:i.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),re(E,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",ui,[(a(!0),u(ie,null,_e(n.displayedComments,d=>(a(),Ye(M,{key:d.id,comment:d,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:t[12]||(t[12]=w=>n.replyTo=null),onUpdateReplyContent:t[13]||(t[13]=w=>n.replyContent=w),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),n.hasMoreComments?(a(),u("div",di,[e("button",{class:"show-more-btn",onClick:t[14]||(t[14]=(...d)=>n.showMoreComments&&n.showMoreComments(...d))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+k(n.remainingCommentsCount)+" "+k(n.getCommentWordForm(n.remainingCommentsCount)),1)])):y("",!0)])])):(a(),u("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=d=>n.showComments=!0)},[e("div",Zs,[t[15]||(t[15]=e("i",{class:"fas fa-eye-slash"},null,-1)),t[16]||(t[16]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),t[17]||(t[17]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:L(["comments-count",{"no-comments":n.totalCommentsCount===0}])},[n.totalCommentsCount===0?(a(),u(ie,{key:0},[te(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(a(),u(ie,{key:1},[te(k(n.totalCommentsCount)+" "+k(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),re(o,{ref:"notificationRef"},null,512)])}const vi=We(Ys,[["render",ci],["__scopeId","data-v-79080d6f"]]),mi={class:"movie-info"},fi={class:"content"},gi={key:0,class:"content-card"},ki={class:"movie-skeleton"},yi={class:"movie-skeleton__player"},pi={key:2,class:"content-card"},hi={key:3,class:"content-card"},bi={class:"content-header"},wi=["src"],Ci={class:"content-title"},_i={key:0,class:"ratings-links"},Ei={key:1},Mi=["href","title"],Li={key:2},Ii=["href","title"],Ti={key:3},Ri=["href","title"],Si={key:4},Pi=["href","title"],Ai={key:5},xi=["href"],Ui=["href"],ji=["title"],Ni={key:0,class:"fa-regular fa-face-grin-wink"},Bi={key:1,class:"fas fa-spinner fa-spin"},Hi=["title"],Di={key:1,class:"mobile-list-dropdown"},$i={class:"mobile-list-content"},Oi=["content"],Vi=["content"],Fi={class:"additional-info"},qi={class:"info-content"},Ki={key:0,class:"movie-poster-container desktop-only"},zi=["href"],Wi=["src"],Gi={class:"details-container"},Yi={class:"info-list"},Xi={key:0},Zi={key:1},Qi={key:2},Ji={key:3},ea={key:4},ta={key:5},na={key:6},oa={key:7},la={key:8},sa={key:9,class:"rating-boxes"},ia={key:0,class:"rating-box mpaa"},aa={key:1,class:"rating-box age"},ra={class:"content-info"},ua={key:0,class:"content-description-text"},da={key:3,class:"comments-section"},ca={key:4,class:"staff-section"},va={class:"staff-categories"},ma={key:0,class:"staff-category"},fa={class:"staff-list"},ga=["href","title"],ka=["src","alt"],ya={class:"staff-name"},pa={key:0,class:"staff-role"},ha=["href","title"],ba={key:1,class:"staff-category"},wa={class:"staff-names-container"},Ca={class:"staff-names-list"},_a=["href"],Ea=["href","title"],Ma={key:2,class:"staff-category"},La={class:"staff-names-container"},Ia={class:"staff-names-list"},Ta=["href"],Ra=["href","title"],Sa={key:5,class:"yt-video-container"},Pa={key:6,class:"related-movies"},Aa=["title"],xa={key:7,class:"related-movies"},Ua=["title"],ja={class:"nudity-info-content"},Na={class:"nudity-info-content"},Ba={key:0,class:"acknowledgment-table"},Ha={class:"timings-text"},Da={class:"nudity-info-actions"},$a={key:2,class:"timing-modal"},Oa={class:"timing-modal-content"},Va={class:"timing-modal-header"},Fa={class:"timing-submission-form"},qa={class:"timing-form-actions"},Ka=["disabled"],za={key:0,class:"fas fa-spinner fa-spin"},Wa={key:1},Ga={class:"modal-header"},Ya={class:"modal-body"},Xa={class:"top-submitters-list"},Za={class:"submitter-info"},Qa={class:"submitter-name"},Ja={class:"submitter-count"},er={class:"submitter-contribution"},tr={__name:"MovieInfo",setup(i){const t=c(!0),r=Et(),n=Pt(),C=jn(),_=wn(),v=Mt(),g=c(_.params.kp_id),E=c(""),M=c(null),o=c(null),d=Nn(),w=zn(),b=c(null),j=w.areTrailersActive,S=c(null),P=c(!1),I=c(!1),h=c(10),T=c(null),A=c(!1),z=c({}),V=c(null),$=c(!1),R=c(void 0),be=c({}),pe=c(null),ke=D(()=>{var m;return(m=o.value)!=null&&m.nudity_timings?o.value.nudity_timings!=="NO HORNY":!1}),$e=D(()=>{var m;return(m=o.value)!=null&&m.nudity_timings?o.value.nudity_timings==="NO HORNY":!1}),H=D(()=>{var m,l,F,le,Ue,Ce,Te,je,Ne,ve;return((l=(m=o.value)==null?void 0:m.lists)==null?void 0:l.isFavorite)||((le=(F=o.value)==null?void 0:F.lists)==null?void 0:le.isWatching)||((Ce=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:Ce.isLater)||((je=(Te=o.value)==null?void 0:Te.lists)==null?void 0:je.isCompleted)||((ve=(Ne=o.value)==null?void 0:Ne.lists)==null?void 0:ve.isAbandoned)}),J=D(()=>r.isCommentsEnabled),G=()=>{if(o.value){const m=o.value.name_ru||o.value.name_en||o.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=m}},q=m=>m?m.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",ne=m=>(m||[]).map(l=>({kp_id:l.film_id,poster:l.poster_url_preview||l.poster_url,title:l.name_ru||l.name_en||l.name_original})),ye=m=>{if(typeof m!="number")return;const l=Math.floor(m/60),F=m%60;return"".concat(l," —á. ").concat(F," –º–∏–Ω.")},ae=c(!1),me=c({top:"0px",left:"0px"}),Ee=m=>{ae.value=!0,me.value={top:"".concat(m.pageY+10,"px"),left:"".concat(m.pageX-70,"px")}},fe=async()=>{try{const m=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[ye(o.value.film_length)]:[]];await navigator.clipboard.writeText(m.join(", ")),b.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m)}},Ae=async(m=!0)=>{var l,F,le,Ue,Ce,Te,je,Ne;try{let ve;if(g.value.startsWith("shiki")?ve=await Hn(g.value):ve=await Dn(g.value,n.token),Array.isArray(ve)&&ve.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");o.value=ve,g.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:g.value},d.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),G();const ge={kp_id:g.value,title:((l=o.value)==null?void 0:l.name_ru)||((F=o.value)==null?void 0:F.name_en)||((le=o.value)==null?void 0:le.name_original),poster:((Ue=o.value)==null?void 0:Ue.poster_url)||((Ce=o.value)==null?void 0:Ce.cover_url)||((Te=o.value)==null?void 0:Te.screenshots[0]),year:(je=o.value)==null?void 0:je.year,type:(Ne=o.value)==null?void 0:Ne.type};if(g.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const Ke=Math.floor(Math.random()*o.value.screenshots.length),De=o.value.screenshots[Ke];C.updateMoviePoster(De)}else ge.poster&&C.updateMoviePoster(ge.poster);else ge.poster&&C.updateMoviePoster(ge.poster);if(D(()=>r.isHistoryAllowed).value&&ge.kp_id&&ge.title&&m)if(n.token)try{await St(ge.kp_id,O.HISTORY)}catch(Ke){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",Ke)}else r.addToHistory({...ge})}catch(ve){const{message:ge,code:Ge}=kt(ve);E.value=ge,M.value=Ge,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",ve)}},oe=D(()=>{var m,l;return console.log("–¢—Ä–µ–π–ª–µ—Ä—ã:",(m=o.value)==null?void 0:m.videos),(l=o.value)==null?void 0:l.videos}),Me=D(()=>{var m;return ne((m=o.value)==null?void 0:m.sequels_and_prequels)}),ce=D(()=>{var m;return ne((m=o.value)==null?void 0:m.similars)}),Be=()=>{var le;const m=((le=document.querySelector(".related-movies"))==null?void 0:le.clientWidth)||0,F=Math.floor(m/160)||10;h.value=Math.max(1,F)},we=()=>{Be()},xe=m=>{if(m.altKey&&m.keyCode===84&&document.querySelector(".player-container")){const F=document.querySelector(".theater-mode-btn");F&&F.click()}},lt=async m=>{if(T.value){T.value=null;return}R.value=void 0,V.value=m.currentTarget;const l=V.value.getBoundingClientRect();z.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},A.value=!0;try{const F=await $n(o.value.imdb_id);T.value=F.nudity_info}catch(F){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",F),b.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö")}finally{A.value=!1}},Je=m=>{var F,le;if(T.value=null,R.value!==void 0){R.value=void 0;return}pe.value=m.currentTarget;const l=pe.value.getBoundingClientRect();be.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},R.value=((F=o.value)==null?void 0:F.nudity_timings)===null?"":((le=o.value)==null?void 0:le.nudity_timings)||""},st=m=>{var F,le,Ue,Ce,Te,je,Ne,ve,ge,Ge,Ke,De,it;return(it={[O.FAVORITE]:((le=(F=o.value)==null?void 0:F.lists)==null?void 0:le.isFavorite)||!1,[O.HISTORY]:((Ce=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:Ce.isHistory)||!1,[O.LATER]:((je=(Te=o.value)==null?void 0:Te.lists)==null?void 0:je.isLater)||!1,[O.COMPLETED]:((ve=(Ne=o.value)==null?void 0:Ne.lists)==null?void 0:ve.isCompleted)||!1,[O.ABANDONED]:((Ge=(ge=o.value)==null?void 0:ge.lists)==null?void 0:Ge.isAbandoned)||!1,[O.WATCHING]:((De=(Ke=o.value)==null?void 0:Ke.lists)==null?void 0:De.isWatching)||!1}[m])!=null?it:!1},Le=async m=>{if(!n.token){b.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>v.push("/login")});return}try{const l={[O.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[O.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[O.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[O.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[O.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[O.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};st(m)?(await _n(g.value,m),b.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(l[m]))):(await St(g.value,m),b.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(l[m]))),await Ae(!1),$.value=!1}catch(l){const{message:F,code:le}=kt(l);b.value.showNotification("".concat(F," ").concat(le))}},Oe=m=>{const l=document.querySelector(".mobile-list-dropdown");l&&!l.contains(m.target)&&($.value=!1)},he=m=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(m.target)&&V.value&&!V.value.contains(m.target)&&(T.value=null)},Ve=m=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(m.target)&&pe.value&&!pe.value.contains(m.target)&&(R.value=void 0)};ut(async()=>{await Ae(),t.value=!1,document.addEventListener("keydown",xe),window.addEventListener("resize",we),setTimeout(Be,100),document.addEventListener("click",Oe),document.addEventListener("click",he,!0),document.addEventListener("click",Ve,!0)}),Bn(async()=>{d.clearHeaderContent(),document.removeEventListener("keydown",xe),window.removeEventListener("resize",we),document.removeEventListener("click",Oe),document.removeEventListener("click",he,!0),document.removeEventListener("click",Ve,!0)}),ze(()=>_.params.kp_id,async m=>{m&&m!==g.value&&(d.clearHeaderContent(),g.value=m,S.value=null,await Ae(),t.value=!1)},{immediate:!0}),ze(o,()=>{G()},{deep:!0}),ze(T,m=>{m?document.addEventListener("click",he,!0):document.removeEventListener("click",he,!0)},{deep:!0}),ze(R,m=>{m?document.addEventListener("click",Ve,!0):document.removeEventListener("click",Ve,!0)},{deep:!0});const p=m=>{var l,F;return((F=(l=o.value)==null?void 0:l.staff)==null?void 0:F.filter(le=>le.profession_key===m))||[]},Q=async()=>{try{await navigator.clipboard.writeText(T.value),b.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m),b.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{T.value=null}},Fe=async()=>{if(R.value)try{await navigator.clipboard.writeText(R.value),b.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m),b.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{R.value=void 0}},dt=()=>{const m=encodeURIComponent(T.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(m),"_blank"),T.value=null},Xe=c(""),Ze=c(""),qe=c(!1),ct=D(()=>Xe.value.trim()&&Ze.value.trim()),N=async()=>{if(!(!ct.value||qe.value))try{qe.value=!0,await Vn(g.value,Xe.value.trim(),Ze.value),b.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é, —Å–ø–∞—Å–∏–±–æ!"),Ze.value="",Xe.value="",K.value=!1}catch(m){const{message:l}=kt(m);b.value.showNotification(l,5e3)}finally{qe.value=!1}},W=async()=>{try{const{submissions:m}=await On();ue.value=m,Ie.value=!0}catch(m){const{message:l}=kt(m);b.value.showNotification(l)}},K=c(!1),ue=c([]),Ie=c(!1),He=(m,l)=>{const F=[2,0,1,1,1,2];return l[m%100>4&&m%100<20?2:F[Math.min(m%10,5)]]},vt=m=>{if(!ue.value.length)return 0;const l=Math.max(...ue.value.map(F=>F.approved_submissions_count));return m/l*100};return(m,l)=>{var F,le,Ue,Ce,Te,je,Ne,ve,ge,Ge,Ke,De,it,Lt,Re,It,mt,Tt;return a(),u(ie,null,[e("div",mi,[e("div",fi,[(t.value||!o.value)&&!E.value?(a(),u("div",gi,[e("div",ki,[l[19]||(l[19]=yt('<div class="movie-skeleton__header" data-v-d15d96ed><div class="movie-skeleton__title" data-v-d15d96ed></div></div><div class="movie-skeleton__ratings" data-v-d15d96ed><div class="movie-skeleton__rating-item" data-v-d15d96ed></div><div class="movie-skeleton__rating-item" data-v-d15d96ed></div><div class="movie-skeleton__rating-item" data-v-d15d96ed></div></div>',2)),e("div",yi,[re(En)]),l[20]||(l[20]=yt('<div class="movie-skeleton__additional-info" data-v-d15d96ed><div class="movie-skeleton__section-title" data-v-d15d96ed></div><div class="movie-skeleton__info-list" data-v-d15d96ed><div class="movie-skeleton__info-item" data-v-d15d96ed></div><div class="movie-skeleton__info-item" data-v-d15d96ed></div><div class="movie-skeleton__info-item" data-v-d15d96ed></div><div class="movie-skeleton__info-item" data-v-d15d96ed></div><div class="movie-skeleton__info-item" data-v-d15d96ed></div></div></div><div class="movie-skeleton__description" data-v-d15d96ed><div class="movie-skeleton__description-line" data-v-d15d96ed></div><div class="movie-skeleton__description-line" data-v-d15d96ed></div><div class="movie-skeleton__description-line" data-v-d15d96ed></div><div class="movie-skeleton__description-line" data-v-d15d96ed></div></div>',2))])])):y("",!0),E.value?(a(),Ye(Cn,{key:1,message:E.value,code:M.value},null,8,["message","code"])):y("",!0),E.value?(a(),u("div",pi,[(a(),Ye(bn,{key:g.value,"kp-id":g.value,"movie-info":o.value,"onUpdate:movieInfo":Ae},null,8,["kp-id","movie-info"]))])):y("",!0),o.value&&!t.value?(a(),u("div",hi,[e("div",bi,[o.value.logo_url?(a(),u("div",{key:0,class:"content-logo",onMousemove:Ee,onMouseleave:l[0]||(l[0]=U=>ae.value=!1),onClick:fe},[e("img",{src:o.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,wi)],32)):(a(),u("div",{key:1,onMousemove:Ee,onMouseleave:l[1]||(l[1]=U=>ae.value=!1),onClick:fe},[e("h1",Ci,k(o.value.title),1)],32)),X(e("div",{class:"title-copy-tooltip",style:at(me.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[se,ae.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(a(),u("div",_i,[o.value.kinopoisk_id?(a(),Ye(bl,{key:o.value.kinopoisk_id,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):y("",!0),o.value.kinopoisk_id?(a(),u("div",Ei,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(q(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[21]||(l[21]=e("img",{src:yn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[22]||(l[22]=e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Mi)])):y("",!0),!o.value.kinopoisk_id&&o.value.title?(a(),u("div",Li,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(q(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[23]||(l[23]=e("img",{src:yn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[24]||(l[24]=e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ii)])):y("",!0),o.value.imdb_id?(a(),u("div",Ti,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(q(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[25]||(l[25]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[26]||(l[26]=e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ri)])):y("",!0),!o.value.imdb_id&&o.value.title?(a(),u("div",Si,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(q(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[27]||(l[27]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[28]||(l[28]=e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Pi)])):y("",!0),o.value.shikimori_id?(a(),u("div",Ai,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},l[29]||(l[29]=[e("img",{src:Yn,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,xi)])):y("",!0),o.value.imdb_id?(a(),u(ie,{key:6},[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},l[30]||(l[30]=[e("span",{class:"desktop-text"},"Parents Guide",-1),e("span",{class:"mobile-text"},"PG",-1),e("img",{src:ft,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,Ui),e("button",{class:"nudity-info-btn",onClick:l[2]||(l[2]=U=>lt(U)),title:T.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö(Sex & Nudity)"},[A.value?(a(),u("i",Bi)):(a(),u("i",Ni))],8,ji)],64)):y("",!0),e("button",{class:"nudity-info-btn",onClick:l[3]||(l[3]=U=>Je(U)),title:R.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω(–¥–ª—è —Ç–≤–∏—á–∞)"},[e("i",{class:L(["fa-regular fa-clock",{"text-red":ke.value,"text-green":$e.value}])},null,2)],8,Hi)])):y("",!0),(a(),Ye(bn,{key:g.value,"kp-id":g.value,"movie-info":o.value,"onUpdate:movieInfo":Ae},null,8,["kp-id","movie-info"])),Z(r).isMobile?(a(),u("div",Di,[e("button",{class:L(["mobile-list-toggle",{}]),onClick:l[4]||(l[4]=U=>$.value=!$.value)},[e("span",{class:L(["material-icons",{active:H.value}])},k(H.value?"bookmark_added":"bookmark_border"),3),l[31]||(l[31]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:L(["material-icons dropdown-arrow",{expanded:$.value}])},"expand_more",2)]),X(e("div",$i,[e("button",{class:L(["mobile-list-btn",{}]),onClick:l[5]||(l[5]=U=>Le(Z(O).FAVORITE))},[e("span",{class:L(["material-icons",{active:(le=(F=o.value)==null?void 0:F.lists)==null?void 0:le.isFavorite}])},k((Ce=(Ue=o.value)==null?void 0:Ue.lists)!=null&&Ce.isFavorite?"favorite":"favorite_border"),3),l[32]||(l[32]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[6]||(l[6]=U=>Le(Z(O).WATCHING))},[e("span",{class:L(["material-icons",{active:(je=(Te=o.value)==null?void 0:Te.lists)==null?void 0:je.isWatching}])},k((ve=(Ne=o.value)==null?void 0:Ne.lists)!=null&&ve.isWatching?"visibility":"visibility_off"),3),l[33]||(l[33]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[7]||(l[7]=U=>Le(Z(O).LATER))},[e("span",{class:L(["material-icons",{active:(Ge=(ge=o.value)==null?void 0:ge.lists)==null?void 0:Ge.isLater}])},"watch_later",2),l[34]||(l[34]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[8]||(l[8]=U=>Le(Z(O).COMPLETED))},[e("span",{class:L(["material-icons",{active:(De=(Ke=o.value)==null?void 0:Ke.lists)==null?void 0:De.isCompleted}])},k((Lt=(it=o.value)==null?void 0:it.lists)!=null&&Lt.isCompleted?"check_circle":"check_circle_outline"),3),l[35]||(l[35]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[9]||(l[9]=U=>Le(Z(O).ABANDONED))},[e("span",{class:L(["material-icons",{active:(It=(Re=o.value)==null?void 0:Re.lists)==null?void 0:It.isAbandoned}])},"not_interested",2),l[36]||(l[36]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[se,$.value]])])):y("",!0),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,Oi),o.value.name_original?(a(),u("meta",{key:2,name:"original-title",content:o.value.name_original},null,8,Vi)):y("",!0),e("div",Fi,[l[47]||(l[47]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",qi,[o.value.poster_url?(a(),u("div",Ki,[e("a",{href:o.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:o.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,Wi)],8,zi)])):y("",!0),e("div",Gi,[e("ul",Yi,[o.value.type&&Z(kn)[o.value.type]?(a(),u("li",Xi,[l[37]||(l[37]=e("strong",null,"–¢–∏–ø:",-1)),te(" "+k(Z(kn)[o.value.type]),1)])):y("",!0),o.value.year?(a(),u("li",Zi,[l[38]||(l[38]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),te(" "+k(o.value.year),1)])):y("",!0),o.value.title?(a(),u("li",Qi,[l[39]||(l[39]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),te(" "+k(o.value.title),1)])):y("",!0),o.value.name_original?(a(),u("li",Ji,[l[40]||(l[40]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),te(" "+k(o.value.name_original),1)])):y("",!0),o.value.slogan?(a(),u("li",ea,[l[41]||(l[41]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),te(" "+k(o.value.slogan),1)])):y("",!0),o.value.production_companies?(a(),u("li",ta,[l[42]||(l[42]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),te(" "+k(o.value.production_companies),1)])):y("",!0),(mt=o.value.countries)!=null&&mt.length?(a(),u("li",na,[l[43]||(l[43]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),te(" "+k(o.value.countries.map(U=>U.country).join(", ")),1)])):y("",!0),(Tt=o.value.genres)!=null&&Tt.length?(a(),u("li",oa,[l[44]||(l[44]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),te(" "+k(o.value.genres.map(U=>U.genre).join(", ")),1)])):y("",!0),o.value.film_length?(a(),u("li",la,[l[45]||(l[45]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),te(" "+k(ye(o.value.film_length)),1)])):y("",!0),o.value.rating_mpaa||o.value.rating_age_limits?(a(),u("li",sa,[o.value.rating_mpaa?(a(),u("div",ia,[l[46]||(l[46]=e("strong",null,"MPAA",-1)),e("span",null,k(o.value.rating_mpaa.toUpperCase()),1)])):y("",!0),o.value.rating_age_limits?(a(),u("div",aa,[e("strong",null,k(o.value.rating_age_limits.replace("age",""))+"+",1)])):y("",!0)])):y("",!0)]),e("div",ra,[o.value.description?(a(),u("p",ua,k(o.value.description),1)):y("",!0)])])])]),J.value?(a(),u("div",da,[(a(),Ye(vi,{"movie-id":g.value,key:g.value},null,8,["movie-id"]))])):y("",!0),o.value.staff?(a(),u("div",ca,[e("div",va,[p("ACTOR").length?(a(),u("div",ma,[l[48]||(l[48]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",fa,[(a(!0),u(ie,null,_e(p("ACTOR").slice(0,12),U=>(a(),u("div",{key:U.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(U.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:U.description||""},[e("img",{src:U.poster_url,alt:U.name_ru,class:"staff-photo"},null,8,ka),e("span",ya,k(U.name_ru||U.name_en),1),U.description?(a(),u("span",pa,k(U.description),1)):y("",!0)],8,ga)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+k(p("ACTOR").length-12),9,ha)])])):y("",!0),p("DIRECTOR").length?(a(),u("div",ba,[l[49]||(l[49]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",wa,[e("div",Ca,[(a(!0),u(ie,null,_e(p("DIRECTOR").slice(0,5),U=>(a(),u("a",{key:U.staff_id,href:"https://www.kinopoisk.ru/name/".concat(U.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(U.name_ru||U.name_en),9,_a))),128)),p("DIRECTOR").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+k(p("DIRECTOR").length-5),9,Ea)):y("",!0)])])])):y("",!0),p("PRODUCER").length?(a(),u("div",Ma,[l[50]||(l[50]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",La,[e("div",Ia,[(a(!0),u(ie,null,_e(p("PRODUCER").slice(0,5),U=>(a(),u("a",{key:U.staff_id,href:"https://www.kinopoisk.ru/name/".concat(U.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(U.name_ru||U.name_en),9,Ta))),128)),p("PRODUCER").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+k(p("PRODUCER").length-5),9,Ra)):y("",!0)])])])):y("",!0)])])):y("",!0),oe.value.length&&Z(j)?(a(),u("div",Sa,[re(dl,{videos:oe.value,"active-video-index":S.value,onSelect:m.playTrailer},null,8,["videos","active-video-index","onSelect"])])):y("",!0),Me.value.length?(a(),u("div",Pa,[l[51]||(l[51]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),re(Z(hn),{"movies-list":P.value?Me.value:Me.value.slice(0,h.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),Me.value.length>h.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[10]||(l[10]=U=>P.value=!P.value),title:"".concat(P.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(Me.value.length,")")},k(P.value?"‚àí":"+".concat(Me.value.length-h.value)),9,Aa)):y("",!0)])):y("",!0),ce.value.length?(a(),u("div",xa,[l[52]||(l[52]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),re(Z(hn),{"movies-list":I.value?ce.value:ce.value.slice(0,h.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ce.value.length>h.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[11]||(l[11]=U=>I.value=!I.value),title:"".concat(I.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(ce.value.length,")")},k(I.value?"‚àí":"+".concat(ce.value.length-h.value)),9,Ua)):y("",!0)])):y("",!0)])):y("",!0)])]),re(Rt,{ref_key:"notificationRef",ref:b},null,512),T.value?(a(),u("div",{key:0,style:at(z.value),class:"nudity-info-popup"},[e("div",ja,k(T.value),1),e("div",{class:"nudity-info-actions"},[e("button",{class:"nudity-info-button",onClick:Q},l[53]||(l[53]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])),e("button",{class:"nudity-info-button",onClick:dt},l[54]||(l[54]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)]))])],4)):y("",!0),R.value!==void 0?(a(),u("div",{key:1,style:at(be.value),class:"nudity-info-popup"},[e("div",Na,[R.value?(a(),u("div",Ba,l[55]||(l[55]=[yt('<div class="acknowledgment-header" data-v-d15d96ed><i class="fa-solid fa-heart" data-v-d15d96ed></i><span data-v-d15d96ed>–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏</span></div><div class="acknowledgment-content" data-v-d15d96ed><a href="https://www.twitch.tv/tanyabelkova" target="_blank" rel="noopener noreferrer" class="twitch-link" data-v-d15d96ed><i class="fa-brands fa-twitch" data-v-d15d96ed></i><span data-v-d15d96ed>TanyaBelkova</span></a><div class="acknowledgment-text" data-v-d15d96ed>–ó–∞ –≤–µ–¥–µ–Ω–∏–µ —Ç–∞–±–ª–∏—á–∫–∏ —Ç–∞–π–º–∏–Ω–≥–æ–≤</div></div>',2)]))):y("",!0),e("div",{class:"acknowledgment-table clickable-acknowledgment",onClick:W},l[56]||(l[56]=[e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤—É")],-1),e("div",{class:"acknowledgment-content"},[e("div",{class:"acknowledgment-text"},"–ó–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)])),e("div",{class:L(["timings-content",{"no-border":!R.value}])},[e("div",Ha,k(R.value||"–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),1),e("div",Da,[R.value?(a(),u("button",{key:0,class:"nudity-info-button",onClick:Fe},l[57]||(l[57]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)]))):y("",!0),e("button",{class:"nudity-info-button",onClick:l[12]||(l[12]=U=>K.value=!0)},l[58]||(l[58]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Add Timing",-1)]))])],2)])],4)):y("",!0),K.value?(a(),u("div",$a,[e("div",Oa,[e("div",Va,[l[60]||(l[60]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:l[13]||(l[13]=U=>K.value=!1)},l[59]||(l[59]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Fa,[X(e("input",{"onUpdate:modelValue":l[14]||(l[14]=U=>Xe.value=U),placeholder:"–í–∞—à –Ω–∏–∫",class:"timing-input",maxlength:"50"},null,512),[[rt,Xe.value]]),X(e("textarea",{"onUpdate:modelValue":l[15]||(l[15]=U=>Ze.value=U),placeholder:"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∞–π–º–∏–Ω–≥...",class:"timing-textarea"},null,512),[[rt,Ze.value]]),e("div",qa,[e("button",{class:"submit-timing-btn",onClick:N,disabled:!ct.value||qe.value},[qe.value?(a(),u("i",za)):(a(),u("span",Wa,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"))],8,Ka)])])])])):y("",!0),Ie.value?(a(),u("div",{key:3,class:"modal-overlay",onClick:l[18]||(l[18]=U=>Ie.value=!1)},[e("div",{class:"modal-content",onClick:l[17]||(l[17]=Qe(()=>{},["stop"]))},[e("div",Ga,[l[62]||(l[62]=e("h3",null,"–¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)),e("button",{class:"close-modal-btn",onClick:l[16]||(l[16]=U=>Ie.value=!1)},l[61]||(l[61]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Ya,[e("div",Xa,[(a(!0),u(ie,null,_e(ue.value,(U,f)=>(a(),u("div",{key:U.username,class:"top-submitter-item"},[e("div",{class:L(["submitter-rank",{gold:f===0,silver:f===1,bronze:f===2}])},k(f+1),3),e("div",Za,[e("div",Qa,k(U.username),1),e("div",Ja,k(U.approved_submissions_count)+" "+k(He(U.approved_submissions_count,["—Ç–∞–π–º–∏–Ω–≥","—Ç–∞–π–º–∏–Ω–≥–∞","—Ç–∞–π–º–∏–Ω–≥–æ–≤"])),1)]),e("div",er,[e("div",{class:"contribution-bar",style:at({width:vt(U.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):y("",!0)],64)}}},ur=We(tr,[["__scopeId","data-v-d15d96ed"]]);export{ur as default};

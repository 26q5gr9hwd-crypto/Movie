import{_ as Ke,r as v,c as D,b as u,d as a,e,s as ne,t as k,K as se,g as y,L as be,n as L,q as et,u as Et,i as Pt,O as wn,z as Mt,l as qe,o as dt,P as At,x as Xe,E as Cn,f as ue,Q as rt,m as X,R as ie,y as Z,U as O,S as Ln,D as gt,V as Se,W as _n,X as St,Y as _t,Z as In,$ as mn,a0 as Tn,k as Rn,v as ut,a1 as Sn,a2 as Re,w as fn,a3 as kt,a4 as Pn,a5 as An,a6 as xn,a7 as Un,a8 as gn,a9 as jn,aa as Nn,a as Bn,ab as kn,ac as Hn,ad as Dn,ae as $n,af as Vn,ag as On}from"./index-D7rPOTq7.js";import{_ as Fn,a as yn,b as pn,M as hn}from"./MovieList-D7CjF5dL.js";import{S as En}from"./SpinnerLoading-CKmdm2R-.js";import{N as Rt}from"./ToastMessage-Cnbcm_SC.js";import{u as qn,S as Kn,a as zn}from"./trailer-BwowG968.js";import{u as Mn,f as Wn,a as Gn}from"./dateUtils-CX8E1Yen.js";const mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Yn="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",ft=i=>{const t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.color="white",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="2rem",t.style.zIndex="99000",t.textContent=i,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},2e3)},Xn={key:0},Zn={key:1},Qn={class:"players-list"},Jn=["onClick"],eo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},to={key:0},no={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},oo={key:1},lo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},so=["onClick"],io={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},ao={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(i,{emit:t}){const r=i,n=t,w=v(null),_=D(()=>r.players.filter(p=>!E(p)&&!M(p))),c=D(()=>r.players.some(p=>E(p))),f=D(()=>r.players.some(p=>M(p))),E=p=>p.key.toUpperCase().includes("HDREZKA"),M=p=>p.key.toUpperCase().includes("KODIK"),o=p=>p.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),d=p=>{n("select",p),n("close")},b=p=>r.selectedPlayer&&r.selectedPlayer.key===p.key,h=p=>r.selectedPlayer?p==="hdrezka"&&E(r.selectedPlayer)||p==="kodik"&&M(r.selectedPlayer):!1,j=p=>{w.value=p},S=()=>{w.value=null},P=p=>{let R=r.players.filter(x=>p==="hdrezka"&&E(x)||p==="kodik"&&M(x));return p==="kodik"?R.sort((x,W)=>o(x.translate).localeCompare(o(W.translate))):R},T=p=>P(p).some(R=>R.warning);return(p,R)=>(a(),u("div",{class:"modal",onClick:R[4]||(R[4]=et(x=>p.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:R[3]||(R[3]=et(()=>{},["stop"]))},[e("button",{class:"close",onClick:R[0]||(R[0]=x=>p.$emit("close"))},"√ó"),w.value?(a(),u("h2",Zn,[e("button",{class:"back-btn",onClick:S},"‚Üê –ù–∞–∑–∞–¥"),ne(" "+k(w.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(a(),u("h2",Xn,"–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–µ—Ä")),e("ul",Qn,[w.value?(a(!0),u(se,{key:1},be(P(w.value),x=>(a(),u("li",{key:x.key},[e("button",{class:L(["player-item",{active:b(x)}]),onClick:W=>d(x)},[ne(k(o(x.translate))+" ",1),x.warning?(a(),u("span",io,"warning")):y("",!0)],10,so)]))),128)):(a(),u(se,{key:0},[(a(!0),u(se,null,be(_.value,x=>(a(),u("li",{key:x.key},[e("button",{class:L(["player-item",{active:b(x)}]),onClick:W=>d(x)},[ne(k(o(x.translate))+" ",1),x.warning?(a(),u("span",eo,"warning")):y("",!0)],10,Jn)]))),128)),c.value?(a(),u("li",to,[e("button",{class:L(["group-item",{active:h("hdrezka")}]),onClick:R[1]||(R[1]=x=>j("hdrezka"))},[R[5]||(R[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),R[6]||(R[6]=ne(" ReYohoho - HDrezka ")),T("hdrezka")?(a(),u("span",no,"warning")):y("",!0)],2)])):y("",!0),f.value?(a(),u("li",oo,[e("button",{class:L(["group-item",{active:h("kodik")}]),onClick:R[2]||(R[2]=x=>j("kodik"))},[R[7]||(R[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),R[8]||(R[8]=ne(" Kodik ")),T("kodik")?(a(),u("span",lo,"warning")):y("",!0)],2)])):y("",!0)],64))])])]))}},ro=Ke(ao,[["__scopeId","data-v-8b8d2b67"]]),uo={class:"players-list"},co=["src"],vo={key:1,class:"controls"},mo={class:"main-controls"},fo={class:"material-icons"},go={class:"list-button-item"},ko={class:"material-icons"},yo={class:"list-button-item"},po={class:"material-icons"},ho={class:"list-button-item"},bo={class:"list-button-item"},wo={class:"material-icons"},Co={class:"list-button-item"},_o={class:"material-icons"},Eo={class:"tooltip-container","data-tooltip-container":"dimming"},Mo={class:"material-icons"},Lo={class:"tooltip-container","data-tooltip-container":"blur"},Io={class:"tooltip-container","data-tooltip-container":"compressor"},To={class:"tooltip-container","data-tooltip-container":"mirror"},Ro={class:"tooltip-container","data-tooltip-container":"theater"},So={class:"material-symbols-outlined"},Po={class:"custom-tooltip","data-tooltip":"theater"},Ao={class:"tooltip-container","data-tooltip-container":"pip"},xo={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},Uo={class:"current-ratio"},jo=["onClick"],No={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},Bo={class:"custom-tooltip","data-tooltip":"app_link"},Ho={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},Do={class:"custom-tooltip","data-tooltip":"copy_link"},$o={key:0,class:"desktop-list-buttons"},Vo={class:"tooltip-container"},Oo={class:"material-icons"},Fo={class:"custom-tooltip"},qo={class:"tooltip-container"},Ko={class:"material-icons"},zo={class:"custom-tooltip"},Wo={class:"tooltip-container"},Go={class:"custom-tooltip"},Yo={class:"tooltip-container"},Xo={class:"material-icons"},Zo={class:"custom-tooltip"},Qo={class:"tooltip-container"},Jo={class:"material-icons"},el={class:"custom-tooltip"},tl={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(i,{emit:t}){const r=Et(),n=qn(),w=Pt(),_=wn(),c=Mt(),f=v(_.params.kp_id),E=i,M=t,o=v([]),d=v(null),b=v(!0),h=v(!1),j=v(!1),S=v(null),P=v(null),T=v(!1),p=v(""),R=v(null),x=v(window.innerHeight*.9),W=D(()=>"".concat(x.value,"px")),F=D(()=>r.isMobile),$=D(()=>!!window.electronAPI),I=v(null),we=v(!1);let pe=null;const ye=v(null),je=v(null),H=v(null),ee=v(null),K=v(!1),G=v(!1),oe=v(null),ve=v(null),me=v(null),ge=v(null),Me=v(null),ae=v(null),ze=g=>{const s=document.querySelector('[data-tooltip-container="'.concat(g,'"]')),U=document.querySelector('[data-tooltip="'.concat(g,'"]'));if(!s||!U)return;const Y=s.getBoundingClientRect(),te=U.getBoundingClientRect(),ce=window.innerHeight;Y.bottom+te.height>ce?(U.style.top="auto",U.style.bottom="100%",U.style.marginTop="0",U.style.marginBottom="12px",U.style.transform="translateX(-50%)"):(U.style.top="100%",U.style.bottom="auto",U.style.marginTop="12px",U.style.marginBottom="0",U.style.transform="translateX(-50%)")},J=g=>{I.value=g,we.value=!1,clearTimeout(pe),Se(()=>{ze(g)})},Le=()=>{we.value||(pe=setTimeout(()=>{I.value=null},300))},Ce=()=>{we.value=!0,clearTimeout(pe)},Ne=()=>{we.value=!1,I.value=null},_e=D({get:()=>n.aspectRatio,set:g=>n.updateAspectRatio(g)}),Be=D({get:()=>n.isCentered,set:g=>n.updateCentering(g)}),at=D(()=>{var g,s,U,Y,te,ce,ot,lt,st,it;return((s=(g=E.movieInfo)==null?void 0:g.lists)==null?void 0:s.isFavorite)||((Y=(U=E.movieInfo)==null?void 0:U.lists)==null?void 0:Y.isWatching)||((ce=(te=E.movieInfo)==null?void 0:te.lists)==null?void 0:ce.isLater)||((lt=(ot=E.movieInfo)==null?void 0:ot.lists)==null?void 0:lt.isCompleted)||((it=(st=E.movieInfo)==null?void 0:st.lists)==null?void 0:it.isAbandoned)}),tt=D(()=>n.preferredPlayer),De=v(0),$e=g=>g.toUpperCase(),Pe=()=>{if(h.value||!P.value)return;const[g,s]=_e.value.split(":").map(Number);x.value=window.innerHeight*.9,De.value=Math.min(P.value.clientWidth*(s/g),x.value)},he=D(()=>{if(h.value)return{};const[g,s]=_e.value.split(":").map(Number),U=x.value*(g/s);return{width:"100%",maxWidth:"".concat(U,"px"),maxHeight:W.value,margin:"0 auto",overflow:"hidden"}}),re=D(()=>{const[g,s]=_e.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(s/g*100,"%")}}),C=()=>{P.value&&setTimeout(()=>{Se(()=>{P.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Q=async()=>{try{p.value="",R.value=null;const g=await Ln(E.kpId);if(o.value=Object.entries(g).map(([s,U])=>({key:s.toUpperCase(),...U})),o.value.length>0){if(tt.value){const s=$e(tt.value),U=o.value.find(Y=>$e(Y.key)===s);d.value=U||o.value[0]}else d.value=o.value[0];M("update:selectedPlayer",d.value)}}catch(g){const{message:s,code:U}=gt(g);p.value=s,R.value=U,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–µ–µ—Ä–æ–≤:",g)}},Ve=()=>{T.value=!0},We=()=>{T.value=!1},Ze=()=>{try{return oe.value||(oe.value=new(window.AudioContext||window.webkitAudioContext)),ve.value||(ve.value=oe.value.createDynamicsCompressor(),ve.value.threshold.value=-50,ve.value.knee.value=40,ve.value.ratio.value=12,ve.value.attack.value=0,ve.value.release.value=.25,ge.value=oe.value.createGain(),Me.value=oe.value.createGain(),ge.value.gain.value=0,Me.value.gain.value=1,ve.value.connect(ge.value),ge.value.connect(oe.value.destination),Me.value.connect(oe.value.destination)),!0}catch(g){return console.log("Error initializing audio context:",g),!1}},Qe=async g=>{try{if(!oe.value||ae.value===g)return!0;const s=S.value,U=(s==null?void 0:s.src)||"";if(U.includes("videoframe")||U.includes("kinoserial.net")||U.includes("allarknow"))return console.log("Player detected as unsupported for compressor:",U),ae.value=g,me.value=null,G.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1;if(me.value)try{me.value.disconnect()}catch(te){}const Y=async(te=0)=>{te>0&&await new Promise(ce=>setTimeout(ce,te));try{return me.value=oe.value.createMediaElementSource(g),ae.value=g,me.value.connect(ve.value),me.value.connect(Me.value),console.log("Video audio setup completed (attempt with ".concat(te,"ms delay)")),!0}catch(ce){if(ce.name==="InvalidStateError"&&ce.message.includes("already connected"))return console.log("MediaElementSource already connected (".concat(te,"ms delay attempt)")),!1;throw ce}};return await Y(0)||await Y(100)||await Y(300)||await Y(800)?!0:(console.log("Video element has internal audio processing, compressor not available for this player"),ae.value=g,me.value=null,G.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1)}catch(s){return console.log("Error setting up video audio:",s),!1}},nt=async g=>{if(S.value)try{const s=S.value,U=s.contentDocument||s.contentWindow.document;if(!U)return;const Y=U.querySelectorAll("video");if(Y.length===0)return;const te=Y[0];if(!Ze())return;if(!await Qe(te)||!me.value){console.log("Compressor not available for this player");return}g&&!G.value?(ge.value.gain.setValueAtTime(1,oe.value.currentTime),Me.value.gain.setValueAtTime(0,oe.value.currentTime),G.value=!0,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –≤–∫–ª—é—á—ë–Ω"),console.log("Compressor enabled")):!g&&G.value&&(ge.value.gain.setValueAtTime(0,oe.value.currentTime),Me.value.gain.setValueAtTime(1,oe.value.currentTime),G.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –æ—Ç–∫–ª—é—á—ë–Ω"),console.log("Compressor disabled"))}catch(s){console.log("Compressor error:",s),$.value&&window.electronAPI.showToast("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞")}},yt=()=>{$.value?window.electronAPI.sendHotKey("F2"):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},N=()=>{$.value?(l.value=!l.value,nt(l.value)):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},q=()=>{$.value?(V.value=!V.value,le(V.value)):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},z=()=>{h.value=!h.value,h.value?(window.addEventListener("mousemove",Oe),document.addEventListener("keydown",Ee),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Oe),document.removeEventListener("keydown",Ee),document.body.classList.remove("no-scroll")),j.value=h.value,Se(()=>C())},de=v(null),Oe=()=>{de.value=setTimeout(()=>{clearTimeout(de.value),j.value=!1},4e3),j.value=!0},He=D(()=>r.dimmingEnabled),m=()=>{h.value||r.toggleDimming()},l=D({get:()=>n.compressorEnabled,set:g=>n.updateCompressor(g)}),V=D({get:()=>n.mirrorEnabled,set:g=>n.updateMirror(g)}),le=g=>{if(S.value)try{const s=S.value,U=s.contentDocument||s.contentWindow.document;if(!U)return;const Y=U.querySelectorAll("video");if(Y.length>0&&(Y.forEach(te=>{g?te.style.transform="scaleX(-1)":te.style.transform="scaleX(1)"}),K.value=g,$.value)){const te=g?"–ó–µ—Ä–∫–∞–ª–æ –≤–∫–ª—é—á–µ–Ω–æ":"–ó–µ—Ä–∫–∞–ª–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ";window.electronAPI.showToast(te)}}catch(s){}},Ae=()=>{ee.value&&clearInterval(ee.value),ee.value=setInterval(()=>{if(S.value)try{const g=S.value,s=g.contentDocument||g.contentWindow.document;if(!s)return;const U=s.querySelectorAll("video");if(U.length>0){const Y=U[0],ce=Y.style.transform==="scaleX(-1)";V.value&&!ce?(Y.style.transform="scaleX(-1)",K.value=!0):!V.value&&ce&&(Y.style.transform="scaleX(1)",K.value=!1),ae.value!==Y?(console.log("Video element changed, reinitializing compressor"),ae.value=null,G.value=!1,l.value&&setTimeout(()=>{nt(!0)},500)):l.value!==G.value&&me.value&&(console.log("Compressor state mismatch, reapplying"),nt(l.value))}}catch(g){}},1e3)},xe=()=>{b.value=!1,Ae()},Ee=g=>{(g.key==="Escape"&&h.value||g.altKey&&g.keyCode===84)&&z()},Ie=g=>{_e.value=g,setTimeout(()=>{Be.value&&C()},310)},Ue=()=>{const g="reyohoho://#".concat(f.value);try{window.location.href=g}catch(s){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏:",s)}},fe=()=>{const g=window.location.href;navigator.clipboard.writeText(g).then(()=>{}),ye.value.showNotification("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–ª—å–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞")};function ke(g){return g.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const Ge=D(()=>{var g,s;return $.value?!1:!((s=(g=d.value)==null?void 0:g.key)!=null&&s.toUpperCase().includes("TORRENTS"))}),Fe=()=>{try{me.value&&(me.value.disconnect(),me.value=null),oe.value&&(oe.value.close(),oe.value=null),ve.value=null,ge.value=null,Me.value=null,ae.value=null,G.value=!1}catch(g){console.log("Error cleaning up audio context:",g)}},Je=g=>{var s;if(((s=d.value)==null?void 0:s.key)===g.key){We();return}d.value=g,b.value=!0,K.value=!1,G.value=!1,ae.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),n.updatePreferredPlayer($e(g.key)),M("update:selectedPlayer",g)};qe(d,g=>{if(g)if(b.value=!0,K.value=!1,G.value=!1,ae.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),n.updatePreferredPlayer($e(g.key)),M("update:selectedPlayer",g),g.key.toUpperCase().includes("TORRENTS")){const s=document.querySelector(".rocketme_fon");s&&(s.style.display="none");const U=document.querySelector(".pm_preloader");U&&(U.style.display="none")}else{const s=document.querySelector(".rocketme_fon");s&&(s.style.display="");const U=document.querySelector(".pm_preloader");U&&(U.style.display="")}}),qe(()=>_.params.kp_id,async g=>{g&&g!==f.value&&(f.value=g,K.value=!1,G.value=!1,ae.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),Be.value&&C())},{immediate:!0});const Ye=["16:9","12:5","4:3"],Lt=()=>{const s=(Ye.indexOf(_e.value)+1)%Ye.length;Ie(Ye[s])},It=g=>{var U,Y,te,ce,ot,lt,st,it,pt,ht,bt,wt,Ct;return(Ct={[O.FAVORITE]:((Y=(U=E.movieInfo)==null?void 0:U.lists)==null?void 0:Y.isFavorite)||!1,[O.HISTORY]:((ce=(te=E.movieInfo)==null?void 0:te.lists)==null?void 0:ce.isHistory)||!1,[O.LATER]:((lt=(ot=E.movieInfo)==null?void 0:ot.lists)==null?void 0:lt.isLater)||!1,[O.COMPLETED]:((it=(st=E.movieInfo)==null?void 0:st.lists)==null?void 0:it.isCompleted)||!1,[O.ABANDONED]:((ht=(pt=E.movieInfo)==null?void 0:pt.lists)==null?void 0:ht.isAbandoned)||!1,[O.WATCHING]:((wt=(bt=E.movieInfo)==null?void 0:bt.lists)==null?void 0:wt.isWatching)||!1}[g])!=null?Ct:!1},Te=async g=>{if(!w.token){ye.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:Tt});return}try{const s={[O.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[O.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[O.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[O.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[O.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[O.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};It(g)?(await _n(f.value,g),ye.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(s[g]))):(await St(f.value,g),ye.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(s[g])))}catch(s){const{message:U,code:Y}=gt(s);ye.value.showNotification("".concat(U," ").concat(Y))}M("update:movieInfo")},Tt=()=>{c.push("/login")},ct=D(()=>n.showFavoriteTooltip),A=()=>{c.push("/settings"),Ne()},vt=async()=>{if(!$.value){ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank");return}if(S.value)try{const g=S.value,s=g.contentDocument||g.contentWindow.document;if(!s)return;const U=s.querySelector("video");if(!U)return;document.pictureInPictureElement?await document.exitPictureInPicture():document.pictureInPictureEnabled?await U.requestPictureInPicture():ft('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}catch(g){console.error("Error toggling PiP:",g),ft('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}};return dt(()=>{b.value=!0,Q(),F.value&&(_e.value="4:3"),Pe(),window.addEventListener("resize",Pe),window.addEventListener("resize",ze),Be.value&&C()}),At(()=>{window.removeEventListener("resize",Pe),window.removeEventListener("resize",ze),window.removeEventListener("mousemove",Oe),document.removeEventListener("keydown",Ee),document.body.classList.remove("no-scroll"),ee.value&&clearInterval(ee.value),Fe()}),(g,s)=>{var U,Y,te,ce,ot,lt,st,it,pt,ht,bt,wt,Ct,Bt,Ht,Dt,$t,Vt,Ot,Ft,qt,Kt,zt,Wt,Gt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,sn,an,rn,un,dn,cn,vn;return p.value?(a(),Xe(Cn,{key:0,message:p.value,code:R.value},null,8,["message","code"])):(a(),u(se,{key:1},[e("div",uo,[s[41]||(s[41]=e("span",null,"–ü–ª–µ–µ—Ä:",-1)),e("button",{class:"player-btn",onClick:Ve},k(d.value?ke(d.value.translate).toUpperCase():"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–µ—Ä–æ–≤..."),1)]),T.value?(a(),Xe(ro,{key:0,players:o.value,"selected-player":d.value,onClose:We,onSelect:Je},null,8,["players","selected-player"])):y("",!0),e("div",{ref_key:"containerRef",ref:P,class:L(["player-container",{"theater-mode":h.value}]),style:rt(h.value?{}:he.value)},[e("div",{class:L(["iframe-wrapper",{pm_video:Ge.value}]),style:rt(h.value?{}:re.value)},[X(e("iframe",{ref_key:"playerIframe",ref:S,src:(U=d.value)==null?void 0:U.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:L(["responsive-iframe",{"theater-mode-unlock":j.value,"theater-mode-lock":h.value,dimmed:He.value}]),onLoad:xe},null,42,co),[[ie,!b.value&&((Y=d.value)==null?void 0:Y.iframe)]]),b.value?(a(),Xe(En,{key:0})):y("",!0)],6),h.value?(a(),u("button",{key:0,class:L(["close-theater-btn",{visible:j.value}]),onClick:z}," ‚úñ ",2)):y("",!0)],6),h.value?y("",!0):(a(),u("div",vo,[e("div",mo,[F.value?y("",!0):(a(),u("div",{key:0,ref_key:"tooltipContainer",ref:je,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[ct.value?(a(),u("button",{key:0,class:L(["favorite-btn",{active:(ce=(te=i.movieInfo)==null?void 0:te.lists)==null?void 0:ce.isFavorite}]),onMouseenter:s[0]||(s[0]=B=>J("favorite")),onMouseleave:Le,onClick:s[1]||(s[1]=B=>Te(Z(O).FAVORITE))},[e("span",fo,k((lt=(ot=i.movieInfo)==null?void 0:ot.lists)!=null&&lt.isFavorite?"favorite":"favorite_border"),1),e("span",{class:L(["material-icons dropdown-arrow",{highlighted:at.value}])},"expand_more",2)],34)):y("",!0),X(e("div",{ref_key:"tooltip",ref:H,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:Ce,onMouseleave:Ne},[e("div",go,[e("button",{class:L(["favorite-btn",{active:(it=(st=i.movieInfo)==null?void 0:st.lists)==null?void 0:it.isFavorite}]),onClick:s[2]||(s[2]=B=>Te(Z(O).FAVORITE))},[e("span",ko,k((ht=(pt=i.movieInfo)==null?void 0:pt.lists)!=null&&ht.isFavorite?"favorite":"favorite_border"),1),s[42]||(s[42]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))],2)]),e("div",yo,[e("button",{class:L(["watching-btn",{active:(wt=(bt=i.movieInfo)==null?void 0:bt.lists)==null?void 0:wt.isWatching}]),onClick:s[3]||(s[3]=B=>Te(Z(O).WATCHING))},[e("span",po,k((Bt=(Ct=i.movieInfo)==null?void 0:Ct.lists)!=null&&Bt.isWatching?"visibility":"visibility_off"),1),s[43]||(s[43]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))],2)]),e("div",ho,[e("button",{class:L(["later-btn",{active:(Dt=(Ht=i.movieInfo)==null?void 0:Ht.lists)==null?void 0:Dt.isLater}]),onClick:s[4]||(s[4]=B=>Te(Z(O).LATER))},s[44]||(s[44]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ",-1)]),2)]),e("div",bo,[e("button",{class:L(["completed-btn",{active:(Vt=($t=i.movieInfo)==null?void 0:$t.lists)==null?void 0:Vt.isCompleted}]),onClick:s[5]||(s[5]=B=>Te(Z(O).COMPLETED))},[e("span",wo,k((Ft=(Ot=i.movieInfo)==null?void 0:Ot.lists)!=null&&Ft.isCompleted?"check_circle":"check_circle_outline"),1),s[45]||(s[45]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))],2)]),e("div",Co,[e("button",{class:L(["abandoned-btn",{active:(Kt=(qt=i.movieInfo)==null?void 0:qt.lists)==null?void 0:Kt.isAbandoned}]),onClick:s[6]||(s[6]=B=>Te(Z(O).ABANDONED))},[e("span",_o,k(((Wt=(zt=i.movieInfo)==null?void 0:zt.lists)!=null&&Wt.isAbandoned,"not_interested")),1),s[46]||(s[46]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))],2)]),e("div",{class:"tooltip-hint"},[s[48]||(s[48]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[s[47]||(s[47]=ne("–°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ ")),e("a",{class:"settings-link",onClick:A},"–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")])])],544),[[ie,I.value==="favorite"&&ct.value]])],512)),F.value?y("",!0):(a(),u(se,{key:1},[e("div",Eo,[e("button",{class:L(["dimming-btn",{active:He.value}]),onMouseenter:s[7]||(s[7]=B=>J("dimming")),onMouseleave:s[8]||(s[8]=B=>I.value=null),onClick:m},[e("span",Mo,k(He.value?"light_mode":"dark_mode"),1)],34),X(e("div",{class:"custom-tooltip","data-tooltip":"dimming"},k(He.value?"–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ":"–í–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ"),513),[[ie,I.value==="dimming"]])]),e("div",Lo,[e("button",{class:L(["blur-btn",{"electron-only":!$.value}]),onMouseenter:s[9]||(s[9]=B=>J("blur")),onMouseleave:s[10]||(s[10]=B=>I.value=null),onClick:yt},s[49]||(s[49]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"blur"},k($.value?"–ë–ª—é—Ä":"–ë–ª—é—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ie,I.value==="blur"]])]),e("div",Io,[e("button",{class:L(["material-symbols-outlined",{active:l.value,"electron-only":!$.value}]),onMouseenter:s[11]||(s[11]=B=>J("compressor")),onMouseleave:s[12]||(s[12]=B=>I.value=null),onClick:N},s[50]||(s[50]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"compressor"},k($.value?"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä":"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ie,I.value==="compressor"]])]),e("div",To,[e("button",{class:L(["mirror-btn",{active:V.value,"electron-only":!$.value}]),onMouseenter:s[13]||(s[13]=B=>J("mirror")),onMouseleave:s[14]||(s[14]=B=>I.value=null),onClick:q},s[51]||(s[51]=[e("span",{class:"material-icons"},"flip",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"mirror"},k($.value?"–ó–µ—Ä–∫–∞–ª–æ":"–ó–µ—Ä–∫–∞–ª–æ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ie,I.value==="mirror"]])]),e("div",Ro,[e("button",{class:"theater-mode-btn",onMouseenter:s[15]||(s[15]=B=>J("theater")),onMouseleave:s[16]||(s[16]=B=>I.value=null),onClick:z},[e("span",So,k(h.value?"fullscreen_exit":"aspect_ratio"),1)],32),X(e("div",Po,[ne(k(h.value?"–í—ã–π—Ç–∏ –∏–∑ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞":"–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")+" ",1),s[52]||(s[52]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[ie,I.value==="theater"]])]),e("div",Ao,[e("button",{class:L(["pip-btn",{"electron-only":!$.value}]),onMouseenter:s[17]||(s[17]=B=>J("pip")),onMouseleave:s[18]||(s[18]=B=>I.value=null),onClick:vt},s[53]||(s[53]=[e("span",{class:"material-icons"},"picture_in_picture_alt",-1)]),34),X(e("div",{class:"custom-tooltip","data-tooltip":"pip"},k($.value?"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ":"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ie,I.value==="pip"]])]),e("div",xo,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:s[19]||(s[19]=B=>J("aspect_ratio")),onMouseleave:Le,onClick:Lt},[e("span",Uo,k(_e.value),1)],32),X(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:Ce,onMouseleave:Ne},[(a(),u(se,null,be(Ye,B=>e("div",{key:B,class:L(["aspect-ratio-option",{active:_e.value===B}]),onClick:ar=>Ie(B)},k(B),11,jo)),64))],544),[[ie,I.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:s[21]||(s[21]=B=>J("centering")),onMouseleave:Le},[e("button",{class:"center-btn",onClick:C},s[54]||(s[54]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),X(e("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:Ce,onMouseleave:Ne},[s[55]||(s[55]=ne(" –û—Ç—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–µ—Ä ")),ue(Kn,{modelValue:Be.value,"onUpdate:modelValue":s[20]||(s[20]=B=>Be.value=B),title:"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞"},null,8,["modelValue"]),s[56]||(s[56]=e("span",{class:"tooltip-title"},"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞",-1))],544),[[ie,I.value==="centering"]])],32),$.value?y("",!0):(a(),u("div",No,[e("button",{class:"app-link-btn",onMouseenter:s[22]||(s[22]=B=>J("app_link")),onMouseleave:s[23]||(s[23]=B=>I.value=null),onClick:Ue},s[57]||(s[57]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),X(e("div",Bo," –û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ",512),[[ie,I.value==="app_link"]])])),$.value?(a(),u("div",Ho,[e("button",{class:"copy-link-btn",onMouseenter:s[24]||(s[24]=B=>J("copy_link")),onMouseleave:s[25]||(s[25]=B=>I.value=null),onClick:fe},s[58]||(s[58]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),X(e("div",Do," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ",512),[[ie,I.value==="copy_link"]])])):y("",!0)],64))]),!F.value&&!ct.value?(a(),u("div",$o,[e("div",Vo,[e("button",{class:L(["favorite-btn",{active:(Yt=(Gt=i.movieInfo)==null?void 0:Gt.lists)==null?void 0:Yt.isFavorite}]),onMouseenter:s[26]||(s[26]=B=>J("favorite")),onMouseleave:s[27]||(s[27]=B=>I.value=null),onClick:s[28]||(s[28]=B=>Te(Z(O).FAVORITE))},[e("span",Oo,k((Zt=(Xt=i.movieInfo)==null?void 0:Xt.lists)!=null&&Zt.isFavorite?"favorite":"favorite_border"),1)],34),X(e("div",Fo,k("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[ie,I.value==="favorite"]])]),e("div",qo,[e("button",{class:L(["watching-btn",{active:(Jt=(Qt=i.movieInfo)==null?void 0:Qt.lists)==null?void 0:Jt.isWatching}]),onMouseenter:s[29]||(s[29]=B=>J("watching")),onMouseleave:s[30]||(s[30]=B=>I.value=null),onClick:s[31]||(s[31]=B=>Te(Z(O).WATCHING))},[e("span",Ko,k((tn=(en=i.movieInfo)==null?void 0:en.lists)!=null&&tn.isWatching?"visibility":"visibility_off"),1)],34),X(e("div",zo,k("–°–º–æ—Ç—Ä—é"),512),[[ie,I.value==="watching"]])]),e("div",Wo,[e("button",{class:L(["later-btn",{active:(on=(nn=i.movieInfo)==null?void 0:nn.lists)==null?void 0:on.isLater}]),onMouseenter:s[32]||(s[32]=B=>J("later")),onMouseleave:s[33]||(s[33]=B=>I.value=null),onClick:s[34]||(s[34]=B=>Te(Z(O).LATER))},s[59]||(s[59]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),X(e("div",Go,k("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[ie,I.value==="later"]])]),e("div",Yo,[e("button",{class:L(["completed-btn",{active:(sn=(ln=i.movieInfo)==null?void 0:ln.lists)==null?void 0:sn.isCompleted}]),onMouseenter:s[35]||(s[35]=B=>J("completed")),onMouseleave:s[36]||(s[36]=B=>I.value=null),onClick:s[37]||(s[37]=B=>Te(Z(O).COMPLETED))},[e("span",Xo,k((rn=(an=i.movieInfo)==null?void 0:an.lists)!=null&&rn.isCompleted?"check_circle":"check_circle_outline"),1)],34),X(e("div",Zo,k("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[ie,I.value==="completed"]])]),e("div",Qo,[e("button",{class:L(["abandoned-btn",{active:(dn=(un=i.movieInfo)==null?void 0:un.lists)==null?void 0:dn.isAbandoned}]),onMouseenter:s[38]||(s[38]=B=>J("abandoned")),onMouseleave:s[39]||(s[39]=B=>I.value=null),onClick:s[40]||(s[40]=B=>Te(Z(O).ABANDONED))},[e("span",Jo,k(((vn=(cn=i.movieInfo)==null?void 0:cn.lists)!=null&&vn.isAbandoned,"not_interested")),1)],34),X(e("div",el,k("–ë—Ä–æ—à–µ–Ω–æ"),512),[[ie,I.value==="abandoned"]])])])):y("",!0)])),ue(Rt,{ref_key:"notificationRef",ref:ye},null,512)],64))}}},bn=Ke(tl,[["__scopeId","data-v-0787d568"]]),nl={key:0,class:"carousel-container"},ol={class:"carousel-wrapper"},ll=["onClick"],sl=["src","alt"],il={class:"video-name"},al={key:0,class:"video-player"},rl=["src"],ul={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(i,{emit:t}){const r=Et(),n=D(()=>r.isMobile),w=i,_=t,c=v(w.activeVideoIndex),f=v(null),E=v(!1),M=v(!1),o=()=>{if(!f.value)return;const{scrollLeft:P,scrollWidth:T,clientWidth:p}=f.value;E.value=P>0,M.value=P<T-p-1},d=P=>{if(!f.value)return;const T=f.value.querySelector(".carousel-item");if(!T)return;const p=T.clientWidth+16;f.value.scrollBy({left:p*P,behavior:"smooth"})},b=P=>{c.value=P,_("select",w.videos[P])},h=()=>o(),j=v([]),S=async P=>{try{return(await fetch("https://img.youtube.com/vi/".concat(P,"/0.jpg"))).ok}catch(T){return!1}};return dt(async()=>{const P=w.videos.map(async p=>await S(p.videoId)?p:null),T=await Promise.all(P);j.value=T.filter(Boolean),o(),window.addEventListener("resize",h)}),qe(()=>w.videos,async P=>{const T=P.map(async R=>await S(R.videoId)?R:null),p=await Promise.all(T);j.value=p.filter(Boolean)}),qe(()=>w.activeVideoIndex,P=>{c.value=P}),At(()=>{window.removeEventListener("resize",h)}),(P,T)=>j.value.length?(a(),u("div",nl,[T[4]||(T[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",ol,[X(e("button",{class:"scroll-button left",onClick:T[0]||(T[0]=p=>d(-1))},T[2]||(T[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[ie,!n.value&&E.value]]),e("div",{ref_key:"carousel",ref:f,class:"carousel",onScroll:o},[(a(!0),u(se,null,be(j.value,(p,R)=>(a(),u("div",{key:R,class:"carousel-item",onClick:x=>b(R)},[e("img",{src:"https://img.youtube.com/vi/".concat(p.videoId,"/0.jpg"),alt:p.name},null,8,sl),e("div",il,k(p.name),1)],8,ll))),128))],544),X(e("button",{class:"scroll-button right",onClick:T[1]||(T[1]=p=>d(1))},T[3]||(T[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[ie,!n.value&&M.value]])]),c.value!==null?(a(),u("div",al,[e("iframe",{src:i.videos[c.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,rl)])):y("",!0)])):y("",!0)}},dl=Ke(ul,[["__scopeId","data-v-4a5806b3"]]),cl={class:"rating-container"},vl={class:"rating-display"},ml={class:"rating-numbers"},fl=["onClick","onMouseenter"],gl={key:0,class:"tooltip-footer"},kl={class:"rating-numbers mobile-rating-numbers"},yl=["onClick"],pl={key:0,class:"mobile-modal-footer"},hl={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(i){const t=Et(),r=Mt(),n=i,w=v(null),_=v(null),c=v(null),f=v(null),E=v(0),M=v(!1),o=v(!1);let d=null;const b=x=>x?x.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",h=()=>{d=setTimeout(()=>{M.value=!1,t.isMobile||(o.value=!1)},100)},j=()=>{d&&(clearTimeout(d),d=null),M.value=!0},S=()=>{t.isMobile&&(o.value=!o.value)},P=()=>{r.push("/login")},T=async()=>{try{const x=await In(n.kpId);_.value=x.user_rating,c.value=x.average_rating,f.value=b(x.vote_count)}catch(x){console.error("Error loading rating:",x)}},p=async x=>{var W;try{x===_.value?(await mn(n.kpId,null),_.value=null,w.value.showNotification("–û—Ü–µ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞")):(await mn(n.kpId,x),_.value=x,w.value.showNotification("–û—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")),t.isMobile&&(o.value=!1),T()}catch(F){console.error("Error setting rating:",F),((W=F.response)==null?void 0:W.status)===401?w.value.showNotification('–î–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:P}):w.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏"),t.isMobile&&(o.value=!1)}},R=()=>{o.value=!1};return dt(()=>{T()}),(x,W)=>(a(),u("div",cl,[e("div",vl,[e("a",{href:"#",class:L(["rating-link",{"has-rating":_.value}]),onMouseenter:W[0]||(W[0]=F=>M.value=!0),onMouseleave:h,onClick:et(S,["prevent"])},[W[3]||(W[3]=e("img",{src:Fn,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",{class:L(["average-rating",Z(_t)(c.value)])},k(c.value?c.value.toFixed(1).replace(/\.0$/,""):"‚Äî"),3)],34),X(e("div",{class:"rating-tooltip",onMouseenter:j,onMouseleave:h},[e("div",ml,[(a(),u(se,null,be(10,F=>e("button",{key:F,class:L(["number-btn",{active:F===_.value,hover:F===E.value,"average-highlight":c.value&&F<=Math.round(c.value)}]),onClick:$=>p(F),onMouseenter:$=>E.value=F,onMouseleave:W[1]||(W[1]=$=>E.value=0)},k(F),43,fl)),64))]),f.value?(a(),u("div",gl,"–û—Ü–µ–Ω–æ–∫: "+k(f.value),1)):y("",!0)],544),[[ie,(M.value||o.value)&&!Z(t).isMobile]])]),ue(Rt,{ref_key:"notificationRef",ref:w},null,512),Z(t).isMobile&&o.value?(a(),u("div",{key:0,class:"mobile-modal-overlay",onClick:R},[e("div",{class:"mobile-modal",onClick:W[2]||(W[2]=et(()=>{},["stop"]))},[e("div",{class:"mobile-modal-header"},[W[4]||(W[4]=e("h3",null,"–û—Ü–µ–Ω–∏—Ç—å —Ñ–∏–ª—å–º",-1)),e("button",{class:"close-button",onClick:R},"√ó")]),e("div",kl,[(a(),u(se,null,be(10,F=>e("button",{key:F,class:L(["number-btn",{active:F===_.value,"average-highlight":c.value&&F<=Math.round(c.value)}]),onClick:$=>p(F)},k(F),11,yl)),64))]),f.value?(a(),u("div",pl,"–û—Ü–µ–Ω–æ–∫: "+k(f.value),1)):y("",!0)])])):y("",!0)]))}},bl=Ke(hl,[["__scopeId","data-v-2df64bd5"]]),wl={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const i=this.categories.find(t=>t.name===this.activeCategory);return i?i.emojis:[]}},methods:{selectEmoji(i){this.$emit("emoji-selected",i)}}},Cl={class:"emoji-categories"},_l=["onClick"],El={class:"emoji-grid"},Ml=["onClick"];function Ll(i,t,r,n,w,_){return r.isVisible?(a(),u("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=c=>i.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=c=>i.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=c=>i.$emit("close"))},t[3]||(t[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",Cl,[(a(!0),u(se,null,be(w.categories,c=>(a(),u("button",{key:c.name,onClick:f=>w.activeCategory=c.name,class:L([{active:w.activeCategory===c.name},"category-btn"]),type:"button"},k(c.icon),11,_l))),128))]),e("div",El,[(a(!0),u(se,null,be(_.currentEmojis,c=>(a(),u("button",{key:c,onClick:f=>_.selectEmoji(c),class:"emoji-btn",type:"button"},k(c),9,Ml))),128))])],32)):y("",!0)}const xt=Ke(wl,[["render",Ll],["__scopeId","data-v-209132f3"]]),Il=async i=>{const t=await Tn();return await i(t)},Tl=async i=>{const{data:t}=await Il(r=>r.get("/search_emotes/".concat(i)));return t.emotes||[]},Rl={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(i,{emit:t}){const r=v(""),n=v([]),w=v(null),_=v(!1),f=Rn(async d=>{if(!i.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!d.trim()){n.value=[],_.value=!1;return}_.value=!0;try{n.value=await Tl(d)}catch(b){console.error("Error searching images:",b),n.value=[]}finally{_.value=!1}},300),E=()=>{if(!i.currentUser){t("login-required");return}r.value.trim()&&(_.value=!0),f(r.value)},M=d=>{if(!i.currentUser){t("login-required");return}t("image-selected",d),t("close")},o=()=>{setTimeout(()=>{i.isVisible&&t("mouse-leave")},100)};return qe(()=>i.isVisible,d=>{d&&(r.value="",n.value=[],_.value=!1)}),{searchQuery:r,images:n,searchInput:w,isLoading:_,handleSearch:E,selectImage:M,handleInputBlur:o}}},Sl={key:0,class:"auth-required"},Pl={class:"auth-message"},Al={key:1},xl={class:"image-picker-header"},Ul={class:"image-content"},jl={key:0,class:"loading-spinner"},Nl={key:1,class:"image-grid"},Bl=["onClick"],Hl=["src","alt"],Dl={key:2,class:"no-images"},$l={key:3,class:"no-search"};function Vl(i,t,r,n,w,_){return r.isVisible?(a(),u("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=c=>i.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=c=>i.$emit("mouse-leave")),onClick:t[9]||(t[9]=et(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=c=>i.$emit("close"))},t[10]||(t[10]=[e("i",{class:"fas fa-times"},null,-1)])),r.currentUser?(a(),u("div",Al,[e("div",xl,[X(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=c=>n.searchQuery=c),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:t[3]||(t[3]=(...c)=>n.handleSearch&&n.handleSearch(...c)),onClick:t[4]||(t[4]=et(()=>{},["stop"])),onFocus:t[5]||(t[5]=c=>i.$emit("mouse-enter")),onBlur:t[6]||(t[6]=(...c)=>n.handleInputBlur&&n.handleInputBlur(...c))},null,544),[[ut,n.searchQuery]])]),e("div",Ul,[n.isLoading?(a(),u("div",jl,t[14]||(t[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)]))):n.images.length>0?(a(),u("div",Nl,[(a(!0),u(se,null,be(n.images,(c,f)=>(a(),u("div",{key:f,class:"image-item",onClick:E=>n.selectImage(c)},[e("img",{src:c,alt:"Image "+(f+1)},null,8,Hl)],8,Bl))),128))])):n.searchQuery.trim()?(a(),u("div",Dl,t[15]||(t[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)]))):(a(),u("div",$l,t[16]||(t[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])))])])):(a(),u("div",Sl,[e("div",Pl,[t[11]||(t[11]=e("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),t[13]||(t[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:t[1]||(t[1]=c=>i.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):y("",!0)}const Ut=Ke(Rl,[["render",Vl],["__scopeId","data-v-f33eb3f6"]]),Ol={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(i,{emit:t}){const r=v(""),n=v(""),w=v(null),_=v(null),c=D(()=>/^https?:\/\/.+/.test(r.value.trim())&&n.value.trim()),f=()=>{t("close"),M()},E=()=>{c.value&&(t("submit",{url:r.value.trim(),title:n.value.trim()}),f())},M=()=>{r.value="",n.value=""},o=d=>{var b;d.key==="Enter"?(d.preventDefault(),c.value?E():d.target===w.value&&r.value.trim()&&((b=_.value)==null||b.focus())):d.key==="Escape"&&f()};return qe(()=>i.isVisible,d=>{d&&(i.selectedText.trim()&&(n.value=i.selectedText.trim()),Se(()=>{var b;(b=w.value)==null||b.focus()}))}),{linkUrl:r,linkTitle:n,urlInput:w,titleInput:_,isValidLink:c,closeModal:f,submitLink:E,handleKeydown:o}}},Fl={class:"link-modal-header"},ql={class:"link-modal-content"},Kl={class:"form-group"},zl={class:"form-group"},Wl={class:"link-modal-footer"},Gl=["disabled"];function Yl(i,t,r,n,w,_){return r.isVisible?(a(),u("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=(...c)=>n.closeModal&&n.closeModal(...c))},[e("div",{class:"link-modal",onClick:t[7]||(t[7]=et(()=>{},["stop"]))},[e("div",Fl,[t[10]||(t[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:t[0]||(t[0]=(...c)=>n.closeModal&&n.closeModal(...c))},t[9]||(t[9]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",ql,[e("div",Kl,[t[11]||(t[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),X(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=c=>n.linkUrl=c),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=(...c)=>n.handleKeydown&&n.handleKeydown(...c))},null,544),[[ut,n.linkUrl]])]),e("div",zl,[t[12]||(t[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),X(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=c=>n.linkTitle=c),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:t[4]||(t[4]=(...c)=>n.handleKeydown&&n.handleKeydown(...c))},null,544),[[ut,n.linkTitle]])])]),e("div",Wl,[e("button",{class:"cancel-button",onClick:t[5]||(t[5]=(...c)=>n.closeModal&&n.closeModal(...c))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!n.isValidLink,onClick:t[6]||(t[6]=(...c)=>n.submitLink&&n.submitLink(...c))},"–î–æ–±–∞–≤–∏—Ç—å",8,Gl)])])])):y("",!0)}const jt=Ke(Ol,[["render",Yl],["__scopeId","data-v-a794d83f"]]);function Xl(){const i=v(!1),t=v(!1),r=v(!1),n=()=>{t.value=!0},w=()=>{t.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},_=()=>{r.value=!0,i.value=!0},c=()=>{r.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},f=()=>{i.value=!1};return{showEmojiPicker:i,isEmojiHovered:t,isButtonHovered:r,handleEmojiMouseEnter:n,handleEmojiMouseLeave:w,handleButtonMouseEnter:_,handleButtonMouseLeave:c,closeEmojiPicker:f,insertEmoji:(o,d,b,h)=>{const j=d.value;if(j){const S=j.selectionStart,P=j.selectionEnd,T=b.value.substring(0,S),p=b.value.substring(P),R=T+o+p;h(R),Se(()=>{j.focus(),j.setSelectionRange(S+o.length,S+o.length),j.style.height&&(j.style.height="auto",j.style.height="".concat(Math.min(j.scrollHeight,200),"px"))})}else h(b.value+o)},handleGlobalClick:o=>{!o.target.closest(".emoji-picker")&&!o.target.closest(".emoji-button-inline")&&f()}}}function Zl(){const i=v(!1),t=v(!1),r=v(!1),n=()=>{t.value=!0},w=()=>{t.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},_=()=>{r.value=!0,i.value=!0},c=()=>{r.value=!1,setTimeout(()=>{!t.value&&!r.value&&(i.value=!1)},300)},f=()=>{i.value=!1};return{showImagePicker:i,isImageHovered:t,isButtonHovered:r,handleImageMouseEnter:n,handleImageMouseLeave:w,handleImageButtonMouseEnter:_,handleButtonMouseLeave:c,closeImagePicker:f,insertImage:(o,d,b,h)=>{const j=d.value;if(j){const S=j.selectionStart,P=j.selectionEnd,T="[img]".concat(o,"[/img]"),p=b.value.slice(0,S)+T+b.value.slice(P);h(p),Se(()=>{j.focus(),j.setSelectionRange(S+T.length,S+T.length),j.style.height&&(j.style.height="auto",j.style.height="".concat(Math.min(j.scrollHeight,200),"px"))})}else{const S="[img]".concat(o,"[/img]");h(b.value+S)}},handleGlobalClick:o=>{!o.target.closest(".image-picker")&&!o.target.closest(".emoji-button-inline")&&f()}}}function Ql(){const i=v(!1),t=v("");return{showLinkModal:i,selectedTextForLink:t,insertLink:(c,f)=>{const E=c.value;if(E){const M=E.selectionStart,o=E.selectionEnd,d=f.value.slice(M,o);t.value=d.trim()||""}i.value=!0},insertLinkFromModal:(c,f,E,M)=>{const o=f.value;if(o){const d=o.selectionStart,b=o.selectionEnd,h="[link=".concat(c.url,"]").concat(c.title,"[/link]"),j=E.value.slice(0,d)+h+E.value.slice(b);M(j),Se(()=>{o.focus(),o.setSelectionRange(d+h.length,d+h.length),o.style.height&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))})}},closeLinkModal:()=>{i.value=!1},insertSpoiler:(c,f,E)=>{const M=c.value;if(M){const o=M.selectionStart,d=M.selectionEnd,b=f.value.slice(o,d);let h;b.trim()?h="[spoiler]".concat(b,"[/spoiler]"):h="[spoiler][/spoiler]";const j=f.value.slice(0,o)+h+f.value.slice(d);E(j),Se(()=>{if(M.focus(),b.trim())M.setSelectionRange(o+h.length,o+h.length);else{const S=o+9;M.setSelectionRange(S,S)}M.style.height&&(M.style.height="auto",M.style.height="".concat(Math.min(M.scrollHeight,200),"px"))})}}}}function Jl(){return{autoResize:r=>{const n=r==null?void 0:r.target;n&&(n.style.height="auto",n.style.height="".concat(Math.min(n.scrollHeight,200),"px"))},autoResizeElement:r=>{r&&(r.style.height="auto",r.style.height="".concat(Math.min(r.scrollHeight,200),"px"))}}}function Nt(){const i=Xl(),t=Zl(),r=Ql(),{autoResize:n,autoResizeElement:w}=Jl(),_=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,i.showEmojiPicker.value=!0,t.showImagePicker.value=!1},c=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,t.showImagePicker.value=!0,i.showEmojiPicker.value=!1},f=()=>{i.isButtonHovered.value=!1,t.isButtonHovered.value=!1,setTimeout(()=>{!i.isEmojiHovered.value&&!t.isImageHovered.value&&!i.isButtonHovered.value&&!t.isButtonHovered.value&&(i.showEmojiPicker.value=!1,t.showImagePicker.value=!1)},300)},E=()=>{i.showEmojiPicker.value=!1,t.showImagePicker.value=!1},M=S=>{!S.target.closest(".emoji-picker")&&!S.target.closest(".image-picker")&&!S.target.closest(".emoji-button-inline")&&E()},o=(S,P,T,p)=>{i.insertEmoji(S,P,T,p)},d=(S,P,T,p)=>{t.insertImage(S,P,T,p)},b=(S,P,T)=>{r.insertLink(S,P,T)},h=(S,P,T,p)=>{r.insertLinkFromModal(S,P,T,p)},j=(S,P,T)=>{r.insertSpoiler(S,P,T)};return dt(()=>{document.addEventListener("click",M)}),At(()=>{document.removeEventListener("click",M)}),{showEmojiPicker:i.showEmojiPicker,handleEmojiMouseEnter:i.handleEmojiMouseEnter,handleEmojiMouseLeave:i.handleEmojiMouseLeave,closeEmojiPicker:i.closeEmojiPicker,showImagePicker:t.showImagePicker,handleImageMouseEnter:t.handleImageMouseEnter,handleImageMouseLeave:t.handleImageMouseLeave,closeImagePicker:t.closeImagePicker,showLinkModal:r.showLinkModal,selectedTextForLink:r.selectedTextForLink,closeLinkModal:r.closeLinkModal,handleButtonMouseEnter:_,handleImageButtonMouseEnter:c,handleButtonMouseLeave:f,closeAllPickers:E,insertEmojiUniversal:o,insertImageUniversal:d,insertLinkUniversal:b,insertLinkFromModalUniversal:h,insertSpoilerUniversal:j,autoResize:n,autoResizeElement:w}}const es=i=>i===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":i>=2&&i<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",ts=i=>{if(!i)return"?";const t=i.split(" ");return t.length===1?i.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},ns={name:"CommentItem",components:{EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{comment:{type:Object,required:!0,default:()=>({username:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(i,{emit:t}){var he,re;const r=Mt(),n=D(()=>{var C;return i.editingCommentId===((C=i.comment)==null?void 0:C.id)}),w=v(((he=i.comment)==null?void 0:he.content)||""),_=v(((re=i.comment)==null?void 0:re.user_rating)||0),c=v(null),f=v(null),{showEmojiPicker:E,showImagePicker:M,showLinkModal:o,selectedTextForLink:d,handleEmojiMouseEnter:b,handleEmojiMouseLeave:h,handleImageMouseEnter:j,handleImageMouseLeave:S,handleButtonMouseEnter:P,handleImageButtonMouseEnter:T,handleButtonMouseLeave:p,closeEmojiPicker:R,closeImagePicker:x,closeLinkModal:W,insertEmojiUniversal:F,insertImageUniversal:$,insertLinkUniversal:I,insertLinkFromModalUniversal:we,insertSpoilerUniversal:pe,autoResize:ye}=Nt(),{formatContentWithTruncation:je}=Mn();dt(async()=>{var C;if((C=i.comment)!=null&&C.user_avatar){const Q=await Sn();c.value="".concat(Q).concat(i.comment.user_avatar)}});const H=D(()=>{var C;return i.currentUser&&((C=i.comment)==null?void 0:C.user_id)===i.currentUser.id}),ee=D(()=>{var C;return i.currentUser&&((C=i.comment)==null?void 0:C.user_id)===i.currentUser.id||i.currentUser&&i.currentUser.is_admin===1}),K=D(()=>{var C,Q,Ve;return((C=i.comment)==null?void 0:C.updated_at)&&((Q=i.comment)==null?void 0:Q.updated_at)!==((Ve=i.comment)==null?void 0:Ve.created_at)}),G=D(()=>{var C,Q;return(C=i.comment)!=null&&C.is_deleted?!1:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3}),oe=D(()=>G.value),ve=v(!1),me=D(()=>{var C,Q;return(C=i.comment)!=null&&C.is_deleted?null:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3?"lowRating":null}),ge=()=>{var C,Q;t("start-edit",(C=i.comment)==null?void 0:C.id),w.value=((Q=i.comment)==null?void 0:Q.content)||"",Se(()=>{f.value&&(f.value.focus(),ye({target:f.value}))})},Me=()=>{var C;t("cancel-edit"),w.value=((C=i.comment)==null?void 0:C.content)||""},ae=()=>{var C;w.value.trim()&&t("edit",(C=i.comment)==null?void 0:C.id,w.value.trim())},ze=()=>{var C;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&t("delete",(C=i.comment)==null?void 0:C.id)},J=C=>{var Q,Ve;_.value===C?(_.value=0,t("rate",(Q=i.comment)==null?void 0:Q.id,C)):(_.value=C,t("rate",(Ve=i.comment)==null?void 0:Ve.id,C))},Le=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),ae())},Ce=D(()=>{var C;return je((C=i.comment)==null?void 0:C.content)}),Ne=()=>{console.log("Avatar load error, falling back to initials"),c.value=null,Se(()=>{const C=document.querySelector(".avatar-placeholder");C&&(C.style.display="flex")})},_e=()=>{r.push("/login")},Be=C=>{F(C,f,w,Q=>{w.value=Q})},at=C=>{$(C,f,w,Q=>{w.value=Q})},tt=()=>{pe(f,w,C=>{w.value=C})},De=()=>{I(f,w,C=>{w.value=C})},$e=C=>{we(C,f,w,Q=>{w.value=Q})},Pe=C=>{ye(C)};return qe(w,()=>{n.value&&f.value&&Se(()=>{Pe({target:f.value})})}),{isEditing:n,editContent:w,userRating:_,isCommentOwner:H,canDeleteComment:ee,isCommentEdited:K,formatDate:Gn,formatRelativeTime:Wn,startEdit:ge,cancelEdit:Me,saveEdit:ae,confirmDelete:ze,rateComment:J,avatarUrl:c,getInitials:ts,handleEditKeydown:Le,isCommentHidden:oe,showHiddenComment:ve,hiddenCommentReason:me,formattedContent:Ce,autoResizeEdit:Pe,editTextarea:f,showEmojiPicker:E,showImagePicker:M,insertEmojiEdit:Be,insertImageEdit:at,insertSpoilerEdit:tt,insertLinkEdit:De,handleEmojiMouseEnter:b,handleEmojiMouseLeave:h,handleImageMouseEnter:j,handleImageMouseLeave:S,closeEmojiPicker:R,closeImagePicker:x,handleButtonMouseEnter:P,handleButtonMouseLeave:p,handleImageButtonMouseEnter:T,handleAvatarError:Ne,openLogin:_e,showLinkModal:o,selectedTextForLink:d,insertLinkFromModal:$e,closeLinkModal:W}}},os=["data-comment-id"],ls={class:"comment-header"},ss={class:"user-info"},is={class:"user-avatar"},as=["src","alt"],rs={class:"user-details"},us={class:"username"},ds={key:0,class:"user-rating"},cs=["title"],vs=["title"],ms={class:"comment-content"},fs={key:0,class:"hidden-comment-warning"},gs={key:1},ks={key:0,class:"deleted-comment"},ys={key:1},ps={key:0,class:"edit-form"},hs={class:"edit-textarea-container"},bs={class:"edit-footer"},ws={class:"edit-actions"},Cs=["disabled"],_s={class:"character-counter-container"},Es={key:1,class:"comment-text-container"},Ms=["innerHTML"],Ls={class:"comment-footer"},Is={class:"comment-actions"},Ts={class:"rating-buttons"},Rs={class:"action-buttons"};function Ss(i,t,r,n,w,_){var o,d,b,h,j,S,P,T,p,R,x,W,F,$,I,we,pe,ye,je;const c=Re("router-link"),f=Re("EmojiPicker"),E=Re("ImagePicker"),M=Re("LinkModal");return a(),u("div",{class:"comment-item","data-comment-id":(o=r.comment)==null?void 0:o.id},[e("div",ls,[e("div",ss,[ue(c,{to:{path:"/lists/".concat((d=r.comment)==null?void 0:d.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:fn(()=>{var H,ee;return[e("div",is,[n.avatarUrl?(a(),u("img",{key:0,src:n.avatarUrl,alt:((H=r.comment)==null?void 0:H.username)||"–ê–Ω–æ–Ω–∏–º",onError:t[0]||(t[0]=(...K)=>n.handleAvatarError&&n.handleAvatarError(...K)),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,as)):(a(),u("div",{key:1,class:"avatar-placeholder",style:rt({display:n.avatarUrl?"none":"flex"})},k(n.getInitials(((ee=r.comment)==null?void 0:ee.username)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",rs,[ue(c,{to:{path:"/lists/".concat((b=r.comment)==null?void 0:b.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:fn(()=>{var H;return[e("span",us,k(((H=r.comment)==null?void 0:H.username)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(h=r.comment)!=null&&h.user_movie_rating?(a(),u("span",ds,[t[18]||(t[18]=e("i",{class:"fas fa-star"},null,-1)),ne(" "+k(r.comment.user_movie_rating),1)])):y("",!0),e("span",{class:"date",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((j=r.comment)==null?void 0:j.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((S=r.comment)==null?void 0:S.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((P=r.comment)==null?void 0:P.created_at))},[ne(k(n.formatRelativeTime((T=r.comment)==null?void 0:T.created_at))+" ",1),n.isCommentEdited?(a(),u("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((p=r.comment)==null?void 0:p.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((R=r.comment)==null?void 0:R.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((x=r.comment)==null?void 0:x.created_at))},null,8,vs)):y("",!0)],8,cs)])])]),e("div",ms,[!((W=r.comment)!=null&&W.is_deleted)&&n.isCommentHidden&&!n.showHiddenComment?(a(),u("div",fs,[n.hiddenCommentReason==="lowRating"?(a(),u("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=H=>n.showHiddenComment=!0)},t[19]||(t[19]=[e("i",{class:"fas fa-eye-slash"},null,-1),ne(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):y("",!0)])):(a(),u("div",gs,[(F=r.comment)!=null&&F.is_deleted?(a(),u("div",ks,t[20]||(t[20]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),ne(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(a(),u("div",ys,[n.isEditing?(a(),u("div",ps,[e("div",hs,[X(e("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=H=>n.editContent=H),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=(...H)=>n.handleEditKeydown&&n.handleEditKeydown(...H)),onInput:t[4]||(t[4]=(...H)=>n.autoResizeEdit&&n.autoResizeEdit(...H))},null,544),[[ut,n.editContent]])]),e("div",bs,[e("div",ws,[e("button",{onClick:t[5]||(t[5]=(...H)=>n.cancelEdit&&n.cancelEdit(...H)),class:"cancel-button"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:t[6]||(t[6]=(...H)=>n.saveEdit&&n.saveEdit(...H)),class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Cs)]),e("div",_s,[e("div",{class:L(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},k(n.editContent.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=(...H)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...H)),onMouseleave:t[8]||(t[8]=(...H)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...H))}," üòä ",34),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[9]||(t[9]=(...H)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...H)),onMouseleave:t[10]||(t[10]=(...H)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...H))},t[21]||(t[21]=[kt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-f1c85dfc><g id="logo" data-v-f1c85dfc><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-f1c85dfc></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-f1c85dfc></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-f1c85dfc></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=(...H)=>n.insertSpoilerEdit&&n.insertSpoilerEdit(...H)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[22]||(t[22]=[e("i",{class:"fas fa-eye-slash"},null,-1)])),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=(...H)=>n.insertLinkEdit&&n.insertLinkEdit(...H)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[23]||(t[23]=[e("i",{class:"fas fa-link"},null,-1)])),ue(f,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ue(E,{"is-visible":n.showImagePicker,"current-user":r.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ue(M,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(a(),u("div",Es,[e("p",{class:"comment-text",innerHTML:n.formattedContent},null,8,Ms)]))]))]))]),e("div",Ls,[e("div",Is,[e("div",Ts,[!n.isCommentOwner&&!(($=r.comment)!=null&&$.is_deleted)?(a(),u("button",{key:0,onClick:t[13]||(t[13]=H=>n.rateComment(1)),class:L(["rating-button",{"rated-up":n.userRating===1}])},t[24]||(t[24]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):y("",!0),e("span",{class:L(["rating-count",{"rating-positive":n.userRating===1,"rating-negative":n.userRating===-1}])},k(((I=r.comment)==null?void 0:I.rating)||0),3),!n.isCommentOwner&&!((we=r.comment)!=null&&we.is_deleted)?(a(),u("button",{key:1,onClick:t[14]||(t[14]=H=>n.rateComment(-1)),class:L(["rating-button",{"rated-down":n.userRating===-1}])},t[25]||(t[25]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):y("",!0)]),e("div",Rs,[!r.currentUser||r.currentUser.allow_comments===1?(a(),u("button",{key:0,onClick:t[15]||(t[15]=H=>i.$emit("reply",r.comment)),class:"action-button reply-button"},t[26]||(t[26]=[e("i",{class:"fas fa-reply"},null,-1)]))):y("",!0),n.isCommentOwner&&!((pe=r.comment)!=null&&pe.is_deleted)&&!n.isEditing&&((ye=r.currentUser)==null?void 0:ye.allow_comments)===1?(a(),u("button",{key:1,onClick:t[16]||(t[16]=(...H)=>n.startEdit&&n.startEdit(...H)),class:"action-button edit-button"},t[27]||(t[27]=[e("i",{class:"fas fa-edit"},null,-1)]))):y("",!0),n.canDeleteComment&&!((je=r.comment)!=null&&je.is_deleted)?(a(),u("button",{key:2,onClick:t[17]||(t[17]=(...H)=>n.confirmDelete&&n.confirmDelete(...H)),class:"action-button delete-button"},t[28]||(t[28]=[e("i",{class:"fas fa-trash"},null,-1)]))):y("",!0)])])])],8,os)}const Ps=Ke(ns,[["render",Ss],["__scopeId","data-v-f1c85dfc"]]),As={name:"CommentThread",components:{CommentItem:Ps,EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(i,{emit:t}){const r=v(null),n=v(!0),{showEmojiPicker:w,showImagePicker:_,showLinkModal:c,selectedTextForLink:f,handleEmojiMouseEnter:E,handleEmojiMouseLeave:M,handleImageMouseEnter:o,handleImageMouseLeave:d,handleButtonMouseEnter:b,handleImageButtonMouseEnter:h,handleButtonMouseLeave:j,closeEmojiPicker:S,closeImagePicker:P,closeLinkModal:T,insertEmojiUniversal:p,insertImageUniversal:R,insertLinkUniversal:x,insertLinkFromModalUniversal:W,insertSpoilerUniversal:F}=Nt(),$=K=>{t("update-reply-content",K.target.value);const G=K.target;G&&(G.style.height="auto",G.style.height="".concat(Math.min(G.scrollHeight,200),"px"))},I={get value(){return i.replyContent},set value(K){t("update-reply-content",K)}};return{replyTextarea:r,showEmojiPicker:w,showImagePicker:_,isCollapsed:n,insertEmoji:K=>{p(K,r,I,G=>{t("update-reply-content",G)})},insertImage:K=>{R(K,r,I,G=>{t("update-reply-content",G)})},insertSpoiler:()=>{F(r,I,K=>{t("update-reply-content",K)})},handleEmojiMouseEnter:E,handleEmojiMouseLeave:M,handleImageMouseEnter:o,handleImageMouseLeave:d,handleButtonMouseEnter:b,handleButtonMouseLeave:j,closeEmojiPicker:S,closeImagePicker:P,handleImageButtonMouseEnter:h,handleReplyInput:$,toggleCollapsed:()=>{n.value=!n.value},showLinkModal:c,selectedTextForLink:f,insertLink:()=>{x(r,I,K=>{t("update-reply-content",K)})},closeLinkModal:T,insertLinkFromModal:K=>{W(K,r,I,G=>{t("update-reply-content",G)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:i}=Mn();return i(this.comment.content)}}},xs={class:"comment-thread"},Us={key:0,class:"reply-form"},js={class:"textarea-container"},Ns=["value","placeholder","disabled"],Bs={class:"reply-footer"},Hs={class:"reply-actions"},Ds=["disabled"],$s={class:"character-counter-container"},Vs=["disabled"],Os={key:1,class:"replies-container"},Fs=["title"],qs={class:"replies-count"},Ks=["title"],zs={key:0,class:"replies-content"};function Ws(i,t,r,n,w,_){const c=Re("CommentItem"),f=Re("EmojiPicker"),E=Re("ImagePicker"),M=Re("LinkModal"),o=Re("CommentThread",!0);return a(),u("div",xs,[ue(c,{comment:r.comment,"current-user":r.currentUser,"editing-comment-id":r.editingCommentId,onReply:t[0]||(t[0]=d=>i.$emit("reply",d)),onStartEdit:t[1]||(t[1]=d=>i.$emit("start-edit",d)),onCancelEdit:t[2]||(t[2]=d=>i.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(d,b)=>i.$emit("edit",d,b)),onDelete:t[4]||(t[4]=d=>i.$emit("delete",d)),onRate:t[5]||(t[5]=(d,b)=>i.$emit("rate",d,b))},null,8,["comment","current-user","editing-comment-id"]),r.replyTo&&r.replyTo.id===r.comment.id?(a(),u("div",Us,[e("div",js,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:r.replyContent,placeholder:_.getReplyPlaceholder,disabled:r.currentUser&&r.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=(...d)=>n.handleReplyInput&&n.handleReplyInput(...d)),onKeydown:t[7]||(t[7]=d=>i.$emit("reply-keydown",d))},null,40,Ns)]),e("div",Bs,[e("div",Hs,[e("button",{class:"cancel-reply",onClick:t[8]||(t[8]=d=>i.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!r.replyContent.trim()||r.replyContent.length>1500||r.currentUser&&r.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=d=>i.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,Ds)]),e("div",$s,[e("div",{class:L(["character-counter-inline",{"near-limit":r.replyContent.length>1400,"at-limit":r.replyContent.length>=1500}])},k(r.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=(...d)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...d)),onMouseleave:t[11]||(t[11]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))}," üòä ",34),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[12]||(t[12]=(...d)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...d)),onMouseleave:t[13]||(t[13]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))},t[29]||(t[29]=[kt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:r.currentUser&&r.currentUser.allow_comments!==1,onClick:t[14]||(t[14]=(...d)=>n.insertSpoiler&&n.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[30]||(t[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,Vs),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=(...d)=>n.insertLink&&n.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[31]||(t[31]=[e("i",{class:"fas fa-link"},null,-1)])),ue(f,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ue(E,{"is-visible":n.showImagePicker,"current-user":r.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>i.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),ue(M,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):y("",!0),r.comment.replies&&r.comment.replies.length>0?(a(),u("div",Os,[e("button",{class:"collapse-toggle",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[17]||(t[17]=(...d)=>n.toggleCollapsed&&n.toggleCollapsed(...d))},[e("span",{class:L(["collapse-icon",{expanded:!n.isCollapsed}])},t[32]||(t[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",qs,k(r.comment.replies.length)+" "+k(r.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,Fs),e("div",{class:"vertical-line-clickable",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[18]||(t[18]=(...d)=>n.toggleCollapsed&&n.toggleCollapsed(...d))},[e("div",{class:L(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,Ks),n.isCollapsed?y("",!0):(a(),u("div",zs,[(a(!0),u(se,null,be(r.comment.replies,d=>(a(),Xe(o,{key:d.id,comment:d,"current-user":r.currentUser,"reply-to":r.replyTo,"reply-content":r.replyContent,"editing-comment-id":r.editingCommentId,onReply:t[19]||(t[19]=b=>i.$emit("reply",b)),onStartEdit:t[20]||(t[20]=b=>i.$emit("start-edit",b)),onCancelEdit:t[21]||(t[21]=b=>i.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(b,h)=>i.$emit("edit",b,h)),onDelete:t[23]||(t[23]=b=>i.$emit("delete",b)),onRate:t[24]||(t[24]=(b,h)=>i.$emit("rate",b,h)),onSubmitReply:t[25]||(t[25]=b=>i.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=b=>i.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=b=>i.$emit("update-reply-content",b)),onReplyKeydown:t[28]||(t[28]=b=>i.$emit("reply-keydown",b))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):y("",!0)])}const Gs=Ke(As,[["render",Ws],["__scopeId","data-v-6c0fc347"]]),Ys={name:"Comments",components:{CommentThread:Gs,Notification:Rt,EmojiPicker:xt,ImagePicker:Ut,LinkModal:jt},props:{movieId:{type:[String,Number],required:!0}},setup(i){const t=Pt(),r=Mt(),n=Et(),w=v([]),_=v(""),c=v(null),f=v(""),E=v(null),M=v(t.user),o=v(null),d=v(null),b=v(n.isAutoShowComments),h=v(!1),j=v(3),S=v(3),{showEmojiPicker:P,showImagePicker:T,showLinkModal:p,selectedTextForLink:R,handleEmojiMouseEnter:x,handleEmojiMouseLeave:W,handleImageMouseEnter:F,handleImageMouseLeave:$,handleButtonMouseEnter:I,handleImageButtonMouseEnter:we,handleButtonMouseLeave:pe,closeEmojiPicker:ye,closeImagePicker:je,closeLinkModal:H,insertEmojiUniversal:ee,insertImageUniversal:K,insertLinkUniversal:G,insertLinkFromModalUniversal:oe,insertSpoilerUniversal:ve,autoResize:me}=Nt(),ge=D(()=>{const N=(q=null)=>w.value.filter(z=>z.parent_id===q).sort((z,de)=>z.id-de.id).map(z=>({...z,replies:N(z.id)})).filter(z=>!z.is_deleted||z.replies&&z.replies.length>0);return N()}),Me=D(()=>{const N=q=>q.reduce((z,de)=>z+1+N(de.replies||[]),0);return N(ge.value)}),ae=D(()=>ge.value.slice(0,S.value)),ze=D(()=>ge.value.length>S.value),J=D(()=>ge.value.length-S.value),Le=()=>{S.value+=j.value},Ce=async()=>{try{const N=await Pn(i.movieId);w.value=N}catch(N){console.error("Failed to load comments:",N),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},Ne=async()=>{if(h.value)return;if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!_.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(_.value.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(i.movieId,_.value.trim()),_.value="",await Ce(),b.value=!0,Se(()=>{d.value&&(d.value.focus(),d.value.style.height="auto"),setTimeout(()=>{const q=document.querySelectorAll(".comment-item[data-comment-id]");if(q.length>0){const z=Array.from(q).map(de=>parseInt(de.getAttribute("data-comment-id"))).filter(de=>!isNaN(de));if(z.length>0){const de=Math.max(...z),Oe=document.querySelector('[data-comment-id="'.concat(de,'"]'));Oe&&Oe.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(q){console.error("Failed to create comment:",q),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},_e=N=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}E.value=null,c.value=N,f.value="",Se(()=>{const q=document.querySelector(".reply-form");q&&q.scrollIntoView({behavior:"smooth",block:"center"})})},Be=async()=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!f.value.trim()||!c.value)){if(f.value.length>1500){o.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(i.movieId,f.value.trim(),c.value.id);const N=c.value.id;await Ce(),f.value="",c.value=null,Se(()=>{setTimeout(()=>{const q=document.querySelector('[data-comment-id="'.concat(N,'"]'));if(q){const z=q.querySelector(".replies-content");if(z){const de=z.querySelectorAll(".comment-item[data-comment-id]");if(de.length>0){const Oe=Array.from(de).map(He=>parseInt(He.getAttribute("data-comment-id"))).filter(He=>!isNaN(He));if(Oe.length>0){const He=Math.max(...Oe),m=document.querySelector('[data-comment-id="'.concat(He,'"]'));m&&m.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(N){console.error("Error submitting reply:",N),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},at=async(N,q)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}if(M.value&&M.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(q.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await Un(N,q.trim()),await Ce(),E.value=null}catch(z){console.error("Failed to update comment:",z),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},tt=async N=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}try{await xn(N),await Ce()}catch(q){console.error("Failed to delete comment:",q),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},De=async(N,q)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:he});return}try{await An(N,q),await Ce()}catch(z){console.error("Failed to rate comment:",z),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},$e=N=>{h.value||P.value||N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Ne())},Pe=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Be())},he=()=>{r.push("/login")},re=N=>{h.value=!0,ee(N,d,_,q=>{_.value=q}),setTimeout(()=>{h.value=!1},100)},C=N=>{K(N,d,_,q=>{_.value=q})},Q=()=>{ve(d,_,N=>{_.value=N})},Ve=()=>{G(d,_,N=>{_.value=N})},We=N=>{oe(N,d,_,q=>{_.value=q})},Ze=D(()=>M.value?M.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Qe=D(()=>M.value?M.value.allow_comments===1:!0),nt=N=>{c.value=null,f.value="",E.value=N},yt=()=>{E.value=null};return dt(()=>{Ce()}),{comments:w,groupedComments:ge,displayedComments:ae,hasMoreComments:ze,remainingCommentsCount:J,showMoreComments:Le,newComment:_,replyTo:c,replyContent:f,editingCommentId:E,currentUser:M,notificationRef:o,commentTextarea:d,showComments:b,submitComment:Ne,handleReply:_e,submitReply:Be,handleEdit:at,handleDelete:tt,handleRate:De,handleCommentKeydown:$e,handleReplyKeydown:Pe,autoResize:me,totalCommentsCount:Me,getCommentWordForm:es,showEmojiPicker:P,showImagePicker:T,showLinkModal:p,selectedTextForLink:R,insertEmoji:re,insertImage:C,handleEmojiMouseEnter:x,handleEmojiMouseLeave:W,handleImageMouseEnter:F,handleImageMouseLeave:$,closeEmojiPicker:ye,closeImagePicker:je,handleButtonMouseLeave:pe,handleButtonMouseEnter:I,handleImageButtonMouseEnter:we,getCommentPlaceholder:Ze,canComment:Qe,handleStartEdit:nt,handleCancelEdit:yt,insertSpoiler:Q,insertLink:Ve,insertLinkFromModal:We,closeLinkModal:H}}},Xs={class:"comments-section"},Zs={class:"spoiler-content"},Qs={key:1,class:"comments-container"},Js={class:"comments-header"},ei={class:"textarea-container"},ti=["placeholder","disabled"],ni={class:"comment-footer"},oi={class:"comment-actions"},li=["disabled"],si={class:"character-counter-container"},ii=["disabled"],ai=["disabled"],ri=["disabled"],ui={class:"comments-list"},di={key:0,class:"show-more-comments"};function ci(i,t,r,n,w,_){const c=Re("EmojiPicker"),f=Re("ImagePicker"),E=Re("LinkModal"),M=Re("CommentThread"),o=Re("Notification");return a(),u("div",Xs,[n.showComments?(a(),u("div",Qs,[e("div",Js,[e("button",{class:"hide-comments-btn",onClick:t[1]||(t[1]=d=>n.showComments=!1)},t[18]||(t[18]=[e("i",{class:"fas fa-eye-slash"},null,-1),ne(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:t[11]||(t[11]=et((...d)=>n.submitComment&&n.submitComment(...d),["prevent"]))},[e("div",ei,[X(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[2]||(t[2]=d=>n.newComment=d),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&n.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[3]||(t[3]=(...d)=>n.autoResize&&n.autoResize(...d)),onKeydown:t[4]||(t[4]=(...d)=>n.handleCommentKeydown&&n.handleCommentKeydown(...d))},null,40,ti),[[ut,n.newComment]])]),e("div",ni,[e("div",oi,[e("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&n.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,li)]),e("div",si,[e("div",{class:L(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},k(n.newComment.length)+"/1500 ",3),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[5]||(t[5]=(...d)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...d)),onMouseleave:t[6]||(t[6]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))}," üòä ",42,ii),e("button",{type:"button",class:L(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[7]||(t[7]=(...d)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...d)),onMouseleave:t[8]||(t[8]=(...d)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...d))},t[19]||(t[19]=[kt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-79080d6f><g id="logo" data-v-79080d6f><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-79080d6f></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-79080d6f></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-79080d6f></path></g></svg>',1)]),42,ai),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&n.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=(...d)=>n.insertSpoiler&&n.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[20]||(t[20]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,ri),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[10]||(t[10]=(...d)=>n.insertLink&&n.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[21]||(t[21]=[e("i",{class:"fas fa-link"},null,-1)])),ue(c,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ue(f,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:i.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ue(E,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",ui,[(a(!0),u(se,null,be(n.displayedComments,d=>(a(),Xe(M,{key:d.id,comment:d,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:t[12]||(t[12]=b=>n.replyTo=null),onUpdateReplyContent:t[13]||(t[13]=b=>n.replyContent=b),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),n.hasMoreComments?(a(),u("div",di,[e("button",{class:"show-more-btn",onClick:t[14]||(t[14]=(...d)=>n.showMoreComments&&n.showMoreComments(...d))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+k(n.remainingCommentsCount)+" "+k(n.getCommentWordForm(n.remainingCommentsCount)),1)])):y("",!0)])])):(a(),u("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=d=>n.showComments=!0)},[e("div",Zs,[t[15]||(t[15]=e("i",{class:"fas fa-eye-slash"},null,-1)),t[16]||(t[16]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),t[17]||(t[17]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:L(["comments-count",{"no-comments":n.totalCommentsCount===0}])},[n.totalCommentsCount===0?(a(),u(se,{key:0},[ne(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(a(),u(se,{key:1},[ne(k(n.totalCommentsCount)+" "+k(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),ue(o,{ref:"notificationRef"},null,512)])}const vi=Ke(Ys,[["render",ci],["__scopeId","data-v-79080d6f"]]),mi={class:"movie-info"},fi={class:"content"},gi={key:0,class:"content-card"},ki={class:"movie-skeleton"},yi={class:"movie-skeleton__player"},pi={key:2,class:"content-card"},hi={key:3,class:"content-card"},bi={class:"content-header"},wi=["src"],Ci={class:"content-title"},_i={key:0,class:"ratings-links"},Ei={key:1},Mi=["href","title"],Li={key:2},Ii=["href","title"],Ti={key:3},Ri=["href","title"],Si={key:4},Pi=["href","title"],Ai={key:5},xi=["href"],Ui=["href"],ji=["title"],Ni={key:0,class:"fa-regular fa-face-grin-wink"},Bi={key:1,class:"fas fa-spinner fa-spin"},Hi=["title"],Di={key:1,class:"mobile-list-dropdown"},$i={class:"mobile-list-content"},Vi=["content"],Oi=["content"],Fi={class:"additional-info"},qi={class:"info-content"},Ki={key:0,class:"movie-poster-container desktop-only"},zi=["href"],Wi=["src"],Gi={class:"details-container"},Yi={class:"info-list"},Xi={key:0},Zi={key:1},Qi={key:2},Ji={key:3},ea={key:4},ta={key:5},na={key:6},oa={key:7},la={key:8},sa={key:9,class:"rating-boxes"},ia={key:0,class:"rating-box mpaa"},aa={key:1,class:"rating-box age"},ra={class:"content-info"},ua={key:0,class:"content-description-text"},da={key:3,class:"comments-section"},ca={key:4,class:"staff-section"},va={class:"staff-categories"},ma={key:0,class:"staff-category"},fa={class:"staff-list"},ga=["href","title"],ka=["src","alt"],ya={class:"staff-name"},pa={key:0,class:"staff-role"},ha=["href","title"],ba={key:1,class:"staff-category"},wa={class:"staff-names-container"},Ca={class:"staff-names-list"},_a=["href"],Ea=["href","title"],Ma={key:2,class:"staff-category"},La={class:"staff-names-container"},Ia={class:"staff-names-list"},Ta=["href"],Ra=["href","title"],Sa={key:5,class:"yt-video-container"},Pa={key:6,class:"related-movies"},Aa=["title"],xa={key:7,class:"related-movies"},Ua=["title"],ja={class:"nudity-info-content"},Na={class:"nudity-info-content"},Ba={key:0,class:"acknowledgment-table"},Ha={class:"timings-text"},Da={key:0,class:"timing-entries"},$a={class:"timing-content"},Va={class:"timing-text"},Oa={class:"timing-author"},Fa={key:1},qa={class:"nudity-info-actions"},Ka={key:2,class:"timing-modal"},za={class:"timing-modal-content"},Wa={class:"timing-modal-header"},Ga={class:"timing-submission-form"},Ya={class:"timing-form-actions"},Xa=["disabled"],Za={key:0,class:"fas fa-spinner fa-spin"},Qa={key:1},Ja={class:"modal-header"},er={class:"modal-body"},tr={class:"top-submitters-list"},nr={class:"submitter-info"},or={class:"submitter-name"},lr={class:"submitter-count"},sr={class:"submitter-contribution"},ir={__name:"MovieInfo",setup(i){const t=v(!0),r=Et(),n=Pt(),w=jn(),_=wn(),c=Mt(),f=v(_.params.kp_id),E=v(""),M=v(null),o=v(null),d=Nn(),b=zn(),h=v(null),j=b.areTrailersActive,S=v(null),P=v(!1),T=v(!1),p=v(10),R=v(null),x=v(!1),W=v({}),F=v(null),$=v(!1),I=v(void 0),we=v({}),pe=v(null),ye=D(()=>{var m;return((m=o.value)==null?void 0:m.nudity_timings.length)>0}),je=D(()=>{var m,l,V,le,Ae,xe,Ee,Ie,Ue,fe;return((l=(m=o.value)==null?void 0:m.lists)==null?void 0:l.isFavorite)||((le=(V=o.value)==null?void 0:V.lists)==null?void 0:le.isWatching)||((xe=(Ae=o.value)==null?void 0:Ae.lists)==null?void 0:xe.isLater)||((Ie=(Ee=o.value)==null?void 0:Ee.lists)==null?void 0:Ie.isCompleted)||((fe=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:fe.isAbandoned)}),H=D(()=>r.isCommentsEnabled),ee=()=>{if(o.value){const m=o.value.name_ru||o.value.name_en||o.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=m}},K=m=>m?m.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",G=m=>(m||[]).map(l=>({kp_id:l.film_id,poster:l.poster_url_preview||l.poster_url,title:l.name_ru||l.name_en||l.name_original})),oe=m=>{if(typeof m!="number")return;const l=Math.floor(m/60),V=m%60;return"".concat(l," —á. ").concat(V," –º–∏–Ω.")},ve=v(!1),me=v({top:"0px",left:"0px"}),ge=m=>{ve.value=!0,me.value={top:"".concat(m.pageY+10,"px"),left:"".concat(m.pageX-70,"px")}},Me=async()=>{try{const m=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[oe(o.value.film_length)]:[]];await navigator.clipboard.writeText(m.join(", ")),h.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m)}},ae=async(m=!0)=>{var l,V,le,Ae,xe,Ee,Ie,Ue;try{let fe;if(f.value.startsWith("shiki")?fe=await Hn(f.value):fe=await Dn(f.value,n.token),Array.isArray(fe)&&fe.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");o.value=fe,f.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:f.value},d.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),ee();const ke={kp_id:f.value,title:((l=o.value)==null?void 0:l.name_ru)||((V=o.value)==null?void 0:V.name_en)||((le=o.value)==null?void 0:le.name_original),poster:((Ae=o.value)==null?void 0:Ae.poster_url)||((xe=o.value)==null?void 0:xe.cover_url)||((Ee=o.value)==null?void 0:Ee.screenshots[0]),year:(Ie=o.value)==null?void 0:Ie.year,type:(Ue=o.value)==null?void 0:Ue.type};if(f.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const Fe=Math.floor(Math.random()*o.value.screenshots.length),Je=o.value.screenshots[Fe];w.updateMoviePoster(Je)}else ke.poster&&w.updateMoviePoster(ke.poster);else ke.poster&&w.updateMoviePoster(ke.poster);if(D(()=>r.isHistoryAllowed).value&&ke.kp_id&&ke.title&&m)if(n.token)try{await St(ke.kp_id,O.HISTORY)}catch(Fe){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",Fe)}else r.addToHistory({...ke})}catch(fe){const{message:ke,code:Ge}=gt(fe);E.value=ke,M.value=Ge,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",fe)}},ze=D(()=>{var m,l;return console.log("–¢—Ä–µ–π–ª–µ—Ä—ã:",(m=o.value)==null?void 0:m.videos),(l=o.value)==null?void 0:l.videos}),J=D(()=>{var m;return G((m=o.value)==null?void 0:m.sequels_and_prequels)}),Le=D(()=>{var m;return G((m=o.value)==null?void 0:m.similars)}),Ce=()=>{var le;const m=((le=document.querySelector(".related-movies"))==null?void 0:le.clientWidth)||0,V=Math.floor(m/160)||10;p.value=Math.max(1,V)},Ne=()=>{Ce()},_e=m=>{if(m.altKey&&m.keyCode===84&&document.querySelector(".player-container")){const V=document.querySelector(".theater-mode-btn");V&&V.click()}},Be=async m=>{if(R.value){R.value=null;return}I.value=void 0,F.value=m.currentTarget;const l=F.value.getBoundingClientRect();W.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},x.value=!0;try{const V=await $n(o.value.imdb_id);R.value=V.nudity_info}catch(V){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",V),h.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö")}finally{x.value=!1}},at=m=>{var V,le;if(R.value=null,I.value!==void 0){I.value=void 0;return}pe.value=m.currentTarget;const l=pe.value.getBoundingClientRect();we.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},I.value=((V=o.value)==null?void 0:V.nudity_timings)===null?"":((le=o.value)==null?void 0:le.nudity_timings)||""},tt=m=>{var V,le,Ae,xe,Ee,Ie,Ue,fe,ke,Ge,Fe,Je,Ye;return(Ye={[O.FAVORITE]:((le=(V=o.value)==null?void 0:V.lists)==null?void 0:le.isFavorite)||!1,[O.HISTORY]:((xe=(Ae=o.value)==null?void 0:Ae.lists)==null?void 0:xe.isHistory)||!1,[O.LATER]:((Ie=(Ee=o.value)==null?void 0:Ee.lists)==null?void 0:Ie.isLater)||!1,[O.COMPLETED]:((fe=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:fe.isCompleted)||!1,[O.ABANDONED]:((Ge=(ke=o.value)==null?void 0:ke.lists)==null?void 0:Ge.isAbandoned)||!1,[O.WATCHING]:((Je=(Fe=o.value)==null?void 0:Fe.lists)==null?void 0:Je.isWatching)||!1}[m])!=null?Ye:!1},De=async m=>{if(!n.token){h.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>c.push("/login")});return}try{const l={[O.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[O.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[O.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[O.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[O.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[O.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};tt(m)?(await _n(f.value,m),h.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(l[m]))):(await St(f.value,m),h.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(l[m]))),await ae(!1),$.value=!1}catch(l){const{message:V,code:le}=gt(l);h.value.showNotification("".concat(V," ").concat(le))}},$e=m=>{const l=document.querySelector(".mobile-list-dropdown");l&&!l.contains(m.target)&&($.value=!1)},Pe=m=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(m.target)&&F.value&&!F.value.contains(m.target)&&(R.value=null)},he=m=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(m.target)&&pe.value&&!pe.value.contains(m.target)&&(I.value=void 0)};dt(async()=>{await ae(),t.value=!1,document.addEventListener("keydown",_e),window.addEventListener("resize",Ne),setTimeout(Ce,100),document.addEventListener("click",$e),document.addEventListener("click",Pe,!0),document.addEventListener("click",he,!0)}),Bn(async()=>{d.clearHeaderContent(),document.removeEventListener("keydown",_e),window.removeEventListener("resize",Ne),document.removeEventListener("click",$e),document.removeEventListener("click",Pe,!0),document.removeEventListener("click",he,!0)}),qe(()=>_.params.kp_id,async m=>{m&&m!==f.value&&(d.clearHeaderContent(),f.value=m,S.value=null,await ae(),t.value=!1)},{immediate:!0}),qe(o,()=>{ee()},{deep:!0}),qe(R,m=>{m?document.addEventListener("click",Pe,!0):document.removeEventListener("click",Pe,!0)},{deep:!0}),qe(I,m=>{m?document.addEventListener("click",he,!0):document.removeEventListener("click",he,!0)},{deep:!0});const re=m=>{var l,V;return((V=(l=o.value)==null?void 0:l.staff)==null?void 0:V.filter(le=>le.profession_key===m))||[]},C=async()=>{try{await navigator.clipboard.writeText(R.value),h.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m),h.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{R.value=null}},Q=async()=>{if(I.value)try{const m=I.value.map(l=>"".concat(l.timing_text," (by @").concat(l.username,")")).join("\n");await navigator.clipboard.writeText(m),h.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(m){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",m),h.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{I.value=void 0}},Ve=()=>{const m=encodeURIComponent(R.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(m),"_blank"),R.value=null},We=D({get:()=>r.submitterUsername,set:m=>r.setSubmitterUsername(m)}),Ze=v(""),Qe=v(!1),nt=D(()=>We.value.trim()&&Ze.value.trim()),yt=async()=>{if(!(!nt.value||Qe.value))try{Qe.value=!0,await On(f.value,We.value.trim(),Ze.value),h.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é, —Å–ø–∞—Å–∏–±–æ!"),Ze.value="",We.value="",q.value=!1}catch(m){const{message:l}=gt(m);h.value.showNotification(l,5e3)}finally{Qe.value=!1}},N=async()=>{try{const{submissions:m}=await Vn();z.value=m,de.value=!0}catch(m){const{message:l}=gt(m);h.value.showNotification(l)}},q=v(!1),z=v([]),de=v(!1),Oe=(m,l)=>{const V=[2,0,1,1,1,2];return l[m%100>4&&m%100<20?2:V[Math.min(m%10,5)]]},He=m=>{if(!z.value.length)return 0;const l=Math.max(...z.value.map(V=>V.approved_submissions_count));return m/l*100};return(m,l)=>{var V,le,Ae,xe,Ee,Ie,Ue,fe,ke,Ge,Fe,Je,Ye,Lt,It,Te,Tt,ct;return a(),u(se,null,[e("div",mi,[e("div",fi,[(t.value||!o.value)&&!E.value?(a(),u("div",gi,[e("div",ki,[l[19]||(l[19]=kt('<div class="movie-skeleton__header" data-v-5f324c5e><div class="movie-skeleton__title" data-v-5f324c5e></div></div><div class="movie-skeleton__ratings" data-v-5f324c5e><div class="movie-skeleton__rating-item" data-v-5f324c5e></div><div class="movie-skeleton__rating-item" data-v-5f324c5e></div><div class="movie-skeleton__rating-item" data-v-5f324c5e></div></div>',2)),e("div",yi,[ue(En)]),l[20]||(l[20]=kt('<div class="movie-skeleton__additional-info" data-v-5f324c5e><div class="movie-skeleton__section-title" data-v-5f324c5e></div><div class="movie-skeleton__info-list" data-v-5f324c5e><div class="movie-skeleton__info-item" data-v-5f324c5e></div><div class="movie-skeleton__info-item" data-v-5f324c5e></div><div class="movie-skeleton__info-item" data-v-5f324c5e></div><div class="movie-skeleton__info-item" data-v-5f324c5e></div><div class="movie-skeleton__info-item" data-v-5f324c5e></div></div></div><div class="movie-skeleton__description" data-v-5f324c5e><div class="movie-skeleton__description-line" data-v-5f324c5e></div><div class="movie-skeleton__description-line" data-v-5f324c5e></div><div class="movie-skeleton__description-line" data-v-5f324c5e></div><div class="movie-skeleton__description-line" data-v-5f324c5e></div></div>',2))])])):y("",!0),E.value?(a(),Xe(Cn,{key:1,message:E.value,code:M.value},null,8,["message","code"])):y("",!0),E.value?(a(),u("div",pi,[(a(),Xe(bn,{key:f.value,"kp-id":f.value,"movie-info":o.value,"onUpdate:movieInfo":ae},null,8,["kp-id","movie-info"]))])):y("",!0),o.value&&!t.value?(a(),u("div",hi,[e("div",bi,[o.value.logo_url?(a(),u("div",{key:0,class:"content-logo",onMousemove:ge,onMouseleave:l[0]||(l[0]=A=>ve.value=!1),onClick:Me},[e("img",{src:o.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,wi)],32)):(a(),u("div",{key:1,onMousemove:ge,onMouseleave:l[1]||(l[1]=A=>ve.value=!1),onClick:Me},[e("h1",Ci,k(o.value.title),1)],32)),X(e("div",{class:"title-copy-tooltip",style:rt(me.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[ie,ve.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(a(),u("div",_i,[o.value.kinopoisk_id?(a(),Xe(bl,{key:o.value.kinopoisk_id,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):y("",!0),o.value.kinopoisk_id?(a(),u("div",Ei,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(K(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[21]||(l[21]=e("img",{src:yn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[22]||(l[22]=e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Mi)])):y("",!0),!o.value.kinopoisk_id&&o.value.title?(a(),u("div",Li,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(K(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[23]||(l[23]=e("img",{src:yn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[24]||(l[24]=e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ii)])):y("",!0),o.value.imdb_id?(a(),u("div",Ti,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(K(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[25]||(l[25]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[26]||(l[26]=e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ri)])):y("",!0),!o.value.imdb_id&&o.value.title?(a(),u("div",Si,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(K(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[27]||(l[27]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:L(["rating-value",Z(_t)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[28]||(l[28]=e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Pi)])):y("",!0),o.value.shikimori_id?(a(),u("div",Ai,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},l[29]||(l[29]=[e("img",{src:Yn,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,xi)])):y("",!0),o.value.imdb_id?(a(),u(se,{key:6},[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},l[30]||(l[30]=[e("span",{class:"desktop-text"},"Parents Guide",-1),e("span",{class:"mobile-text"},"PG",-1),e("img",{src:mt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,Ui),e("button",{class:"nudity-info-btn",onClick:l[2]||(l[2]=A=>Be(A)),title:R.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö(Sex & Nudity)"},[x.value?(a(),u("i",Bi)):(a(),u("i",Ni))],8,ji)],64)):y("",!0),e("button",{class:"nudity-info-btn",onClick:l[3]||(l[3]=A=>at(A)),title:I.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω(–¥–ª—è —Ç–≤–∏—á–∞)"},[e("i",{class:L(["fa-regular fa-clock",{"text-red":ye.value}])},null,2)],8,Hi)])):y("",!0),(a(),Xe(bn,{key:f.value,"kp-id":f.value,"movie-info":o.value,"onUpdate:movieInfo":ae},null,8,["kp-id","movie-info"])),Z(r).isMobile?(a(),u("div",Di,[e("button",{class:L(["mobile-list-toggle",{}]),onClick:l[4]||(l[4]=A=>$.value=!$.value)},[e("span",{class:L(["material-icons",{active:je.value}])},k(je.value?"bookmark_added":"bookmark_border"),3),l[31]||(l[31]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:L(["material-icons dropdown-arrow",{expanded:$.value}])},"expand_more",2)]),X(e("div",$i,[e("button",{class:L(["mobile-list-btn",{}]),onClick:l[5]||(l[5]=A=>De(Z(O).FAVORITE))},[e("span",{class:L(["material-icons",{active:(le=(V=o.value)==null?void 0:V.lists)==null?void 0:le.isFavorite}])},k((xe=(Ae=o.value)==null?void 0:Ae.lists)!=null&&xe.isFavorite?"favorite":"favorite_border"),3),l[32]||(l[32]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[6]||(l[6]=A=>De(Z(O).WATCHING))},[e("span",{class:L(["material-icons",{active:(Ie=(Ee=o.value)==null?void 0:Ee.lists)==null?void 0:Ie.isWatching}])},k((fe=(Ue=o.value)==null?void 0:Ue.lists)!=null&&fe.isWatching?"visibility":"visibility_off"),3),l[33]||(l[33]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[7]||(l[7]=A=>De(Z(O).LATER))},[e("span",{class:L(["material-icons",{active:(Ge=(ke=o.value)==null?void 0:ke.lists)==null?void 0:Ge.isLater}])},"watch_later",2),l[34]||(l[34]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[8]||(l[8]=A=>De(Z(O).COMPLETED))},[e("span",{class:L(["material-icons",{active:(Je=(Fe=o.value)==null?void 0:Fe.lists)==null?void 0:Je.isCompleted}])},k((Lt=(Ye=o.value)==null?void 0:Ye.lists)!=null&&Lt.isCompleted?"check_circle":"check_circle_outline"),3),l[35]||(l[35]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:L(["mobile-list-btn",{}]),onClick:l[9]||(l[9]=A=>De(Z(O).ABANDONED))},[e("span",{class:L(["material-icons",{active:(Te=(It=o.value)==null?void 0:It.lists)==null?void 0:Te.isAbandoned}])},"not_interested",2),l[36]||(l[36]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[ie,$.value]])])):y("",!0),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,Vi),o.value.name_original?(a(),u("meta",{key:2,name:"original-title",content:o.value.name_original},null,8,Oi)):y("",!0),e("div",Fi,[l[47]||(l[47]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",qi,[o.value.poster_url?(a(),u("div",Ki,[e("a",{href:o.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:o.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,Wi)],8,zi)])):y("",!0),e("div",Gi,[e("ul",Yi,[o.value.type&&Z(kn)[o.value.type]?(a(),u("li",Xi,[l[37]||(l[37]=e("strong",null,"–¢–∏–ø:",-1)),ne(" "+k(Z(kn)[o.value.type]),1)])):y("",!0),o.value.year?(a(),u("li",Zi,[l[38]||(l[38]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),ne(" "+k(o.value.year),1)])):y("",!0),o.value.title?(a(),u("li",Qi,[l[39]||(l[39]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),ne(" "+k(o.value.title),1)])):y("",!0),o.value.name_original?(a(),u("li",Ji,[l[40]||(l[40]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),ne(" "+k(o.value.name_original),1)])):y("",!0),o.value.slogan?(a(),u("li",ea,[l[41]||(l[41]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),ne(" "+k(o.value.slogan),1)])):y("",!0),o.value.production_companies?(a(),u("li",ta,[l[42]||(l[42]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),ne(" "+k(o.value.production_companies),1)])):y("",!0),(Tt=o.value.countries)!=null&&Tt.length?(a(),u("li",na,[l[43]||(l[43]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),ne(" "+k(o.value.countries.map(A=>A.country).join(", ")),1)])):y("",!0),(ct=o.value.genres)!=null&&ct.length?(a(),u("li",oa,[l[44]||(l[44]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),ne(" "+k(o.value.genres.map(A=>A.genre).join(", ")),1)])):y("",!0),o.value.film_length?(a(),u("li",la,[l[45]||(l[45]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),ne(" "+k(oe(o.value.film_length)),1)])):y("",!0),o.value.rating_mpaa||o.value.rating_age_limits?(a(),u("li",sa,[o.value.rating_mpaa?(a(),u("div",ia,[l[46]||(l[46]=e("strong",null,"MPAA",-1)),e("span",null,k(o.value.rating_mpaa.toUpperCase()),1)])):y("",!0),o.value.rating_age_limits?(a(),u("div",aa,[e("strong",null,k(o.value.rating_age_limits.replace("age",""))+"+",1)])):y("",!0)])):y("",!0)]),e("div",ra,[o.value.description?(a(),u("p",ua,k(o.value.description),1)):y("",!0)])])])]),H.value?(a(),u("div",da,[(a(),Xe(vi,{"movie-id":f.value,key:f.value},null,8,["movie-id"]))])):y("",!0),o.value.staff?(a(),u("div",ca,[e("div",va,[re("ACTOR").length?(a(),u("div",ma,[l[48]||(l[48]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",fa,[(a(!0),u(se,null,be(re("ACTOR").slice(0,12),A=>(a(),u("div",{key:A.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(A.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:A.description||""},[e("img",{src:A.poster_url,alt:A.name_ru,class:"staff-photo"},null,8,ka),e("span",ya,k(A.name_ru||A.name_en),1),A.description?(a(),u("span",pa,k(A.description),1)):y("",!0)],8,ga)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(f.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(re("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+k(re("ACTOR").length-12),9,ha)])])):y("",!0),re("DIRECTOR").length?(a(),u("div",ba,[l[49]||(l[49]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",wa,[e("div",Ca,[(a(!0),u(se,null,be(re("DIRECTOR").slice(0,5),A=>(a(),u("a",{key:A.staff_id,href:"https://www.kinopoisk.ru/name/".concat(A.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(A.name_ru||A.name_en),9,_a))),128)),re("DIRECTOR").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(f.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(re("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+k(re("DIRECTOR").length-5),9,Ea)):y("",!0)])])])):y("",!0),re("PRODUCER").length?(a(),u("div",Ma,[l[50]||(l[50]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",La,[e("div",Ia,[(a(!0),u(se,null,be(re("PRODUCER").slice(0,5),A=>(a(),u("a",{key:A.staff_id,href:"https://www.kinopoisk.ru/name/".concat(A.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(A.name_ru||A.name_en),9,Ta))),128)),re("PRODUCER").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(f.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(re("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+k(re("PRODUCER").length-5),9,Ra)):y("",!0)])])])):y("",!0)])])):y("",!0),ze.value.length&&Z(j)?(a(),u("div",Sa,[ue(dl,{videos:ze.value,"active-video-index":S.value,onSelect:m.playTrailer},null,8,["videos","active-video-index","onSelect"])])):y("",!0),J.value.length?(a(),u("div",Pa,[l[51]||(l[51]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),ue(Z(hn),{"movies-list":P.value?J.value:J.value.slice(0,p.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),J.value.length>p.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[10]||(l[10]=A=>P.value=!P.value),title:"".concat(P.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(J.value.length,")")},k(P.value?"‚àí":"+".concat(J.value.length-p.value)),9,Aa)):y("",!0)])):y("",!0),Le.value.length?(a(),u("div",xa,[l[52]||(l[52]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),ue(Z(hn),{"movies-list":T.value?Le.value:Le.value.slice(0,p.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),Le.value.length>p.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[11]||(l[11]=A=>T.value=!T.value),title:"".concat(T.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(Le.value.length,")")},k(T.value?"‚àí":"+".concat(Le.value.length-p.value)),9,Ua)):y("",!0)])):y("",!0)])):y("",!0)])]),ue(Rt,{ref_key:"notificationRef",ref:h},null,512),R.value?(a(),u("div",{key:0,style:rt(W.value),class:"nudity-info-popup"},[e("div",ja,k(R.value),1),e("div",{class:"nudity-info-actions"},[e("button",{class:"nudity-info-button",onClick:C},l[53]||(l[53]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])),e("button",{class:"nudity-info-button",onClick:Ve},l[54]||(l[54]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)]))])],4)):y("",!0),I.value!==void 0?(a(),u("div",{key:1,style:rt(we.value),class:"nudity-info-popup"},[e("div",Na,[I.value?(a(),u("div",Ba,l[55]||(l[55]=[kt('<div class="acknowledgment-header" data-v-5f324c5e><i class="fa-solid fa-heart" data-v-5f324c5e></i><span data-v-5f324c5e>–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏</span></div><div class="acknowledgment-content" data-v-5f324c5e><a href="https://www.twitch.tv/tanyabelkova" target="_blank" rel="noopener noreferrer" class="twitch-link" data-v-5f324c5e><i class="fa-brands fa-twitch" data-v-5f324c5e></i><span data-v-5f324c5e>TanyaBelkova</span></a><div class="acknowledgment-text" data-v-5f324c5e>–ó–∞ –æ—Å–Ω–æ–≤—É –±–∞–∑—ã —Ç–∞–π–º–∏–Ω–≥–æ–≤</div></div>',2)]))):y("",!0),e("div",{class:"acknowledgment-table clickable-acknowledgment",onClick:N},l[56]||(l[56]=[e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤—É")],-1),e("div",{class:"acknowledgment-content"},[e("div",{class:"acknowledgment-text"},"–ó–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)])),e("div",{class:L(["timings-content",{"no-border":!I.value}])},[e("div",Ha,[Array.isArray(I.value)?(a(),u("div",Da,[(a(!0),u(se,null,be(I.value,A=>(a(),u("div",{key:A.id,class:"timing-entry"},[e("div",$a,[e("span",Va,k(A.timing_text),1),e("span",Oa,"by "+k(A.username),1)])]))),128))])):(a(),u("div",Fa,k(I.value||"–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"),1))]),e("div",qa,[I.value?(a(),u("button",{key:0,class:"nudity-info-button",onClick:Q},l[57]||(l[57]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)]))):y("",!0),e("button",{class:"nudity-info-button",onClick:l[12]||(l[12]=A=>q.value=!0)},l[58]||(l[58]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"Add Timing",-1)]))])],2)])],4)):y("",!0),q.value?(a(),u("div",Ka,[e("div",za,[e("div",Wa,[l[60]||(l[60]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:l[13]||(l[13]=A=>q.value=!1)},l[59]||(l[59]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Ga,[X(e("input",{"onUpdate:modelValue":l[14]||(l[14]=A=>We.value=A),placeholder:"–í–∞—à –Ω–∏–∫",class:"timing-input",maxlength:"50"},null,512),[[ut,We.value]]),X(e("textarea",{"onUpdate:modelValue":l[15]||(l[15]=A=>Ze.value=A),placeholder:"–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∞–π–º–∏–Ω–≥...",class:"timing-textarea"},null,512),[[ut,Ze.value]]),e("div",Ya,[e("button",{class:"submit-timing-btn",onClick:yt,disabled:!nt.value||Qe.value},[Qe.value?(a(),u("i",Za)):(a(),u("span",Qa,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"))],8,Xa)])])])])):y("",!0),de.value?(a(),u("div",{key:3,class:"modal-overlay",onClick:l[18]||(l[18]=A=>de.value=!1)},[e("div",{class:"modal-content",onClick:l[17]||(l[17]=et(()=>{},["stop"]))},[e("div",Ja,[l[62]||(l[62]=e("h3",null,"–¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)),e("button",{class:"close-modal-btn",onClick:l[16]||(l[16]=A=>de.value=!1)},l[61]||(l[61]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",er,[e("div",tr,[(a(!0),u(se,null,be(z.value,(A,vt)=>(a(),u("div",{key:A.username,class:"top-submitter-item"},[e("div",{class:L(["submitter-rank",{gold:vt===0,silver:vt===1,bronze:vt===2}])},k(vt+1),3),e("div",nr,[e("div",or,k(A.username),1),e("div",lr,k(A.approved_submissions_count)+" "+k(Oe(A.approved_submissions_count,["—Ç–∞–π–º–∏–Ω–≥","—Ç–∞–π–º–∏–Ω–≥–∞","—Ç–∞–π–º–∏–Ω–≥–æ–≤"])),1)]),e("div",sr,[e("div",{class:"contribution-bar",style:rt({width:He(A.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):y("",!0)],64)}}},fr=Ke(ir,[["__scopeId","data-v-5f324c5e"]]);export{fr as default};

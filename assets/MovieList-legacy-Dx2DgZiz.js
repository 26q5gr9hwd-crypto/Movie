!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var a,r={},o=Object.prototype,i=o.hasOwnProperty,n=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function v(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{v({},"")}catch(a){v=function(e,t,a){return e[t]=a}}function p(e,t,a,r){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),l=new M(r||[]);return n(i,"_invoke",{value:C(e,a,l)}),i}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var m="suspendedStart",f="suspendedYield",h="executing",g="completed",b={};function x(){}function y(){}function w(){}var k={};v(k,s,(function(){return this}));var _=Object.getPrototypeOf,z=_&&_(_(D([])));z&&z!==o&&i.call(z,s)&&(k=z);var L=w.prototype=x.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){v(e,t,(function(e){return this._invoke(t,e)}))}))}function B(t,a){function r(o,n,l,s){var d=u(t[o],t,n);if("throw"!==d.type){var c=d.arg,v=c.value;return v&&"object"==e(v)&&i.call(v,"__await")?a.resolve(v.__await).then((function(e){r("next",e,l,s)}),(function(e){r("throw",e,l,s)})):a.resolve(v).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,s)}))}s(d.arg)}var o;n(this,"_invoke",{value:function(e,t){function i(){return new a((function(a,o){r(e,t,a,o)}))}return o=o?o.then(i,i):i()}})}function C(e,t,r){var o=m;return function(i,n){if(o===h)throw Error("Generator is already running");if(o===g){if("throw"===i)throw n;return{value:a,done:!0}}for(r.method=i,r.arg=n;;){var l=r.delegate;if(l){var s=j(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var d=u(e,t,r);if("normal"===d.type){if(o=r.done?g:f,d.arg===b)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(o=g,r.method="throw",r.arg=d.arg)}}}function j(e,t){var r=t.method,o=e.iterator[r];if(o===a)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=a,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=u(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var n=i.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,b):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function H(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function D(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,n=function e(){for(;++o<t.length;)if(i.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=a,e.done=!0,e};return n.next=n}}throw new TypeError(e(t)+" is not iterable")}return y.prototype=w,n(L,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:y,configurable:!0}),y.displayName=v(w,c,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,v(e,c,"GeneratorFunction")),e.prototype=Object.create(L),e},r.awrap=function(e){return{__await:e}},S(B.prototype),v(B.prototype,d,(function(){return this})),r.AsyncIterator=B,r.async=function(e,t,a,o,i){void 0===i&&(i=Promise);var n=new B(p(e,t,a,o),i);return r.isGeneratorFunction(t)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},S(L),v(L,c,"Generator"),v(L,s,(function(){return this})),v(L,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),a=[];for(var r in t)a.push(r);return a.reverse(),function e(){for(;a.length;){var r=a.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=D,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(H),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=a),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],l=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var s=i.call(n,"catchLoc"),d=i.call(n,"finallyLoc");if(s&&d){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=e,n.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),H(a),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var o=r.arg;H(a)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:D(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=a),b}},r}function a(e,t,a,r,o,i,n){try{var l=e[i](n),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,o)}System.register(["./index-legacy-DW1DABA6.js","./SpinnerLoading-legacy-AHCUNMBR.js","./icon-imdb-logo-legacy-CT5vGaX7.js"],(function(e,r){"use strict";var o,i,n,l,s,d,c,v,p,u,m,f,h,g,b,x,y,w,k,_,z,L,S,B,C,j,E,H,M,D,O,$,I,N,P,T,A,V,G,U,F,R,Y,X;return{setters:[e=>{o=e._,i=e.b,n=e.f,l=e.d,s=e.e,d=e.h,c=e.t,v=e.O,p=e.P,u=e.aJ,m=e.u,f=e.c,h=e.k,g=e.p,b=e.i,x=e.l,y=e.n,w=e.A,k=e.a7,_=e.m,z=e.a8,L=e.a5,S=e.aK,B=e.o,C=e.j,j=e.w,E=e.aL,H=e.r,M=e.V,D=e.ay,O=e.$,$=e.X,I=e.q,N=e.B,P=e.N,T=e.x,A=e.a,V=e.af,G=e.U,U=e.G},e=>{F=e.S},e=>{R=e._,Y=e.a,X=e.b}],execute:function(){var r=document.createElement("style");r.textContent='.deleteButton[data-v-cd7aaf9f]{width:40px;height:40px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:3px;background-color:transparent;border:none;border-radius:8px;cursor:pointer;transition:all .2s;position:relative;overflow:hidden;background-color:rgba(0,0,0,.616);border:2px solid #ccc}.deleteButton svg[data-v-cd7aaf9f]{width:60%}.deleteButton[data-v-cd7aaf9f]:hover{background-color:#ed3838;overflow:visible}.bin path[data-v-cd7aaf9f]{transition:all .2s}.deleteButton:hover .bin path[data-v-cd7aaf9f]{fill:#fff}.deleteButton[data-v-cd7aaf9f]:active{transform:scale(.98)}.tooltip[data-v-cd7aaf9f]{--tooltip-color: rgb(41, 41, 41);position:absolute;top:-40px;background-color:var(--tooltip-color);color:#fff;border-radius:5px;font-size:12px;padding:8px 12px;font-weight:600;box-shadow:0 10px 10px rgba(0,0,0,.106);display:flex;align-items:center;justify-content:center;opacity:0;transition:all .5s}.tooltip[data-v-cd7aaf9f]:before{position:absolute;width:10px;height:10px;transform:rotate(45deg);content:"";background-color:var(--tooltip-color);bottom:-10%}.deleteButton:hover .tooltip[data-v-cd7aaf9f]{opacity:1}.movie-details[data-v-95d5b656]{padding:15px;flex-grow:1;display:flex;flex-direction:column}.movie-header[data-v-95d5b656]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:10px}.movie-header h3[data-v-95d5b656]{font-size:1.1em;margin:0;display:-webkit-box;display:box;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;text-overflow:ellipsis;line-height:1.2;max-height:3.6em;word-wrap:break-word;word-break:break-word;hyphens:auto}.original-title[data-v-95d5b656]{font-size:.8em;color:#888;margin-bottom:10px;font-style:italic;display:-webkit-box;display:box;-webkit-line-clamp:2;-moz-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;overflow:hidden;word-wrap:break-word;word-break:break-word;hyphens:auto}.year[data-v-95d5b656]{font-size:.9em;color:#ccc}.meta[data-v-95d5b656]{margin-bottom:10px}.genres[data-v-95d5b656]{display:flex;flex-wrap:wrap;gap:5px;margin-top:5px;align-items:center}.genre-tag[data-v-95d5b656],.genre-count[data-v-95d5b656]{font-size:.75em;color:#888;background-color:rgba(136,136,136,.1);padding:2px 6px;border-radius:3px;white-space:nowrap}@media (max-width: 600px){.movie-details[data-v-95d5b656]{padding:8px;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.movie-header[data-v-95d5b656]{margin-bottom:6px}.movie-header h3[data-v-95d5b656]{font-size:.95em;-webkit-line-clamp:4;-moz-line-clamp:4;line-clamp:4;max-height:4.8em;line-height:1.2;word-wrap:break-word;word-break:break-word;hyphens:auto}.original-title[data-v-95d5b656]{margin-bottom:6px;font-size:.75em}.meta[data-v-95d5b656]{margin-bottom:6px}.year[data-v-95d5b656]{font-size:.9em}.genres[data-v-95d5b656]{margin-top:3px}.genre-tag[data-v-95d5b656],.genre-count[data-v-95d5b656]{font-size:.7em;padding:1px 4px}}.movie-poster-container[data-v-3eb53f23]{position:relative}.movie-poster[data-v-3eb53f23]{width:100%;aspect-ratio:2 / 3;object-fit:cover}.delete-button[data-v-3eb53f23]{position:absolute;top:5px;left:5px;opacity:0}.ratings-overlay[data-v-3eb53f23]{position:absolute;bottom:10px;left:10px;display:flex;gap:10px;background:rgba(0,0,0,.7);padding:5px 10px;border-radius:5px;justify-content:center;align-items:center}.poster-type[data-v-3eb53f23]{position:absolute;top:5px;right:5px;background:rgba(0,0,0,.7);color:#fff;padding:3px 8px;border-radius:3px;font-size:.9em;text-transform:uppercase}.rating-kp[data-v-3eb53f23],.rating-imdb[data-v-3eb53f23],.rating-our[data-v-3eb53f23]{font-size:1.2em;color:#fff;display:flex;align-items:center;gap:5px}.rating-logo[data-v-3eb53f23]{width:20px;height:auto;display:inline-block}.rating-our[data-v-3eb53f23]{font-size:1.2em;color:#fff;display:flex;align-items:center;gap:5px;position:relative;padding:2px 6px;border-radius:4px}.rating-our.with-star[data-v-3eb53f23]{background:var(--accent-transparent);border:1px solid var(--accent-transparent)}.rating-our.with-star[data-v-3eb53f23]:after{content:"â˜…";position:absolute;top:-6px;left:-6px;font-size:12px;color:var(--accent-color);line-height:1;padding-bottom:1px}.rating-kp.low[data-v-3eb53f23],.rating-imdb.low[data-v-3eb53f23],.rating-our.low[data-v-3eb53f23]{color:#ff6b6b!important}.rating-kp.medium[data-v-3eb53f23],.rating-imdb.medium[data-v-3eb53f23],.rating-our.medium[data-v-3eb53f23]{color:#ffd93d!important}.rating-kp.high[data-v-3eb53f23],.rating-imdb.high[data-v-3eb53f23],.rating-our.high[data-v-3eb53f23]{color:#51cf66!important}@media (max-width: 620px){.ratings-overlay[data-v-3eb53f23]{bottom:3px;left:0;padding:4px 8px;font-size:.8em;border-radius:0}.movie-poster-container[data-v-3eb53f23]{width:100px;min-width:100px}.movie-poster[data-v-3eb53f23]{width:100px;aspect-ratio:2 / 3;border-radius:10px 0 0 10px}.delete-button[data-v-3eb53f23]{top:5px;left:5px;opacity:1}.rating-logo[data-v-3eb53f23]{width:15px;height:auto;display:inline-block}.rating-our[data-v-3eb53f23]{font-size:1em;padding:1px 4px}.rating-our.with-star[data-v-3eb53f23]:after{top:-5px;left:-5px;font-size:10px;padding-bottom:1px}}.movie-poster-container.card-size-small .ratings-overlay[data-v-3eb53f23]{padding:3px 6px;gap:6px;font-size:.75em}.movie-poster-container.card-size-small .rating-logo[data-v-3eb53f23]{width:16px}.movie-poster-container.card-size-small .poster-type[data-v-3eb53f23]{font-size:.75em;padding:2px 6px}.movie-poster-container.card-size-large .ratings-overlay[data-v-3eb53f23]{padding:8px 12px;gap:12px;font-size:1.1em}.movie-poster-container.card-size-large .rating-logo[data-v-3eb53f23]{width:24px}.movie-poster-container.card-size-large .poster-type[data-v-3eb53f23]{font-size:1em;padding:4px 10px}.movie-card[data-v-16d92669]{text-decoration:none;color:inherit;width:100%;background:rgba(30,30,30,.6);border-radius:10px;overflow:hidden;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;transition:transform .3s ease,box-shadow .3s ease,border .3s ease;box-shadow:0 4px 10px rgba(0,0,0,.4);border:none}.has-border[data-v-16d92669]{border:1px solid var(--accent-color)}.movie-card[data-v-16d92669]:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.3),0 0 20px var(--accent-semi-transparent)}.hover-disabled[data-v-16d92669]:hover{transform:none;box-shadow:0 4px 10px rgba(0,0,0,.4)}.movie-card[data-v-16d92669]:focus{outline:2px solid white;outline-offset:2px;box-shadow:0 0 15px rgba(255,255,255,.8);transition:border .2s ease;cursor:pointer}.movie-card[data-v-16d92669]:hover .delete-button{opacity:1}.movie-card.card-size-small[data-v-16d92669] .movie-details{padding:10px}.movie-card.card-size-small[data-v-16d92669] .movie-header h3{font-size:.95em;-webkit-line-clamp:3;-moz-line-clamp:3;line-clamp:3;max-height:3.6em}.movie-card.card-size-small[data-v-16d92669] .original-title{font-size:.75em;-webkit-line-clamp:1;-moz-line-clamp:1;line-clamp:1}.movie-card.card-size-small[data-v-16d92669] .genre-tag,.movie-card.card-size-small[data-v-16d92669] .genre-count{font-size:.7em;padding:1px 4px}.movie-card.card-size-large[data-v-16d92669] .movie-details{padding:20px}.movie-card.card-size-large[data-v-16d92669] .movie-header h3{font-size:1.3em;-webkit-line-clamp:4;-moz-line-clamp:4;line-clamp:4;max-height:5.2em}.movie-card.card-size-large[data-v-16d92669] .original-title{font-size:.9em;margin-bottom:15px}.movie-card.card-size-large[data-v-16d92669] .genre-tag,.movie-card.card-size-large[data-v-16d92669] .genre-count{font-size:.8em;padding:3px 8px}.movie-card.card-size-large[data-v-16d92669] .year{font-size:1em}@media (max-width: 620px){.movie-card[data-v-16d92669]{flex-direction:row;align-items:flex-start;height:200px;width:100%;border-radius:15px}}.swipe-container[data-v-0467ed6e]{position:relative;overflow:hidden}.swipe-background[data-v-0467ed6e]{z-index:0;position:absolute;top:0;left:0;right:0;bottom:0;background-color:transparent;display:flex;align-items:center;justify-content:flex-start;padding-left:16px;transition:background-color .2s ease;border-radius:10px}.swipe-background.swipe-left[data-v-0467ed6e]{background-color:var(--383316c0);justify-content:flex-start}.swipe-background.swipe-right[data-v-0467ed6e]{background-color:var(--383316c0);justify-content:flex-end;padding-right:16px}.swipe-wrapper[data-v-0467ed6e]{position:relative;z-index:1;transition:transform .3s ease,opacity .3s ease;touch-action:pan-y}.swipe-wrapper.swiping[data-v-0467ed6e]{transition:none}.icon-container[data-v-0467ed6e]{width:24px;height:24px}@media (max-width: 620px){.swipe-background[data-v-0467ed6e]{height:200px;border-radius:15px}}.grid[data-v-8e95405f]{display:grid;gap:15px;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));justify-content:center;margin:0 auto;width:100%;padding:0 15px;box-sizing:border-box;position:relative;min-height:300px}.grid.card-size-small[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px}.grid.card-size-medium[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:15px}.grid.card-size-large[data-v-8e95405f]{grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}@media (max-width: 620px){.grid[data-v-8e95405f]{grid-template-columns:1fr;gap:10px;padding:5px}}\n/*$vite$:1*/',document.head.appendChild(r);var Z={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 50 59",class:"bin"};var q=o({},[["render",function(e,t){return n(),i("svg",Z,t[0]||(t[0]=[l("path",{fill:"#B5BAC1",d:"M0 7.5C0 5.01472 2.01472 3 4.5 3H45.5C47.9853 3 50 5.01472 50 7.5V7.5C50 8.32843 49.3284 9 48.5 9H1.5C0.671571 9 0 8.32843 0 7.5V7.5Z"},null,-1),l("path",{fill:"#B5BAC1",d:"M17 3C17 1.34315 18.3431 0 20 0H29.3125C30.9694 0 32.3125 1.34315 32.3125 3V3H17V3Z"},null,-1),l("path",{fill:"#B5BAC1",d:"M2.18565 18.0974C2.08466 15.821 3.903 13.9202 6.18172 13.9202H43.8189C46.0976 13.9202 47.916 15.821 47.815 18.0975L46.1699 55.1775C46.0751 57.3155 44.314 59.0002 42.1739 59.0002H7.8268C5.68661 59.0002 3.92559 57.3155 3.83073 55.1775L2.18565 18.0974ZM18.0003 49.5402C16.6196 49.5402 15.5003 48.4209 15.5003 47.0402V24.9602C15.5003 23.5795 16.6196 22.4602 18.0003 22.4602C19.381 22.4602 20.5003 23.5795 20.5003 24.9602V47.0402C20.5003 48.4209 19.381 49.5402 18.0003 49.5402ZM29.5003 47.0402C29.5003 48.4209 30.6196 49.5402 32.0003 49.5402C33.381 49.5402 34.5003 48.4209 34.5003 47.0402V24.9602C34.5003 23.5795 33.381 22.4602 32.0003 22.4602C30.6196 22.4602 29.5003 23.5795 29.5003 24.9602V47.0402Z","clip-rule":"evenodd","fill-rule":"evenodd"},null,-1),l("path",{fill:"#B5BAC1",d:"M2 13H48L47.6742 21.28H2.32031L2 13Z"},null,-1)]))}]]),K={class:"deleteButton"},W=e("D",o({__name:"DeleteButton",setup:e=>(e,t)=>(n(),i("button",K,[s(q),t[0]||(t[0]=l("span",{class:"tooltip"},"Delete",-1))]))},[["__scopeId","data-v-cd7aaf9f"]])),J={class:"movie-details"},Q={class:"movie-header"},ee={key:0,class:"original-title"},te={key:1,class:"meta"},ae={class:"year"},re={key:2,class:"genres"},oe={key:0,class:"genre-count"},ie={__name:"CardMovieDetails",props:{movie:Object,isHistory:Boolean},setup:e=>(t,a)=>{var r,o,s,u;return n(),i("div",J,[l("div",Q,[l("h3",null,c((u=e.movie.title,u?u.replace(/\(\d{4}\)$/,"").trim():u)),1)]),null!==(r=e.movie.raw_data)&&void 0!==r&&r.name_en||null!==(o=e.movie.raw_data)&&void 0!==o&&o.Name_original?(n(),i("div",ee,c(e.movie.raw_data.name_en||e.movie.raw_data.Name_original),1)):d("",!0),e.movie.year?(n(),i("div",te,[l("span",ae,c(e.movie.year),1)])):d("",!0),null!==(s=e.movie.raw_data)&&void 0!==s&&null!==(s=s.genres)&&void 0!==s&&s.length?(n(),i("div",re,[(n(!0),i(v,null,p(e.movie.raw_data.genres.slice(0,2),(e=>(n(),i("span",{key:e.genre,class:"genre-tag"},c(e.genre),1)))),128)),e.movie.raw_data.genres.length>2?(n(),i("span",oe," +"+c(e.movie.raw_data.genres.length-2),1)):d("",!0)])):d("",!0)])}},ne=o(ie,[["__scopeId","data-v-95d5b656"]]),le={key:0},se={class:"movie-poster"},de={key:1,class:"ratings-overlay"},ce={key:2,class:"poster-type"},ve={key:3,class:"poster-type"},pe={__name:"CardsMovieMainContent",props:u({movie:Object,isMobile:Boolean,isHistory:Boolean,isUserList:Boolean,showDelete:Boolean,showStar:Boolean},{isMobile:!1,isHistory:!1,isUserList:!1,showDelete:!0,showStar:!1}),emits:["remove:from-history"],setup(e,t){var a=t.emit,r=m(),o=f((()=>r.cardSize)),s=a;return(t,a)=>{var r,v=h("lazy");return n(),i("div",{class:y(["movie-poster-container",`card-size-${o.value}`])},[e.movie.poster||e.movie.cover?(n(),i("div",le,[g(l("img",se,null,512),[[v,e.movie.poster||e.movie.cover]]),!e.isMobile&&(e.isHistory||e.isUserList)&&e.showDelete?(n(),b(W,{key:0,class:"delete-button","data-test-id":"delete-button",onClick:a[0]||(a[0]=x((t=>s("remove:from-history",e.movie.kp_id)),["stop","prevent"]))})):d("",!0),e.movie.rating_kp||e.movie.rating_imdb||e.movie.average_rating?(n(),i("div",de,[e.movie.rating||e.movie.average_rating?(n(),i("span",{key:0,class:y(["rating-our",{"with-star":e.showStar,[w(k)(e.movie.rating||e.movie.average_rating)]:!0}])},[a[1]||(a[1]=l("img",{src:R,alt:"ReYohoho",class:"rating-logo"},null,-1)),_(" "+c(`${(e.movie.rating||e.movie.average_rating).toFixed(1).replace(/\.0$/,"")}`),1)],2)):d("",!0),e.movie.rating_kp?(n(),i("span",{key:1,class:y(["rating-kp",w(k)(e.movie.rating_kp)])},[a[2]||(a[2]=l("img",{src:Y,alt:"ÐšÐŸ",class:"rating-logo"},null,-1)),_(" "+c(e.movie.rating_kp),1)],2)):d("",!0),e.movie.rating_imdb?(n(),i("span",{key:2,class:y(["rating-imdb",w(k)(e.movie.rating_imdb)])},[a[3]||(a[3]=l("img",{src:X,alt:"IMDb",class:"rating-logo"},null,-1)),_(" "+c(e.movie.rating_imdb),1)],2)):d("",!0)])):d("",!0),e.movie.type&&w(z)[e.movie.type]?(n(),i("div",ce,c(null!==(r=w(z)[e.movie.type])&&void 0!==r?r:""),1)):d("",!0),e.movie.type&&!w(z)[e.movie.type]?(n(),i("div",ve,c(e.movie.type.replace("ðŸŽ¬","")),1)):d("",!0)])):d("",!0)],2)}}},ue=o(pe,[["__scopeId","data-v-3eb53f23"]]),me={__name:"CardMovie",props:u({movie:Object,isHistory:Boolean,isMobile:Boolean,isCardBorder:Boolean,isUserList:Boolean,index:Number,activeMovieIndex:[Number,null],showDelete:Boolean,showStar:Boolean},{isHistory:!1,isCardBorder:!1,isMobile:!1,isUserList:!1,activeMovieIndex:null,index:0,showDelete:!0,showStar:!1}),emits:["remove:from-history","save:element"],setup(e,t){var a=t.emit,r=L(),o=m(),i=f((()=>r.isCardHoverDisabled)),l=f((()=>o.cardSize)),d=a,c=S("element");return B((()=>{c.value&&c.value.$el&&d("save:element",c.value.$el)})),(t,a)=>{var r=C("RouterLink");return n(),b(r,{ref_key:"element",ref:c,class:y(["movie-card",{active:e.activeMovieIndex===e.index,"has-border":e.isCardBorder,"hover-disabled":i.value,"card-border":e.isCardBorder,[`card-size-${l.value}`]:!0}]),to:{name:"movie-info",params:{kp_id:e.movie.kp_id}},"data-test-id":`movie-card-${e.movie.kp_id}`,tabindex:"0"},{default:j((()=>[s(ue,{movie:e.movie,"is-history":e.isHistory,"is-mobile":e.isMobile,"is-user-list":e.isUserList,"show-delete":e.showDelete,"show-star":e.showStar,"onRemove:fromHistory":a[0]||(a[0]=e=>d("remove:from-history",e))},null,8,["movie","is-history","is-mobile","is-user-list","show-delete","show-star"]),s(ne,{movie:e.movie,"is-history":e.isHistory},null,8,["movie","is-history"])])),_:1},8,["class","to","data-test-id"])}}},fe=o(me,[["__scopeId","data-v-16d92669"]]),he={class:"icon-container"},ge={__name:"CardMovieSwipeWrapper",props:u({thresholdPercent:Number,disabled:Boolean,backgroundSwipeColor:String,showDelete:Boolean},{thresholdPercent:55,disabled:!1,backgroundSwipeColor:"#e53935",showDelete:!0}),emits:["slide"],setup(e,t){var a=t.emit;E((t=>({"383316c0":e.backgroundSwipeColor})));var r=a,o=S("swipeElement"),d=H(0),c=H(0),v=H(0),p=H(0),u=H(!1),m=H(0),h=H(!1),b=f((()=>c.value-d.value)),x=f((()=>p.value-v.value)),w=f((()=>u.value?b.value:0)),k=f((()=>m.value*e.thresholdPercent/100));function _(t){var a,r;!e.disabled&&e.showDelete&&(m.value=null!==(a=null===(r=o.value)||void 0===r?void 0:r.offsetWidth)&&void 0!==a?a:0,d.value=t.touches[0].clientX,v.value=t.touches[0].clientY,c.value=d.value,p.value=v.value,u.value=!1,h.value=!1)}function z(t){if(!e.disabled&&!h.value&&e.showDelete){c.value=t.touches[0].clientX,p.value=t.touches[0].clientY;var a=Math.abs(b.value),r=Math.abs(x.value);u.value||h.value||(r>a?(h.value=!0,u.value=!1):a>r&&a>10&&(u.value=!0)),u.value&&t.preventDefault()}}function L(){if(!e.disabled&&u.value&&e.showDelete)return b.value<-k.value?(u.value=!1,$((()=>{o.value.style.transform="translateX(-100%)",o.value.style.opacity="0"})),void setTimeout((()=>{r("slide"),B()}),300)):b.value>k.value?(u.value=!1,$((()=>{o.value.style.transform="translateX(100%)",o.value.style.opacity="0"})),void setTimeout((()=>{r("slide"),B()}),300)):void B();B()}function B(){d.value=0,c.value=0,v.value=0,p.value=0,u.value=!1,h.value=!1,o.value&&(o.value.style.transform="",o.value.style.opacity="")}return(t,a)=>(n(),i("div",{class:"swipe-container",onTouchstart:_,onTouchmove:z,onTouchend:L},[g(l("div",{class:y(["swipe-background",{"swipe-left":b.value>0,"swipe-right":b.value<0}])},[g(l("div",he,[D(t.$slots,"swipe-icon",{},(()=>[s(q)]))],512),[[M,d.value]])],2),[[M,!e.disabled&&!h.value]]),l("div",{ref_key:"swipeElement",ref:o,"data-test-id":"swipe-ref-element",class:y(["swipe-wrapper",{swiping:u.value}]),style:O({transform:`translateX(${w.value}px)`,transition:u.value?"none":"transform 0.3s ease, opacity 0.3s ease"})},[D(t.$slots,"default",{},void 0)],6)],32))}},be=o(ge,[["__scopeId","data-v-0467ed6e"]]),xe={__name:"MovieList",props:u({moviesList:Array,isHistory:Boolean,loading:Boolean,showDelete:Boolean,showStar:Boolean},{isHistory:!1,loading:!0,showDelete:!0,showStar:!1}),emits:["item-deleted"],setup(e,r){var o=r.emit,c=m(),u=I(),h=L(),x=N(),k=P(),_=H([]),z=H(null),S=f((()=>h.isCardBorder)),C=f((()=>c.isMobile)),E=f((()=>c.cardSize)),D=f((()=>{var e;return"lists"===k.name&&(!k.params.user_id||String(k.params.user_id)===String(null===(e=u.user)||void 0===e?void 0:e.id))})),O=o,$=function(){var e,r=(e=t().mark((function e(a){var r,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.token){e.next=18;break}return e.prev=1,e.next=4,V(a,G.HISTORY);case 4:O("item-deleted",a),e.next=16;break;case 7:if(e.prev=7,e.t0=e.catch(1),r=U(e.t0),o=r.code,console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ð¸:",e.t0),401!==o){e.next=16;break}return u.logout(),e.next=15,x.push("/login");case 15:x.go(0);case 16:e.next=19;break;case 18:c.removeFromHistory(a);case 19:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,r=arguments;return new Promise((function(o,i){var n=e.apply(t,r);function l(e){a(n,o,i,l,s,"next",e)}function s(e){a(n,o,i,l,s,"throw",e)}l(void 0)}))});return function(e){return r.apply(this,arguments)}}(),R=t=>{var a,r;if(null!==(a=e.moviesList)&&void 0!==a&&a.length&&null!==(r=t.target)&&void 0!==r&&null!==(r=r.classList)&&void 0!==r&&r.contains("movie-card")){var o,i=document.querySelector(".grid"),n=window.getComputedStyle(i).gridTemplateColumns.split(" ").length;switch(t.key){case"ArrowRight":z.value=(z.value+1)%e.moviesList.length;break;case"ArrowLeft":z.value=(z.value-1+e.moviesList.length)%e.moviesList.length;break;case"ArrowUp":if(t.preventDefault(),z.value<=0){var l=document.querySelector(".search-input");l&&l.focus()}else z.value=Math.max(z.value-n,0);break;case"ArrowDown":t.preventDefault(),z.value=Math.min(z.value+n,e.moviesList.length-1);break;case"Home":z.value=0;break;case"End":z.value=e.moviesList.length-1;break;case"Enter":var s;if(t.ctrlKey||t.metaKey)t.preventDefault(),window.open((o=e.moviesList[z.value],x.resolve({name:"movie-info",params:{kp_id:o.kp_id}}).href),"_blank");else x.push({name:"movie-info",params:{kp_id:null===(s=e.moviesList[z.value])||void 0===s?void 0:s.kp_id}})}}};return T(z,(e=>{_.value[e]&&(_.value[e].scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),_.value[e].focus())})),B((()=>{document.addEventListener("keydown",R)})),A((()=>{document.removeEventListener("keydown",R)})),(t,a)=>(n(),i("div",null,[g(l("div",{class:y(["grid",`card-size-${E.value}`])},[(e.isHistory||D.value)&&C.value?(n(!0),i(v,{key:0},p(e.moviesList,((t,a)=>(n(),b(w(be),{key:t.kp_id,"data-test-id":`movie-card-swipe-wrapper-${t.kp_id}`,"show-delete":e.showDelete,onSlide:e=>$(t.kp_id)},{default:j((()=>[s(w(fe),{movie:t,"is-history":e.isHistory,"is-mobile":C.value,"is-user-list":D.value,index:a,"is-card-border":S.value,"active-movie-index":z.value,"show-delete":e.showDelete,"show-star":e.showStar,"onRemove:fromHistory":$,"onSave:element":e=>_.value[a]=e},null,8,["movie","is-history","is-mobile","is-user-list","index","is-card-border","active-movie-index","show-delete","show-star","onSave:element"])])),_:2},1032,["data-test-id","show-delete","onSlide"])))),128)):(n(!0),i(v,{key:1},p(e.moviesList,((t,a)=>(n(),b(w(fe),{key:t.kp_id,movie:t,"is-history":e.isHistory,"is-mobile":C.value,"is-user-list":D.value,index:a,"is-card-border":S.value,"active-movie-index":z.value,"show-delete":e.showDelete,"show-star":e.showStar,"onRemove:fromHistory":$,"onSave:element":e=>_.value[a]=e},null,8,["movie","is-history","is-mobile","is-user-list","index","is-card-border","active-movie-index","show-delete","show-star","onSave:element"])))),128))],2),[[M,!e.loading]]),e.loading?(n(),b(F,{key:0})):d("",!0)]))}};e("M",o(xe,[["__scopeId","data-v-8e95405f"]]))}}}))}();

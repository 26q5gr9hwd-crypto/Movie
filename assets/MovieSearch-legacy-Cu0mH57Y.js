!function(){function e(a){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(a)}function a(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(a){r(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function r(a,t,r){return(t=function(a){var t=function(a,t){if("object"!=e(a)||!a)return a;var r=a[Symbol.toPrimitive];if(void 0!==r){var n=r.call(a,t||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==e(t)?t:t+""}(t))in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,a,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function l(t,r,n,i){var l=r&&r.prototype instanceof c?r:c,d=Object.create(l.prototype);return o(d,"_invoke",function(t,r,n){var o,i,l,c=0,d=n||[],u=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(a,t){return o=a,i=0,l=e,v.n=t,s}};function p(t,r){for(i=t,l=r,a=0;!u&&c&&!n&&a<d.length;a++){var n,o=d[a],p=v.p,b=o[2];t>3?(n=b===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=p&&((n=t<2&&p<o[1])?(i=0,v.v=r,v.n=o[1]):p<b&&(n=t<3||o[0]>r||r>b)&&(o[4]=t,o[5]=r,v.n=b,i=0))}if(n||t>1)return s;throw u=!0,r}return function(n,d,b){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,b),i=d,l=b;(a=i<2?e:l)||!u;){o||(i?i<3?(i>1&&(v.n=-1),p(i,l)):v.n=l:v.v=l);try{if(c=2,o){if(i||(n="next"),a=o[n]){if(!(a=a.call(o,l)))throw TypeError("iterator result is not an object");if(!a.done)return a;l=a.value,i<2&&(i=0)}else 1===i&&(a=o.return)&&a.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=e}else if((a=(u=v.n<0)?l:t.call(r,v))!==s)break}catch(a){o=e,i=1,l=a}finally{c=1}}return{value:a,done:u}}}(t,n,i),!0),d}var s={};function c(){}function d(){}function u(){}a=Object.getPrototypeOf;var v=[][r]?a(a([][r]())):(o(a={},r,function(){return this}),a),p=u.prototype=c.prototype=Object.create(v);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,o(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,o(p,"constructor",u),o(u,"constructor",d),d.displayName="GeneratorFunction",o(u,i,"GeneratorFunction"),o(p),o(p,i,"Generator"),o(p,r,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:l,m:b}})()}function o(e,a,t,r){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}o=function(e,a,t,r){function i(a,t){o(e,a,function(e){return this._invoke(a,t,e)})}a?n?n(e,a,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[a]=t:(i("next",0),i("throw",1),i("return",2))},o(e,a,t,r)}function i(e,a,t,r,n,o,i){try{var l=e[o](i),s=l.value}catch(e){return void t(e)}l.done?a(s):Promise.resolve(s).then(r,n)}function l(e){return function(){var a=this,t=arguments;return new Promise(function(r,n){var o=e.apply(a,t);function l(e){i(o,r,n,l,s,"next",e)}function s(e){i(o,r,n,l,s,"throw",e)}l(void 0)})}}System.register(["./index-legacy-Dfjj9lRD.js","./BaseModal-legacy-fGL52sEU.js","./MovieList-legacy-cbQBD4IZ.js","./SpinnerLoading-legacy-Dc_7m8e0.js","./icon-imdb-logo-legacy-DY9dgmyD.js"],function(e,a){"use strict";var r,o,i,s,c,d,u,v,p,b,f,m,g,h,x,y,k,w,_,j,z,I,S,O,C,L,T,D,U,E,M,P,F,$,N,Y,G,H,R,V,B,J,K,W,A,q,X,Q,Z,ee,ae,te,re;return{setters:[e=>{r=e._,o=e.r,i=e.c,s=e.o,c=e.a,d=e.b,u=e.d,v=e.e,p=e.w,b=e.T,f=e.F,m=e.f,g=e.n,h=e.g,x=e.h,y=e.i,k=e.j,w=e.k,_=e.t,j=e.l,z=e.m,I=e.p,S=e.q,O=e.s,C=e.u,L=e.v,T=e.x,D=e.y,U=e.z,E=e.A,M=e.B,P=e.C,F=e.D,$=e.E,N=e.G,Y=e.H,G=e.I,H=e.J,R=e.K,V=e.L,B=e.M,J=e.N,K=e.O,W=e.U,A=e.P,q=e.Q},e=>{X=e.B},e=>{Q=e.D,Z=e.M},e=>{ee=e.S},e=>{ae=e._,te=e.a,re=e.b}],execute:function(){var a=document.createElement("style");a.textContent='footer[data-v-e22a0e66]{width:100%;background:rgba(0,0,0,.8);backdrop-filter:blur(10px);z-index:1000;transition:all .3s ease}.footer-fixed[data-v-e22a0e66]{position:fixed;bottom:0;left:0}.footer-static[data-v-e22a0e66]{position:absolute;bottom:0;left:0}.donaters-wrapper[data-v-e22a0e66]{min-height:60px;display:flex;justify-content:center;align-items:center;padding:8px 20px;gap:15px;background:rgba(0,0,0,.8);backdrop-filter:blur(10px)}.donaters-text[data-v-e22a0e66]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:14px;font-weight:600;color:var(--accent-color);text-shadow:0 0 10px rgba(145,70,255,.5);white-space:nowrap;letter-spacing:.3px}.top-donators-carousel[data-v-e22a0e66]{display:flex;align-items:center;gap:10px;flex-shrink:0}.donor-card[data-v-e22a0e66]{width:220px;height:50px;background:#18181b;border-radius:6px;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative;border:2px solid transparent;text-decoration:none;display:flex;flex-direction:row;align-items:center}.donor-card.no-link[data-v-e22a0e66]{cursor:default}.donor-card[data-v-e22a0e66]:not(.no-link):hover{transform:translateY(-3px);border-color:#9147ff;box-shadow:0 6px 20px rgba(145,71,255,.3)}.donor-card.is-live[data-v-e22a0e66]{border-color:var(--accent-color);box-shadow:0 0 15px rgba(145,71,255,.4)}.donor-card.is-live[data-v-e22a0e66]:not(.no-link):hover{box-shadow:0 6px 24px rgba(145,71,255,.5)}.donor-card-preview[data-v-e22a0e66]{width:50px;height:50px;flex-shrink:0;position:relative;overflow:hidden;background:linear-gradient(135deg,#1f1f23,#0e0e10)}.donor-avatar[data-v-e22a0e66]{width:100%;height:100%;background-size:cover;background-position:center;background-repeat:no-repeat;filter:brightness(.9);transition:all .3s ease;position:relative;display:flex;align-items:center;justify-content:center}.donor-card:hover .donor-avatar[data-v-e22a0e66]{filter:brightness(1.1);transform:scale(1.05)}.avatar-placeholder[data-v-e22a0e66]{font-size:22px;font-weight:700;color:rgba(255,255,255,.9);text-shadow:0 2px 10px rgba(0,0,0,.3);user-select:none}.live-badge[data-v-e22a0e66]{position:absolute;top:3px;left:3px;background:#eb0400;color:#fff;padding:2px 5px;border-radius:2px;font-size:7px;font-weight:700;display:flex;align-items:center;gap:2px;letter-spacing:.3px;animation:pulse-e22a0e66 2s ease-in-out infinite;z-index:2}@keyframes pulse-e22a0e66{0%,to{box-shadow:0 0 10px rgba(235,4,0,.6)}50%{box-shadow:0 0 20px rgba(235,4,0,.9)}}.live-indicator[data-v-e22a0e66]{width:4px;height:4px;background:#fff;border-radius:50%;animation:blink-e22a0e66 1.5s ease-in-out infinite}@keyframes blink-e22a0e66{0%,to{opacity:1}50%{opacity:.3}}.donor-card-info[data-v-e22a0e66]{padding:5px 8px;background:#18181b;flex:1;display:flex;flex-direction:column;justify-content:center;overflow:hidden}.donor-name[data-v-e22a0e66]{font-size:12px;font-weight:700;color:#efeff1;margin-bottom:3px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.donor-category[data-v-e22a0e66]{font-size:9px;color:#bf94ff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:500}.donor-status[data-v-e22a0e66]{font-size:9px;color:#adadb8}.donor-status.offline[data-v-e22a0e66]{color:#53535f}.donor-link-icon[data-v-e22a0e66]{position:absolute;top:3px;right:3px;width:20px;height:20px;background:rgba(0,0,0,.7);border-radius:3px;display:flex;align-items:center;justify-content:center;color:#9147ff;transition:all .3s ease;z-index:2;backdrop-filter:blur(5px);pointer-events:none}.donor-card:not(.no-link):hover .donor-link-icon[data-v-e22a0e66]{background:#9147ff;color:#fff;transform:scale(1.1)}.donor-link-icon svg[data-v-e22a0e66]{transition:transform .3s ease}.donor-card:not(.no-link):hover .donor-link-icon svg[data-v-e22a0e66]{transform:scale(1.1)}.carousel-indicators[data-v-e22a0e66]{display:flex;gap:5px;justify-content:center;align-items:center}.carousel-indicators button[data-v-e22a0e66]{width:6px;height:6px;border-radius:50%;background:color-mix(in srgb,var(--accent-color) 50%,transparent);border:none;cursor:pointer;transition:all .3s ease;padding:0}.carousel-indicators button[data-v-e22a0e66]:hover{background:var(--accent-color);transform:scale(1.2)}.carousel-indicators button.active[data-v-e22a0e66]{background:var(--accent-color);width:20px;border-radius:3px}.donater[data-v-e22a0e66]{font-family:Neucha,sans-serif;font-weight:700;font-size:15px;color:rgba(255,255,255,.945);text-align:left;white-space:nowrap;min-width:150px}.fade-enter-active[data-v-e22a0e66],.fade-leave-active[data-v-e22a0e66]{transition:opacity 1s ease}.fade-enter-from[data-v-e22a0e66],.fade-leave-to[data-v-e22a0e66]{opacity:0}@media (max-width: 768px){.donaters-wrapper[data-v-e22a0e66]{padding:10px 15px;min-height:65px;gap:12px}.donaters-text[data-v-e22a0e66]{font-size:13px}.donor-card[data-v-e22a0e66]{width:190px;height:50px}.donor-card-preview[data-v-e22a0e66]{width:50px;height:50px}.donor-name[data-v-e22a0e66]{font-size:11px}.donor-category[data-v-e22a0e66],.donor-status[data-v-e22a0e66]{font-size:8px}.donater[data-v-e22a0e66]{font-size:14px;min-width:120px}}@media (max-width: 480px){.donaters-wrapper[data-v-e22a0e66]{flex-direction:column;padding:10px 12px;min-height:auto;gap:10px}.donaters-text[data-v-e22a0e66]{font-size:12px}.top-donators-carousel[data-v-e22a0e66]{width:100%;justify-content:center}.donor-card[data-v-e22a0e66]{width:calc(100vw - 60px);max-width:200px;height:45px}.donor-card-preview[data-v-e22a0e66]{width:45px;height:45px}.donor-name[data-v-e22a0e66]{font-size:10px}.donor-category[data-v-e22a0e66],.donor-status[data-v-e22a0e66]{font-size:7px}.carousel-indicators button[data-v-e22a0e66]{width:5px;height:5px}.carousel-indicators button.active[data-v-e22a0e66]{width:16px}.donater[data-v-e22a0e66]{font-size:13px;min-width:100px;text-align:center}}.modal-enter-active[data-v-ab41b1b2],.modal-leave-active[data-v-ab41b1b2]{transition:opacity .3s ease}.modal-enter-from[data-v-ab41b1b2],.modal-leave-to[data-v-ab41b1b2]{opacity:0}.modal-overlay[data-v-ab41b1b2]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);backdrop-filter:blur(4px);display:flex;justify-content:center;align-items:center;z-index:1000;animation:overlay-in-ab41b1b2 .3s}.modal[data-v-ab41b1b2]{transform:translateY(-50px);animation:modal-in-ab41b1b2 .3s forwards}.random-movie-modal[data-v-ab41b1b2]{width:600px;max-width:95vw;max-height:90vh;overflow-y:auto}.modern-dark-dialog[data-v-ab41b1b2]{background-color:#1d1d1d;color:#e2e8f0;border-radius:12px;overflow:hidden;box-shadow:0 10px 15px -3px rgba(0,0,0,.3),0 4px 6px -2px rgba(0,0,0,.25)}.modal-header[data-v-ab41b1b2]{padding:16px 20px;border-bottom:1px solid var(--accent-color);display:flex;justify-content:space-between;align-items:center}.modal-header h3[data-v-ab41b1b2]{margin:0;font-size:1.1rem;font-weight:600;display:flex;align-items:center;gap:8px}.close-btn[data-v-ab41b1b2]{background:none;border:none;color:#e2e8f0;font-size:1.2rem;cursor:pointer;padding:4px;opacity:.7;transition:opacity .2s ease}.close-btn[data-v-ab41b1b2]:hover{opacity:1}.modal-content[data-v-ab41b1b2]{padding:20px;max-height:60vh;overflow-y:auto}.loading-container[data-v-ab41b1b2]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:40px 20px}.spinner[data-v-ab41b1b2]{width:40px;height:40px;border:3px solid #333;border-top:3px solid var(--accent-color);border-radius:50%;animation:spin-ab41b1b2 1s linear infinite}@keyframes spin-ab41b1b2{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-content[data-v-ab41b1b2]{display:flex;flex-direction:column;align-items:center;gap:16px;padding:40px 20px;color:#ff6b6b}.error-content i[data-v-ab41b1b2]{font-size:3rem}.movie-content[data-v-ab41b1b2]{display:flex;gap:20px}.movie-poster-section[data-v-ab41b1b2]{flex-shrink:0}.movie-poster[data-v-ab41b1b2]{width:150px;height:225px;object-fit:cover;border-radius:8px}.movie-info-section[data-v-ab41b1b2]{flex:1;display:flex;flex-direction:column;gap:12px}.movie-title[data-v-ab41b1b2]{font-size:1.3rem;font-weight:600;margin:0;line-height:1.3}.movie-year[data-v-ab41b1b2]{font-size:1.1rem;color:#a0a0a0}.movie-type[data-v-ab41b1b2]{background:var(--accent-color);color:#fff;padding:4px 8px;border-radius:4px;font-size:.85rem;align-self:flex-start}.movie-countries[data-v-ab41b1b2],.movie-genres[data-v-ab41b1b2]{font-size:.9rem;line-height:1.4}.movie-countries strong[data-v-ab41b1b2],.movie-genres strong[data-v-ab41b1b2]{color:#a0a0a0}.ratings[data-v-ab41b1b2]{display:flex;gap:12px;flex-wrap:wrap}.rating[data-v-ab41b1b2]{display:flex;align-items:center;gap:5px;background:rgba(0,0,0,.3);padding:6px 10px;border-radius:6px;font-weight:600}.rating-logo[data-v-ab41b1b2]{width:20px;height:20px}.total-ratings[data-v-ab41b1b2]{font-size:.8rem;opacity:.7}.external-links[data-v-ab41b1b2]{display:flex;gap:10px;flex-wrap:wrap}.external-link[data-v-ab41b1b2]{display:flex;align-items:center;gap:6px;padding:8px 12px;background:rgba(255,255,255,.1);border-radius:6px;text-decoration:none;color:#e2e8f0;font-size:.9rem;transition:background .2s ease}.external-link[data-v-ab41b1b2]:hover{background:rgba(255,255,255,.2)}.external-link img[data-v-ab41b1b2]{width:16px;height:16px}.modal-actions[data-v-ab41b1b2]{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #333}.modern-dark-btn[data-v-ab41b1b2]{padding:10px 16px;border-radius:6px;border:none;background-color:#242424;color:#e2e8f0;cursor:pointer;font-weight:500;transition:all .2s ease;text-decoration:none;display:flex;align-items:center;gap:6px}.modern-dark-btn[data-v-ab41b1b2]:hover{background-color:#2b2b2b}.modern-dark-btn[data-v-ab41b1b2]:disabled{opacity:.5;cursor:not-allowed}.modern-dark-btn.primary[data-v-ab41b1b2]{background-color:var(--accent-color);color:#fff}.modern-dark-btn.primary[data-v-ab41b1b2]:hover{background-color:var(--accent-hover-color)}@keyframes modal-in-ab41b1b2{to{transform:translateY(0)}}@keyframes overlay-in-ab41b1b2{0%{backdrop-filter:blur(0)}to{backdrop-filter:blur(4px)}}@media (max-width: 768px){.random-movie-modal[data-v-ab41b1b2]{width:95vw;margin:0 10px}.movie-content[data-v-ab41b1b2]{flex-direction:column;align-items:center;text-align:center}.movie-poster[data-v-ab41b1b2]{width:120px;height:180px}.modal-actions[data-v-ab41b1b2]{flex-direction:column;gap:8px;padding:16px 20px}.modal-actions .modern-dark-btn[data-v-ab41b1b2],.modal-actions a.modern-dark-btn[data-v-ab41b1b2]{width:100%;justify-content:center;box-sizing:border-box}}.wrapper[data-v-05c02d79]{display:flex;flex-direction:column;min-height:100vh}.mainpage[data-v-05c02d79]{flex:1;padding-top:20px;padding-bottom:40px}.search-type-buttons[data-v-05c02d79]{display:flex;justify-content:center;gap:20px;padding-top:10px;margin-bottom:5px;flex-wrap:wrap}.search-type-buttons button[data-v-05c02d79]{padding:5px 10px;font-size:16px;border:none;background:none;color:#fff;cursor:pointer;transition:all .3s ease;position:relative}.search-type-buttons button[data-v-05c02d79]:after{content:"";position:absolute;left:0;bottom:-2px;width:100%;height:2px;background-color:transparent;transition:background-color .3s ease}.search-type-buttons button.active[data-v-05c02d79]:after{background-color:var(--accent-color)}.search-type-buttons button[data-v-05c02d79]:hover{color:#fff}.random-button[data-v-05c02d79]{background:var(--accent-color)!important;color:#fff!important;border-radius:8px;padding:8px 16px!important;font-weight:600;transition:all .3s ease;display:flex;align-items:center;gap:6px}.random-button[data-v-05c02d79]:hover:not(:disabled){background:var(--accent-hover-color)!important;transform:translateY(-1px)}.random-button[data-v-05c02d79]:disabled{opacity:.7;cursor:not-allowed;transform:none}.random-button[data-v-05c02d79]:after{display:none}.search-container[data-v-05c02d79]{display:flex;justify-content:center;padding:20px}.input-wrapper[data-v-05c02d79]{position:relative;width:100%;max-width:800px}.search-input[data-v-05c02d79]{box-sizing:border-box;width:100%;padding:10px;font-size:16px;border:1px solid #ccc;border-radius:10px;background:rgba(30,30,30,.8);color:#fff;transition:border-color .3s ease}.search-input[data-v-05c02d79]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 0 2px var(--accent-transparent)}.search-input.wrong-layout[data-v-05c02d79]{border-color:#ff8c00;box-shadow:0 0 5px rgba(255,140,0,.2)}.icons[data-v-05c02d79]{position:absolute;right:10px;top:50%;transform:translateY(-50%);display:flex;gap:8px;align-items:center}.reset-button[data-v-05c02d79],.search-button[data-v-05c02d79]{background:none;border:none;color:#fff;cursor:pointer;padding:2px;opacity:.7;transition:opacity .2s ease}.reset-button[data-v-05c02d79]:hover,.search-button[data-v-05c02d79]:hover{opacity:1}.reset-button i[data-v-05c02d79],.search-button i[data-v-05c02d79]{font-size:18px;display:block;width:20px;height:20px}h2[data-v-05c02d79]{display:flex;font-size:20px;margin-bottom:20px;justify-content:center;align-items:center;gap:10px}.no-results[data-v-05c02d79]{width:100%;text-align:center;color:#fff;font-size:18px;margin-top:20px}.search-prompt[data-v-05c02d79]{text-align:center;color:#fff;font-size:18px;margin-top:20px}.layout-warning[data-v-05c02d79]{position:absolute;bottom:-40px;left:0;right:0;text-align:center;color:#ff8c00;font-size:14px;background:rgba(255,140,0,.15);padding:8px 12px;border-radius:5px;pointer-events:none;border:1px solid rgba(255,140,0,.5);display:flex;align-items:center;justify-content:center;gap:8px;opacity:0;transform:translateY(-10px);transition:all .3s ease;z-index:1;backdrop-filter:blur(5px)}.layout-warning.show[data-v-05c02d79]{opacity:1;transform:translateY(0)}.layout-warning i[data-v-05c02d79]{font-size:16px;color:#ff8c00}.layout-warning[data-v-05c02d79]{color:#ff8c00}.loading-container[data-v-05c02d79]{display:flex;justify-content:center;align-items:center;min-height:200px;width:100%}.empty-history[data-v-05c02d79]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;color:#888;gap:15px}.empty-history .material-icons[data-v-05c02d79]{font-size:64px;color:#888;opacity:.7}.empty-history p[data-v-05c02d79]{font-size:18px;margin:0;color:#888}@media (max-width: 600px){.mainpage[data-v-05c02d79]{padding-top:0;height:calc(100vh - 93px)}.search-container[data-v-05c02d79],.search-type-buttons[data-v-05c02d79]{padding:0}}\n/*$vite$:1*/',document.head.appendChild(a);var ne={class:"donaters-wrapper"},oe={class:"top-donators-carousel"},ie=["href","target","rel"],le={class:"donor-card-preview"},se={key:0,class:"avatar-placeholder"},ce={key:1,class:"live-badge"},de={class:"donor-card-info"},ue={class:"donor-name"},ve={key:0,class:"donor-category"},pe={key:1,class:"donor-status"},be={key:2,class:"donor-status offline"},fe={key:0,class:"donor-link-icon"},me={class:"carousel-indicators"},ge=["onClick"],he="donatersCache",xe="twitchDataCache",ye=3e5,ke={__name:"FooterDonaters",setup(e){var a=o([]),r=o(-1),z=o(0),I=o(!1),S=null,O=null,C=null,L={donaters:null,twitch:null},T=!1,D=o([{name:"XaksFlaX",twitchUsername:"xaksflax",avatar:null,isLive:!1,category:null,originalIndex:0},{name:"F1ashko",twitchUsername:"f1ashko",avatar:null,isLive:!1,category:null,originalIndex:1},{name:"Krabick",twitchUsername:"krabick",avatar:null,isLive:!1,category:null,originalIndex:2},{name:"Kati",twitchUsername:"Kati",avatar:null,isLive:!1,category:null,originalIndex:3},{name:"Timofey",twitchUsername:"Timofey",avatar:null,isLive:!1,category:null,originalIndex:4}]),U=i(()=>-1!==r.value&&a.value.length?a.value[r.value]:""),E=i(()=>D.value.length?D.value[z.value]:null),M=()=>{var e=window.pageYOffset||document.documentElement.scrollTop,a=window.innerHeight,t=document.documentElement.scrollHeight;I.value=e+a>=t-10},P=(e,a)=>{try{return localStorage.getItem(e)}catch(t){return console.warn(`localStorage error: ${t.message}`),L[a]?JSON.stringify(L[a]):null}},F=(e,a,t)=>{try{localStorage.setItem(e,a)}catch(r){console.warn(`localStorage error: ${r.message}`);try{L[t]=JSON.parse(a)}catch(n){console.error("safeSaveToStorage:",n)}}},$=function(){var e=l(n().m(function e(){var a,t,r,o,i,s,c,d,u,v;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!T){e.n=1;break}return e.a(2);case 1:if(!(a=P(xe,"twitch"))){e.n=5;break}if(e.p=2,t=JSON.parse(a),r=t.timestamp,o=t.data,!(Date.now()-r<ye)){e.n=3;break}return N(o),e.a(2);case 3:e.n=5;break;case 4:e.p=4,u=e.v,console.error("fetchTwitchData:",u);case 5:if(0!==(i=D.value.filter(e=>e.twitchUsername).map(e=>e.twitchUsername)).length){e.n=6;break}return e.a(2);case 6:return T=!0,e.p=7,s=i.map(function(){var e=l(n().m(function e(a){var t,r,o,i,l;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,x(a);case 1:if((t=e.v)&&t.user_info){e.n=2;break}return e.a(2,{username:a,isLive:!1,category:null,avatar:null});case 2:if(r=t.user_info,o=r.avatar_url||null,!(t.stream_data&&t.stream_data.length>0)){e.n=3;break}return i=t.stream_data[0],e.a(2,{username:a,isLive:!0,category:i.game_name||null,avatar:o});case 3:return e.a(2,{username:a,isLive:!1,category:null,avatar:o});case 4:e.n=6;break;case 5:return e.p=5,l=e.v,console.error(`Twitch error for ${a}:`,l),e.a(2,{username:a,isLive:!1,category:null,avatar:null});case 6:return e.a(2)}},e,null,[[0,5]])}));return function(a){return e.apply(this,arguments)}}()),e.n=8,Promise.all(s);case 8:c=e.v,d=JSON.stringify({timestamp:Date.now(),data:c}),F(xe,d,"twitch"),N(c),e.n=10;break;case 9:e.p=9,v=e.v,console.error("fetchTwitchData:",v);case 10:return e.p=10,T=!1,e.f(10);case 11:return e.a(2)}},e,null,[[7,9,10,11],[2,4]])}));return function(){return e.apply(this,arguments)}}(),N=e=>{D.value=D.value.map(a=>{if(!a.twitchUsername)return a;var r=e.find(e=>e.username.toLowerCase()===a.twitchUsername.toLowerCase());return r?t(t({},a),{},{isLive:r.isLive||!1,category:r.category||null,avatar:r.avatar||a.avatar}):a}).sort((e,a)=>e.isLive!==a.isLive?e.isLive?-1:1:e.originalIndex-a.originalIndex),z.value=0},Y=function(){var e=l(n().m(function e(){var t,r,o,i,l,s,c,d,u;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=(new Date).toISOString().split("T")[0],!(r=P(he,"donaters"))){e.n=4;break}if(e.p=1,o=JSON.parse(r),i=o.date,l=o.data,i!==t){e.n=2;break}return a.value=l,e.a(2);case 2:e.n=4;break;case 3:e.p=3,d=e.v,console.error("fetchDonaters:",d);case 4:return e.p=4,e.n=5,h();case 5:s=e.v,a.value=s.split("\n").map(e=>e.trim()).filter(e=>e),c=JSON.stringify({date:t,data:a.value}),F(he,c,"donaters"),e.n=7;break;case 6:e.p=6,u=e.v,console.error("Ошибка загрузки донатеров:",u);case 7:return e.a(2)}},e,null,[[4,6],[1,3]])}));return function(){return e.apply(this,arguments)}}();function G(){if(a.value.length){var e=Math.floor(Math.random()*a.value.length);r.value=e}}function H(){0!==a.value.length&&(G(),S=setInterval(G,4e3))}function R(){D.value.length&&(z.value=(z.value+1)%D.value.length)}function V(){0!==D.value.length&&(O=setInterval(R,5e3))}return s(l(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Y();case 1:return H(),V(),window.addEventListener("scroll",M),M(),e.n=2,$();case 2:C=setInterval($,ye);case 3:return e.a(2)}},e)}))),c(()=>{S&&clearInterval(S),O&&clearInterval(O),C&&clearInterval(C),window.removeEventListener("scroll",M)}),(e,a)=>(y(),d("footer",{class:g({"footer-fixed":!I.value,"footer-static":I.value})},[u("div",ne,[a[2]||(a[2]=u("span",{class:"donaters-text"},"Спасибо топ донатерам",-1)),u("div",oe,[v(b,{name:"fade",mode:"out-in"},{default:p(()=>[E.value?(y(),d("a",{key:z.value,href:E.value.twitchUsername?`https://twitch.tv/${E.value.twitchUsername}`:void 0,target:E.value.twitchUsername?"_blank":void 0,rel:E.value.twitchUsername?"noopener noreferrer":void 0,class:g(["donor-card",{"is-live":E.value.isLive,"no-link":!E.value.twitchUsername}])},[u("div",le,[u("div",{class:"donor-avatar",style:w({backgroundImage:E.value.avatar?`url(${E.value.avatar})`:"linear-gradient(135deg, #9147ff 0%, #5a1f99 100%)"})},[E.value.avatar?k("",!0):(y(),d("div",se,_(E.value.name.charAt(0).toUpperCase()),1)),E.value.isLive?(y(),d("div",ce,a[0]||(a[0]=[u("span",{class:"live-indicator"},null,-1),j(" LIVE ")]))):k("",!0)],4)]),u("div",de,[u("div",ue,_(E.value.name),1),E.value.isLive&&E.value.category?(y(),d("div",ve,_(E.value.category),1)):E.value.isLive?(y(),d("div",pe,"В эфире")):(y(),d("div",be,"Не в сети"))]),E.value.twitchUsername?(y(),d("div",fe,a[1]||(a[1]=[u("svg",{viewBox:"0 0 24 24",fill:"currentColor",width:"14",height:"14"},[u("path",{d:"M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0L1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143l-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"})],-1)]))):k("",!0)],10,ie)):k("",!0)]),_:1}),u("div",me,[(y(!0),d(f,null,m(D.value,(e,a)=>(y(),d("button",{key:a,class:g({active:a===z.value}),onClick:e=>function(e){z.value=e,O&&(clearInterval(O),O=setInterval(R,5e3))}(a)},null,10,ge))),128))])]),a[3]||(a[3]=u("span",{class:"donaters-text"},"а так же",-1)),v(b,{name:"fade",mode:"out-in"},{default:p(()=>[U.value?(y(),d("span",{key:r.value,class:"donater"},_(U.value),1)):k("",!0)]),_:1})])],2))}},we=r(ke,[["__scopeId","data-v-e22a0e66"]]),_e={class:"modal modern-dark-dialog random-movie-modal"},je={class:"modal-content"},ze={key:0,class:"loading-container"},Ie={key:1,class:"movie-content"},Se={class:"movie-poster-section"},Oe=["alt"],Ce={class:"movie-info-section"},Le={class:"movie-title"},Te={key:0,class:"movie-year"},De={key:1,class:"movie-type"},Ue={key:2,class:"movie-countries"},Ee={key:3,class:"movie-genres"},Me={class:"ratings"},Pe={key:0,class:"rating rating-our"},Fe={key:1,class:"rating rating-kp"},$e={key:2,class:"rating rating-imdb"},Ne={class:"external-links"},Ye=["href"],Ge=["href"],He={key:2,class:"error-content"},Re={class:"modal-actions"},Ve=["disabled"],Be={__name:"RandomMovieModal",props:{isOpen:Boolean,movie:Object,loading:Boolean,error:String},emits:["close","get-new-movie"],setup(e,a){var t=a.emit,r=()=>{t("close")},n=()=>{t("get-new-movie")},o=e=>{e.target.src="/src/assets/image-no-poster.gif"};return(a,t)=>{var i=I("router-link"),l=S("lazy");return y(),z(b,{name:"modal"},{default:p(()=>{return[e.isOpen?(y(),d("div",{key:0,class:"modal-overlay",onClick:O(r,["self"])},[u("div",_e,[u("div",{class:"modal-header"},[t[1]||(t[1]=u("h3",null,[u("i",{class:"fas fa-dice"}),j(" Случайный фильм ")],-1)),u("button",{class:"close-btn",onClick:r},t[0]||(t[0]=[u("i",{class:"fas fa-times"},null,-1)]))]),u("div",je,[e.loading?(y(),d("div",ze,t[2]||(t[2]=[u("div",{class:"spinner"},null,-1),u("p",null,"Подбираем фильм...",-1)]))):e.movie?(y(),d("div",Ie,[u("div",Se,[C(u("img",{alt:e.movie.title,class:"movie-poster",onError:o},null,40,Oe),[[l,e.movie.cover]])]),u("div",Ce,[u("h4",Le,_(e.movie.title),1),e.movie.year?(y(),d("div",Te,_(e.movie.year),1)):k("",!0),e.movie.type?(y(),d("div",De,_((a=e.movie.type,{"FilmType.FILM":"Фильм","FilmType.TV_SERIES":"Сериал","FilmType.TV_SHOW":"ТВ-шоу","FilmType.MINI_SERIES":"Мини-сериал"}[a]||a)),1)):k("",!0),e.movie.countries?(y(),d("div",Ue,[t[3]||(t[3]=u("strong",null,"Страны:",-1)),j(" "+_(e.movie.countries),1)])):k("",!0),e.movie.genres?(y(),d("div",Ee,[t[4]||(t[4]=u("strong",null,"Жанры:",-1)),j(" "+_(e.movie.genres),1)])):k("",!0),u("div",Me,[e.movie.rating_reyohoho?(y(),d("div",Pe,[t[5]||(t[5]=u("img",{src:ae,alt:"ReYohoho",class:"rating-logo"},null,-1)),j(" "+_(e.movie.rating_reyohoho.toFixed(1)),1)])):k("",!0),e.movie.rating_kp?(y(),d("div",Fe,[t[6]||(t[6]=u("img",{src:te,alt:"КП",class:"rating-logo"},null,-1)),j(" "+_(e.movie.rating_kp),1)])):k("",!0),e.movie.rating_imdb?(y(),d("div",$e,[t[7]||(t[7]=u("img",{src:re,alt:"IMDb",class:"rating-logo"},null,-1)),j(" "+_(e.movie.rating_imdb),1)])):k("",!0)]),u("div",Ne,[e.movie.url_kp?(y(),d("a",{key:0,href:e.movie.url_kp,target:"_blank",class:"external-link"},t[8]||(t[8]=[u("img",{src:te,alt:"КП"},null,-1),j(" Кинопоиск ")]),8,Ye)):k("",!0),e.movie.url_imdb?(y(),d("a",{key:1,href:e.movie.url_imdb,target:"_blank",class:"external-link"},t[9]||(t[9]=[u("img",{src:re,alt:"IMDb"},null,-1),j(" IMDb ")]),8,Ge)):k("",!0)])])])):e.error?(y(),d("div",He,[t[10]||(t[10]=u("i",{class:"fas fa-exclamation-triangle"},null,-1)),u("p",null,_(e.error),1)])):k("",!0)]),u("div",Re,[u("button",{class:"modern-dark-btn",onClick:r},"Закрыть"),e.movie&&!e.loading?(y(),z(i,{key:0,to:{name:"movie-info",params:{kp_id:e.movie.kp_id}},class:"modern-dark-btn primary",onClick:r},{default:p(()=>t[11]||(t[11]=[j(" Посмотреть ")])),_:1},8,["to"])):k("",!0),u("button",{class:"modern-dark-btn primary",disabled:e.loading,onClick:n},t[12]||(t[12]=[u("i",{class:"fas fa-dice"},null,-1),j(" Еще раз ")]),8,Ve)])])])):k("",!0)];var a}),_:1})}}},Je=r(Be,[["__scopeId","data-v-ab41b1b2"]]),Ke={class:"wrapper"},We={class:"mainpage"},Ae={class:"search-type-buttons"},qe=["disabled"],Xe={class:"search-container"},Qe={class:"input-wrapper"},Ze=["placeholder","inputmode","onKeydown"],ea={class:"icons"},aa={class:"content-container"},ta={key:0},ra={key:0},na={key:0,class:"loading-container"},oa={key:1,class:"empty-history"},ia={key:2},la={key:0,class:"no-results"},sa={key:3,class:"search-prompt"},ca={__name:"MovieSearch",setup(e){var a=L(),r=T(),c=N(),p=o("title"),b=o(""),f=o([]),m=o(!1),h=o(!1),x=o(!1),w=o(""),I=o(null),S=i(()=>a.isMobile),ae=o([]),te=o(!1),re=o(""),ne=o(!1),oe=o(null),ie=o(!1),le=o(""),se=o(null);function ce(e){ae.value=ae.value.filter(a=>a.kp_id!==e)}D(l(n().m(function e(){var t,o,i,l;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!r.token){e.n=7;break}return m.value=!0,e.p=1,e.n=2,K(W.HISTORY);case 2:ae.value=e.v,e.n=5;break;case 3:if(e.p=3,l=e.v,t=R(l),o=t.message,i=t.code,w.value=o,I.value=i,console.error("Ошибка загрузки истории:",l),401!==i){e.n=5;break}return r.logout(),e.n=4,c.push("/login");case 4:c.go(0);case 5:return e.p=5,m.value=!1,e.f(5);case 6:e.n=8;break;case 7:ae.value=a.history;case 8:return e.a(2)}},e,null,[[1,3,5,6]])})));var de=e=>{p.value=e,pe(),te.value=!1},ue=e=>{if(w.value="",I.value=null,"title"===p.value){if(b.value=e.target.value,S.value)return;te.value=V(b.value),te.value&&(re.value=B(b.value))}else b.value=e.target.value.replace(/\D+/g,"")},ve=()=>{te.value&&(b.value=A(b.value),te.value=!1)},pe=()=>{var e;b.value="",f.value=[],h.value=!1,te.value=!1,w.value="",I.value=null,null===(e=se.value)||void 0===e||e.focus()},be=()=>{ge.cancel(),b.value&&(w.value="",I.value=null,fe())},fe=function(){var e=l(n().m(function e(){var a,r,o,i,l,s,d,u;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(m.value=!0,h.value=!0,f.value=[],e.p=1,"kinopoisk"!==p.value){e.n=2;break}return/^\d+$/.test(b.value)||(b.value=b.value.replace(/\D/g,"")),c.push({name:"movie-info",params:{kp_id:b.value}}),e.a(2);case 2:if("imdb"!==p.value){e.n=6;break}return/^\d+$/.test(b.value)||(b.value=b.value.replace(/\D/g,"")),e.n=3,Y(b.value);case 3:if(!(a=e.v).id_kp){e.n=4;break}c.push({name:"movie-info",params:{kp_id:`${a.id_kp}`}}),e.n=5;break;case 4:throw new Error("Не найдено");case 5:return e.a(2);case 6:if("shikimori"!==p.value){e.n=12;break}return/^\d+$/.test(b.value)||(b.value=b.value.replace(/\D/g,"")),e.p=7,e.n=8,G(b.value);case 8:if(!(r=e.v).id_kp){e.n=9;break}return c.push({name:"movie-info",params:{kp_id:`${r.id_kp}`}}),e.a(2);case 9:e.n=11;break;case 10:e.p=10,d=e.v,console.log("Switch to kodik",d);case 11:return c.push({name:"movie-info-shiki",params:{shiki_id:`shiki${b.value}`}}),e.a(2);case 12:if("title"!==p.value){e.n=14;break}return e.n=13,H(b.value);case 13:o=e.v,f.value=o.map(e=>{var a,r,n;return t(t({},e),{},{kp_id:e.id.toString(),rating_kp:"null"!==(null===(a=e.raw_data)||void 0===a?void 0:a.rating)?null===(r=e.raw_data)||void 0===r?void 0:r.rating:null,type:null===(n=e.raw_data)||void 0===n?void 0:n.type})});case 14:e.n=16;break;case 15:e.p=15,u=e.v,i=R(u),l=i.message,s=i.code,w.value=l,I.value=s,console.error("Ошибка при поиске:",u);case 16:return e.p=16,m.value=!1,e.f(16);case 17:return e.a(2)}},e,null,[[7,10],[1,15,16,17]])}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=l(n().m(function e(){var t,o,i,l;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:if(m.value=!0,!r.token){e.n=7;break}return e.p=1,e.n=2,q(W.HISTORY);case 2:ae.value=[],m.value=!1,x.value=!1,e.n=6;break;case 3:if(e.p=3,l=e.v,t=R(l),o=t.message,i=t.code,w.value=o,I.value=i,console.error("Ошибка загрузки истории:",l),401!==i){e.n=5;break}return r.logout(),e.n=4,c.push("/login");case 4:c.go(0);case 5:m.value=!1,x.value=!1;case 6:e.n=8;break;case 7:a.clearAllHistory(),m.value=!1,x.value=!1;case 8:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ge=U(()=>{b.value.length>=2?fe():b.value.length<2&&(f.value=[],h.value=!1)},700);s(()=>{var e,a=window.location.hash;if(a.startsWith("#search=")){var t=decodeURIComponent(a.replace("#search=",""));b.value=t,fe()}else if(a.startsWith("#imdb=")){var r=decodeURIComponent(a.replace("#imdb=",""));de("imdb"),b.value=r,fe()}else if(a.startsWith("#shiki")){var n=decodeURIComponent(a.replace("#shiki",""));de("shikimori"),b.value=n,fe()}null===(e=se.value)||void 0===e||e.focus()}),E(b,()=>{"title"===p.value&&ge()});var he=()=>{if(f.value.length>0){var e=document.querySelector(".movie-card");e&&e.focus()}},xe=()=>{ne.value=!0,ke()},ye=()=>{ne.value=!1,oe.value=null,le.value=""},ke=function(){var e=l(n().m(function e(){var a,t,r,o;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return ie.value=!0,le.value="",e.p=1,e.n=2,J();case 2:a=e.v,oe.value=a,e.n=4;break;case 3:e.p=3,o=e.v,t=R(o),r=t.message,le.value=r,console.error("Ошибка при получении случайного фильма:",o);case 4:return e.p=4,ie.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return(e,a)=>(y(),d("div",Ke,[u("div",We,[u("div",Ae,[u("button",{class:g({active:"title"===p.value}),onClick:a[0]||(a[0]=e=>de("title"))}," Название ",2),u("button",{class:g({active:"kinopoisk"===p.value}),onClick:a[1]||(a[1]=e=>de("kinopoisk"))}," ID Кинопоиск ",2),u("button",{class:g({active:"shikimori"===p.value}),onClick:a[2]||(a[2]=e=>de("shikimori"))}," ID Shikimori ",2),u("button",{class:g({active:"imdb"===p.value}),onClick:a[3]||(a[3]=e=>de("imdb"))}," ID IMDB ",2),u("button",{class:"random-button",onClick:xe,disabled:ie.value},[a[7]||(a[7]=u("i",{class:"fas fa-dice"},null,-1)),j(" "+_(ie.value?"Подбираем...":"Случайный фильм"),1)],8,qe)]),u("div",Xe,[u("div",Qe,[C(u("input",{ref_key:"searchInput",ref:se,"onUpdate:modelValue":a[4]||(a[4]=e=>b.value=e),placeholder:{title:"Введите название фильма",kinopoisk:"Пример: 301 (Матрица)",shikimori:"Пример: 28171 (Повар-боец Сома)",imdb:"Пример: 0198781 (Корпорация монстров)"}[p.value]||"Введите название фильма",class:g(["search-input",{"wrong-layout":te.value}]),inputmode:"title"===p.value?"text":"numeric",onKeydown:[P(O(be,["prevent"]),["enter"]),P(O(ve,["prevent"]),["tab"]),P(O(he,["prevent"]),["down"])],onInput:ue},null,42,Ze),[[M,b.value]]),u("div",ea,[b.value?(y(),d("button",{key:0,class:"reset-button",onClick:pe},a[8]||(a[8]=[u("i",{class:"fas fa-times"},null,-1)]))):k("",!0),u("button",{class:"search-button",onClick:be},a[9]||(a[9]=[u("i",{class:"fas fa-search"},null,-1)]))]),te.value?(y(),d("div",{key:0,class:g(["layout-warning",{show:te.value}])},[a[10]||(a[10]=u("i",{class:"fas fa-keyboard"},null,-1)),j(" Возможно, вы используете неправильную раскладку. Нажмите Tab для переключения на "+_(re.value)+" раскладку ",1)],2)):k("",!0)])]),u("div",aa,[b.value?k("",!0):(y(),d("div",ta,[u("h2",null,[a[11]||(a[11]=j(" История просмотра ")),ae.value.length>0?(y(),d("span",ra,[v(Q,{onClick:a[5]||(a[5]=e=>x.value=!0)}),v(X,{"is-open":x.value,message:"Вы уверены, что хотите очистить историю?",onConfirm:me,onClose:a[6]||(a[6]=e=>x.value=!1)},null,8,["is-open"])])):k("",!0)]),m.value?(y(),d("div",na,[v(ee)])):0===ae.value.length?(y(),d("div",oa,a[12]||(a[12]=[u("span",{class:"material-icons"},"movie",-1),u("p",null,"Здесь пока пусто",-1)]))):(y(),z(F(Z),{key:2,"movies-list":ae.value,"is-history":!0,loading:!1,onItemDeleted:ce},null,8,["movies-list"]))])),!b.value&&w.value?(y(),z($,{key:1,message:w.value,code:I.value},null,8,["message","code"])):k("",!0),h.value?(y(),d("div",ia,[a[13]||(a[13]=u("h2",null,"Результаты поиска",-1)),v(F(Z),{"movies-list":f.value,"is-history":!1,loading:m.value},null,8,["movies-list","loading"]),0!==f.value.length||m.value||w.value?k("",!0):(y(),d("div",la," Ничего не найдено ")),w.value?(y(),z($,{key:1,message:w.value,code:I.value},null,8,["message","code"])):k("",!0)])):k("",!0),!b.value||h.value||m.value||w.value?k("",!0):(y(),d("div",sa,' Нажмите кнопку "Поиск" или Enter для поиска '))])]),v(we),v(Je,{"is-open":ne.value,movie:oe.value,loading:ie.value,error:le.value,onClose:ye,onGetNewMovie:ke},null,8,["is-open","movie","loading","error"])]))}};e("default",r(ca,[["__scopeId","data-v-05c02d79"]]))}}})}();

import{_ as Me,r as f,c as N,b as r,d as n,e,s as B,t as v,K as Q,g as c,L as he,n as _,q as Ft,u as Ee,i as Wt,N as zt,z as qt,l as pe,o as Te,O as Yt,x as ue,E as Gt,f as le,P as Ne,m as C,Q as I,y as x,U as b,R as fo,D as He,S as xe,V as ko,W as Xt,X as yo,Y as Dt,Z as go,$ as bo,a as _o,a0 as Nt,a1 as Ht,a2 as $o,a3 as Ot,a4 as wo,a5 as ho}from"./index-BkkmlONv.js";import{S as Zt,_ as Mo,a as Bt,b as Kt,M as Vt}from"./MovieList-BJzRLx1f.js";import{N as Oe}from"./ToastMessage-HdursYKc.js";import{u as Co,S as Ao,a as Io}from"./trailer-D6M4iY79.js";const me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Eo="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",De=k=>{const g=document.createElement("div");g.style.position="fixed",g.style.top="0",g.style.left="0",g.style.width="100%",g.style.height="100%",g.style.backgroundColor="rgba(0, 0, 0, 0.8)",g.style.color="white",g.style.display="flex",g.style.justifyContent="center",g.style.alignItems="center",g.style.fontSize="2rem",g.style.zIndex="99000",g.textContent=k,document.body.appendChild(g),setTimeout(()=>{document.body.removeChild(g)},2e3)},To={class:"modal-content"},Ro={key:0},Lo={key:1},Po={class:"players-list"},So=["onClick"],xo={key:0,class:"warning-icon material-icons",title:"Внимание!"},Do={key:0},No={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ho={key:1},Oo={key:0,class:"warning-icon material-icons",title:"Внимание!"},Bo=["onClick"],Ko={key:0,class:"warning-icon material-icons",title:"Внимание!"},Vo={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(k,{emit:g}){const H=k,P=g,E=f(null),U=N(()=>H.players.filter(l=>!h(l)&&!o(l))),$=N(()=>H.players.some(l=>h(l))),S=N(()=>H.players.some(l=>o(l))),h=l=>l.key.toUpperCase().includes("HDREZKA"),o=l=>l.key.toUpperCase().includes("KODIK"),A=l=>l.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),R=l=>{P("select",l),P("close")},K=l=>H.selectedPlayer&&H.selectedPlayer.key===l.key,w=l=>{E.value=l},O=()=>{E.value=null},z=l=>{let u=H.players.filter(d=>l==="hdrezka"&&h(d)||l==="kodik"&&o(d));return l==="kodik"?u.sort((d,T)=>A(d.translate).localeCompare(A(T.translate))):u},y=l=>z(l).some(u=>u.warning);return(l,u)=>(n(),r("div",{class:"modal",onClick:u[3]||(u[3]=Ft(d=>l.$emit("close"),["self"]))},[e("div",To,[e("button",{class:"close",onClick:u[0]||(u[0]=d=>l.$emit("close"))},"×"),E.value?(n(),r("h2",Lo,[e("button",{class:"back-btn",onClick:O},"← Назад"),B(" "+v(E.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(n(),r("h2",Ro,"Выберите плеер")),e("ul",Po,[E.value?(n(!0),r(Q,{key:1},he(z(E.value),d=>(n(),r("li",{key:d.key},[e("button",{class:_(["player-item",{active:K(d)}]),onClick:T=>R(d)},[B(v(A(d.translate))+" ",1),d.warning?(n(),r("span",Ko,"warning")):c("",!0)],10,Bo)]))),128)):(n(),r(Q,{key:0},[(n(!0),r(Q,null,he(U.value,d=>(n(),r("li",{key:d.key},[e("button",{class:_(["player-item",{active:K(d)}]),onClick:T=>R(d)},[B(v(A(d.translate))+" ",1),d.warning?(n(),r("span",xo,"warning")):c("",!0)],10,So)]))),128)),$.value?(n(),r("li",Do,[e("button",{class:"group-item",onClick:u[1]||(u[1]=d=>w("hdrezka"))},[u[4]||(u[4]=e("span",{class:"material-icons group-icon"},"folder",-1)),u[5]||(u[5]=B(" ReYohoho - HDrezka ")),y("hdrezka")?(n(),r("span",No,"warning")):c("",!0)])])):c("",!0),S.value?(n(),r("li",Ho,[e("button",{class:"group-item",onClick:u[2]||(u[2]=d=>w("kodik"))},[u[6]||(u[6]=e("span",{class:"material-icons group-icon"},"folder",-1)),u[7]||(u[7]=B(" Kodik ")),y("kodik")?(n(),r("span",Oo,"warning")):c("",!0)])])):c("",!0)],64))])])]))}},Uo=Me(Vo,[["__scopeId","data-v-7e4f2528"]]),Fo={class:"players-list"},Wo=["src"],zo={key:1,class:"controls"},qo={class:"main-controls"},Yo={class:"material-icons"},Go={class:"list-button-item"},Xo={class:"material-icons"},Zo={class:"list-button-item"},jo={class:"material-icons"},Qo={class:"list-button-item"},Jo={class:"list-button-item"},es={class:"material-icons"},ts={class:"list-button-item"},os={class:"material-icons"},ss={class:"tooltip-container"},ns={class:"material-icons"},ls={class:"tooltip-container"},is={class:"tooltip-container"},as={class:"tooltip-container"},rs={class:"tooltip-container"},us={class:"material-symbols-outlined"},vs={class:"custom-tooltip"},ds={class:"tooltip-container"},cs={class:"current-ratio"},ms=["onClick"],ps={key:0,class:"tooltip-container"},fs={class:"custom-tooltip"},ks={key:1,class:"tooltip-container"},ys={class:"custom-tooltip"},gs={key:0,class:"desktop-list-buttons"},bs={class:"tooltip-container"},_s={class:"material-icons"},$s={class:"custom-tooltip"},ws={class:"tooltip-container"},hs={class:"material-icons"},Ms={class:"custom-tooltip"},Cs={class:"tooltip-container"},As={class:"custom-tooltip"},Is={class:"tooltip-container"},Es={class:"material-icons"},Ts={class:"custom-tooltip"},Rs={class:"tooltip-container"},Ls={class:"material-icons"},Ps={class:"custom-tooltip"},Ss={key:1,class:"mobile-list-buttons"},xs={class:"tooltip-container"},Ds={class:"material-icons"},Ns={class:"custom-tooltip"},Hs={class:"tooltip-container"},Os={class:"material-icons"},Bs={class:"custom-tooltip"},Ks={class:"tooltip-container"},Vs={class:"custom-tooltip"},Us={class:"tooltip-container"},Fs={class:"material-icons"},Ws={class:"custom-tooltip"},zs={class:"tooltip-container"},qs={class:"material-icons"},Ys={class:"custom-tooltip"},Gs={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(k,{emit:g}){const H=Ee(),P=Co(),E=Wt(),U=zt(),$=qt(),S=f(U.params.kp_id),h=k,o=g,A=f([]),R=f(null),K=f(!0),w=f(!1),O=f(!1),z=f(null),y=f(null),l=f(!1),u=f(""),d=f(null),T=f(window.innerHeight*.9),ie=N(()=>"".concat(T.value,"px")),Z=N(()=>H.isMobile),F=N(()=>!!window.electronAPI),m=f(null),ae=f(!1);let ve=null;const p=f(null),s=f(null),L=f(null),j=()=>{if(!s.value||!L.value)return;const a=s.value.getBoundingClientRect(),t=L.value.getBoundingClientRect(),D=window.innerHeight;a.bottom+t.height>D?(L.value.style.top="auto",L.value.style.bottom="100%",L.value.style.marginTop="0",L.value.style.marginBottom="12px",L.value.style.transform="translateX(-50%)"):(L.value.style.top="100%",L.value.style.bottom="auto",L.value.style.marginTop="12px",L.value.style.marginBottom="0",L.value.style.transform="translateX(-50%)")},M=a=>{m.value=a,ae.value=!1,clearTimeout(ve),xe(()=>{j()})},q=()=>{ae.value||(ve=setTimeout(()=>{m.value=null},300))},de=()=>{ae.value=!0,clearTimeout(ve)},re=()=>{ae.value=!1,m.value=null},X=N({get:()=>P.aspectRatio,set:a=>P.updateAspectRatio(a)}),W=N({get:()=>P.isCentered,set:a=>P.updateCentering(a)}),Y=N(()=>{var a,t,D,G,J,ee,te,oe,se,ne;return((t=(a=h.movieInfo)==null?void 0:a.lists)==null?void 0:t.isFavorite)||((G=(D=h.movieInfo)==null?void 0:D.lists)==null?void 0:G.isWatching)||((ee=(J=h.movieInfo)==null?void 0:J.lists)==null?void 0:ee.isLater)||((oe=(te=h.movieInfo)==null?void 0:te.lists)==null?void 0:oe.isCompleted)||((ne=(se=h.movieInfo)==null?void 0:se.lists)==null?void 0:ne.isAbandoned)}),fe=N(()=>P.preferredPlayer),ke=f(0),ce=a=>a.toUpperCase(),Re=()=>{if(w.value||!y.value)return;const[a,t]=X.value.split(":").map(Number);T.value=window.innerHeight*.9,ke.value=Math.min(y.value.clientWidth*(t/a),T.value)},jt=N(()=>{if(w.value)return{};const[a,t]=X.value.split(":").map(Number),D=T.value*(a/t);return{width:"100%",maxWidth:"".concat(D,"px"),maxHeight:ie.value,margin:"0 auto",overflow:"hidden"}}),Qt=N(()=>{const[a,t]=X.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(t/a*100,"%")}}),ye=()=>{y.value&&setTimeout(()=>{xe(()=>{y.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Jt=async()=>{try{u.value="",d.value=null;const a=await fo(h.kpId);if(A.value=Object.entries(a).map(([t,D])=>({key:t.toUpperCase(),...D})),A.value.length>0){if(fe.value){const t=ce(fe.value),D=A.value.find(G=>ce(G.key)===t);R.value=D||A.value[0]}else R.value=A.value[0];o("update:selectedPlayer",R.value)}}catch(a){const{message:t,code:D}=He(a);u.value=t,d.value=D,console.error("Ошибка при загрузке плееров:",a)}},eo=()=>{l.value=!0},Be=()=>{l.value=!1},to=a=>{var t;if(((t=R.value)==null?void 0:t.key)===a.key){Be();return}R.value=a,K.value=!0,P.updatePreferredPlayer(ce(a.key)),o("update:selectedPlayer",a)},oo=()=>{F.value?window.electronAPI.sendHotKey("F2"):(De("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},so=()=>{F.value?window.electronAPI.sendHotKey("F3"):(De("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},no=()=>{F.value?window.electronAPI.sendHotKey("F4"):(De("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},Ce=()=>{w.value=!w.value,w.value?(window.addEventListener("mousemove",Le),document.addEventListener("keydown",Pe),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Le),document.removeEventListener("keydown",Pe),document.body.classList.remove("no-scroll")),O.value=w.value,xe(()=>ye())},Ke=f(null),Le=()=>{Ke.value=setTimeout(()=>{clearTimeout(Ke.value),O.value=!1},4e3),O.value=!0},Ae=N(()=>H.dimmingEnabled),lo=()=>{w.value||H.toggleDimming()},Pe=a=>{(a.key==="Escape"&&w.value||a.altKey&&a.keyCode===84)&&Ce()},Ve=a=>{X.value=a,setTimeout(()=>{W.value&&ye()},310)},io=()=>{const a="reyohoho://#".concat(S.value);try{window.location.href=a}catch(t){console.error("Ошибка при открытии ссылки:",t)}},ao=()=>{const a=window.location.href;navigator.clipboard.writeText(a).then(()=>{}),p.value.showNotification("Ссылка на фильм скопирована")},ro=()=>{K.value=!1};function uo(a){return a.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"KODIK - ").trim()}pe(R,a=>{a&&(K.value=!0,P.updatePreferredPlayer(ce(a.key)),o("update:selectedPlayer",a))}),pe(()=>U.params.kp_id,async a=>{a&&a!==S.value&&(S.value=a,W.value&&ye())},{immediate:!0});const Ie=["16:9","12:5","4:3"],vo=()=>{const t=(Ie.indexOf(X.value)+1)%Ie.length;Ve(Ie[t])},co=a=>{var D,G,J,ee,te,oe,se,ne,ge,be,_e,$e,we;return(we={[b.FAVORITE]:((G=(D=h.movieInfo)==null?void 0:D.lists)==null?void 0:G.isFavorite)||!1,[b.HISTORY]:((ee=(J=h.movieInfo)==null?void 0:J.lists)==null?void 0:ee.isHistory)||!1,[b.LATER]:((oe=(te=h.movieInfo)==null?void 0:te.lists)==null?void 0:oe.isLater)||!1,[b.COMPLETED]:((ne=(se=h.movieInfo)==null?void 0:se.lists)==null?void 0:ne.isCompleted)||!1,[b.ABANDONED]:((be=(ge=h.movieInfo)==null?void 0:ge.lists)==null?void 0:be.isAbandoned)||!1,[b.WATCHING]:(($e=(_e=h.movieInfo)==null?void 0:_e.lists)==null?void 0:$e.isWatching)||!1}[a])!=null?we:!1},V=async a=>{if(!E.token){p.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:mo});return}try{const t={[b.FAVORITE]:"избранное",[b.HISTORY]:"историю",[b.LATER]:'список "Смотреть позже"',[b.COMPLETED]:'список "Просмотрено"',[b.ABANDONED]:'список "Брошено"',[b.WATCHING]:'список "Смотрю"'};co(a)?(await ko(S.value,a),p.value.showNotification("Удалено из ".concat(t[a]))):(await Xt(S.value,a),p.value.showNotification("Добавлено в ".concat(t[a])))}catch(t){const{message:D,code:G}=He(t);p.value.showNotification("".concat(D," ").concat(G))}o("update:movieInfo")},mo=()=>{$.push("/login")},Se=N(()=>P.showFavoriteTooltip),po=()=>{$.push("/settings"),re()};return Te(()=>{K.value=!0,Jt(),Z.value&&(X.value="4:3"),Re(),window.addEventListener("resize",Re),window.addEventListener("resize",j),W.value&&ye()}),Yt(()=>{window.removeEventListener("resize",Re),window.removeEventListener("resize",j),window.removeEventListener("mousemove",Le),document.removeEventListener("keydown",Pe),document.body.classList.remove("no-scroll")}),(a,t)=>{var D,G,J,ee,te,oe,se,ne,ge,be,_e,$e,we,Ue,Fe,We,ze,qe,Ye,Ge,Xe,Ze,je,Qe,Je,et,tt,ot,st,nt,lt,it,at,rt,ut,vt,dt,ct,mt,pt,ft,kt,yt,gt,bt,_t,$t,wt,ht,Mt,Ct,At,It,Et,Tt,Rt,Lt,Pt,St,xt;return u.value?(n(),ue(Gt,{key:0,message:u.value,code:d.value},null,8,["message","code"])):(n(),r(Q,{key:1},[e("div",Fo,[t[54]||(t[54]=e("span",null,"Плеер:",-1)),e("button",{class:"player-btn",onClick:eo},v(R.value?uo(R.value.translate).toUpperCase():"Загрузка плееров..."),1)]),l.value?(n(),ue(Uo,{key:0,players:A.value,"selected-player":R.value,onClose:Be,onSelect:to},null,8,["players","selected-player"])):c("",!0),e("div",{ref_key:"containerRef",ref:y,class:_(["player-container",{"theater-mode":w.value}]),style:Ne(w.value?{}:jt.value)},[e("div",{class:"iframe-wrapper",style:Ne(w.value?{}:Qt.value)},[C(e("iframe",{ref_key:"playerIframe",ref:z,src:(D=R.value)==null?void 0:D.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:_(["responsive-iframe",{"theater-mode-unlock":O.value,"theater-mode-lock":w.value,dimmed:Ae.value}]),onLoad:ro},null,42,Wo),[[I,!K.value&&((G=R.value)==null?void 0:G.iframe)]]),K.value?(n(),ue(Zt,{key:0})):c("",!0)],4),w.value?(n(),r("button",{key:0,class:_(["close-theater-btn",{visible:O.value}]),onClick:Ce}," ✖ ",2)):c("",!0)],6),w.value?c("",!0):(n(),r("div",zo,[e("div",qo,[Z.value?c("",!0):(n(),r("div",{key:0,ref_key:"tooltipContainer",ref:s,class:"tooltip-container list-buttons-container"},[Se.value?(n(),r("button",{key:0,class:_(["favorite-btn",{active:(ee=(J=k.movieInfo)==null?void 0:J.lists)==null?void 0:ee.isFavorite}]),onMouseenter:t[0]||(t[0]=i=>M("favorite")),onMouseleave:q,onClick:t[1]||(t[1]=i=>V(x(b).FAVORITE))},[e("span",Yo,v((oe=(te=k.movieInfo)==null?void 0:te.lists)!=null&&oe.isFavorite?"favorite":"favorite_border"),1),e("span",{class:_(["material-icons dropdown-arrow",{highlighted:Y.value}])},"expand_more",2)],34)):c("",!0),C(e("div",{ref_key:"tooltip",ref:L,class:"custom-tooltip advanced-tooltip list-buttons-dropdown",onMouseenter:de,onMouseleave:re},[e("div",Go,[e("button",{class:_(["favorite-btn",{active:(ne=(se=k.movieInfo)==null?void 0:se.lists)==null?void 0:ne.isFavorite}]),onClick:t[2]||(t[2]=i=>V(x(b).FAVORITE))},[e("span",Xo,v((be=(ge=k.movieInfo)==null?void 0:ge.lists)!=null&&be.isFavorite?"favorite":"favorite_border"),1),t[55]||(t[55]=e("span",{class:"button-label"},"В избранное",-1))],2)]),e("div",Zo,[e("button",{class:_(["watching-btn",{active:($e=(_e=k.movieInfo)==null?void 0:_e.lists)==null?void 0:$e.isWatching}]),onClick:t[3]||(t[3]=i=>V(x(b).WATCHING))},[e("span",jo,v((Ue=(we=k.movieInfo)==null?void 0:we.lists)!=null&&Ue.isWatching?"visibility":"visibility_off"),1),t[56]||(t[56]=e("span",{class:"button-label"},"Смотрю",-1))],2)]),e("div",Qo,[e("button",{class:_(["later-btn",{active:(We=(Fe=k.movieInfo)==null?void 0:Fe.lists)==null?void 0:We.isLater}]),onClick:t[4]||(t[4]=i=>V(x(b).LATER))},t[57]||(t[57]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"Смотреть позже",-1)]),2)]),e("div",Jo,[e("button",{class:_(["completed-btn",{active:(qe=(ze=k.movieInfo)==null?void 0:ze.lists)==null?void 0:qe.isCompleted}]),onClick:t[5]||(t[5]=i=>V(x(b).COMPLETED))},[e("span",es,v((Ge=(Ye=k.movieInfo)==null?void 0:Ye.lists)!=null&&Ge.isCompleted?"check_circle":"check_circle_outline"),1),t[58]||(t[58]=e("span",{class:"button-label"},"Просмотрено",-1))],2)]),e("div",ts,[e("button",{class:_(["abandoned-btn",{active:(Ze=(Xe=k.movieInfo)==null?void 0:Xe.lists)==null?void 0:Ze.isAbandoned}]),onClick:t[6]||(t[6]=i=>V(x(b).ABANDONED))},[e("span",os,v(((Qe=(je=k.movieInfo)==null?void 0:je.lists)!=null&&Qe.isAbandoned,"not_interested")),1),t[59]||(t[59]=e("span",{class:"button-label"},"Брошено",-1))],2)]),e("div",{class:"tooltip-hint"},[t[61]||(t[61]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[t[60]||(t[60]=B("Стиль отображения можно изменить в ")),e("a",{class:"settings-link",onClick:po},"настройках")])])],544),[[I,m.value==="favorite"&&Se.value]])],512)),Z.value?c("",!0):(n(),r(Q,{key:1},[e("div",ss,[e("button",{class:_(["dimming-btn",{active:Ae.value}]),onMouseenter:t[7]||(t[7]=i=>M("dimming")),onMouseleave:t[8]||(t[8]=i=>m.value=null),onClick:lo},[e("span",ns,v(Ae.value?"light_mode":"dark_mode"),1)],34),C(e("div",{class:"custom-tooltip"},v(Ae.value?"Отключить затемнение":"Включить затемнение"),513),[[I,m.value==="dimming"]])]),e("div",ls,[e("button",{class:_(["blur-btn",{"electron-only":!F.value}]),onMouseenter:t[9]||(t[9]=i=>M("blur")),onMouseleave:t[10]||(t[10]=i=>m.value=null),onClick:oo},t[62]||(t[62]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),C(e("div",{class:"custom-tooltip"},v(F.value?"Блюр":"Блюр, функция доступна в приложении"),513),[[I,m.value==="blur"]])]),e("div",is,[e("button",{class:_(["material-symbols-outlined",{"electron-only":!F.value}]),onMouseenter:t[11]||(t[11]=i=>M("compressor")),onMouseleave:t[12]||(t[12]=i=>m.value=null),onClick:so},t[63]||(t[63]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),C(e("div",{class:"custom-tooltip"},v(F.value?"Компрессор":"Компрессор, функция доступна в приложении"),513),[[I,m.value==="compressor"]])]),e("div",as,[e("button",{class:_(["mirror-btn",{"electron-only":!F.value}]),onMouseenter:t[13]||(t[13]=i=>M("mirror")),onMouseleave:t[14]||(t[14]=i=>m.value=null),onClick:no},t[64]||(t[64]=[e("span",{class:"material-icons"},"flip",-1)]),34),C(e("div",{class:"custom-tooltip"},v(F.value?"Зеркало":"Зеркало, функция доступна в приложении"),513),[[I,m.value==="mirror"]])]),e("div",rs,[e("button",{class:"theater-mode-btn",onMouseenter:t[15]||(t[15]=i=>M("theater")),onMouseleave:t[16]||(t[16]=i=>m.value=null),onClick:Ce},[e("span",us,v(w.value?"fullscreen_exit":"aspect_ratio"),1)],32),C(e("div",vs,[B(v(w.value?"Выйти из театрального режима":"Театральный режим")+" ",1),t[65]||(t[65]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[I,m.value==="theater"]])]),e("div",ds,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:t[17]||(t[17]=i=>M("aspect_ratio")),onMouseleave:q,onClick:vo},[e("span",cs,v(X.value),1)],32),C(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown",onMouseenter:de,onMouseleave:re},[(n(),r(Q,null,he(Ie,i=>e("div",{key:i,class:_(["aspect-ratio-option",{active:X.value===i}]),onClick:tl=>Ve(i)},v(i),11,ms)),64))],544),[[I,m.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container",onMouseenter:t[19]||(t[19]=i=>M("centering")),onMouseleave:q},[e("button",{class:"center-btn",onClick:ye},t[66]||(t[66]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),C(e("div",{class:"custom-tooltip advanced-tooltip",onMouseenter:de,onMouseleave:re},[t[67]||(t[67]=B(" Отцентрировать плеер ")),le(Ao,{modelValue:W.value,"onUpdate:modelValue":t[18]||(t[18]=i=>W.value=i),title:"Автоцентрирование плеера"},null,8,["modelValue"]),t[68]||(t[68]=e("span",{class:"tooltip-title"},"Автоцентрирование плеера",-1))],544),[[I,m.value==="centering"]])],32),F.value?c("",!0):(n(),r("div",ps,[e("button",{class:"app-link-btn",onMouseenter:t[20]||(t[20]=i=>M("app_link")),onMouseleave:t[21]||(t[21]=i=>m.value=null),onClick:io},t[69]||(t[69]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),C(e("div",fs," Открыть в приложении ",512),[[I,m.value==="app_link"]])])),F.value?(n(),r("div",ks,[e("button",{class:"copy-link-btn",onMouseenter:t[22]||(t[22]=i=>M("copy_link")),onMouseleave:t[23]||(t[23]=i=>m.value=null),onClick:ao},t[70]||(t[70]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),C(e("div",ys," Скопировать ссылку ",512),[[I,m.value==="copy_link"]])])):c("",!0)],64))]),!Z.value&&!Se.value?(n(),r("div",gs,[e("div",bs,[e("button",{class:_(["favorite-btn",{active:(et=(Je=k.movieInfo)==null?void 0:Je.lists)==null?void 0:et.isFavorite}]),onMouseenter:t[24]||(t[24]=i=>M("favorite")),onMouseleave:t[25]||(t[25]=i=>m.value=null),onClick:t[26]||(t[26]=i=>V(x(b).FAVORITE))},[e("span",_s,v((ot=(tt=k.movieInfo)==null?void 0:tt.lists)!=null&&ot.isFavorite?"favorite":"favorite_border"),1)],34),C(e("div",$s,v("В избранное"),512),[[I,m.value==="favorite"]])]),e("div",ws,[e("button",{class:_(["watching-btn",{active:(nt=(st=k.movieInfo)==null?void 0:st.lists)==null?void 0:nt.isWatching}]),onMouseenter:t[27]||(t[27]=i=>M("watching")),onMouseleave:t[28]||(t[28]=i=>m.value=null),onClick:t[29]||(t[29]=i=>V(x(b).WATCHING))},[e("span",hs,v((it=(lt=k.movieInfo)==null?void 0:lt.lists)!=null&&it.isWatching?"visibility":"visibility_off"),1)],34),C(e("div",Ms,v("Смотрю"),512),[[I,m.value==="watching"]])]),e("div",Cs,[e("button",{class:_(["later-btn",{active:(rt=(at=k.movieInfo)==null?void 0:at.lists)==null?void 0:rt.isLater}]),onMouseenter:t[30]||(t[30]=i=>M("later")),onMouseleave:t[31]||(t[31]=i=>m.value=null),onClick:t[32]||(t[32]=i=>V(x(b).LATER))},t[71]||(t[71]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),C(e("div",As,v("Смотреть позже"),512),[[I,m.value==="later"]])]),e("div",Is,[e("button",{class:_(["completed-btn",{active:(vt=(ut=k.movieInfo)==null?void 0:ut.lists)==null?void 0:vt.isCompleted}]),onMouseenter:t[33]||(t[33]=i=>M("completed")),onMouseleave:t[34]||(t[34]=i=>m.value=null),onClick:t[35]||(t[35]=i=>V(x(b).COMPLETED))},[e("span",Es,v((ct=(dt=k.movieInfo)==null?void 0:dt.lists)!=null&&ct.isCompleted?"check_circle":"check_circle_outline"),1)],34),C(e("div",Ts,v("Просмотрено"),512),[[I,m.value==="completed"]])]),e("div",Rs,[e("button",{class:_(["abandoned-btn",{active:(pt=(mt=k.movieInfo)==null?void 0:mt.lists)==null?void 0:pt.isAbandoned}]),onMouseenter:t[36]||(t[36]=i=>M("abandoned")),onMouseleave:t[37]||(t[37]=i=>m.value=null),onClick:t[38]||(t[38]=i=>V(x(b).ABANDONED))},[e("span",Ls,v(((kt=(ft=k.movieInfo)==null?void 0:ft.lists)!=null&&kt.isAbandoned,"not_interested")),1)],34),C(e("div",Ps,v("Брошено"),512),[[I,m.value==="abandoned"]])])])):Z.value?(n(),r("div",Ss,[e("div",xs,[e("button",{class:_(["favorite-btn",{active:(gt=(yt=k.movieInfo)==null?void 0:yt.lists)==null?void 0:gt.isFavorite}]),onMouseenter:t[39]||(t[39]=i=>M("favorite")),onMouseleave:t[40]||(t[40]=i=>m.value=null),onClick:t[41]||(t[41]=i=>V(x(b).FAVORITE))},[e("span",Ds,v((_t=(bt=k.movieInfo)==null?void 0:bt.lists)!=null&&_t.isFavorite?"favorite":"favorite_border"),1)],34),C(e("div",Ns,v("В избранное"),512),[[I,m.value==="favorite"]])]),e("div",Hs,[e("button",{class:_(["watching-btn",{active:(wt=($t=k.movieInfo)==null?void 0:$t.lists)==null?void 0:wt.isWatching}]),onMouseenter:t[42]||(t[42]=i=>M("watching")),onMouseleave:t[43]||(t[43]=i=>m.value=null),onClick:t[44]||(t[44]=i=>V(x(b).WATCHING))},[e("span",Os,v((Mt=(ht=k.movieInfo)==null?void 0:ht.lists)!=null&&Mt.isWatching?"visibility":"visibility_off"),1)],34),C(e("div",Bs,v("Смотрю"),512),[[I,m.value==="watching"]])]),e("div",Ks,[e("button",{class:_(["later-btn",{active:(At=(Ct=k.movieInfo)==null?void 0:Ct.lists)==null?void 0:At.isLater}]),onMouseenter:t[45]||(t[45]=i=>M("later")),onMouseleave:t[46]||(t[46]=i=>m.value=null),onClick:t[47]||(t[47]=i=>V(x(b).LATER))},t[72]||(t[72]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),C(e("div",Vs,v("Смотреть позже"),512),[[I,m.value==="later"]])]),e("div",Us,[e("button",{class:_(["completed-btn",{active:(Et=(It=k.movieInfo)==null?void 0:It.lists)==null?void 0:Et.isCompleted}]),onMouseenter:t[48]||(t[48]=i=>M("completed")),onMouseleave:t[49]||(t[49]=i=>m.value=null),onClick:t[50]||(t[50]=i=>V(x(b).COMPLETED))},[e("span",Fs,v((Rt=(Tt=k.movieInfo)==null?void 0:Tt.lists)!=null&&Rt.isCompleted?"check_circle":"check_circle_outline"),1)],34),C(e("div",Ws,v("Просмотрено"),512),[[I,m.value==="completed"]])]),e("div",zs,[e("button",{class:_(["abandoned-btn",{active:(Pt=(Lt=k.movieInfo)==null?void 0:Lt.lists)==null?void 0:Pt.isAbandoned}]),onMouseenter:t[51]||(t[51]=i=>M("abandoned")),onMouseleave:t[52]||(t[52]=i=>m.value=null),onClick:t[53]||(t[53]=i=>V(x(b).ABANDONED))},[e("span",qs,v(((xt=(St=k.movieInfo)==null?void 0:St.lists)!=null&&xt.isAbandoned,"not_interested")),1)],34),C(e("div",Ys,v("Брошено"),512),[[I,m.value==="abandoned"]])])])):c("",!0)])),le(Oe,{ref_key:"notificationRef",ref:p},null,512)],64))}}},Ut=Me(Gs,[["__scopeId","data-v-165a8868"]]),Xs={key:0,class:"carousel-container"},Zs={class:"carousel-wrapper"},js=["onClick"],Qs=["src","alt"],Js={class:"video-name"},en={key:0,class:"video-player"},tn=["src"],on={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(k,{emit:g}){const H=Ee(),P=N(()=>H.isMobile),E=k,U=g,$=f(E.activeVideoIndex),S=f(null),h=f(!1),o=f(!1),A=()=>{if(!S.value)return;const{scrollLeft:y,scrollWidth:l,clientWidth:u}=S.value;h.value=y>0,o.value=y<l-u-1},R=y=>{if(!S.value)return;const l=S.value.querySelector(".carousel-item");if(!l)return;const u=l.clientWidth+16;S.value.scrollBy({left:u*y,behavior:"smooth"})},K=y=>{$.value=y,U("select",E.videos[y])},w=()=>A(),O=f([]),z=async y=>{try{return(await fetch("https://img.youtube.com/vi/".concat(y,"/0.jpg"))).ok}catch(l){return!1}};return Te(async()=>{const y=E.videos.map(async u=>await z(u.videoId)?u:null),l=await Promise.all(y);O.value=l.filter(Boolean),A(),window.addEventListener("resize",w)}),pe(()=>E.videos,async y=>{const l=y.map(async d=>await z(d.videoId)?d:null),u=await Promise.all(l);O.value=u.filter(Boolean)}),pe(()=>E.activeVideoIndex,y=>{$.value=y}),Yt(()=>{window.removeEventListener("resize",w)}),(y,l)=>O.value.length?(n(),r("div",Xs,[l[4]||(l[4]=e("h2",null,"Трейлеры (YouTube)",-1)),e("div",Zs,[C(e("button",{class:"scroll-button left",onClick:l[0]||(l[0]=u=>R(-1))},l[2]||(l[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[I,!P.value&&h.value]]),e("div",{ref_key:"carousel",ref:S,class:"carousel",onScroll:A},[(n(!0),r(Q,null,he(O.value,(u,d)=>(n(),r("div",{key:d,class:"carousel-item",onClick:T=>K(d)},[e("img",{src:"https://img.youtube.com/vi/".concat(u.videoId,"/0.jpg"),alt:u.name},null,8,Qs),e("div",Js,v(u.name),1)],8,js))),128))],544),C(e("button",{class:"scroll-button right",onClick:l[1]||(l[1]=u=>R(1))},l[3]||(l[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[I,!P.value&&o.value]])]),$.value!==null?(n(),r("div",en,[e("iframe",{src:k.videos[$.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,tn)])):c("",!0)])):c("",!0)}},sn=Me(on,[["__scopeId","data-v-5d54158b"]]),nn={class:"rating-container"},ln={class:"rating-display"},an={class:"average-rating"},rn={class:"rating-numbers"},un=["onClick","onMouseenter"],vn={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(k){const g=Ee(),H=qt(),P=k,E=f(null),U=f(null),$=f(null),S=f(0),h=f(0),o=f(!1),A=f(!1);let R=null;const K=()=>{R=setTimeout(()=>{o.value=!1,g.isMobile||(A.value=!1)},100)},w=()=>{R&&(clearTimeout(R),R=null),o.value=!0},O=()=>{g.isMobile&&(A.value=!A.value)},z=()=>{H.push("/login")},y=async()=>{try{const u=await yo(P.kpId);U.value=u.user_rating,$.value=u.average_rating,S.value=u.total_ratings}catch(u){console.error("Error loading rating:",u)}},l=async u=>{var d;try{u===U.value?(await Dt(P.kpId,null),U.value=null,E.value.showNotification("Оценка удалена")):(await Dt(P.kpId,u),U.value=u,E.value.showNotification("Оценка сохранена")),g.isMobile&&(A.value=!1),y()}catch(T){console.error("Error setting rating:",T),((d=T.response)==null?void 0:d.status)===401?E.value.showNotification('Для оценки необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:z}):E.value.showNotification("Ошибка при сохранении оценки")}};return Te(()=>{y()}),(u,d)=>(n(),r("div",nn,[e("div",ln,[e("a",{href:"#",class:"rating-link",onMouseenter:d[0]||(d[0]=T=>o.value=!0),onMouseleave:K,onClick:Ft(O,["prevent"])},[d[2]||(d[2]=e("img",{src:Mo,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",an,v($.value?$.value.toFixed(1):"—"),1)],32),C(e("div",{class:"rating-tooltip",onMouseenter:w,onMouseleave:K},[e("div",rn,[(n(),r(Q,null,he(10,T=>e("button",{key:T,class:_(["number-btn",{active:T===U.value,hover:T===h.value}]),onClick:ie=>l(T),onMouseenter:ie=>h.value=T,onMouseleave:d[1]||(d[1]=ie=>h.value=0)},v(T),43,un)),64))])],544),[[I,o.value||A.value]])]),le(Oe,{ref_key:"notificationRef",ref:E},null,512)]))}},dn=Me(vn,[["__scopeId","data-v-29e7ece5"]]),cn={class:"movie-info"},mn={class:"content"},pn={key:0,class:"content-card"},fn={class:"movie-skeleton"},kn={class:"movie-skeleton__player"},yn={key:2,class:"content-card"},gn={key:3,class:"content-card"},bn={class:"content-header"},_n={class:"content-title"},$n={key:0,class:"ratings-links"},wn={key:1},hn=["href"],Mn={key:2},Cn=["href"],An={key:3},In=["href"],En={key:4},Tn=["href"],Rn={key:5},Ln=["href"],Pn={key:6},Sn=["href"],xn=["content"],Dn=["content"],Nn={class:"additional-info"},Hn={class:"info-content"},On={class:"details-container"},Bn={class:"info-list"},Kn={key:0},Vn={key:1},Un={key:2},Fn={key:3},Wn={key:4},zn={key:5},qn={key:6},Yn={key:7},Gn={key:8},Xn={class:"content-info"},Zn={key:0,class:"content-description-text"},jn={key:2,class:"yt-video-container"},Qn={key:3,class:"related-movies"},Jn={key:4,class:"related-movies"},el={__name:"MovieInfo",setup(k){const g=f(!0),H=Ee(),P=Wt(),E=go(),U=zt(),$=f(U.params.kp_id),S=f(""),h=f(null),o=f(null),A=bo(),K=Io().areTrailersActive,w=f(null),O=()=>{if(o.value){const p=o.value.name_ru||o.value.name_en||o.value.name_original||"Информация о фильме";document.title=p}},z=p=>(p||[]).map(s=>({kp_id:s.film_id,poster:s.poster_url_preview||s.poster_url,title:s.name_ru||s.name_en||s.name_original})),y=p=>{if(typeof p!="number")return;const s=Math.floor(p/60),L=p%60;return"".concat(s," ч. ").concat(L," мин.")},l=f(!1),u=f({top:"0px",left:"0px"}),d=p=>{l.value=!0,u.value={top:"".concat(p.pageY+10,"px"),left:"".concat(p.pageX-70,"px")}},T=f(null),ie=async()=>{try{const p=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[y(o.value.film_length)]:[]];await navigator.clipboard.writeText(p.join(", ")),T.value.showNotification("Скопировано")}catch(p){console.error("Ошибка копирования:",p)}},Z=async(p=!0)=>{var s,L,j,M,q,de,re,X;try{let W;if($.value.startsWith("shiki")?W=await wo($.value):W=await ho($.value,P.token),Array.isArray(W)&&W.length===0)throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");o.value=W,$.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:$.value},A.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),O();const Y={kp_id:$.value,title:((s=o.value)==null?void 0:s.name_ru)||((L=o.value)==null?void 0:L.name_en)||((j=o.value)==null?void 0:j.name_original),poster:((M=o.value)==null?void 0:M.poster_url)||((q=o.value)==null?void 0:q.cover_url)||((de=o.value)==null?void 0:de.screenshots[0]),year:(re=o.value)==null?void 0:re.year,type:(X=o.value)==null?void 0:X.type};if($.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const ke=Math.floor(Math.random()*o.value.screenshots.length),ce=o.value.screenshots[ke];E.updateMoviePoster(ce)}else Y.poster&&E.updateMoviePoster(Y.poster);else Y.poster&&E.updateMoviePoster(Y.poster);if(N(()=>H.isHistoryAllowed).value&&Y.kp_id&&Y.title&&p)if(P.token)try{await Xt(Y.kp_id,b.HISTORY)}catch(ke){console.error("Ошибка при добавлении в историю:",ke)}else H.addToHistory({...Y})}catch(W){const{message:Y,code:fe}=He(W);S.value=Y,h.value=fe,console.error("Ошибка при загрузке информации о фильмах:",W)}},F=N(()=>{var p,s;return console.log("Трейлеры:",(p=o.value)==null?void 0:p.videos),(s=o.value)==null?void 0:s.videos}),m=N(()=>{var p;return z((p=o.value)==null?void 0:p.sequels_and_prequels)}),ae=N(()=>{var p;return z((p=o.value)==null?void 0:p.similars)}),ve=p=>{if(p.altKey&&p.keyCode===84&&document.querySelector(".player-container")){const L=document.querySelector(".theater-mode-btn");L&&L.click()}};return Te(async()=>{await Z(),g.value=!1,document.addEventListener("keydown",ve)}),_o(async()=>{A.clearHeaderContent(),document.removeEventListener("keydown",ve)}),pe(()=>U.params.kp_id,async p=>{p&&p!==$.value&&(A.clearHeaderContent(),$.value=p,w.value=null,await Z(),g.value=!1)},{immediate:!0}),pe(o,()=>{O()},{deep:!0}),(p,s)=>{var j,M;const L=$o("lazy");return n(),r(Q,null,[e("div",cn,[e("div",mn,[g.value?(n(),r("div",pn,[e("div",fn,[s[3]||(s[3]=Nt('<div class="movie-skeleton__header" data-v-6dd0485f><div class="movie-skeleton__title" data-v-6dd0485f></div></div><div class="movie-skeleton__ratings" data-v-6dd0485f><div class="movie-skeleton__rating-item" data-v-6dd0485f></div><div class="movie-skeleton__rating-item" data-v-6dd0485f></div><div class="movie-skeleton__rating-item" data-v-6dd0485f></div></div>',2)),e("div",kn,[le(Zt)]),s[4]||(s[4]=Nt('<div class="movie-skeleton__controls" data-v-6dd0485f><div class="movie-skeleton__control-btn" data-v-6dd0485f></div><div class="movie-skeleton__control-btn" data-v-6dd0485f></div><div class="movie-skeleton__control-btn" data-v-6dd0485f></div><div class="movie-skeleton__control-btn" data-v-6dd0485f></div><div class="movie-skeleton__control-btn" data-v-6dd0485f></div></div><div class="movie-skeleton__additional-info" data-v-6dd0485f><div class="movie-skeleton__section-title" data-v-6dd0485f></div><div class="movie-skeleton__info-list" data-v-6dd0485f><div class="movie-skeleton__info-item" data-v-6dd0485f></div><div class="movie-skeleton__info-item" data-v-6dd0485f></div><div class="movie-skeleton__info-item" data-v-6dd0485f></div><div class="movie-skeleton__info-item" data-v-6dd0485f></div><div class="movie-skeleton__info-item" data-v-6dd0485f></div></div></div><div class="movie-skeleton__description" data-v-6dd0485f><div class="movie-skeleton__description-line" data-v-6dd0485f></div><div class="movie-skeleton__description-line" data-v-6dd0485f></div><div class="movie-skeleton__description-line" data-v-6dd0485f></div><div class="movie-skeleton__description-line" data-v-6dd0485f></div></div>',3))])])):c("",!0),S.value?(n(),ue(Gt,{key:1,message:S.value,code:h.value},null,8,["message","code"])):c("",!0),S.value?(n(),r("div",yn,[(n(),ue(Ut,{key:$.value,"kp-id":$.value,"movie-info":o.value,"onUpdate:movieInfo":Z},null,8,["kp-id","movie-info"]))])):c("",!0),o.value?(n(),r("div",gn,[e("div",bn,[o.value.logo_url?(n(),r("div",{key:0,class:"content-logo",onMousemove:d,onMouseleave:s[1]||(s[1]=q=>l.value=!1),onClick:ie},[s[0]||(Ht(-1,!0),(s[0]=C(e("img",{alt:"Логотип фильма",class:"content-logo"},null,512),[[L,o.value.logo_url]])).cacheIndex=0,Ht(1),s[0])],32)):(n(),r("div",{key:1,onMousemove:d,onMouseleave:s[2]||(s[2]=q=>l.value=!1),onClick:ie},[e("h1",_n,v(o.value.title),1)],32)),C(e("div",{class:"title-copy-tooltip",style:Ne(u.value)}," Скопировать ",4),[[I,l.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(n(),r("div",$n,[o.value.kinopoisk_id?(n(),ue(dn,{key:0,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):c("",!0),o.value.kinopoisk_id?(n(),r("div",wn,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[5]||(s[5]=e("img",{src:Bt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,v(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[6]||(s[6]=e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,hn)])):c("",!0),!o.value.kinopoisk_id&&o.value.title?(n(),r("div",Mn,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[7]||(s[7]=e("img",{src:Bt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,v(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[8]||(s[8]=e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Cn)])):c("",!0),o.value.imdb_id?(n(),r("div",An,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[9]||(s[9]=e("img",{src:Kt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,v(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[10]||(s[10]=e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,In)])):c("",!0),!o.value.imdb_id&&o.value.title?(n(),r("div",En,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[11]||(s[11]=e("img",{src:Kt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,v(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[12]||(s[12]=e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Tn)])):c("",!0),o.value.shikimori_id?(n(),r("div",Rn,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[13]||(s[13]=[e("img",{src:Eo,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,Ln)])):c("",!0),o.value.imdb_id?(n(),r("div",Pn,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[14]||(s[14]=[e("span",null,"Parents Guide",-1),e("img",{src:me,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,Sn)])):c("",!0)])):c("",!0),(n(),ue(Ut,{key:$.value,"kp-id":$.value,"movie-info":o.value,"onUpdate:movieInfo":Z},null,8,["kp-id","movie-info"])),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,xn),o.value.name_original?(n(),r("meta",{key:1,name:"original-title",content:o.value.name_original},null,8,Dn)):c("",!0),e("div",Nn,[s[24]||(s[24]=e("h2",{class:"additional-info-title"},"Подробнее",-1)),e("div",Hn,[e("div",On,[e("ul",Bn,[o.value.type&&x(Ot)[o.value.type]?(n(),r("li",Kn,[s[15]||(s[15]=e("strong",null,"Тип:",-1)),B(" "+v(x(Ot)[o.value.type]),1)])):c("",!0),o.value.year?(n(),r("li",Vn,[s[16]||(s[16]=e("strong",null,"Год выпуска:",-1)),B(" "+v(o.value.year),1)])):c("",!0),o.value.title?(n(),r("li",Un,[s[17]||(s[17]=e("strong",null,"Название:",-1)),B(" "+v(o.value.title),1)])):c("",!0),o.value.name_original?(n(),r("li",Fn,[s[18]||(s[18]=e("strong",null,"Оригинальное название:",-1)),B(" "+v(o.value.name_original),1)])):c("",!0),o.value.slogan?(n(),r("li",Wn,[s[19]||(s[19]=e("strong",null,"Слоган:",-1)),B(" "+v(o.value.slogan),1)])):c("",!0),o.value.production_companies?(n(),r("li",zn,[s[20]||(s[20]=e("strong",null,"Продакшн:",-1)),B(" "+v(o.value.production_companies),1)])):c("",!0),(j=o.value.countries)!=null&&j.length?(n(),r("li",qn,[s[21]||(s[21]=e("strong",null,"Страна производства:",-1)),B(" "+v(o.value.countries.map(q=>q.country).join(", ")),1)])):c("",!0),(M=o.value.genres)!=null&&M.length?(n(),r("li",Yn,[s[22]||(s[22]=e("strong",null,"Жанры:",-1)),B(" "+v(o.value.genres.map(q=>q.genre).join(", ")),1)])):c("",!0),o.value.film_length?(n(),r("li",Gn,[s[23]||(s[23]=e("strong",null,"Продолжительность:",-1)),B(" "+v(y(o.value.film_length)),1)])):c("",!0)])])])]),e("div",Xn,[o.value.description?(n(),r("p",Zn,v(o.value.description),1)):c("",!0)]),F.value.length&&x(K)?(n(),r("div",jn,[le(sn,{videos:F.value,"active-video-index":w.value,onSelect:p.playTrailer},null,8,["videos","active-video-index","onSelect"])])):c("",!0),m.value.length?(n(),r("div",Qn,[s[25]||(s[25]=e("h2",null,"Сиквелы и приквелы",-1)),le(x(Vt),{"movies-list":m.value,loading:!1,"is-history":!1},null,8,["movies-list"])])):c("",!0),ae.value.length?(n(),r("div",Jn,[s[26]||(s[26]=e("h2",null,"Похожие",-1)),le(x(Vt),{"movies-list":ae.value,loading:!1,"is-history":!1},null,8,["movies-list"])])):c("",!0)])):c("",!0)])]),le(Oe,{ref_key:"notificationRef",ref:T},null,512)],64)}}},il=Me(el,[["__scopeId","data-v-6dd0485f"]]);export{il as default};
//# sourceMappingURL=MovieInfo-CHGcbpAq.js.map

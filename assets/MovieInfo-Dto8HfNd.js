import{_ as Te,r as p,c as B,b as n,d as l,e,s as F,t as r,K as te,g as v,L as be,n as b,q as Ve,u as Ne,i as Xt,N as Zt,z as jt,l as he,o as De,O as Qt,x as ce,E as Jt,f as de,P as We,m as R,Q as T,y as N,U as h,R as fo,D as qe,S as Fe,V as ko,W as eo,X as yo,Y as Ut,Z as go,$ as _o,a as bo,a0 as Vt,a1 as Wt,a2 as ho,a3 as $o,a4 as wo}from"./index-B-lLaT8v.js";import{S as to,_ as Co,a as qt,b as zt,M as Yt}from"./MovieList-CPy_xq0m.js";import{N as ze}from"./ToastMessage-CTIgapdE.js";import{u as Mo,S as Ao,a as Io}from"./trailer-CdCsSzR1.js";const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Ro="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",Ue=k=>{const _=document.createElement("div");_.style.position="fixed",_.style.top="0",_.style.left="0",_.style.width="100%",_.style.height="100%",_.style.backgroundColor="rgba(0, 0, 0, 0.8)",_.style.color="white",_.style.display="flex",_.style.justifyContent="center",_.style.alignItems="center",_.style.fontSize="2rem",_.style.zIndex="99000",_.textContent=k,document.body.appendChild(_),setTimeout(()=>{document.body.removeChild(_)},2e3)},To={key:0},Eo={key:1},So={class:"players-list"},Po=["onClick"],Lo={key:0,class:"warning-icon material-icons",title:"Внимание!"},xo={key:0},No={key:0,class:"warning-icon material-icons",title:"Внимание!"},Do={key:1},Ho={key:0,class:"warning-icon material-icons",title:"Внимание!"},Oo=["onClick"],Bo={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ko={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(k,{emit:_}){const H=k,L=_,E=p(null),V=B(()=>H.players.filter(i=>!w(i)&&!o(i))),$=B(()=>H.players.some(i=>w(i))),S=B(()=>H.players.some(i=>o(i))),w=i=>i.key.toUpperCase().includes("HDREZKA"),o=i=>i.key.toUpperCase().includes("KODIK"),A=i=>i.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),x=i=>{L("select",i),L("close")},W=i=>H.selectedPlayer&&H.selectedPlayer.key===i.key,C=i=>H.selectedPlayer?i==="hdrezka"&&w(H.selectedPlayer)||i==="kodik"&&o(H.selectedPlayer):!1,D=i=>{E.value=i},q=()=>{E.value=null},y=i=>{let d=H.players.filter(g=>i==="hdrezka"&&w(g)||i==="kodik"&&o(g));return i==="kodik"?d.sort((g,se)=>A(g.translate).localeCompare(A(se.translate))):d},m=i=>y(i).some(d=>d.warning);return(i,d)=>(l(),n("div",{class:"modal",onClick:d[4]||(d[4]=Ve(g=>i.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:d[3]||(d[3]=Ve(()=>{},["stop"]))},[e("button",{class:"close",onClick:d[0]||(d[0]=g=>i.$emit("close"))},"×"),E.value?(l(),n("h2",Eo,[e("button",{class:"back-btn",onClick:q},"← Назад"),F(" "+r(E.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(l(),n("h2",To,"Выберите плеер")),e("ul",So,[E.value?(l(!0),n(te,{key:1},be(y(E.value),g=>(l(),n("li",{key:g.key},[e("button",{class:b(["player-item",{active:W(g)}]),onClick:se=>x(g)},[F(r(A(g.translate))+" ",1),g.warning?(l(),n("span",Bo,"warning")):v("",!0)],10,Oo)]))),128)):(l(),n(te,{key:0},[(l(!0),n(te,null,be(V.value,g=>(l(),n("li",{key:g.key},[e("button",{class:b(["player-item",{active:W(g)}]),onClick:se=>x(g)},[F(r(A(g.translate))+" ",1),g.warning?(l(),n("span",Lo,"warning")):v("",!0)],10,Po)]))),128)),$.value?(l(),n("li",xo,[e("button",{class:b(["group-item",{active:C("hdrezka")}]),onClick:d[1]||(d[1]=g=>D("hdrezka"))},[d[5]||(d[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),d[6]||(d[6]=F(" ReYohoho - HDrezka ")),m("hdrezka")?(l(),n("span",No,"warning")):v("",!0)],2)])):v("",!0),S.value?(l(),n("li",Do,[e("button",{class:b(["group-item",{active:C("kodik")}]),onClick:d[2]||(d[2]=g=>D("kodik"))},[d[7]||(d[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),d[8]||(d[8]=F(" Kodik ")),m("kodik")?(l(),n("span",Ho,"warning")):v("",!0)],2)])):v("",!0)],64))])])]))}},Fo=Te(Ko,[["__scopeId","data-v-460326ba"]]),Uo={class:"players-list"},Vo=["src"],Wo={key:1,class:"controls"},qo={class:"main-controls"},zo={class:"material-icons"},Yo={class:"list-button-item"},Go={class:"material-icons"},Xo={class:"list-button-item"},Zo={class:"material-icons"},jo={class:"list-button-item"},Qo={class:"list-button-item"},Jo={class:"material-icons"},es={class:"list-button-item"},ts={class:"material-icons"},os={class:"tooltip-container"},ss={class:"material-icons"},ls={class:"tooltip-container"},ns={class:"tooltip-container"},is={class:"tooltip-container"},as={class:"tooltip-container"},rs={class:"material-symbols-outlined"},us={class:"custom-tooltip"},vs={class:"tooltip-container"},ds={class:"current-ratio"},cs=["onClick"],ms={key:0,class:"tooltip-container"},ps={class:"custom-tooltip"},fs={key:1,class:"tooltip-container"},ks={class:"custom-tooltip"},ys={key:0,class:"desktop-list-buttons"},gs={class:"tooltip-container"},_s={class:"material-icons"},bs={class:"custom-tooltip"},hs={class:"tooltip-container"},$s={class:"material-icons"},ws={class:"custom-tooltip"},Cs={class:"tooltip-container"},Ms={class:"custom-tooltip"},As={class:"tooltip-container"},Is={class:"material-icons"},Rs={class:"custom-tooltip"},Ts={class:"tooltip-container"},Es={class:"material-icons"},Ss={class:"custom-tooltip"},Ps={key:1,class:"mobile-list-buttons"},Ls={class:"tooltip-container"},xs={class:"material-icons"},Ns={class:"custom-tooltip"},Ds={class:"tooltip-container"},Hs={class:"material-icons"},Os={class:"custom-tooltip"},Bs={class:"tooltip-container"},Ks={class:"custom-tooltip"},Fs={class:"tooltip-container"},Us={class:"material-icons"},Vs={class:"custom-tooltip"},Ws={class:"tooltip-container"},qs={class:"material-icons"},zs={class:"custom-tooltip"},Ys={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(k,{emit:_}){const H=Ne(),L=Mo(),E=Xt(),V=Zt(),$=jt(),S=p(V.params.kp_id),w=k,o=_,A=p([]),x=p(null),W=p(!0),C=p(!1),D=p(!1),q=p(null),y=p(null),m=p(!1),i=p(""),d=p(null),g=p(window.innerHeight*.9),se=B(()=>"".concat(g.value,"px")),Q=B(()=>H.isMobile),z=B(()=>!!window.electronAPI),f=p(null),oe=p(!1);let me=null;const j=p(null),pe=p(null),O=p(null),J=()=>{if(!pe.value||!O.value)return;const a=pe.value.getBoundingClientRect(),t=O.value.getBoundingClientRect(),M=window.innerHeight;a.bottom+t.height>M?(O.value.style.top="auto",O.value.style.bottom="100%",O.value.style.marginTop="0",O.value.style.marginBottom="12px",O.value.style.transform="translateX(-50%)"):(O.value.style.top="100%",O.value.style.bottom="auto",O.value.style.marginTop="12px",O.value.style.marginBottom="0",O.value.style.transform="translateX(-50%)")},P=a=>{f.value=a,oe.value=!1,clearTimeout(me),Fe(()=>{J()})},fe=()=>{oe.value||(me=setTimeout(()=>{f.value=null},300))},ke=()=>{oe.value=!0,clearTimeout(me)},ye=()=>{oe.value=!1,f.value=null},Y=B({get:()=>L.aspectRatio,set:a=>L.updateAspectRatio(a)}),c=B({get:()=>L.isCentered,set:a=>L.updateCentering(a)}),s=B(()=>{var a,t,M,Z,ne,ie,ae,re,ue,ve;return((t=(a=w.movieInfo)==null?void 0:a.lists)==null?void 0:t.isFavorite)||((Z=(M=w.movieInfo)==null?void 0:M.lists)==null?void 0:Z.isWatching)||((ie=(ne=w.movieInfo)==null?void 0:ne.lists)==null?void 0:ie.isLater)||((re=(ae=w.movieInfo)==null?void 0:ae.lists)==null?void 0:re.isCompleted)||((ve=(ue=w.movieInfo)==null?void 0:ue.lists)==null?void 0:ve.isAbandoned)}),K=B(()=>L.preferredPlayer),G=p(0),I=a=>a.toUpperCase(),ge=()=>{if(C.value||!y.value)return;const[a,t]=Y.value.split(":").map(Number);g.value=window.innerHeight*.9,G.value=Math.min(y.value.clientWidth*(t/a),g.value)},Ee=B(()=>{if(C.value)return{};const[a,t]=Y.value.split(":").map(Number),M=g.value*(a/t);return{width:"100%",maxWidth:"".concat(M,"px"),maxHeight:se.value,margin:"0 auto",overflow:"hidden"}}),Se=B(()=>{const[a,t]=Y.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(t/a*100,"%")}}),le=()=>{y.value&&setTimeout(()=>{Fe(()=>{y.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},ee=async()=>{try{i.value="",d.value=null;const a=await fo(w.kpId);if(A.value=Object.entries(a).map(([t,M])=>({key:t.toUpperCase(),...M})),A.value.length>0){if(K.value){const t=I(K.value),M=A.value.find(Z=>I(Z.key)===t);x.value=M||A.value[0]}else x.value=A.value[0];o("update:selectedPlayer",x.value)}}catch(a){const{message:t,code:M}=qe(a);i.value=t,d.value=M,console.error("Ошибка при загрузке плееров:",a)}},X=()=>{m.value=!0},$e=()=>{m.value=!1},we=a=>{var t;if(((t=x.value)==null?void 0:t.key)===a.key){$e();return}x.value=a,W.value=!0,L.updatePreferredPlayer(I(a.key)),o("update:selectedPlayer",a)},He=()=>{z.value?window.electronAPI.sendHotKey("F2"):(Ue("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},oo=()=>{z.value?window.electronAPI.sendHotKey("F3"):(Ue("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},so=()=>{z.value?window.electronAPI.sendHotKey("F4"):(Ue("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},Pe=()=>{C.value=!C.value,C.value?(window.addEventListener("mousemove",Oe),document.addEventListener("keydown",Be),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Oe),document.removeEventListener("keydown",Be),document.body.classList.remove("no-scroll")),D.value=C.value,Fe(()=>le())},Ye=p(null),Oe=()=>{Ye.value=setTimeout(()=>{clearTimeout(Ye.value),D.value=!1},4e3),D.value=!0},Le=B(()=>H.dimmingEnabled),lo=()=>{C.value||H.toggleDimming()},Be=a=>{(a.key==="Escape"&&C.value||a.altKey&&a.keyCode===84)&&Pe()},Ge=a=>{Y.value=a,setTimeout(()=>{c.value&&le()},310)},no=()=>{const a="reyohoho://#".concat(S.value);try{window.location.href=a}catch(t){console.error("Ошибка при открытии ссылки:",t)}},io=()=>{const a=window.location.href;navigator.clipboard.writeText(a).then(()=>{}),j.value.showNotification("Ссылка на фильм скопирована")},ao=()=>{W.value=!1};function ro(a){return a.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const uo=B(()=>{var a,t;return z.value?!1:!((t=(a=x.value)==null?void 0:a.key)!=null&&t.toUpperCase().includes("TORRENTS"))});he(x,a=>{if(a)if(W.value=!0,L.updatePreferredPlayer(I(a.key)),o("update:selectedPlayer",a),a.key.toUpperCase().includes("TORRENTS")){const t=document.querySelector(".rocketme_fon");t&&(t.style.display="none");const M=document.querySelector(".pm_preloader");M&&(M.style.display="none")}else{const t=document.querySelector(".rocketme_fon");t&&(t.style.display="");const M=document.querySelector(".pm_preloader");M&&(M.style.display="")}}),he(()=>V.params.kp_id,async a=>{a&&a!==S.value&&(S.value=a,c.value&&le())},{immediate:!0});const xe=["16:9","12:5","4:3"],vo=()=>{const t=(xe.indexOf(Y.value)+1)%xe.length;Ge(xe[t])},co=a=>{var M,Z,ne,ie,ae,re,ue,ve,Ce,Me,Ae,Ie,Re;return(Re={[h.FAVORITE]:((Z=(M=w.movieInfo)==null?void 0:M.lists)==null?void 0:Z.isFavorite)||!1,[h.HISTORY]:((ie=(ne=w.movieInfo)==null?void 0:ne.lists)==null?void 0:ie.isHistory)||!1,[h.LATER]:((re=(ae=w.movieInfo)==null?void 0:ae.lists)==null?void 0:re.isLater)||!1,[h.COMPLETED]:((ve=(ue=w.movieInfo)==null?void 0:ue.lists)==null?void 0:ve.isCompleted)||!1,[h.ABANDONED]:((Me=(Ce=w.movieInfo)==null?void 0:Ce.lists)==null?void 0:Me.isAbandoned)||!1,[h.WATCHING]:((Ie=(Ae=w.movieInfo)==null?void 0:Ae.lists)==null?void 0:Ie.isWatching)||!1}[a])!=null?Re:!1},U=async a=>{if(!E.token){j.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:mo});return}try{const t={[h.FAVORITE]:"избранное",[h.HISTORY]:"историю",[h.LATER]:'список "Смотреть позже"',[h.COMPLETED]:'список "Просмотрено"',[h.ABANDONED]:'список "Брошено"',[h.WATCHING]:'список "Смотрю"'};co(a)?(await ko(S.value,a),j.value.showNotification("Удалено из ".concat(t[a]))):(await eo(S.value,a),j.value.showNotification("Добавлено в ".concat(t[a])))}catch(t){const{message:M,code:Z}=qe(t);j.value.showNotification("".concat(M," ").concat(Z))}o("update:movieInfo")},mo=()=>{$.push("/login")},Ke=B(()=>L.showFavoriteTooltip),po=()=>{$.push("/settings"),ye()};return De(()=>{W.value=!0,ee(),Q.value&&(Y.value="4:3"),ge(),window.addEventListener("resize",ge),window.addEventListener("resize",J),c.value&&le()}),Qt(()=>{window.removeEventListener("resize",ge),window.removeEventListener("resize",J),window.removeEventListener("mousemove",Oe),document.removeEventListener("keydown",Be),document.body.classList.remove("no-scroll")}),(a,t)=>{var M,Z,ne,ie,ae,re,ue,ve,Ce,Me,Ae,Ie,Re,Xe,Ze,je,Qe,Je,et,tt,ot,st,lt,nt,it,at,rt,ut,vt,dt,ct,mt,pt,ft,kt,yt,gt,_t,bt,ht,$t,wt,Ct,Mt,At,It,Rt,Tt,Et,St,Pt,Lt,xt,Nt,Dt,Ht,Ot,Bt,Kt,Ft;return i.value?(l(),ce(Jt,{key:0,message:i.value,code:d.value},null,8,["message","code"])):(l(),n(te,{key:1},[e("div",Uo,[t[54]||(t[54]=e("span",null,"Плеер:",-1)),e("button",{class:"player-btn",onClick:X},r(x.value?ro(x.value.translate).toUpperCase():"Загрузка плееров..."),1)]),m.value?(l(),ce(Fo,{key:0,players:A.value,"selected-player":x.value,onClose:$e,onSelect:we},null,8,["players","selected-player"])):v("",!0),e("div",{ref_key:"containerRef",ref:y,class:b(["player-container",{"theater-mode":C.value}]),style:We(C.value?{}:Ee.value)},[e("div",{class:b(["iframe-wrapper",{pm_video:uo.value}]),style:We(C.value?{}:Se.value)},[R(e("iframe",{ref_key:"playerIframe",ref:q,src:(M=x.value)==null?void 0:M.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:b(["responsive-iframe",{"theater-mode-unlock":D.value,"theater-mode-lock":C.value,dimmed:Le.value}]),onLoad:ao},null,42,Vo),[[T,!W.value&&((Z=x.value)==null?void 0:Z.iframe)]]),W.value?(l(),ce(to,{key:0})):v("",!0)],6),C.value?(l(),n("button",{key:0,class:b(["close-theater-btn",{visible:D.value}]),onClick:Pe}," ✖ ",2)):v("",!0)],6),C.value?v("",!0):(l(),n("div",Wo,[e("div",qo,[Q.value?v("",!0):(l(),n("div",{key:0,ref_key:"tooltipContainer",ref:pe,class:"tooltip-container list-buttons-container"},[Ke.value?(l(),n("button",{key:0,class:b(["favorite-btn",{active:(ie=(ne=k.movieInfo)==null?void 0:ne.lists)==null?void 0:ie.isFavorite}]),onMouseenter:t[0]||(t[0]=u=>P("favorite")),onMouseleave:fe,onClick:t[1]||(t[1]=u=>U(N(h).FAVORITE))},[e("span",zo,r((re=(ae=k.movieInfo)==null?void 0:ae.lists)!=null&&re.isFavorite?"favorite":"favorite_border"),1),e("span",{class:b(["material-icons dropdown-arrow",{highlighted:s.value}])},"expand_more",2)],34)):v("",!0),R(e("div",{ref_key:"tooltip",ref:O,class:"custom-tooltip advanced-tooltip list-buttons-dropdown",onMouseenter:ke,onMouseleave:ye},[e("div",Yo,[e("button",{class:b(["favorite-btn",{active:(ve=(ue=k.movieInfo)==null?void 0:ue.lists)==null?void 0:ve.isFavorite}]),onClick:t[2]||(t[2]=u=>U(N(h).FAVORITE))},[e("span",Go,r((Me=(Ce=k.movieInfo)==null?void 0:Ce.lists)!=null&&Me.isFavorite?"favorite":"favorite_border"),1),t[55]||(t[55]=e("span",{class:"button-label"},"В избранное",-1))],2)]),e("div",Xo,[e("button",{class:b(["watching-btn",{active:(Ie=(Ae=k.movieInfo)==null?void 0:Ae.lists)==null?void 0:Ie.isWatching}]),onClick:t[3]||(t[3]=u=>U(N(h).WATCHING))},[e("span",Zo,r((Xe=(Re=k.movieInfo)==null?void 0:Re.lists)!=null&&Xe.isWatching?"visibility_off":"visibility"),1),t[56]||(t[56]=e("span",{class:"button-label"},"Смотрю",-1))],2)]),e("div",jo,[e("button",{class:b(["later-btn",{active:(je=(Ze=k.movieInfo)==null?void 0:Ze.lists)==null?void 0:je.isLater}]),onClick:t[4]||(t[4]=u=>U(N(h).LATER))},t[57]||(t[57]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"Смотреть позже",-1)]),2)]),e("div",Qo,[e("button",{class:b(["completed-btn",{active:(Je=(Qe=k.movieInfo)==null?void 0:Qe.lists)==null?void 0:Je.isCompleted}]),onClick:t[5]||(t[5]=u=>U(N(h).COMPLETED))},[e("span",Jo,r((tt=(et=k.movieInfo)==null?void 0:et.lists)!=null&&tt.isCompleted?"check_circle":"check_circle_outline"),1),t[58]||(t[58]=e("span",{class:"button-label"},"Просмотрено",-1))],2)]),e("div",es,[e("button",{class:b(["abandoned-btn",{active:(st=(ot=k.movieInfo)==null?void 0:ot.lists)==null?void 0:st.isAbandoned}]),onClick:t[6]||(t[6]=u=>U(N(h).ABANDONED))},[e("span",ts,r(((nt=(lt=k.movieInfo)==null?void 0:lt.lists)!=null&&nt.isAbandoned,"not_interested")),1),t[59]||(t[59]=e("span",{class:"button-label"},"Брошено",-1))],2)]),e("div",{class:"tooltip-hint"},[t[61]||(t[61]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[t[60]||(t[60]=F("Стиль отображения можно изменить в ")),e("a",{class:"settings-link",onClick:po},"настройках")])])],544),[[T,f.value==="favorite"&&Ke.value]])],512)),Q.value?v("",!0):(l(),n(te,{key:1},[e("div",os,[e("button",{class:b(["dimming-btn",{active:Le.value}]),onMouseenter:t[7]||(t[7]=u=>P("dimming")),onMouseleave:t[8]||(t[8]=u=>f.value=null),onClick:lo},[e("span",ss,r(Le.value?"light_mode":"dark_mode"),1)],34),R(e("div",{class:"custom-tooltip"},r(Le.value?"Отключить затемнение":"Включить затемнение"),513),[[T,f.value==="dimming"]])]),e("div",ls,[e("button",{class:b(["blur-btn",{"electron-only":!z.value}]),onMouseenter:t[9]||(t[9]=u=>P("blur")),onMouseleave:t[10]||(t[10]=u=>f.value=null),onClick:He},t[62]||(t[62]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),R(e("div",{class:"custom-tooltip"},r(z.value?"Блюр":"Блюр, функция доступна в приложении"),513),[[T,f.value==="blur"]])]),e("div",ns,[e("button",{class:b(["material-symbols-outlined",{"electron-only":!z.value}]),onMouseenter:t[11]||(t[11]=u=>P("compressor")),onMouseleave:t[12]||(t[12]=u=>f.value=null),onClick:oo},t[63]||(t[63]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),R(e("div",{class:"custom-tooltip"},r(z.value?"Компрессор":"Компрессор, функция доступна в приложении"),513),[[T,f.value==="compressor"]])]),e("div",is,[e("button",{class:b(["mirror-btn",{"electron-only":!z.value}]),onMouseenter:t[13]||(t[13]=u=>P("mirror")),onMouseleave:t[14]||(t[14]=u=>f.value=null),onClick:so},t[64]||(t[64]=[e("span",{class:"material-icons"},"flip",-1)]),34),R(e("div",{class:"custom-tooltip"},r(z.value?"Зеркало":"Зеркало, функция доступна в приложении"),513),[[T,f.value==="mirror"]])]),e("div",as,[e("button",{class:"theater-mode-btn",onMouseenter:t[15]||(t[15]=u=>P("theater")),onMouseleave:t[16]||(t[16]=u=>f.value=null),onClick:Pe},[e("span",rs,r(C.value?"fullscreen_exit":"aspect_ratio"),1)],32),R(e("div",us,[F(r(C.value?"Выйти из театрального режима":"Театральный режим")+" ",1),t[65]||(t[65]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[T,f.value==="theater"]])]),e("div",vs,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:t[17]||(t[17]=u=>P("aspect_ratio")),onMouseleave:fe,onClick:vo},[e("span",ds,r(Y.value),1)],32),R(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown",onMouseenter:ke,onMouseleave:ye},[(l(),n(te,null,be(xe,u=>e("div",{key:u,class:b(["aspect-ratio-option",{active:Y.value===u}]),onClick:yn=>Ge(u)},r(u),11,cs)),64))],544),[[T,f.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container",onMouseenter:t[19]||(t[19]=u=>P("centering")),onMouseleave:fe},[e("button",{class:"center-btn",onClick:le},t[66]||(t[66]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),R(e("div",{class:"custom-tooltip advanced-tooltip",onMouseenter:ke,onMouseleave:ye},[t[67]||(t[67]=F(" Отцентрировать плеер ")),de(Ao,{modelValue:c.value,"onUpdate:modelValue":t[18]||(t[18]=u=>c.value=u),title:"Автоцентрирование плеера"},null,8,["modelValue"]),t[68]||(t[68]=e("span",{class:"tooltip-title"},"Автоцентрирование плеера",-1))],544),[[T,f.value==="centering"]])],32),z.value?v("",!0):(l(),n("div",ms,[e("button",{class:"app-link-btn",onMouseenter:t[20]||(t[20]=u=>P("app_link")),onMouseleave:t[21]||(t[21]=u=>f.value=null),onClick:no},t[69]||(t[69]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),R(e("div",ps," Открыть в приложении ",512),[[T,f.value==="app_link"]])])),z.value?(l(),n("div",fs,[e("button",{class:"copy-link-btn",onMouseenter:t[22]||(t[22]=u=>P("copy_link")),onMouseleave:t[23]||(t[23]=u=>f.value=null),onClick:io},t[70]||(t[70]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),R(e("div",ks," Скопировать ссылку ",512),[[T,f.value==="copy_link"]])])):v("",!0)],64))]),!Q.value&&!Ke.value?(l(),n("div",ys,[e("div",gs,[e("button",{class:b(["favorite-btn",{active:(at=(it=k.movieInfo)==null?void 0:it.lists)==null?void 0:at.isFavorite}]),onMouseenter:t[24]||(t[24]=u=>P("favorite")),onMouseleave:t[25]||(t[25]=u=>f.value=null),onClick:t[26]||(t[26]=u=>U(N(h).FAVORITE))},[e("span",_s,r((ut=(rt=k.movieInfo)==null?void 0:rt.lists)!=null&&ut.isFavorite?"favorite":"favorite_border"),1)],34),R(e("div",bs,r("В избранное"),512),[[T,f.value==="favorite"]])]),e("div",hs,[e("button",{class:b(["watching-btn",{active:(dt=(vt=k.movieInfo)==null?void 0:vt.lists)==null?void 0:dt.isWatching}]),onMouseenter:t[27]||(t[27]=u=>P("watching")),onMouseleave:t[28]||(t[28]=u=>f.value=null),onClick:t[29]||(t[29]=u=>U(N(h).WATCHING))},[e("span",$s,r((mt=(ct=k.movieInfo)==null?void 0:ct.lists)!=null&&mt.isWatching?"visibility_off":"visibility"),1)],34),R(e("div",ws,r("Смотрю"),512),[[T,f.value==="watching"]])]),e("div",Cs,[e("button",{class:b(["later-btn",{active:(ft=(pt=k.movieInfo)==null?void 0:pt.lists)==null?void 0:ft.isLater}]),onMouseenter:t[30]||(t[30]=u=>P("later")),onMouseleave:t[31]||(t[31]=u=>f.value=null),onClick:t[32]||(t[32]=u=>U(N(h).LATER))},t[71]||(t[71]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),R(e("div",Ms,r("Смотреть позже"),512),[[T,f.value==="later"]])]),e("div",As,[e("button",{class:b(["completed-btn",{active:(yt=(kt=k.movieInfo)==null?void 0:kt.lists)==null?void 0:yt.isCompleted}]),onMouseenter:t[33]||(t[33]=u=>P("completed")),onMouseleave:t[34]||(t[34]=u=>f.value=null),onClick:t[35]||(t[35]=u=>U(N(h).COMPLETED))},[e("span",Is,r((_t=(gt=k.movieInfo)==null?void 0:gt.lists)!=null&&_t.isCompleted?"check_circle":"check_circle_outline"),1)],34),R(e("div",Rs,r("Просмотрено"),512),[[T,f.value==="completed"]])]),e("div",Ts,[e("button",{class:b(["abandoned-btn",{active:(ht=(bt=k.movieInfo)==null?void 0:bt.lists)==null?void 0:ht.isAbandoned}]),onMouseenter:t[36]||(t[36]=u=>P("abandoned")),onMouseleave:t[37]||(t[37]=u=>f.value=null),onClick:t[38]||(t[38]=u=>U(N(h).ABANDONED))},[e("span",Es,r(((wt=($t=k.movieInfo)==null?void 0:$t.lists)!=null&&wt.isAbandoned,"not_interested")),1)],34),R(e("div",Ss,r("Брошено"),512),[[T,f.value==="abandoned"]])])])):Q.value?(l(),n("div",Ps,[e("div",Ls,[e("button",{class:b(["favorite-btn",{active:(Mt=(Ct=k.movieInfo)==null?void 0:Ct.lists)==null?void 0:Mt.isFavorite}]),onMouseenter:t[39]||(t[39]=u=>P("favorite")),onMouseleave:t[40]||(t[40]=u=>f.value=null),onClick:t[41]||(t[41]=u=>U(N(h).FAVORITE))},[e("span",xs,r((It=(At=k.movieInfo)==null?void 0:At.lists)!=null&&It.isFavorite?"favorite":"favorite_border"),1)],34),R(e("div",Ns,r("В избранное"),512),[[T,f.value==="favorite"]])]),e("div",Ds,[e("button",{class:b(["watching-btn",{active:(Tt=(Rt=k.movieInfo)==null?void 0:Rt.lists)==null?void 0:Tt.isWatching}]),onMouseenter:t[42]||(t[42]=u=>P("watching")),onMouseleave:t[43]||(t[43]=u=>f.value=null),onClick:t[44]||(t[44]=u=>U(N(h).WATCHING))},[e("span",Hs,r((St=(Et=k.movieInfo)==null?void 0:Et.lists)!=null&&St.isWatching?"visibility_off":"visibility"),1)],34),R(e("div",Os,r("Смотрю"),512),[[T,f.value==="watching"]])]),e("div",Bs,[e("button",{class:b(["later-btn",{active:(Lt=(Pt=k.movieInfo)==null?void 0:Pt.lists)==null?void 0:Lt.isLater}]),onMouseenter:t[45]||(t[45]=u=>P("later")),onMouseleave:t[46]||(t[46]=u=>f.value=null),onClick:t[47]||(t[47]=u=>U(N(h).LATER))},t[72]||(t[72]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),R(e("div",Ks,r("Смотреть позже"),512),[[T,f.value==="later"]])]),e("div",Fs,[e("button",{class:b(["completed-btn",{active:(Nt=(xt=k.movieInfo)==null?void 0:xt.lists)==null?void 0:Nt.isCompleted}]),onMouseenter:t[48]||(t[48]=u=>P("completed")),onMouseleave:t[49]||(t[49]=u=>f.value=null),onClick:t[50]||(t[50]=u=>U(N(h).COMPLETED))},[e("span",Us,r((Ht=(Dt=k.movieInfo)==null?void 0:Dt.lists)!=null&&Ht.isCompleted?"check_circle":"check_circle_outline"),1)],34),R(e("div",Vs,r("Просмотрено"),512),[[T,f.value==="completed"]])]),e("div",Ws,[e("button",{class:b(["abandoned-btn",{active:(Bt=(Ot=k.movieInfo)==null?void 0:Ot.lists)==null?void 0:Bt.isAbandoned}]),onMouseenter:t[51]||(t[51]=u=>P("abandoned")),onMouseleave:t[52]||(t[52]=u=>f.value=null),onClick:t[53]||(t[53]=u=>U(N(h).ABANDONED))},[e("span",qs,r(((Ft=(Kt=k.movieInfo)==null?void 0:Kt.lists)!=null&&Ft.isAbandoned,"not_interested")),1)],34),R(e("div",zs,r("Брошено"),512),[[T,f.value==="abandoned"]])])])):v("",!0)])),de(ze,{ref_key:"notificationRef",ref:j},null,512)],64))}}},Gt=Te(Ys,[["__scopeId","data-v-cbe4529b"]]),Gs={key:0,class:"carousel-container"},Xs={class:"carousel-wrapper"},Zs=["onClick"],js=["src","alt"],Qs={class:"video-name"},Js={key:0,class:"video-player"},el=["src"],tl={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(k,{emit:_}){const H=Ne(),L=B(()=>H.isMobile),E=k,V=_,$=p(E.activeVideoIndex),S=p(null),w=p(!1),o=p(!1),A=()=>{if(!S.value)return;const{scrollLeft:y,scrollWidth:m,clientWidth:i}=S.value;w.value=y>0,o.value=y<m-i-1},x=y=>{if(!S.value)return;const m=S.value.querySelector(".carousel-item");if(!m)return;const i=m.clientWidth+16;S.value.scrollBy({left:i*y,behavior:"smooth"})},W=y=>{$.value=y,V("select",E.videos[y])},C=()=>A(),D=p([]),q=async y=>{try{return(await fetch("https://img.youtube.com/vi/".concat(y,"/0.jpg"))).ok}catch(m){return!1}};return De(async()=>{const y=E.videos.map(async i=>await q(i.videoId)?i:null),m=await Promise.all(y);D.value=m.filter(Boolean),A(),window.addEventListener("resize",C)}),he(()=>E.videos,async y=>{const m=y.map(async d=>await q(d.videoId)?d:null),i=await Promise.all(m);D.value=i.filter(Boolean)}),he(()=>E.activeVideoIndex,y=>{$.value=y}),Qt(()=>{window.removeEventListener("resize",C)}),(y,m)=>D.value.length?(l(),n("div",Gs,[m[4]||(m[4]=e("h2",null,"Трейлеры (YouTube)",-1)),e("div",Xs,[R(e("button",{class:"scroll-button left",onClick:m[0]||(m[0]=i=>x(-1))},m[2]||(m[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[T,!L.value&&w.value]]),e("div",{ref_key:"carousel",ref:S,class:"carousel",onScroll:A},[(l(!0),n(te,null,be(D.value,(i,d)=>(l(),n("div",{key:d,class:"carousel-item",onClick:g=>W(d)},[e("img",{src:"https://img.youtube.com/vi/".concat(i.videoId,"/0.jpg"),alt:i.name},null,8,js),e("div",Qs,r(i.name),1)],8,Zs))),128))],544),R(e("button",{class:"scroll-button right",onClick:m[1]||(m[1]=i=>x(1))},m[3]||(m[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[T,!L.value&&o.value]])]),$.value!==null?(l(),n("div",Js,[e("iframe",{src:k.videos[$.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,el)])):v("",!0)])):v("",!0)}},ol=Te(tl,[["__scopeId","data-v-e60b5c29"]]),sl={class:"rating-container"},ll={class:"rating-display"},nl={class:"average-rating"},il={class:"rating-numbers"},al=["onClick","onMouseenter"],rl={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(k){const _=Ne(),H=jt(),L=k,E=p(null),V=p(null),$=p(null),S=p(0),w=p(!1),o=p(!1);let A=null;const x=()=>{A=setTimeout(()=>{w.value=!1,_.isMobile||(o.value=!1)},100)},W=()=>{A&&(clearTimeout(A),A=null),w.value=!0},C=()=>{_.isMobile&&(o.value=!o.value)},D=()=>{H.push("/login")},q=async()=>{try{const m=await yo(L.kpId);V.value=m.user_rating,$.value=m.average_rating}catch(m){console.error("Error loading rating:",m)}},y=async m=>{var i;try{m===V.value?(await Ut(L.kpId,null),V.value=null,E.value.showNotification("Оценка удалена")):(await Ut(L.kpId,m),V.value=m,E.value.showNotification("Оценка сохранена")),_.isMobile&&(o.value=!1),q()}catch(d){console.error("Error setting rating:",d),((i=d.response)==null?void 0:i.status)===401?E.value.showNotification('Для оценки необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:D}):E.value.showNotification("Ошибка при сохранении оценки"),_.isMobile&&(o.value=!1)}};return De(()=>{q()}),(m,i)=>(l(),n("div",sl,[e("div",ll,[e("a",{href:"#",class:"rating-link",onMouseenter:i[0]||(i[0]=d=>w.value=!0),onMouseleave:x,onClick:Ve(C,["prevent"])},[i[2]||(i[2]=e("img",{src:Co,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",nl,r($.value?$.value.toFixed(1):"—"),1)],32),R(e("div",{class:b(["rating-tooltip",{"mobile-tooltip":N(_).isMobile}]),onMouseenter:W,onMouseleave:x},[e("div",il,[(l(),n(te,null,be(10,d=>e("button",{key:d,class:b(["number-btn",{active:d===V.value,hover:d===S.value}]),onClick:g=>y(d),onMouseenter:g=>S.value=d,onMouseleave:i[1]||(i[1]=g=>S.value=0)},r(d),43,al)),64))])],34),[[T,w.value||o.value]])]),de(ze,{ref_key:"notificationRef",ref:E},null,512)]))}},ul=Te(rl,[["__scopeId","data-v-52c65a99"]]),vl={class:"movie-info"},dl={class:"content"},cl={key:0,class:"content-card"},ml={class:"movie-skeleton"},pl={class:"movie-skeleton__player"},fl={key:2,class:"content-card"},kl={key:3,class:"content-card"},yl={class:"content-header"},gl=["src"],_l={class:"content-title"},bl={key:0,class:"ratings-links"},hl={key:1},$l=["href"],wl={key:2},Cl=["href"],Ml={key:3},Al=["href"],Il={key:4},Rl=["href"],Tl={key:5},El=["href"],Sl={key:6,class:"rating-links-group"},Pl=["href"],Ll=["title"],xl={key:0,class:"fa-regular fa-face-grin-wink"},Nl={key:1,class:"fas fa-spinner fa-spin"},Dl={key:2,class:"nudity-info-popup"},Hl={class:"nudity-info-content"},Ol=["content"],Bl=["content"],Kl={class:"additional-info"},Fl={class:"info-content"},Ul={class:"details-container"},Vl={class:"info-list"},Wl={key:0},ql={key:1},zl={key:2},Yl={key:3},Gl={key:4},Xl={key:5},Zl={key:6},jl={key:7},Ql={key:8},Jl={class:"content-info"},en={key:0,class:"content-description-text"},tn={key:2,class:"staff-section"},on={class:"staff-categories"},sn={key:0,class:"staff-category"},ln={class:"staff-list"},nn=["href","title"],an=["src","alt"],rn={class:"staff-name"},un={key:0,class:"staff-role"},vn=["href","title"],dn={key:3,class:"yt-video-container"},cn={key:4,class:"related-movies"},mn=["title"],pn={key:5,class:"related-movies"},fn=["title"],kn={__name:"MovieInfo",setup(k){const _=p(!0),H=Ne(),L=Xt(),E=go(),V=Zt(),$=p(V.params.kp_id),S=p(""),w=p(null),o=p(null),A=_o(),W=Io().areTrailersActive,C=p(null),D=p(!1),q=p(!1),y=p(6),m=p(null),i=p(!1),d=()=>{if(o.value){const c=o.value.name_ru||o.value.name_en||o.value.name_original||"Информация о фильме";document.title=c}},g=c=>(c||[]).map(s=>({kp_id:s.film_id,poster:s.poster_url_preview||s.poster_url,title:s.name_ru||s.name_en||s.name_original})),se=c=>{if(typeof c!="number")return;const s=Math.floor(c/60),K=c%60;return"".concat(s," ч. ").concat(K," мин.")},Q=p(!1),z=p({top:"0px",left:"0px"}),f=c=>{Q.value=!0,z.value={top:"".concat(c.pageY+10,"px"),left:"".concat(c.pageX-70,"px")}},oe=p(null),me=async()=>{try{const c=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[se(o.value.film_length)]:[]];await navigator.clipboard.writeText(c.join(", ")),oe.value.showNotification("Скопировано")}catch(c){console.error("Ошибка копирования:",c)}},j=async(c=!0)=>{var s,K,G,I,ge,Ee,Se,le;try{let ee;if($.value.startsWith("shiki")?ee=await ho($.value):ee=await $o($.value,L.token),Array.isArray(ee)&&ee.length===0)throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");o.value=ee,$.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:$.value},A.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),d();const X={kp_id:$.value,title:((s=o.value)==null?void 0:s.name_ru)||((K=o.value)==null?void 0:K.name_en)||((G=o.value)==null?void 0:G.name_original),poster:((I=o.value)==null?void 0:I.poster_url)||((ge=o.value)==null?void 0:ge.cover_url)||((Ee=o.value)==null?void 0:Ee.screenshots[0]),year:(Se=o.value)==null?void 0:Se.year,type:(le=o.value)==null?void 0:le.type};if($.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const we=Math.floor(Math.random()*o.value.screenshots.length),He=o.value.screenshots[we];E.updateMoviePoster(He)}else X.poster&&E.updateMoviePoster(X.poster);else X.poster&&E.updateMoviePoster(X.poster);if(B(()=>H.isHistoryAllowed).value&&X.kp_id&&X.title&&c)if(L.token)try{await eo(X.kp_id,h.HISTORY)}catch(we){console.error("Ошибка при добавлении в историю:",we)}else H.addToHistory({...X})}catch(ee){const{message:X,code:$e}=qe(ee);S.value=X,w.value=$e,console.error("Ошибка при загрузке информации о фильмах:",ee)}},pe=B(()=>{var c,s;return console.log("Трейлеры:",(c=o.value)==null?void 0:c.videos),(s=o.value)==null?void 0:s.videos}),O=B(()=>{var c;return g((c=o.value)==null?void 0:c.sequels_and_prequels)}),J=B(()=>{var c;return g((c=o.value)==null?void 0:c.similars)}),P=()=>{var G;const c=((G=document.querySelector(".related-movies"))==null?void 0:G.clientWidth)||0,K=Math.floor(c/260)||6;y.value=Math.max(1,K)},fe=()=>{P()},ke=c=>{if(c.altKey&&c.keyCode===84&&document.querySelector(".player-container")){const K=document.querySelector(".theater-mode-btn");K&&K.click()}},ye=async()=>{var c;if(!L.token){oe.value.showNotification('Для просмотра информации необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>A.openLogin()});return}if((c=o.value)!=null&&c.imdb_id){if(m.value){m.value=null;return}i.value=!0;try{const s=await wo(o.value.imdb_id);m.value=s.nudity_info}catch(s){console.error("Ошибка при загрузке информации о сценах:",s),oe.value.showNotification("Ошибка при загрузке информации о сценах")}finally{i.value=!1}}};De(async()=>{await j(),_.value=!1,document.addEventListener("keydown",ke),window.addEventListener("resize",fe),setTimeout(P,100)}),bo(async()=>{A.clearHeaderContent(),document.removeEventListener("keydown",ke),window.removeEventListener("resize",fe)}),he(()=>V.params.kp_id,async c=>{c&&c!==$.value&&(A.clearHeaderContent(),$.value=c,C.value=null,await j(),_.value=!1)},{immediate:!0}),he(o,()=>{d()},{deep:!0});const Y=c=>{var s,K;return((K=(s=o.value)==null?void 0:s.staff)==null?void 0:K.filter(G=>G.profession_key===c))||[]};return(c,s)=>{var K,G;return l(),n(te,null,[e("div",vl,[e("div",dl,[(_.value||!o.value)&&!S.value?(l(),n("div",cl,[e("div",ml,[s[4]||(s[4]=Vt('<div class="movie-skeleton__header" data-v-0122e42f><div class="movie-skeleton__title" data-v-0122e42f></div></div><div class="movie-skeleton__ratings" data-v-0122e42f><div class="movie-skeleton__rating-item" data-v-0122e42f></div><div class="movie-skeleton__rating-item" data-v-0122e42f></div><div class="movie-skeleton__rating-item" data-v-0122e42f></div></div>',2)),e("div",pl,[de(to)]),s[5]||(s[5]=Vt('<div class="movie-skeleton__additional-info" data-v-0122e42f><div class="movie-skeleton__section-title" data-v-0122e42f></div><div class="movie-skeleton__info-list" data-v-0122e42f><div class="movie-skeleton__info-item" data-v-0122e42f></div><div class="movie-skeleton__info-item" data-v-0122e42f></div><div class="movie-skeleton__info-item" data-v-0122e42f></div><div class="movie-skeleton__info-item" data-v-0122e42f></div><div class="movie-skeleton__info-item" data-v-0122e42f></div></div></div><div class="movie-skeleton__description" data-v-0122e42f><div class="movie-skeleton__description-line" data-v-0122e42f></div><div class="movie-skeleton__description-line" data-v-0122e42f></div><div class="movie-skeleton__description-line" data-v-0122e42f></div><div class="movie-skeleton__description-line" data-v-0122e42f></div></div>',2))])])):v("",!0),S.value?(l(),ce(Jt,{key:1,message:S.value,code:w.value},null,8,["message","code"])):v("",!0),S.value?(l(),n("div",fl,[(l(),ce(Gt,{key:$.value,"kp-id":$.value,"movie-info":o.value,"onUpdate:movieInfo":j},null,8,["kp-id","movie-info"]))])):v("",!0),o.value&&!_.value?(l(),n("div",kl,[e("div",yl,[o.value.logo_url?(l(),n("div",{key:0,class:"content-logo",onMousemove:f,onMouseleave:s[0]||(s[0]=I=>Q.value=!1),onClick:me},[e("img",{src:o.value.logo_url,alt:"Логотип фильма",class:"content-logo"},null,8,gl)],32)):(l(),n("div",{key:1,onMousemove:f,onMouseleave:s[1]||(s[1]=I=>Q.value=!1),onClick:me},[e("h1",_l,r(o.value.title),1)],32)),R(e("div",{class:"title-copy-tooltip",style:We(z.value)}," Скопировать ",4),[[T,Q.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(l(),n("div",bl,[o.value.kinopoisk_id?(l(),ce(ul,{key:0,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):v("",!0),o.value.kinopoisk_id?(l(),n("div",hl,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[6]||(s[6]=e("img",{src:qt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,r(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[7]||(s[7]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,$l)])):v("",!0),!o.value.kinopoisk_id&&o.value.title?(l(),n("div",wl,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[8]||(s[8]=e("img",{src:qt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,r(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[9]||(s[9]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Cl)])):v("",!0),o.value.imdb_id?(l(),n("div",Ml,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[10]||(s[10]=e("img",{src:zt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,r(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[11]||(s[11]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Al)])):v("",!0),!o.value.imdb_id&&o.value.title?(l(),n("div",Il,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[12]||(s[12]=e("img",{src:zt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,r(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[13]||(s[13]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Rl)])):v("",!0),o.value.shikimori_id?(l(),n("div",Tl,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[14]||(s[14]=[e("img",{src:Ro,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,El)])):v("",!0),o.value.imdb_id?(l(),n("div",Sl,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[15]||(s[15]=[e("span",null,"Parents Guide",-1),e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,Pl),e("button",{class:"rating-link nudity-info-btn",onClick:ye,title:m.value?"Скрыть информацию":"Показать информацию о сценах(Sex & Nudity)"},[i.value?(l(),n("i",Nl)):(l(),n("i",xl)),m.value?(l(),n("div",Dl,[e("div",Hl,r(m.value),1)])):v("",!0)],8,Ll)])):v("",!0)])):v("",!0),(l(),ce(Gt,{key:$.value,"kp-id":$.value,"movie-info":o.value,"onUpdate:movieInfo":j},null,8,["kp-id","movie-info"])),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,Ol),o.value.name_original?(l(),n("meta",{key:1,name:"original-title",content:o.value.name_original},null,8,Bl)):v("",!0),e("div",Kl,[s[25]||(s[25]=e("h2",{class:"additional-info-title"},"Подробнее",-1)),e("div",Fl,[e("div",Ul,[e("ul",Vl,[o.value.type&&N(Wt)[o.value.type]?(l(),n("li",Wl,[s[16]||(s[16]=e("strong",null,"Тип:",-1)),F(" "+r(N(Wt)[o.value.type]),1)])):v("",!0),o.value.year?(l(),n("li",ql,[s[17]||(s[17]=e("strong",null,"Год выпуска:",-1)),F(" "+r(o.value.year),1)])):v("",!0),o.value.title?(l(),n("li",zl,[s[18]||(s[18]=e("strong",null,"Название:",-1)),F(" "+r(o.value.title),1)])):v("",!0),o.value.name_original?(l(),n("li",Yl,[s[19]||(s[19]=e("strong",null,"Оригинальное название:",-1)),F(" "+r(o.value.name_original),1)])):v("",!0),o.value.slogan?(l(),n("li",Gl,[s[20]||(s[20]=e("strong",null,"Слоган:",-1)),F(" "+r(o.value.slogan),1)])):v("",!0),o.value.production_companies?(l(),n("li",Xl,[s[21]||(s[21]=e("strong",null,"Продакшн:",-1)),F(" "+r(o.value.production_companies),1)])):v("",!0),(K=o.value.countries)!=null&&K.length?(l(),n("li",Zl,[s[22]||(s[22]=e("strong",null,"Страна производства:",-1)),F(" "+r(o.value.countries.map(I=>I.country).join(", ")),1)])):v("",!0),(G=o.value.genres)!=null&&G.length?(l(),n("li",jl,[s[23]||(s[23]=e("strong",null,"Жанры:",-1)),F(" "+r(o.value.genres.map(I=>I.genre).join(", ")),1)])):v("",!0),o.value.film_length?(l(),n("li",Ql,[s[24]||(s[24]=e("strong",null,"Продолжительность:",-1)),F(" "+r(se(o.value.film_length)),1)])):v("",!0)])])])]),e("div",Jl,[o.value.description?(l(),n("p",en,r(o.value.description),1)):v("",!0)]),o.value.staff?(l(),n("div",tn,[e("div",on,[Y("ACTOR").length?(l(),n("div",sn,[s[26]||(s[26]=e("h3",{class:"additional-info-title"},"Актёры",-1)),e("div",ln,[(l(!0),n(te,null,be(Y("ACTOR").slice(0,12),I=>(l(),n("div",{key:I.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(I.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:I.description||""},[e("img",{src:I.poster_url,alt:I.name_ru,class:"staff-photo"},null,8,an),e("span",rn,r(I.name_ru||I.name_en),1),I.description?(l(),n("span",un,r(I.description),1)):v("",!0)],8,nn)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat($.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"Показать всех ".concat(Y("ACTOR").length," актеров")}," +"+r(Y("ACTOR").length-12),9,vn)])])):v("",!0)])])):v("",!0),pe.value.length&&N(W)?(l(),n("div",dn,[de(ol,{videos:pe.value,"active-video-index":C.value,onSelect:c.playTrailer},null,8,["videos","active-video-index","onSelect"])])):v("",!0),O.value.length?(l(),n("div",cn,[s[27]||(s[27]=e("h2",null,"Сиквелы и приквелы",-1)),de(N(Yt),{"movies-list":D.value?O.value:O.value.slice(0,y.value),loading:!1,"is-history":!1},null,8,["movies-list"]),O.value.length>y.value?(l(),n("a",{key:0,class:"expand-circle-button",onClick:s[2]||(s[2]=I=>D.value=!D.value),title:"".concat(D.value?"Скрыть":"Показать все"," (").concat(O.value.length,")")},r(D.value?"−":"+".concat(O.value.length-y.value)),9,mn)):v("",!0)])):v("",!0),J.value.length?(l(),n("div",pn,[s[28]||(s[28]=e("h2",null,"Похожие",-1)),de(N(Yt),{"movies-list":q.value?J.value:J.value.slice(0,y.value),loading:!1,"is-history":!1},null,8,["movies-list"]),J.value.length>y.value?(l(),n("a",{key:0,class:"expand-circle-button",onClick:s[3]||(s[3]=I=>q.value=!q.value),title:"".concat(q.value?"Скрыть":"Показать все"," (").concat(J.value.length,")")},r(q.value?"−":"+".concat(J.value.length-y.value)),9,fn)):v("",!0)])):v("",!0)])):v("",!0)])]),de(ze,{ref_key:"notificationRef",ref:oe},null,512)],64)}}},$n=Te(kn,[["__scopeId","data-v-0122e42f"]]);export{$n as default};
//# sourceMappingURL=MovieInfo-Dto8HfNd.js.map

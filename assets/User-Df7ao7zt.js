import{_ as v,b as l,e as s,g as m,m as _,au as h,t as c,r as f,i as p,o as k,a1 as y,z as b,d as a}from"./index-CK9aaiFp.js";const L={name:"ProfilePage",setup(){const n=f(!1),o=p(),i=b(),t=f(o.user),u=f(null),g=()=>{n.value=!0},r=async(e=!1)=>{n.value=!1,o.logout(),e?await i.push("/"):await i.push("/login"),i.go(0)};return k(async()=>{if(t.value||r(!0),t.value.photo){const e=await y();u.value="".concat(e).concat(t.value.photo)}}),{user:t,showDialog:n,confirmLogout:g,logout:r,photoURL:u}}},w={class:"profile-container"},U={key:0,class:"profile-content"},C={class:"profile-photo"},D={key:0,alt:"Profile Photo"},P={key:1,class:"photo-placeholder"},R={class:"profile-info"},B={class:"info-item"},S={class:"info-item"},x={key:1,class:"loading"},z={key:2,class:"dialog-overlay"},A={class:"dialog modern-dark-dialog"},N={class:"dialog-footer"};function V(n,o,i,t,u,g){var e;const r=h("lazy");return a(),l("div",w,[o[7]||(o[7]=s("div",{class:"profile-header"},[s("h1",null,"Профиль")],-1)),t.user?(a(),l("div",U,[s("div",C,[t.user.photo&&t.photoURL?_((a(),l("img",D,null,512)),[[r,t.photoURL]]):(a(),l("div",P,c(String.fromCodePoint(t.user.name.codePointAt(0)).toLocaleUpperCase()),1))]),s("div",R,[s("div",B,[o[3]||(o[3]=s("label",null,"Имя:",-1)),s("span",null,c(t.user.name),1)]),s("div",S,[o[4]||(o[4]=s("label",null,"Никнейм:",-1)),s("span",null,c((e=t.user.username)!=null?e:"Не указан"),1)])]),s("button",{class:"logout-btn",onClick:o[0]||(o[0]=(...d)=>t.confirmLogout&&t.confirmLogout(...d))},"Выйти")])):(a(),l("div",x,"Загрузка профиля...")),t.showDialog?(a(),l("div",z,[s("div",A,[o[5]||(o[5]=s("div",{class:"dialog-header"},[s("h3",null,"Выход")],-1)),o[6]||(o[6]=s("div",{class:"dialog-body"},[s("p",null,"Вы уверены?")],-1)),s("div",N,[s("button",{class:"modern-dark-btn",onClick:o[1]||(o[1]=d=>t.showDialog=!1)},"Отмена"),s("button",{class:"modern-dark-btn danger",onClick:o[2]||(o[2]=(...d)=>t.logout&&t.logout(...d))},"Выйти")])])])):m("",!0)])}const I=v(L,[["render",V],["__scopeId","data-v-da7c89ee"]]);export{I as default};

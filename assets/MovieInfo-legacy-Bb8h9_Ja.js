!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function a(e){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,a||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,i,l=[],s=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=r.call(a)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=a.return&&(i=a.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=i(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return l=e.done,e},e:function(e){s=!0,r=e},f:function(){try{l||null==a.return||a.return()}finally{if(s)throw r}}}}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function s(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */s=function(){return a};var t,a={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",d=i.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(t){u=function(e,t,a){return e[t]=a}}function v(e,t,a,n){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),l=new T(n||[]);return r(i,"_invoke",{value:L(e,a,l)}),i}function p(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}a.wrap=v;var m="suspendedStart",b="suspendedYield",f="executing",g="completed",h={};function x(){}function y(){}function k(){}var w={};u(w,l,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(B([])));C&&C!==n&&o.call(C,l)&&(w=C);var E=k.prototype=x.prototype=Object.create(w);function I(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function M(t,a){function n(r,i,l,s){var c=p(t[r],t,i);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==e(u)&&o.call(u,"__await")?a.resolve(u.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):a.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var i;r(this,"_invoke",{value:function(e,t){function o(){return new a((function(a,o){n(e,t,a,o)}))}return i=i?i.then(o,o):o()}})}function L(e,a,n){var o=m;return function(r,i){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===r)throw i;return{value:t,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var s=z(l,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=p(e,a,n);if("normal"===c.type){if(o=n.done?g:b,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=g,n.method="throw",n.arg=c.arg)}}}function z(e,a){var n=a.method,o=e.iterator[n];if(o===t)return a.delegate=null,"throw"===n&&e.iterator.return&&(a.method="return",a.arg=t,z(e,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=p(o,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,h;var i=r.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,h):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function B(a){if(a||""===a){var n=a[l];if(n)return n.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var r=-1,i=function e(){for(;++r<a.length;)if(o.call(a,r))return e.value=a[r],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(e(a)+" is not iterable")}return y.prototype=k,r(E,"constructor",{value:k,configurable:!0}),r(k,"constructor",{value:y,configurable:!0}),y.displayName=u(k,d,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u(e,d,"GeneratorFunction")),e.prototype=Object.create(E),e},a.awrap=function(e){return{__await:e}},I(M.prototype),u(M.prototype,c,(function(){return this})),a.AsyncIterator=M,a.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var i=new M(v(e,t,n,o),r);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},I(E),u(E,d,"Generator"),u(E,l,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},a.values=B,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(n,o){return l.type="throw",l.arg=e,a.next=n,o&&(a.method="next",a.arg=t),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var o=n.arg;S(a)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:B(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),h}},a}function c(e,t,a,n,o,r,i){try{var l=e[r](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(n,o){var r=e.apply(t,a);function i(e){c(r,n,o,i,l,"next",e)}function l(e){c(r,n,o,i,l,"throw",e)}i(void 0)}))}}System.register(["./index-legacy-B2wPNrp6.js","./MovieList-legacy-DR-INg9K.js","./useCommentFormatting-legacy-D4W0rJ7G.js","./SpinnerLoading-legacy-G0rAz-jh.js","./ToastMessage-legacy-MkdD0oWn.js","./trailer-legacy-BN5U4n_d.js"],(function(e,t){"use strict";var n,i,l,c,u,v,p,m,b,f,g,h,x,y,k,w,_,C,E,I,M,L,z,j,S,T,B,A,R,O,N,P,$,F,U,D,q,H,V,Y,W,K,G,Z,X,Q,J,ee,te,ae,ne,oe,re,ie,le,se,ce,de,ue,ve,pe,me,be,fe,ge,he,xe,ye,ke,we,_e,Ce,Ee,Ie,Me,Le,ze;return{setters:[e=>{n=e._,i=e.r,l=e.c,c=e.b,u=e.d,v=e.e,p=e.m,m=e.t,b=e.O,f=e.g,g=e.P,h=e.n,x=e.l,y=e.u,k=e.q,w=e.N,_=e.B,C=e.x,E=e.o,I=e.S,M=e.k,L=e.E,z=e.f,j=e.V,S=e.p,T=e.W,B=e.A,A=e.U,R=e.X,O=e.G,N=e.Y,P=e.Z,$=e.$,F=e.a0,U=e.a1,D=e.a2,q=e.a3,H=e.v,V=e.y,Y=e.a4,W=e.i,K=e.w,G=e.a5,Z=e.a6,X=e.a7,Q=e.a8,J=e.a9,ee=e.aa,te=e.ab,ae=e.ac,ne=e.a,oe=e.ad,re=e.ae,ie=e.af,le=e.ag,se=e.ah,ce=e.ai,de=e.aj,ue=e.ak,ve=e.al,pe=e.am,me=e.an,be=e.ao},e=>{fe=e._,ge=e.a,he=e.b,xe=e.M},e=>{ye=e.p,ke=e.f,we=e.u,_e=e.a,Ce=e.b},e=>{Ee=e.S},e=>{Ie=e.N},e=>{Me=e.u,Le=e.S,ze=e.a}],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.modal[data-v-8b8d2b67]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.85);display:flex;justify-content:center;align-items:center;z-index:5}.modal-content[data-v-8b8d2b67]{background:#2d2d2d;padding:20px;border-radius:8px;width:90%;max-width:500px;max-height:80vh;overflow-y:auto;color:#fff;position:relative;box-shadow:0 0 20px rgba(0,0,0,.7)}.close[data-v-8b8d2b67]{position:absolute;top:12px;right:12px;border:none;background:transparent;color:#fff;font-size:1.8rem;cursor:pointer}h2[data-v-8b8d2b67]{margin-top:0;font-size:1.4rem;display:flex;align-items:center}.back-btn[data-v-8b8d2b67]{background:transparent;border:none;color:#aaa;font-size:1rem;margin-right:8px;cursor:pointer}.players-list[data-v-8b8d2b67]{list-style:none;padding:0;margin:15px 0}.players-list li[data-v-8b8d2b67]{margin:8px 0}.player-item[data-v-8b8d2b67],.group-item[data-v-8b8d2b67]{width:100%;text-align:left;padding:10px;background-color:#444;border:none;border-radius:4px;color:#fff;font-size:1rem;cursor:pointer;display:flex;align-items:center;transition:background .2s}.player-item[data-v-8b8d2b67]:hover,.group-item[data-v-8b8d2b67]:hover{background-color:var(--accent-transparent);border:1px solid var(--accent-semi-transparent);box-shadow:0 4px 10px rgba(0,0,0,.3);transform:translateY(-1px)}.player-item.active[data-v-8b8d2b67],.group-item.active[data-v-8b8d2b67]{background-color:var(--accent-color);box-shadow:0 0 5px var(--accent-semi-transparent)}.warning-icon[data-v-8b8d2b67]{font-size:1.2rem;color:#fc0;margin-left:8px}.group-icon[data-v-8b8d2b67]{font-size:1.2rem;color:#aaa;margin-right:8px}@media (max-width: 768px){.modal-content[data-v-8b8d2b67]{padding:15px;max-width:90%}}@media (max-width: 480px){.modal-content[data-v-8b8d2b67]{max-width:95%}}.players-list[data-v-1f8109ea]{width:100%;max-width:800px;display:flex;align-items:center;justify-content:center;gap:10px;margin:auto auto 10px}.player-btn[data-v-1f8109ea]{display:flex;align-items:center;justify-content:left;background:#3a3a3a;color:#fff;border:2px solid #505050;border-radius:5px;padding:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-in-out;width:100%;max-width:800px;text-align:left;font-size:16px}.player-btn[data-v-1f8109ea]:hover{background:var(--accent-color);border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.player-btn[data-v-1f8109ea]:active{background:var(--accent-color);border-color:var(--accent-color)}.player-btn[data-v-1f8109ea]:focus{outline:none;box-shadow:0 0 5px var(--accent-color)}.player-container[data-v-1f8109ea]{width:100%;transition:max-width .3s ease-in-out,max-height .3s ease-in-out;overflow:hidden;padding-bottom:10px}.iframe-wrapper[data-v-1f8109ea]{transition:padding-top .3s ease-in-out,transform .3s ease-in-out;width:100%}.responsive-iframe[data-v-1f8109ea]{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:4}.responsive-iframe.dimmed[data-v-1f8109ea]{z-index:7}.player-container.theater-mode[data-v-1f8109ea]{position:fixed;top:0!important;left:0!important;width:100vw!important;height:100vh!important;background:#000;margin:0;border-radius:0;display:flex;align-items:center;justify-content:center;z-index:7}.player-container.theater-mode .iframe-wrapper[data-v-1f8109ea]{width:100%!important;height:100%!important;padding-top:0!important;flex-grow:1}.close-theater-btn[data-v-1f8109ea]{position:fixed;top:20px;right:80px;background:rgba(255,0,0,.7);color:#fff;border:none;width:50px;height:50px;border-radius:50%;cursor:pointer;transition:background .3s,opacity .3s;opacity:0;display:flex;align-items:center;justify-content:center;font-size:24px;z-index:8}.close-theater-btn.visible[data-v-1f8109ea]{opacity:1}.close-theater-btn[data-v-1f8109ea]:hover,.close-theater-btn[data-v-1f8109ea]:before:hover{background:var(--accent-color);opacity:1}html.no-scroll[data-v-1f8109ea]{overflow:hidden}.controls[data-v-1f8109ea]{display:flex;flex-direction:column;align-items:center;gap:10px;margin:0 auto;border-radius:10px;backdrop-filter:blur(10px);position:relative;z-index:4}.main-controls[data-v-1f8109ea]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px}.controls button[data-v-1f8109ea]{display:flex;align-items:center;justify-content:center;background-color:#444;color:#fff;border:none;padding:12px;font-size:18px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;z-index:4;width:50px;height:50px}.controls button[data-v-1f8109ea]:hover{background-color:var(--accent-color);transform:translateY(-3px);box-shadow:0 4px 10px var(--accent-semi-transparent)}.controls button[data-v-1f8109ea]:active{transform:translateY(0);box-shadow:none}.controls button.active[data-v-1f8109ea]{background-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.material-icons[data-v-1f8109ea]{font-size:24px}.tooltip-container[data-v-1f8109ea]{position:relative;display:inline-block}.custom-tooltip[data-v-1f8109ea]{position:absolute;left:50%;background-color:rgba(30,30,30,.95);color:#fff;padding:8px 16px;border-radius:12px;font-size:14px;white-space:nowrap;pointer-events:none;text-align:center;box-shadow:0 4px 20px rgba(0,0,0,.25);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.08);opacity:0;visibility:hidden;transform:translate(-50%) translateY(8px);transition:all .2s cubic-bezier(.4,0,.2,1);z-index:1000}.custom-tooltip[data-v-1f8109ea]:before{content:"";position:absolute;left:50%;transform:translate(-50%) rotate(45deg);width:10px;height:10px;background-color:rgba(30,30,30,.95);border:1px solid rgba(255,255,255,.08);z-index:-1}.custom-tooltip[style*="bottom: 100%"][data-v-1f8109ea]:before{bottom:-5px;top:auto}.custom-tooltip[style*="top: 100%"][data-v-1f8109ea]:before{top:-5px;bottom:auto}.tooltip-container:hover .custom-tooltip[data-v-1f8109ea]{opacity:1;visibility:visible;transform:translate(-50%) translateY(0)}.advanced-tooltip[data-v-1f8109ea]{white-space:normal;padding:20px;display:flex;flex-direction:column;align-items:center;gap:16px;top:calc(100% + 12px);pointer-events:all;text-align:center;min-width:240px;background-color:rgba(30,30,30,.98);border-radius:16px;box-shadow:0 8px 40px rgba(0,0,0,.35);transform:translate(-50%) translateY(8px)}.advanced-tooltip[data-v-1f8109ea]:before{top:-6px;width:12px;height:12px}.tooltip-title[data-v-1f8109ea]{font-size:15px;font-weight:500;color:rgba(255,255,255,.95);margin-top:4px}.aspect-ratio-dropdown[data-v-1f8109ea]{min-width:fit-content;width:max-content;padding:16px;display:flex;flex-direction:column;gap:8px;background-color:rgba(30,30,30,.98);border-radius:16px}.aspect-ratio-option[data-v-1f8109ea]{padding:12px 20px;border-radius:10px;cursor:pointer;transition:all .2s ease;text-align:center;font-size:14px;color:rgba(255,255,255,.9);white-space:nowrap;width:100%}.aspect-ratio-option[data-v-1f8109ea]:hover{background-color:var(--accent-color);transform:translateY(-1px);box-shadow:0 2px 8px var(--accent-semi-transparent)}.aspect-ratio-option.active[data-v-1f8109ea]{background-color:var(--accent-color);color:#fff;font-weight:500;box-shadow:0 2px 12px var(--accent-semi-transparent)}.fullscreen[data-v-1f8109ea]{position:absolute;top:0;left:0;width:100vw;height:100vh;z-index:10}.theater-mode-lock[data-v-1f8109ea]{pointer-events:none}.theater-mode-unlock[data-v-1f8109ea]{pointer-events:all}.aspect-ratio-dropdown-btn[data-v-1f8109ea]{display:flex;align-items:center;justify-content:center;padding:0 12px;min-width:60px}.current-ratio[data-v-1f8109ea]{font-size:14px;font-weight:500}.list-buttons-container[data-v-1f8109ea]{position:relative}.list-buttons-dropdown[data-v-1f8109ea]{display:flex;flex-direction:column;gap:10px;padding:16px;min-width:240px;background-color:rgba(30,30,30,.98);border-radius:16px;box-shadow:0 8px 40px rgba(0,0,0,.35)}.list-button-item[data-v-1f8109ea]{width:100%}.list-button-item button[data-v-1f8109ea]{width:100%;display:flex;align-items:center;gap:12px;padding:12px 20px;background-color:rgba(255,255,255,.08);border:none;border-radius:10px;color:rgba(255,255,255,.9);cursor:pointer;transition:all .2s ease;min-height:48px}.list-button-item button[data-v-1f8109ea]:hover{background-color:var(--accent-color);transform:translate(4px);box-shadow:0 2px 8px var(--accent-semi-transparent)}.list-button-item button.active[data-v-1f8109ea]{background-color:var(--accent-color);color:#fff;box-shadow:0 2px 12px var(--accent-semi-transparent)}.button-label[data-v-1f8109ea]{font-size:15px;font-weight:500;flex:1}.list-button-item .material-icons[data-v-1f8109ea]{font-size:20px;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.mobile-list-buttons[data-v-1f8109ea]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin:0 auto;border-radius:10px;backdrop-filter:blur(10px)}@media (max-width: 768px){.mobile-list-buttons[data-v-1f8109ea]{margin-top:10px}}.shortcut-hint[data-v-1f8109ea]{display:block;font-size:13px;color:rgba(255,255,255,.5);margin-top:6px;font-weight:400}.electron-only[data-v-1f8109ea]{background-color:#333!important;opacity:.6;cursor:not-allowed}.electron-only[data-v-1f8109ea]:hover{transform:none!important;box-shadow:none!important;background-color:#333!important}.custom-tooltip[data-v-1f8109ea]:has(+.electron-only){color:rgba(255,255,255,.7)}.favorite-btn[data-v-1f8109ea]{display:flex;align-items:center;justify-content:center;background-color:#444;color:#fff;border:none;padding:12px;font-size:18px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;z-index:4;width:50px;height:50px;position:relative}.favorite-btn[data-v-1f8109ea]:hover{background-color:var(--accent-color);transform:translateY(-3px);box-shadow:0 4px 10px var(--accent-semi-transparent)}.dropdown-arrow[data-v-1f8109ea]{position:absolute;right:2px;bottom:2px;font-size:16px;opacity:.7;pointer-events:none;transition:all .3s ease}.dropdown-arrow.highlighted[data-v-1f8109ea]{opacity:1;color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.desktop-list-buttons[data-v-1f8109ea]{display:flex;flex-wrap:wrap;justify-content:center;gap:5px;margin:0 auto;border-radius:10px;backdrop-filter:blur(10px)}.desktop-list-buttons .tooltip-container[data-v-1f8109ea],.desktop-list-buttons button[data-v-1f8109ea]{margin:0}.tooltip-hint[data-v-1f8109ea]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:rgba(255,255,255,.05);border-radius:8px;margin-top:8px;font-size:13px;color:rgba(255,255,255,.7)}.tooltip-hint .material-icons[data-v-1f8109ea]{font-size:16px;color:rgba(255,255,255,.5)}.settings-link[data-v-1f8109ea]{color:var(--accent-color);cursor:pointer;text-decoration:underline;transition:color .2s ease}.settings-link[data-v-1f8109ea]:hover{color:var(--accent-hover)}.auth-link[data-v-1f8109ea]{color:var(--accent-color);cursor:pointer;text-decoration:underline;transition:color .2s ease}.auth-link[data-v-1f8109ea]:hover{color:var(--accent-hover)}.carousel-container[data-v-4a5806b3]{margin:2rem 0;padding:0}.carousel-wrapper[data-v-4a5806b3]{position:relative;overflow:hidden}.carousel[data-v-4a5806b3]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:8px 0;user-select:none}.carousel[data-v-4a5806b3]::-webkit-scrollbar{width:5px;height:5px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-track{background:transparent;border-radius:10px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb{background:#494949;border-radius:10px;border:0}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb:hover{background:#555}.scroll-button[data-v-4a5806b3]{position:absolute;top:0;bottom:0;width:50px;border:none;background:rgba(0,0,0,.5);color:#fff;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;transition:opacity .3s;opacity:0;pointer-events:none}.carousel-wrapper:hover .scroll-button[data-v-4a5806b3]{opacity:1;pointer-events:auto}.scroll-button[data-v-4a5806b3]:hover{background:rgba(0,0,0,.7)}.scroll-button.left[data-v-4a5806b3]{left:0}.scroll-button.right[data-v-4a5806b3]{right:0}.carousel-item[data-v-4a5806b3]{flex:0 0 auto;scroll-snap-align:start;width:260px;background:#161616;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;overflow:hidden}.carousel-item[data-v-4a5806b3]:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.3),0 0 20px var(--accent-semi-transparent)}.carousel-item img[data-v-4a5806b3]{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;border-top-left-radius:12px;border-top-right-radius:12px}.video-name[data-v-4a5806b3]{padding:12px;background:#202020;color:#fff;font-size:14px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.video-player[data-v-4a5806b3]{max-width:1200px;width:100%;aspect-ratio:16/9;margin:20px auto 0;box-shadow:0 4px 12px rgba(0,0,0,.3);border-radius:8px;overflow:hidden}.video-player iframe[data-v-4a5806b3]{width:100%;height:100%;border:none}.rating-container[data-v-2df64bd5]{display:flex;flex-direction:column;align-items:center;gap:0;position:relative;min-height:32px}.rating-display[data-v-2df64bd5]{display:flex;flex-direction:column;align-items:center;position:relative;margin:0;padding:0}.rating-link[data-v-2df64bd5]{display:inline-flex;align-items:center;justify-content:center;color:#e0e0e0;text-decoration:none;font-weight:700;font-family:Roboto,sans-serif;font-size:16px;padding:5px 10px;margin:0;background:rgba(0,0,0,.7);border-radius:5px;cursor:pointer;transition:all .2s ease;gap:5px;box-sizing:border-box;vertical-align:middle}.rating-link.has-rating[data-v-2df64bd5]{position:relative;padding:5px 10px;border-radius:5px;background:rgba(0,0,0,.7);border:1px solid var(--accent-transparent)}.rating-link.has-rating[data-v-2df64bd5]:after{content:"★";position:absolute;top:-6px;left:-6px;font-size:12px;color:var(--accent-color);line-height:1;padding-bottom:1px}.rating-link[data-v-2df64bd5]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.rating-logo[data-v-2df64bd5]{width:20px;height:20px;margin-right:5px;opacity:.8;transition:opacity .2s ease}.rating-link:hover .rating-logo[data-v-2df64bd5]{opacity:1}.vote-count[data-v-2df64bd5]{margin-left:4px;font-size:14px;color:rgba(224,224,224,.8)}.rating-tooltip[data-v-2df64bd5]{position:absolute;top:100%;left:50%;transform:translate(-50%);margin-top:8px;z-index:1000;background:#1a1a1a;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.3);padding:8px;opacity:0;transition:opacity .3s ease;min-width:220px}.rating-display:hover .rating-tooltip[data-v-2df64bd5]{opacity:1}.rating-numbers[data-v-2df64bd5]{display:flex;gap:4px;margin-bottom:8px;justify-content:center}.number-btn[data-v-2df64bd5]{background:none;border:none;padding:4px 6px;cursor:pointer;color:#e0e0e0;transition:all .2s;border-radius:2px;font-size:14px;font-weight:700;font-family:Roboto,sans-serif;position:relative}.number-btn[data-v-2df64bd5]:hover{transform:scale(1.1)}.number-btn.active[data-v-2df64bd5]{color:#fff;transform:scale(1.1);box-shadow:0 0 8px rgba(255,255,255,.3)}.number-btn.hover[data-v-2df64bd5]{color:#fff;transform:scale(1.1)}.number-btn.average-highlight[data-v-2df64bd5]{color:#e0e0e0}.number-btn.active.average-highlight[data-v-2df64bd5]{color:#fff}.average-rating[data-v-2df64bd5]{font-weight:700;color:#e0e0e0;font-size:16px;font-family:Roboto,sans-serif;transition:color .2s ease;display:flex;align-items:center}.rating-link:hover .average-rating[data-v-2df64bd5]{color:#fff}.average-rating.low[data-v-2df64bd5]{color:#ff6b6b!important}.average-rating.medium[data-v-2df64bd5]{color:#ffd93d!important}.average-rating.high[data-v-2df64bd5]{color:#51cf66!important}.tooltip-footer[data-v-2df64bd5]{text-align:center;font-size:12px;color:rgba(224,224,224,.8);padding-top:4px;border-top:1px solid rgba(255,255,255,.1)}.number-btn[data-v-2df64bd5]:nth-child(1):hover{color:#f44;text-shadow:0 0 8px rgba(255,68,68,.5)}.number-btn[data-v-2df64bd5]:nth-child(2):hover{color:#ff6b6b;text-shadow:0 0 8px rgba(255,107,107,.5)}.number-btn[data-v-2df64bd5]:nth-child(3):hover{color:#ff8e8e;text-shadow:0 0 8px rgba(255,142,142,.5)}.number-btn[data-v-2df64bd5]:nth-child(4):hover{color:#ffb347;text-shadow:0 0 8px rgba(255,179,71,.5)}.number-btn[data-v-2df64bd5]:nth-child(5):hover{color:#fc3;text-shadow:0 0 8px rgba(255,204,51,.5)}.number-btn[data-v-2df64bd5]:nth-child(6):hover{color:gold;text-shadow:0 0 8px rgba(255,215,0,.5)}.number-btn[data-v-2df64bd5]:nth-child(7):hover{color:#9acd32;text-shadow:0 0 8px rgba(154,205,50,.5)}.number-btn[data-v-2df64bd5]:nth-child(8):hover{color:#7cfc00;text-shadow:0 0 8px rgba(124,252,0,.5)}.number-btn[data-v-2df64bd5]:nth-child(9):hover{color:#32cd32;text-shadow:0 0 8px rgba(50,205,50,.5)}.number-btn[data-v-2df64bd5]:nth-child(10):hover{color:#0f0;text-shadow:0 0 8px rgba(0,255,0,.5)}.number-btn.active[data-v-2df64bd5]:nth-child(1){background:#f44;box-shadow:0 0 12px rgba(255,68,68,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(2){background:#ff6b6b;box-shadow:0 0 12px rgba(255,107,107,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(3){background:#ff8e8e;box-shadow:0 0 12px rgba(255,142,142,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(4){background:#ffb347;box-shadow:0 0 12px rgba(255,179,71,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(5){background:#fc3;box-shadow:0 0 12px rgba(255,204,51,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(6){background:gold;box-shadow:0 0 12px rgba(255,215,0,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(7){background:#9acd32;box-shadow:0 0 12px rgba(154,205,50,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(8){background:#7cfc00;box-shadow:0 0 12px rgba(124,252,0,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(9){background:#32cd32;box-shadow:0 0 12px rgba(50,205,50,.7)}.number-btn.active[data-v-2df64bd5]:nth-child(10){background:#0f0;box-shadow:0 0 12px rgba(0,255,0,.7)}.mobile-tooltip[data-v-2df64bd5]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);margin-top:0;z-index:1001}.mobile-modal-overlay[data-v-2df64bd5]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;justify-content:center;align-items:center;z-index:1000}.mobile-modal[data-v-2df64bd5]{background:#1a1a1a;border-radius:8px;padding:20px;width:90%;max-width:320px;box-shadow:0 4px 12px rgba(0,0,0,.3)}.mobile-modal-header[data-v-2df64bd5]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.mobile-modal-header h3[data-v-2df64bd5]{margin:0;color:#fff;font-size:18px;font-weight:500}.close-button[data-v-2df64bd5]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;padding:0;opacity:.7;transition:opacity .2s}.close-button[data-v-2df64bd5]:hover{opacity:1;color:var(--accent-color)}.mobile-rating-numbers[data-v-2df64bd5]{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:16px}.mobile-rating-numbers .number-btn[data-v-2df64bd5]{font-size:18px;padding:12px 0}.mobile-modal-footer[data-v-2df64bd5]{text-align:center;color:rgba(255,255,255,.7);font-size:14px;padding-top:12px;border-top:1px solid rgba(255,255,255,.1)}@media (max-width: 620px){.rating-container[data-v-2df64bd5]{min-height:auto}.rating-link[data-v-2df64bd5]{padding:4px 8px;margin:0;font-size:.8em}.rating-link.has-rating[data-v-2df64bd5]{padding:4px 8px;margin:0}.rating-link.has-rating[data-v-2df64bd5]:after{top:-5px;left:-5px;font-size:10px;padding-bottom:1px}.rating-logo[data-v-2df64bd5]{width:15px;height:15px}}.emoji-picker[data-v-209132f3]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:280px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-209132f3]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-209132f3]:hover{color:#fff}.mobile-only[data-v-209132f3]{display:none}@media (max-width: 768px){.mobile-only[data-v-209132f3]{display:block}.emoji-picker[data-v-209132f3]{width:260px;padding-top:2rem}}.emoji-categories[data-v-209132f3]{display:flex;gap:.25rem;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.category-btn[data-v-209132f3]{background:none;border:none;font-size:1.2rem;padding:.5rem;border-radius:.375rem;cursor:pointer;transition:background-color .2s}.category-btn[data-v-209132f3]:hover{background:rgba(255,255,255,.1)}.category-btn.active[data-v-209132f3]{background:rgba(76,175,80,.2)}.emoji-grid[data-v-209132f3]{display:grid;grid-template-columns:repeat(8,1fr);gap:.25rem;max-height:200px;overflow-y:auto}.emoji-btn[data-v-209132f3]{background:none;border:none;font-size:1.25rem;padding:.5rem;border-radius:.25rem;cursor:pointer;transition:background-color .2s;display:flex;align-items:center;justify-content:center}.emoji-btn[data-v-209132f3]:hover{background:rgba(255,255,255,.1)}.emoji-grid[data-v-209132f3]::-webkit-scrollbar{width:4px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-track{background:#333;border-radius:2px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-thumb:hover{background:#777}.image-picker[data-v-f33eb3f6]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:320px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-f33eb3f6]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-f33eb3f6]:hover{color:#fff}.mobile-only[data-v-f33eb3f6]{display:none}@media (max-width: 768px){.mobile-only[data-v-f33eb3f6]{display:block}.image-picker[data-v-f33eb3f6]{width:300px;padding-top:2rem}}.auth-required[data-v-f33eb3f6]{min-height:240px;display:flex;align-items:center;justify-content:center}.auth-message[data-v-f33eb3f6]{text-align:center;color:#999;padding:2rem 1rem}.auth-message i[data-v-f33eb3f6]{font-size:2rem;color:#666;margin-bottom:1rem}.auth-message h3[data-v-f33eb3f6]{color:#fff;margin:0 0 .5rem;font-size:1.1rem}.auth-message p[data-v-f33eb3f6]{margin:0 0 1.5rem;font-size:.9rem;line-height:1.4}.login-button[data-v-f33eb3f6]{background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;padding:.5rem 1.5rem;font-size:.9rem;cursor:pointer;transition:background-color .2s}.login-button[data-v-f33eb3f6]:hover{background:var(--accent-hover)}.image-picker-header[data-v-f33eb3f6]{margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.image-search-input[data-v-f33eb3f6]{width:100%;padding:.5rem;background:#1a1a1a;border:1px solid #444;border-radius:.375rem;color:#fff;font-size:.9rem;box-sizing:border-box}.image-search-input[data-v-f33eb3f6]:focus{outline:none;border-color:var(--accent-color)}.image-search-input[data-v-f33eb3f6]::placeholder{color:#999}.image-content[data-v-f33eb3f6]{min-height:240px;display:flex;flex-direction:column}.loading-spinner[data-v-f33eb3f6]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;color:#999}.spinner[data-v-f33eb3f6]{width:32px;height:32px;border:3px solid #444;border-top:3px solid var(--accent-color);border-radius:50%;animation:spin-f33eb3f6 1s linear infinite;margin-bottom:1rem}@keyframes spin-f33eb3f6{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner p[data-v-f33eb3f6]{font-size:.9rem;margin:0}.image-grid[data-v-f33eb3f6]{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem;max-height:240px;overflow-y:auto}.image-item[data-v-f33eb3f6]{min-height:60px;max-height:80px;cursor:pointer;border-radius:.375rem;overflow:hidden;transition:all .2s ease;border:2px solid transparent;display:flex;align-items:center;justify-content:center;background:#1a1a1a}.image-item[data-v-f33eb3f6]:hover{transform:scale(1.05);border-color:var(--accent-semi-transparent);background:#333}.image-item img[data-v-f33eb3f6]{max-width:100%;max-height:100%;object-fit:contain;display:block}.no-images[data-v-f33eb3f6],.no-search[data-v-f33eb3f6]{display:flex;align-items:center;justify-content:center;min-height:240px;text-align:center;color:#999;font-size:.9rem}.no-search[data-v-f33eb3f6]{color:#666}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar{width:4px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-track{background:#333;border-radius:2px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-thumb:hover{background:#777}.link-modal-overlay[data-v-a794d83f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.link-modal[data-v-a794d83f]{background:#2a2a2a;border-radius:.5rem;min-width:400px;max-width:500px;width:100%;box-shadow:0 10px 25px rgba(0,0,0,.5);border:1px solid #444}.link-modal-header[data-v-a794d83f]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #444}.link-modal-header h3[data-v-a794d83f]{margin:0;color:#fff;font-size:1.1rem}.close-button[data-v-a794d83f]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:color .2s}.close-button[data-v-a794d83f]:hover{color:#fff}.link-modal-content[data-v-a794d83f]{padding:1.5rem}.form-group[data-v-a794d83f]{margin-bottom:1rem}.form-group[data-v-a794d83f]:last-child{margin-bottom:0}.form-group label[data-v-a794d83f]{display:block;margin-bottom:.5rem;color:#fff;font-size:.9rem;font-weight:500}.link-input[data-v-a794d83f]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;font-size:.9rem;box-sizing:border-box;transition:border-color .2s}.link-input[data-v-a794d83f]:focus{outline:none;border-color:var(--accent-color)}.link-input[data-v-a794d83f]::placeholder{color:#999}.link-modal-footer[data-v-a794d83f]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #444}.cancel-button[data-v-a794d83f]{padding:.5rem 1rem;background:none;border:1px solid #666;border-radius:.375rem;color:#999;cursor:pointer;font-size:.9rem;transition:all .2s}.cancel-button[data-v-a794d83f]:hover{background:#333;color:#fff;border-color:#777}.submit-button[data-v-a794d83f]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;cursor:pointer;font-size:.9rem;transition:background-color .2s}.submit-button[data-v-a794d83f]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-a794d83f]:disabled{background:#666;cursor:not-allowed;opacity:.6}@media (max-width: 480px){.link-modal[data-v-a794d83f]{min-width:auto;margin:1rem}.link-modal-header[data-v-a794d83f],.link-modal-content[data-v-a794d83f],.link-modal-footer[data-v-a794d83f]{padding:1rem}}.comment-item[data-v-f1c85dfc]{background:#2a2a2a;border-radius:.5rem;padding:1rem;margin-bottom:1rem;transition:all .2s ease-in-out;max-width:100%;overflow:visible;word-wrap:break-word}.comment-item[data-v-f1c85dfc]:hover{box-shadow:0 3px 6px rgba(0,0,0,.15)}.comment-header[data-v-f1c85dfc]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.user-info[data-v-f1c85dfc]{display:flex;align-items:center;gap:.5rem}.user-avatar-link[data-v-f1c85dfc]{text-decoration:none;color:inherit;display:block}.user-avatar-link:hover .user-avatar[data-v-f1c85dfc]{transform:scale(1.05);box-shadow:0 0 10px rgba(74,144,226,.3)}.user-avatar[data-v-f1c85dfc]{width:2rem;height:2rem;border-radius:50%;overflow:hidden;background-color:var(--accent-color);display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.user-avatar img[data-v-f1c85dfc]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-f1c85dfc]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#fff;background-color:var(--accent-color);font-weight:600}.username[data-v-f1c85dfc]{font-weight:600;color:#fff;font-size:.9rem}.date[data-v-f1c85dfc]{font-size:.8rem;color:#999;margin-left:.375rem;display:inline-flex;align-items:center;gap:.25rem}.edit-icon[data-v-f1c85dfc]{font-size:.7rem;color:#666;vertical-align:baseline;position:relative;top:.02em}.edited-indicator[data-v-f1c85dfc]{font-style:italic;color:#777}.comment-content[data-v-f1c85dfc]{margin-bottom:.75rem;width:100%;box-sizing:border-box;overflow:visible;word-wrap:break-word}.comment-text[data-v-f1c85dfc]{color:#fff;line-height:1.5;font-size:.9rem;margin:0;word-wrap:break-word;word-break:break-word;overflow-wrap:anywhere;width:100%;max-width:100%;white-space:pre-wrap;padding:.2em 0}.comment-text[data-v-f1c85dfc] img.inline-emoji{display:inline-block;vertical-align:middle;height:2em;width:auto;margin:0 .3em;max-height:32px}.edit-form[data-v-f1c85dfc]{position:relative;margin-bottom:.5rem;width:100%;box-sizing:border-box;overflow:visible;z-index:5}.edit-textarea-container[data-v-f1c85dfc]{position:relative;width:100%;overflow:visible}.edit-textarea[data-v-f1c85dfc]{width:100%;padding:.5rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;resize:none;font-size:.9rem;box-sizing:border-box;margin:0;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease}.edit-textarea[data-v-f1c85dfc]:focus{outline:none;border-color:var(--accent-color)}.edit-footer[data-v-f1c85dfc]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.edit-actions[data-v-f1c85dfc]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-f1c85dfc]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s;display:flex;align-items:center;justify-content:center}.emoji-button-inline[data-v-f1c85dfc]:hover{color:#fff}.emoji-button-inline.active[data-v-f1c85dfc]{color:var(--accent-color)}.character-counter-container[data-v-f1c85dfc]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-f1c85dfc]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-f1c85dfc]{color:gold}.character-counter-inline.at-limit[data-v-f1c85dfc]{color:var(--error-color)}.cancel-button[data-v-f1c85dfc]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-button[data-v-f1c85dfc]:hover{color:#fff}.save-button[data-v-f1c85dfc]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.save-button[data-v-f1c85dfc]:hover:not(:disabled){background:var(--accent-hover)}.save-button[data-v-f1c85dfc]:disabled{background:#666;cursor:not-allowed}.comment-footer[data-v-f1c85dfc]{display:flex;align-items:center;justify-content:flex-start}.comment-actions[data-v-f1c85dfc]{display:flex;align-items:center;gap:.75rem}.rating-buttons[data-v-f1c85dfc]{display:flex;align-items:center;gap:.5rem}.rating-button[data-v-f1c85dfc]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem}.rating-button[data-v-f1c85dfc]:hover{color:#fff}.rating-button.rated-up[data-v-f1c85dfc]{color:var(--accent-color)}.rating-button.rated-down[data-v-f1c85dfc]{color:var(--error-color)}.rating-button.disabled[data-v-f1c85dfc]{opacity:.5;cursor:not-allowed}.rating-button[data-v-f1c85dfc]:disabled{pointer-events:none}.rating-count[data-v-f1c85dfc]{color:#999;font-size:.8rem;font-weight:500;min-width:1.5rem;text-align:center;display:flex;align-items:center;justify-content:center;line-height:1;transition:color .2s ease}.rating-count.rating-positive[data-v-f1c85dfc]{color:var(--accent-color)}.rating-count.rating-negative[data-v-f1c85dfc]{color:var(--error-color)}.action-buttons[data-v-f1c85dfc]{display:flex;align-items:center;gap:.5rem}.action-button[data-v-f1c85dfc]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem;display:flex;align-items:center;justify-content:center}.action-button[data-v-f1c85dfc]:hover{color:#fff}.reply-button[data-v-f1c85dfc]{background:none;border:none;color:#999}.reply-button[data-v-f1c85dfc]:hover,.edit-button[data-v-f1c85dfc]:hover{color:var(--accent-color)}.delete-button[data-v-f1c85dfc]:hover{color:var(--error-color)}.username-link[data-v-f1c85dfc]{text-decoration:none;color:inherit;transition:color .2s}.username-link[data-v-f1c85dfc]:hover{color:#4a90e2}.hidden-comment-warning[data-v-f1c85dfc]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:6px;margin-bottom:.375rem;overflow:hidden;position:relative}.warning-text[data-v-f1c85dfc]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#d7dadc;cursor:pointer;font-size:.75rem;font-weight:500;transition:all .2s ease;border:none;background:none;width:100%;text-align:center;position:relative}.warning-text[data-v-f1c85dfc]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .2s ease}.warning-text i[data-v-f1c85dfc]{font-size:12px;color:#878a8c;transition:all .2s ease}.warning-text[data-v-f1c85dfc]:hover{background:linear-gradient(135deg,#272729,#343536);color:#fff;transform:translateY(-.5px);box-shadow:0 1px 4px rgba(0,0,0,.3)}.warning-text[data-v-f1c85dfc]:hover:before{opacity:1}.warning-text:hover i[data-v-f1c85dfc]{color:#ff6b35;transform:scale(1.05)}.warning-text[data-v-f1c85dfc]:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.4)}.deleted-comment[data-v-f1c85dfc]{background:#1a1a1b;border:1px solid #343536;border-radius:6px;margin-bottom:.375rem}.deleted-message[data-v-f1c85dfc]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#878a8c;font-size:.75rem;font-style:italic;text-align:center}.deleted-message i[data-v-f1c85dfc]{font-size:12px;color:#878a8c}.comment-text-container[data-v-f1c85dfc]{position:relative;max-width:100%;overflow:hidden;word-wrap:break-word}.expand-button[data-v-f1c85dfc]{background:none;border:none;color:var(--accent-color);cursor:pointer;padding:.25rem 0;font:inherit;outline:inherit;font-size:.875rem;margin-top:.5rem;transition:color .2s ease}.expand-button[data-v-f1c85dfc]:hover{color:var(--accent-hover);text-decoration:underline}@keyframes spoiler-shimmer-f1c85dfc{0%{background-position:-200% 0}to{background-position:200% 0}}.seven-tv-icon[data-v-f1c85dfc]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-f1c85dfc] .spoiler-text{background-color:#333;color:transparent;cursor:pointer;padding:.2em .6em;margin:.2em 0;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:60px;min-height:1.5em;text-align:center;overflow:hidden;line-height:1.5;font-size:.9rem;vertical-align:middle}[data-v-f1c85dfc] .spoiler-text:not(.revealed){background-image:linear-gradient(110deg,transparent 25%,rgba(255,255,255,.05) 40%,rgba(255,255,255,.05) 60%,transparent 75%);background-size:200% 100%;background-repeat:no-repeat;animation:spoiler-shimmer-f1c85dfc 3s linear infinite;color:transparent}[data-v-f1c85dfc] .spoiler-text:not(.revealed) .spoiler-hidden-content{display:none}[data-v-f1c85dfc] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-f1c85dfc] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;min-height:auto;text-align:left;padding:0;margin:0;animation:none;display:inline;line-height:inherit;font-size:inherit;vertical-align:baseline}[data-v-f1c85dfc] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-f1c85dfc]{color:#999}.spoiler-button[data-v-f1c85dfc]:hover{color:var(--accent-hover)}.spoiler-button[data-v-f1c85dfc]:disabled{opacity:.5;cursor:not-allowed}.user-details[data-v-f1c85dfc]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.user-rating[data-v-f1c85dfc]{display:flex;align-items:center;gap:.25rem;color:gold;font-size:.8rem;font-weight:500}.user-rating i[data-v-f1c85dfc]{font-size:.75rem}.link-button[data-v-f1c85dfc]{color:#999}.link-button[data-v-f1c85dfc]:hover{color:var(--accent-hover)}.link-button[data-v-f1c85dfc]:disabled{opacity:.5;cursor:not-allowed}[data-v-f1c85dfc] .comment-link{color:#4a90e2;text-decoration:none;transition:color .2s ease;border-bottom:1px solid transparent}[data-v-f1c85dfc] .comment-link:hover{color:#66a3e0;border-bottom-color:#66a3e0;text-decoration:none}[data-v-f1c85dfc] .comment-link:visited{color:#8a7ca8}[data-v-f1c85dfc] .comment-link:visited:hover{color:#a393c2;border-bottom-color:#a393c2}@media (max-width: 768px){.edit-footer[data-v-f1c85dfc]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-f1c85dfc]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.edit-actions[data-v-f1c85dfc]{justify-content:flex-start}.character-counter-inline[data-v-f1c85dfc]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-f1c85dfc]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media (max-width: 480px){.character-counter-container[data-v-f1c85dfc]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-f1c85dfc]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-f1c85dfc]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.save-button[data-v-f1c85dfc]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:90px}.cancel-button[data-v-f1c85dfc]{min-height:44px;padding:.5rem 1rem;min-width:70px}.edit-form[data-v-f1c85dfc]{margin-bottom:1rem}.edit-textarea[data-v-f1c85dfc]{font-size:16px}}@media (max-width: 360px){.emoji-button-inline[data-v-f1c85dfc]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-f1c85dfc]{font-size:.65rem}}.upvote-button.voted[data-v-f1c85dfc]{color:var(--accent-color);background:var(--accent-transparent)}.downvote-button.voted[data-v-f1c85dfc]{color:var(--error-color);background:rgba(231,112,85,.1)}.comment-thread[data-v-6c0fc347]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-6c0fc347]{margin-left:1rem;margin-right:1rem;display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);position:relative;border-left:3px solid var(--accent-transparent);padding-left:1rem;margin-top:.5rem;overflow:visible}.reply-form[data-v-6c0fc347]{margin-left:1rem;margin-right:1rem;margin-top:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:3px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible;position:relative;z-index:5}.reply-footer[data-v-6c0fc347]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.reply-actions[data-v-6c0fc347]{display:flex;gap:.5rem;position:relative;overflow:visible}.character-counter-container[data-v-6c0fc347]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-6c0fc347]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-6c0fc347]{color:gold}.character-counter-inline.at-limit[data-v-6c0fc347]{color:red}.cancel-reply[data-v-6c0fc347]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-reply[data-v-6c0fc347]:hover{color:#fff}.submit-button[data-v-6c0fc347]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.submit-button[data-v-6c0fc347]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-6c0fc347]:disabled{background:#666;cursor:not-allowed}.textarea-container[data-v-6c0fc347]{position:relative;overflow:visible}.comment-textarea[data-v-6c0fc347]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-6c0fc347]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-6c0fc347]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.emoji-button-inline[data-v-6c0fc347]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s}.emoji-button-inline[data-v-6c0fc347]:hover{color:#fff}.emoji-button-inline.active[data-v-6c0fc347]{color:var(--accent-color)}.emoji-button-inline[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.collapse-toggle[data-v-6c0fc347]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid var(--accent-transparent);border-radius:.5rem;padding:.5rem .75rem;margin:.5rem 0;color:#999;cursor:pointer;transition:all .2s ease;font-size:.85rem;min-width:fit-content;position:relative;left:0;z-index:2}.collapse-toggle[data-v-6c0fc347]:hover{background:var(--accent-transparent);border-color:var(--accent-semi-transparent);color:#fff;transform:translateY(-1px)}.collapse-icon[data-v-6c0fc347]{display:flex;align-items:center;justify-content:center;transition:transform .3s ease;color:var(--accent-color)}.collapse-icon.expanded[data-v-6c0fc347]{transform:rotate(180deg)}.replies-count[data-v-6c0fc347]{font-size:.85rem;font-weight:500;color:inherit;user-select:none}.replies-content[data-v-6c0fc347]{display:flex;flex-direction:column;gap:1rem;padding-top:1rem;margin-left:0;width:100%;overflow:visible}.vertical-line-clickable[data-v-6c0fc347]{position:absolute;left:-8px;top:0;width:16px;height:100%;cursor:pointer;z-index:1;transition:all .2s ease}.vertical-line-clickable[data-v-6c0fc347]:hover{background:var(--accent-transparent)}.vertical-line-visual[data-v-6c0fc347]{position:absolute;left:50%;top:0;width:3px;height:100%;background:var(--accent-transparent);transform:translate(-50%);transition:all .2s ease}.vertical-line-clickable:hover .vertical-line-visual[data-v-6c0fc347]{background:var(--accent-semi-transparent);width:4px}.vertical-line-visual.collapsed[data-v-6c0fc347]{background:var(--accent-semi-transparent)}.comment-content[data-v-6c0fc347]{white-space:pre-wrap;word-break:break-word;line-height:1.5;color:#fff}.comment-content[data-v-6c0fc347] img.inline-emoji{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}.seven-tv-icon[data-v-6c0fc347]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-6c0fc347] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-6c0fc347] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-6c0fc347] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-6c0fc347] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-6c0fc347] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-6c0fc347]{color:#999}.spoiler-button[data-v-6c0fc347]:hover{color:var(--accent-hover)}.spoiler-button[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-6c0fc347]{color:#999}.link-button[data-v-6c0fc347]:hover{color:var(--accent-hover)}.link-button[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.reply-footer[data-v-6c0fc347]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-6c0fc347]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.reply-actions[data-v-6c0fc347]{justify-content:flex-start}.character-counter-inline[data-v-6c0fc347]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-6c0fc347]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media (max-width: 480px){.character-counter-container[data-v-6c0fc347]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-6c0fc347]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-6c0fc347]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-6c0fc347]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:80px}.cancel-reply[data-v-6c0fc347]{min-height:44px;padding:.5rem 1rem;min-width:60px}.reply-form[data-v-6c0fc347]{margin-bottom:1rem}.comment-textarea[data-v-6c0fc347]{font-size:16px}}@media (max-width: 360px){.emoji-button-inline[data-v-6c0fc347]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-6c0fc347]{font-size:.65rem}}.comments-section[data-v-e82be516]{margin:0;padding:20px 0;overflow:visible}.comments-title[data-v-e82be516]{font-size:1.4rem;font-weight:700;margin-bottom:1rem;color:#fff}.comment-form[data-v-e82be516]{margin-bottom:1.25rem;width:100%;overflow:visible;position:relative;z-index:1}.textarea-container[data-v-e82be516]{position:relative;width:100%;overflow:visible}.comment-textarea[data-v-e82be516]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-e82be516]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-e82be516]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.submit-button[data-v-e82be516]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:background-color .2s;font-size:.8rem}.submit-button[data-v-e82be516]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-e82be516]:disabled{background:#666;cursor:not-allowed}.comments-list[data-v-e82be516],.comment-group[data-v-e82be516]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-e82be516]{margin-left:2rem;margin-right:1rem;padding-left:1rem;border-left:2px solid var(--accent-transparent);display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);overflow:visible}.reply-form[data-v-e82be516]{margin-left:2rem;margin-right:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:2px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible}.reply-form.nested[data-v-e82be516]{margin-left:0;background:#333;border-left:none;width:100%;overflow:visible}.reply-header[data-v-e82be516]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.85rem}.cancel-reply[data-v-e82be516]{color:#999;background:none;border:none;cursor:pointer;padding:.25rem .5rem;font-size:.85rem}.cancel-reply[data-v-e82be516]:hover{color:#fff}.auth-link[data-v-e82be516]{color:var(--accent-color);cursor:pointer;text-decoration:underline;transition:color .2s ease}.auth-link[data-v-e82be516]:hover{color:var(--accent-hover)}.spoiler-warning[data-v-e82be516]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:8px;padding:1rem 1.5rem;margin-bottom:1rem;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.spoiler-warning[data-v-e82be516]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .3s ease}.spoiler-warning[data-v-e82be516]:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,0,0,.2);border-color:var(--accent-color)}.spoiler-warning[data-v-e82be516]:hover:before{opacity:1}.spoiler-content[data-v-e82be516]{display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;z-index:1;gap:.5rem}.spoiler-content i[data-v-e82be516]{font-size:1.5rem;color:var(--accent-color);margin-bottom:.25rem;transition:all .3s ease}.spoiler-warning:hover .spoiler-content i[data-v-e82be516]{transform:scale(1.05);color:var(--accent-hover)}.spoiler-content h3[data-v-e82be516]{font-size:1rem;font-weight:600;color:#fff;margin:0}.spoiler-content p[data-v-e82be516]{font-size:.875rem;color:#999;margin:0;line-height:1.4}.comments-count[data-v-e82be516]{background:var(--accent-transparent);color:var(--accent-color);padding:.25rem .75rem;border-radius:15px;font-size:.75rem;font-weight:500;border:1px solid var(--accent-semi-transparent);transition:all .3s ease}.comments-count.no-comments[data-v-e82be516]{background:rgba(128,128,128,.2);color:gray;border:1px solid rgba(128,128,128,.3)}.spoiler-warning:hover .comments-count.no-comments[data-v-e82be516]{background:rgba(128,128,128,.3);border-color:rgba(128,128,128,.5);color:#999}.comments-container[data-v-e82be516]{margin-bottom:1rem;overflow:visible}.comments-header[data-v-e82be516]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;gap:1rem}.comments-header h3[data-v-e82be516]{margin:0;color:#fff;font-size:1.1rem}.comments-controls[data-v-e82be516]{display:flex;align-items:center;gap:.5rem}.sort-button[data-v-e82be516]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease;position:relative}.sort-button[data-v-e82be516]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);color:var(--accent-color);transform:translateY(-1px)}.sort-button i[data-v-e82be516]{opacity:.8;transition:opacity .2s ease}.sort-button:hover i[data-v-e82be516]{opacity:1}.sort-button.active[data-v-e82be516]{background:var(--accent-color);border-color:var(--accent-color);color:#fff}.sort-button.active[data-v-e82be516]:hover{background:var(--accent-hover);border-color:var(--accent-hover);color:#fff}.hide-comments-btn[data-v-e82be516]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease}.hide-comments-btn[data-v-e82be516]:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:#fff;transform:translateY(-1px)}.character-counter-container[data-v-e82be516]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:10;overflow:visible}.character-counter-inline[data-v-e82be516]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-e82be516]{color:gold}.character-counter-inline.at-limit[data-v-e82be516]{color:red}.comment-footer[data-v-e82be516]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:5}.comment-actions[data-v-e82be516]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-e82be516]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s ease;margin-left:.25rem}.emoji-button-inline[data-v-e82be516]:hover{color:#fff}.emoji-button-inline.active[data-v-e82be516]{color:var(--accent-color)}.emoji-button-inline[data-v-e82be516]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.comment-form-header[data-v-e82be516]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid #444}.comment-form-header h3[data-v-e82be516]{margin:0;color:#fff;font-size:1.1rem}.seven-tv-icon[data-v-e82be516]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}.inline-emoji[data-v-e82be516]{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}[data-v-e82be516] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-e82be516] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-e82be516] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-e82be516] .spoiler-text a{color:transparent!important;text-decoration:none!important;border-bottom:none!important;pointer-events:none!important}[data-v-e82be516] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-e82be516] .spoiler-text.revealed:before{display:none}[data-v-e82be516] .spoiler-text.revealed a{color:#4a90e2!important;text-decoration:none!important;border-bottom:1px solid transparent!important;transition:color .2s ease,border-bottom-color .2s ease!important;pointer-events:auto!important}[data-v-e82be516] .spoiler-text.revealed a:hover{color:#66a3e0!important;border-bottom-color:#66a3e0!important}[data-v-e82be516] .spoiler-text.revealed a:visited{color:#8a7ca8!important}[data-v-e82be516] .spoiler-text.revealed a:visited:hover{color:#a393c2!important;border-bottom-color:#a393c2!important}.spoiler-button[data-v-e82be516]{color:#999}.spoiler-button[data-v-e82be516]:hover{color:var(--accent-hover)}.spoiler-button[data-v-e82be516]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-e82be516]{color:#999}.link-button[data-v-e82be516]:hover{color:var(--accent-hover)}.link-button[data-v-e82be516]:disabled{opacity:.5;cursor:not-allowed}.show-more-comments[data-v-e82be516]{text-align:center;margin-top:1rem}.show-more-btn[data-v-e82be516]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:all .3s ease;font-size:.8rem;border:1px solid var(--accent-semi-transparent)}.show-more-btn[data-v-e82be516]:hover:not(:disabled){background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 2px 8px var(--accent-transparent)}.show-more-btn[data-v-e82be516]:disabled{background:#666;cursor:not-allowed;border-color:rgba(128,128,128,.3)}@media (max-width: 768px){.comments-header[data-v-e82be516]{flex-direction:column;align-items:stretch;gap:.5rem}.comments-controls[data-v-e82be516]{justify-content:center;order:2}.sort-button[data-v-e82be516]{flex:1;justify-content:center;min-height:44px}.hide-comments-btn[data-v-e82be516]{order:1;align-self:flex-end;min-height:44px}.comment-footer[data-v-e82be516]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-e82be516]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.comment-actions[data-v-e82be516]{justify-content:flex-start}.character-counter-inline[data-v-e82be516]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-e82be516]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center;margin-left:0}}@media (max-width: 480px){.character-counter-container[data-v-e82be516]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-e82be516]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-e82be516]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-e82be516]{min-height:44px;padding:.5rem 1rem;width:100%}.comment-form[data-v-e82be516]{margin-bottom:1rem}.comment-textarea[data-v-e82be516]{font-size:16px}}@media (max-width: 360px){.sort-button[data-v-e82be516],.hide-comments-btn[data-v-e82be516]{font-size:.8rem;padding:.4rem .8rem}.emoji-button-inline[data-v-e82be516]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-e82be516]{font-size:.65rem}}.comment-preview[data-v-e82be516]{background:rgba(255,255,255,.05);border-radius:6px;padding:8px;margin-bottom:6px;border-left:2px solid var(--accent-color);cursor:pointer;transition:all .2s ease}.reply-btn[data-v-e82be516]{background:var(--accent-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.content[data-v-793cb6b0]{min-height:100vh}.content-card[data-v-793cb6b0]{overflow:hidden;padding:20px;color:#e0e0e0}.content-header[data-v-793cb6b0]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-wrap:wrap;height:auto;min-height:80px}.content-logo[data-v-793cb6b0]{max-height:80px;height:80px;width:auto;object-fit:contain;max-width:100%;transition:all .3s ease;cursor:pointer;padding:10px 0 30px}.content-logo[data-v-793cb6b0]:hover{filter:drop-shadow(0 0 10px var(--accent-color))}.content-title-container[data-v-793cb6b0]{display:flex;align-items:center;gap:20px;width:100%;justify-content:center}.movie-poster-thumbnail[data-v-793cb6b0]{width:60px;height:90px;flex-shrink:0;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-thumbnail[data-v-793cb6b0]:hover{transform:scale(1.05)}.movie-poster-thumbnail img[data-v-793cb6b0]{width:100%;height:100%;object-fit:cover}.content-title[data-v-793cb6b0]{font-size:55px;margin:0;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;text-align:center;white-space:normal;word-break:break-word;overflow-wrap:anywhere;transition:all .3s ease;cursor:pointer}.content-title[data-v-793cb6b0]:hover{text-shadow:0 0 20px var(--accent-color);color:var(--accent-color)}.content-subtitle[data-v-793cb6b0]{font-size:20px;color:#bbb}.ratings-links[data-v-793cb6b0]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.rating-link[data-v-793cb6b0]{display:inline-flex;align-items:center;color:#fff;text-decoration:none;font-weight:700;background:rgba(0,0,0,.7);padding:5px 10px;border-radius:5px;gap:5px;transition:all .2s ease;vertical-align:middle}.rating-link[data-v-793cb6b0]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.rating-logo[data-v-793cb6b0]{width:20px;height:20px;margin-right:5px}.external-link-icon[data-v-793cb6b0]{width:20px;height:auto;margin-left:5px}.additional-info[data-v-793cb6b0]{border-radius:8px;margin-bottom:20px;font-size:16px}.additional-info-title[data-v-793cb6b0]{margin:15px 0;text-align:left;color:#fff}.info-content[data-v-793cb6b0]{display:flex;gap:15px;align-items:flex-start}.movie-poster-container[data-v-793cb6b0]{flex-shrink:0;width:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-container[data-v-793cb6b0]:hover{transform:scale(1.02);box-shadow:0 6px 20px var(--accent-semi-transparent)}.movie-poster[data-v-793cb6b0]{width:100%;height:auto;display:block}.details-container[data-v-793cb6b0]{flex:1;min-width:0}.info-list[data-v-793cb6b0]{list-style:none;padding:0;margin:0}.info-list li[data-v-793cb6b0]{margin-bottom:8px}.content-info[data-v-793cb6b0]{font-size:16px;line-height:1.6;color:#ccc;margin-top:20px}.content-description-text[data-v-793cb6b0]{margin:0;white-space:pre-wrap}.error-message[data-v-793cb6b0]{color:var(--accent-color);text-align:center;padding:20px;font-size:1.2rem;border:1px solid var(--accent-color);border-radius:5px;margin:20px auto;max-width:500px;background:var(--accent-transparent)}.related-movies[data-v-793cb6b0]{margin-top:30px;position:relative}.related-movies h2[data-v-793cb6b0]{color:#fff;margin-bottom:15px}.title-copy-tooltip[data-v-793cb6b0]{position:absolute;background-color:#333;color:#fff;padding:5px 10px;border-radius:5px;font-size:14px;white-space:nowrap;pointer-events:none}@media (max-width: 600px){.content-card[data-v-793cb6b0]{padding:0 2px}.content-header[data-v-793cb6b0],.content-logo[data-v-793cb6b0],.content-title[data-v-793cb6b0]{display:none}.content-subtitle[data-v-793cb6b0]{font-size:16px}.ratings-links[data-v-793cb6b0]{margin:5px 0;gap:8px;flex-wrap:wrap}.rating-link[data-v-793cb6b0]{padding:3px 6px;font-size:14px}.rating-logo[data-v-793cb6b0]{width:16px;height:16px;margin-right:3px}.external-link-icon[data-v-793cb6b0]{width:16px;margin-left:3px}.additional-info-title[data-v-793cb6b0]{font-size:20px}.info-content[data-v-793cb6b0]{flex-direction:column;align-items:center}.content-title-container[data-v-793cb6b0]{flex-direction:column;gap:10px}.movie-poster-thumbnail[data-v-793cb6b0]{width:50px;height:75px}}.controls[data-v-793cb6b0]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:40px;border-radius:10px}.controls button[data-v-793cb6b0]{display:flex;align-items:center;justify-content:center;background-color:#444;color:#fff;border:none;padding:12px;font-size:18px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;z-index:4;width:50px;height:50px}.controls button[data-v-793cb6b0]:hover{background-color:var(--accent-color);transform:translateY(-3px);box-shadow:0 4px 10px var(--accent-semi-transparent)}.controls button[data-v-793cb6b0]:active{transform:translateY(0);box-shadow:none}.controls button.active[data-v-793cb6b0]{background-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.material-icons[data-v-793cb6b0]{font-size:24px}.tooltip-container[data-v-793cb6b0]{position:relative;display:inline-block}.custom-tooltip[data-v-793cb6b0]{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:5px;border-radius:4px;font-size:16px;white-space:nowrap;margin-top:8px;pointer-events:none;text-align:center}.advanced-tooltip[data-v-793cb6b0]{white-space:normal;padding:15px;display:flex;flex-direction:column;align-items:center;gap:10px;top:calc(100% + 5px);pointer-events:all;text-align:center}.tooltip-title[data-v-793cb6b0]{font-size:16px;text-align:center}.movie-skeleton[data-v-793cb6b0]{padding:0 20px 20px;color:#e0e0e0}.movie-skeleton__header[data-v-793cb6b0]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px}.movie-skeleton__logo[data-v-793cb6b0]{width:200px;height:80px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:8px}.movie-skeleton__title[data-v-793cb6b0]{width:30%;height:40px;background:linear-gradient(90deg,rgba(40,40,40,.8),rgba(60,60,60,.8),rgba(40,40,40,.8));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:12px;margin:0 auto;box-shadow:0 2px 8px rgba(0,0,0,.15);position:relative;overflow:hidden}.movie-skeleton__title[data-v-793cb6b0]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.05) 50%,transparent 100%);animation:shine-793cb6b0 1.5s infinite}@keyframes shine-793cb6b0{0%{transform:translate(-100%)}to{transform:translate(100%)}}.movie-skeleton__ratings[data-v-793cb6b0]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.movie-skeleton__rating-item[data-v-793cb6b0]{width:120px;height:30px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:8px}.movie-skeleton__player[data-v-793cb6b0]{width:60%;height:500px;background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:12px;margin:20px auto;box-shadow:0 4px 12px rgba(0,0,0,.2);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.movie-skeleton__player[data-v-793cb6b0]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:4px solid rgba(255,255,255,.1);border-top:4px solid rgba(255,255,255,.5);border-radius:50%;animation:spin-793cb6b0 1s linear infinite}@keyframes spin-793cb6b0{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.movie-skeleton__additional-info[data-v-793cb6b0]{margin:20px 0}.movie-skeleton__section-title[data-v-793cb6b0]{width:150px;height:24px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:8px;margin-bottom:15px}.movie-skeleton__info-list[data-v-793cb6b0]{display:flex;flex-direction:column;gap:10px}.movie-skeleton__info-item[data-v-793cb6b0]{width:100%;height:20px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:8px}.movie-skeleton__description[data-v-793cb6b0]{margin:20px 0}.movie-skeleton__description-line[data-v-793cb6b0]{width:100%;height:16px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-793cb6b0 2s infinite linear;border-radius:8px;margin-bottom:10px}.movie-skeleton__description-line[data-v-793cb6b0]:nth-child(2){width:90%}.movie-skeleton__description-line[data-v-793cb6b0]:nth-child(3){width:95%}.movie-skeleton__description-line[data-v-793cb6b0]:nth-child(4){width:85%}@keyframes shimmer-793cb6b0{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width: 600px){.movie-skeleton[data-v-793cb6b0]{padding:10px}.movie-skeleton__header[data-v-793cb6b0]{height:60px}.movie-skeleton__logo[data-v-793cb6b0]{width:150px;height:60px}.movie-skeleton__title[data-v-793cb6b0]{width:70%;height:30px}.movie-skeleton__player[data-v-793cb6b0]{height:250px}.movie-skeleton__rating-item[data-v-793cb6b0]{width:80px;height:25px}.movie-skeleton__control-btn[data-v-793cb6b0]{width:40px;height:40px}}.staff-section[data-v-793cb6b0]{border-radius:8px}.staff-categories[data-v-793cb6b0]{display:flex;flex-direction:column;gap:20px}.staff-category h3[data-v-793cb6b0]{color:#fff;margin-bottom:10px;font-size:18px}.staff-list[data-v-793cb6b0]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px;align-items:start;margin-bottom:10px}.staff-item[data-v-793cb6b0]{display:flex;flex-direction:column;align-items:center;text-align:center;height:100%}.staff-link[data-v-793cb6b0]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;transition:transform .2s;height:100%}.staff-link[data-v-793cb6b0]:hover{transform:translateY(-3px);filter:drop-shadow(0 4px 8px var(--accent-semi-transparent))}.staff-photo[data-v-793cb6b0]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:8px;border:2px solid rgba(255,255,255,.1);flex-shrink:0;transition:all .2s ease}.staff-link:hover .staff-photo[data-v-793cb6b0]{border-color:var(--accent-color);box-shadow:0 0 12px var(--accent-semi-transparent)}.staff-name[data-v-793cb6b0]{font-size:14px;color:#fff;margin-bottom:4px;min-height:2.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}.staff-role[data-v-793cb6b0]{font-size:12px;color:#aaa;min-height:1.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}@media (max-width: 600px){.staff-list[data-v-793cb6b0]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.staff-photo[data-v-793cb6b0]{width:60px;height:60px}.staff-name[data-v-793cb6b0]{font-size:12px;min-height:2.4em}.staff-role[data-v-793cb6b0]{font-size:10px;min-height:1.6em}}.show-all-link[data-v-793cb6b0]{display:inline-block;color:#aaa;text-decoration:none;margin-top:10px;cursor:pointer;transition:color .2s}.show-all-link[data-v-793cb6b0]:hover{color:#fff;text-decoration:underline}.expand-actors-circle-button[data-v-793cb6b0]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.expand-circle-button[data-v-793cb6b0]{position:absolute;top:0;right:15px;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:20px;text-decoration:none}.expand-circle-button[data-v-793cb6b0]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media (max-width: 600px){.expand-circle-button[data-v-793cb6b0]{width:35px;height:35px;font-size:16px}}.show-more-btn[data-v-793cb6b0]{display:block;margin:15px auto;padding:8px 16px;background:#3a3a3a;color:#fff;border:1px solid #505050;border-radius:4px;cursor:pointer;transition:all .2s ease}.show-more-btn[data-v-793cb6b0]:hover{background:var(--accent-color);border-color:var(--accent-color);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-more-btn[data-v-793cb6b0]:active{background:var(--accent-color);border-color:var(--accent-color)}.nudity-info-btn[data-v-793cb6b0]{position:relative;background:none;border:none;padding:0;cursor:pointer;color:inherit;font:inherit;display:flex;align-items:center;gap:5px}.nudity-info-btn:hover i[data-v-793cb6b0]{color:var(--accent-color)}.nudity-info-btn[data-v-793cb6b0]:hover,.parents-guide-btn[data-v-793cb6b0]:hover{background:rgba(255,255,255,.1)!important;border-color:var(--accent-color)!important;box-shadow:0 0 10px var(--accent-semi-transparent)!important}.parents-guide-btn[data-v-793cb6b0]{background:rgba(0,0,0,.7);border:none;cursor:pointer;transition:all .2s ease}.parents-guide-btn i[data-v-793cb6b0]{margin-left:5px}.nudity-info-btn i[data-v-793cb6b0]{font-size:20px;color:#fff}.nudity-info-btn .fa-spinner[data-v-793cb6b0]{color:#fff}.nudity-info-popup[data-v-793cb6b0]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.95);border:1px solid #333;border-radius:8px;padding:20px;min-width:900px;max-width:1500px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.3)}.nudity-info-content[data-v-793cb6b0]{color:#fff;font-size:14px;line-height:1.5;white-space:pre-wrap;margin-bottom:15px;max-height:80vh;overflow-y:auto}.nudity-info-loading[data-v-793cb6b0]{display:flex;align-items:center;gap:10px;justify-content:center;padding:20px;color:#fff}.nudity-info-loading i[data-v-793cb6b0]{font-size:20px;color:var(--accent-color)}.nudity-info-actions[data-v-793cb6b0]{display:flex;gap:10px;justify-content:flex-start;margin-top:10px}.nudity-info-button[data-v-793cb6b0]{display:flex;align-items:center;gap:5px;padding:8px 12px;background:rgba(255,255,255,.1);border:none;border-radius:4px;color:#fff;font-size:14px;cursor:pointer;transition:all .2s ease;pointer-events:all}.nudity-info-button[data-v-793cb6b0]:hover{background:var(--accent-color);transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.nudity-info-button i[data-v-793cb6b0]{font-size:16px}@media (max-width: 600px){.nudity-info-popup[data-v-793cb6b0]{min-width:300px;max-width:95vw;margin:0 10px}}.staff-names-container[data-v-793cb6b0]{display:flex;align-items:flex-start;gap:15px;margin-bottom:15px;width:100%}.staff-names-list[data-v-793cb6b0]{display:flex;flex-wrap:wrap;gap:10px;flex:1;min-width:0;align-items:center}.staff-name-link[data-v-793cb6b0]{color:#fff;text-decoration:none;padding:5px 10px;background:rgba(255,255,255,.1);border-radius:4px;transition:all .2s ease;white-space:nowrap;flex-shrink:0}.staff-name-link[data-v-793cb6b0]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.staff-list .expand-actors-circle-button[data-v-793cb6b0]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.staff-list .expand-actors-circle-button[data-v-793cb6b0]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}.staff-names-list .expand-actors-circle-button[data-v-793cb6b0]{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:16px;text-decoration:none;flex-shrink:0}.staff-names-list .expand-actors-circle-button[data-v-793cb6b0]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media (max-width: 600px){.staff-names-container[data-v-793cb6b0]{flex-direction:row;align-items:flex-start;gap:10px}.staff-names-list[data-v-793cb6b0]{width:auto;flex:1}.staff-name-link[data-v-793cb6b0]{font-size:14px;padding:4px 8px}.staff-list .expand-actors-circle-button[data-v-793cb6b0]{width:60px;height:60px;font-size:20px}.staff-names-list .expand-actors-circle-button[data-v-793cb6b0]{width:35px;height:35px;font-size:14px}}.related-movies-list[data-v-793cb6b0] .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-793cb6b0] .grid.card-size-small{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}.related-movies-list[data-v-793cb6b0] .grid.card-size-medium{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-793cb6b0] .grid.card-size-large{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}@media (max-width: 620px){.related-movies-list[data-v-793cb6b0] .grid{grid-template-columns:1fr}}@media (max-width: 768px){.info-content[data-v-793cb6b0]{flex-direction:column;align-items:flex-start}.desktop-only[data-v-793cb6b0]{display:none}}.rating-value.low[data-v-793cb6b0]{color:#ff6b6b!important}.rating-value.medium[data-v-793cb6b0]{color:#ffd93d!important}.rating-value.high[data-v-793cb6b0]{color:#51cf66!important}.desktop-text[data-v-793cb6b0]{display:inline}.mobile-text[data-v-793cb6b0]{display:none}@media (max-width: 600px){.desktop-text[data-v-793cb6b0]{display:none}.mobile-text[data-v-793cb6b0]{display:inline}}.mobile-list-dropdown[data-v-793cb6b0]{position:relative;margin:15px 0}.mobile-list-toggle[data-v-793cb6b0]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left}.mobile-list-toggle[data-v-793cb6b0]:active{transform:scale(.98)}.mobile-list-toggle .material-icons[data-v-793cb6b0]{font-size:24px}.mobile-list-toggle.active[data-v-793cb6b0]{background:transparent;box-shadow:none}.mobile-list-toggle[data-v-793cb6b0]:not(.active):hover{background:rgba(255,255,255,.2)}.mobile-list-toggle .button-label[data-v-793cb6b0]{flex:1}.mobile-list-toggle .material-icons.active[data-v-793cb6b0]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.mobile-list-content[data-v-793cb6b0]{position:absolute;top:calc(100% + 5px);left:0;width:100%;background:rgba(0,0,0,.95);border-radius:8px;padding:10px;z-index:1000;box-shadow:0 4px 15px rgba(0,0,0,.3);transform-origin:top center;animation:dropdownSlide-793cb6b0 .2s ease;border:1px solid rgba(255,255,255,.1)}@keyframes dropdownSlide-793cb6b0{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.mobile-list-btn[data-v-793cb6b0]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left;margin-bottom:5px}.mobile-list-btn[data-v-793cb6b0]:last-child{margin-bottom:0}.mobile-list-btn[data-v-793cb6b0]:active{transform:scale(.98)}.mobile-list-btn .material-icons[data-v-793cb6b0]{font-size:24px}.mobile-list-btn.active[data-v-793cb6b0]{background:transparent;box-shadow:none}.mobile-list-btn .material-icons.active[data-v-793cb6b0]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.dropdown-arrow[data-v-793cb6b0]{transition:transform .2s ease}.dropdown-arrow.expanded[data-v-793cb6b0]{transform:rotate(180deg)}.rating-boxes[data-v-793cb6b0]{display:flex;gap:10px;margin:10px 0}.rating-box[data-v-793cb6b0]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:4px;font-weight:700;gap:5px}.rating-box.mpaa[data-v-793cb6b0]{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.rating-box.mpaa span[data-v-793cb6b0]{font-size:.9em}.rating-box.age[data-v-793cb6b0]{background:rgba(255,0,0,.1);border:1px solid rgba(255,0,0,.3)}.rating-box strong[data-v-793cb6b0]{font-size:.9em;opacity:.8}.rating-box span[data-v-793cb6b0]{font-size:1.1em}@media (max-width: 600px){.rating-boxes[data-v-793cb6b0]{flex-wrap:wrap}.rating-box[data-v-793cb6b0]{font-size:14px;padding:3px 6px}}.text-red[data-v-793cb6b0]{color:#f44!important}.text-red-blink[data-v-793cb6b0]{color:#f44!important;animation:blink-red-streamer-793cb6b0 .8s ease-in-out infinite}@keyframes blink-red-streamer-793cb6b0{0%,to{color:#f44;text-shadow:0 0 15px #ff4444,0 0 25px #ff4444;transform:scale(1)}50%{color:#f88;text-shadow:0 0 20px #ff4444,0 0 35px #ff4444,0 0 45px #ff4444;transform:scale(1.15)}}.acknowledgment-row[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;padding:2px 0}.acknowledgment-row.clickable[data-v-793cb6b0]{cursor:pointer;transition:all .2s ease}.acknowledgment-row.clickable[data-v-793cb6b0]:hover{transform:translate(4px)}.community-link[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.community-link i[data-v-793cb6b0]{font-size:20px}.twitch-link[data-v-793cb6b0]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;text-decoration:none;font-weight:500;transition:all .2s ease}.acknowledgment-text[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:13px}@media (max-width: 600px){.acknowledgment-row[data-v-793cb6b0]{flex-direction:column;align-items:flex-start;gap:4px;padding:8px 0}.acknowledgment-text[data-v-793cb6b0]{font-size:12px}.twitch-link[data-v-793cb6b0],.community-link[data-v-793cb6b0]{font-size:14px}.twitch-link i[data-v-793cb6b0],.community-link i[data-v-793cb6b0]{font-size:16px}}.timings-content[data-v-793cb6b0]{border-top:1px solid rgba(255,255,255,.1);padding-top:15px;display:flex;flex-direction:column;gap:15px}.timings-content.no-border[data-v-793cb6b0]{border-top:none;padding-top:0}.timings-text[data-v-793cb6b0]{white-space:pre-wrap;margin-bottom:10px}.nudity-info-actions[data-v-793cb6b0],.timing-form-actions[data-v-793cb6b0]{display:flex;gap:10px;justify-content:flex-start}.timing-form-actions[data-v-793cb6b0]{padding:0}.timing-submission-form[data-v-793cb6b0],.timing-login-prompt[data-v-793cb6b0]{margin-top:15px;border-top:1px solid rgba(255,255,255,.1);padding-top:15px}.timing-submission-form[data-v-793cb6b0]{display:flex;flex-direction:column;gap:15px;padding-right:20px}.timing-login-prompt[data-v-793cb6b0]{text-align:center}.timing-input[data-v-793cb6b0],.timing-textarea[data-v-793cb6b0]{width:100%;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:#fff;padding:8px 12px;font-size:14px;transition:all .2s ease}.timing-input[data-v-793cb6b0]:focus,.timing-textarea[data-v-793cb6b0]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.timing-textarea[data-v-793cb6b0]{min-height:200px;max-height:400px;padding:10px 12px;resize:vertical;overflow-y:auto}.submit-timing-btn[data-v-793cb6b0],.close-modal-btn[data-v-793cb6b0]{background:var(--accent-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease}.submit-timing-btn[data-v-793cb6b0]{padding:8px 16px;display:flex;align-items:center;gap:8px}.submit-timing-btn[data-v-793cb6b0]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.submit-timing-btn[data-v-793cb6b0]:disabled{opacity:.6;cursor:not-allowed}.close-modal-btn[data-v-793cb6b0]{background:none;font-size:20px;padding:5px}.close-modal-btn[data-v-793cb6b0]:hover{color:var(--accent-color);transform:scale(1.1)}.login-link[data-v-793cb6b0],.twitch-link[data-v-793cb6b0]{color:var(--accent-color);text-decoration:none;cursor:pointer;transition:all .2s ease}.login-link[data-v-793cb6b0]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.twitch-link[data-v-793cb6b0]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.twitch-link[data-v-793cb6b0]:hover{color:#a970ff;transform:translate(4px)}.twitch-link i[data-v-793cb6b0]{font-size:20px}.timing-modal[data-v-793cb6b0]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.timing-modal-content[data-v-793cb6b0]{background:#1a1a1a;border-radius:8px;padding:20px;width:90%;max-width:500px;max-height:90vh;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 20px rgba(0,0,0,.4);overflow-y:auto}.timing-modal-header[data-v-793cb6b0]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.timing-modal-header h3[data-v-793cb6b0]{margin:0;color:#fff;font-size:18px}.text-green[data-v-793cb6b0]{color:#51cf66!important}.clickable-acknowledgment[data-v-793cb6b0]{cursor:pointer;transition:background-color .2s ease}.clickable-acknowledgment[data-v-793cb6b0]:hover{background-color:rgba(255,255,255,.1)}.acknowledgment-table[data-v-793cb6b0]{background:rgba(255,255,255,.05);border-radius:8px;margin-bottom:15px;overflow:hidden;border:1px solid rgba(255,255,255,.1)}.acknowledgment-header[data-v-793cb6b0]{background:rgba(145,70,255,.15);padding:10px 15px;display:flex;align-items:center;gap:8px;font-weight:500;color:#fff;border-bottom:1px solid rgba(145,70,255,.2)}.acknowledgment-header i[data-v-793cb6b0]{color:#ff66ab}.acknowledgment-content[data-v-793cb6b0]{padding:15px;display:flex;flex-direction:column;gap:8px}.acknowledgment-text[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:13px;margin-top:4px}@media (max-width: 600px){.timing-modal-content[data-v-793cb6b0]{width:95%;padding:15px}.timing-modal-header h3[data-v-793cb6b0]{font-size:16px}.timing-input[data-v-793cb6b0],.timing-textarea[data-v-793cb6b0]{font-size:13px}.timing-textarea[data-v-793cb6b0]{min-height:60px}.submit-timing-btn[data-v-793cb6b0]{padding:6px 12px;font-size:13px}.timing-submission-form[data-v-793cb6b0]{padding-right:15px;padding-left:15px}}.top-submitters[data-v-793cb6b0]{padding:10px 0}.top-submitters h3[data-v-793cb6b0]{margin:0 0 15px;color:#fff;font-size:18px;text-align:center}.top-submitters-list[data-v-793cb6b0]{display:flex;flex-direction:column;gap:10px}.top-submitter-item[data-v-793cb6b0]{display:flex;align-items:center;gap:15px;padding:8px;background:rgba(255,255,255,.05);border-radius:6px;transition:all .2s ease}.top-submitter-item[data-v-793cb6b0]:hover{background:rgba(255,255,255,.1);transform:translate(5px)}.submitter-rank[data-v-793cb6b0]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:14px}.submitter-info[data-v-793cb6b0]{flex:1}.submitter-count[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:13px;margin-top:2px}.modal-overlay[data-v-793cb6b0]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal-content[data-v-793cb6b0]{background:#1a1a1a;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);animation:modalSlideIn-793cb6b0 .3s ease}@keyframes modalSlideIn-793cb6b0{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[data-v-793cb6b0]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.modal-header h3[data-v-793cb6b0]{margin:0;font-size:24px;color:#fff}.modal-body[data-v-793cb6b0]{padding:20px}.top-submitters-list[data-v-793cb6b0]{display:flex;flex-direction:column;gap:15px}.top-submitter-item[data-v-793cb6b0]{display:flex;align-items:center;gap:15px;padding:15px;background:rgba(255,255,255,.05);border-radius:10px;transition:all .2s ease;position:relative;overflow:hidden}.top-submitter-item[data-v-793cb6b0]:hover{transform:translate(5px);background:rgba(255,255,255,.08)}.submitter-rank[data-v-793cb6b0]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:16px;flex-shrink:0}.submitter-rank.gold[data-v-793cb6b0]{background:linear-gradient(45deg,gold,orange);box-shadow:0 0 15px rgba(255,215,0,.5)}.submitter-rank.silver[data-v-793cb6b0]{background:linear-gradient(45deg,silver,#a9a9a9);box-shadow:0 0 15px rgba(192,192,192,.5)}.submitter-rank.bronze[data-v-793cb6b0]{background:linear-gradient(45deg,#cd7f32,#8b4513);box-shadow:0 0 15px rgba(205,127,50,.5)}.submitter-info[data-v-793cb6b0]{flex:1;min-width:0}.submitter-name[data-v-793cb6b0]{color:#fff;font-weight:500;font-size:16px;margin-bottom:4px}.submitter-name a[data-v-793cb6b0]{color:#9146ff;text-decoration:none;transition:all .2s ease}.submitter-name a[data-v-793cb6b0]:hover{color:#a970ff;text-decoration:underline}.submitter-name a i[data-v-793cb6b0]{margin-left:5px;font-size:14px}@media (max-width: 600px){.submitter-name a i[data-v-793cb6b0]{font-size:12px}}.submitter-count[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:14px}.submitter-contribution[data-v-793cb6b0]{position:absolute;left:0;bottom:0;width:100%;height:3px;background:rgba(255,255,255,.1)}.contribution-bar[data-v-793cb6b0]{height:100%;background:var(--accent-color);transition:width 1s ease}@media (max-width: 600px){.modal-content[data-v-793cb6b0]{width:95%;margin:10px}.modal-header h3[data-v-793cb6b0]{font-size:20px}.submitter-rank[data-v-793cb6b0]{width:28px;height:28px;font-size:14px}.submitter-name[data-v-793cb6b0]{font-size:14px}.submitter-count[data-v-793cb6b0]{font-size:12px}}.timing-entries[data-v-793cb6b0]{display:flex;flex-direction:column;gap:8px}.timing-entry[data-v-793cb6b0]{padding:8px;background:rgba(255,255,255,.05);border-radius:4px}.timing-content[data-v-793cb6b0]{display:flex;flex-direction:column;gap:4px}.timing-text[data-v-793cb6b0]{font-family:monospace;color:#fff;font-size:1.1em}.timing-author[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:.85em;font-style:italic}.timing-entry.pending[data-v-793cb6b0],.timing-entry.clean-text[data-v-793cb6b0]{background:rgba(255,165,0,.1);border:1px solid rgba(255,165,0,.2)}.pending-badge[data-v-793cb6b0],.clean-text-badge[data-v-793cb6b0]{display:inline-block;background:rgba(255,165,0,.2);color:orange;padding:2px 6px;border-radius:4px;font-size:.8em;margin-bottom:4px}.timing-hover-container.blurred[data-v-793cb6b0]{filter:blur(4px)}.timing-hover-container.blurred[data-v-793cb6b0]:hover{filter:blur(0);transition:filter .3s ease}.hint-text[data-v-793cb6b0]{font-size:.8em;color:rgba(255,255,255,.7);font-weight:400}.hint-text a[data-v-793cb6b0]{color:var(--accent-color);text-decoration:none;transition:all .2s ease}.hint-text a[data-v-793cb6b0]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.modal-header-controls[data-v-793cb6b0]{display:flex;align-items:center;gap:10px}.show-all-timings-btn[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--accent-color);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s ease;margin-bottom:20px;width:fit-content}.show-all-timings-btn[data-v-793cb6b0]:hover:not(:disabled){background:var(--accent-color-dark, #7a4cb8);transform:translateY(-1px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-all-timings-btn[data-v-793cb6b0]:disabled{opacity:.6;cursor:not-allowed;transform:none}.all-timings-modal[data-v-793cb6b0]{max-width:800px;width:95%;max-height:90vh}.all-timings-modal .modal-body[data-v-793cb6b0]{max-height:70vh;overflow-y:auto;padding:20px}.loading-spinner[data-v-793cb6b0]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:40px;color:#fff}.loading-spinner i[data-v-793cb6b0]{font-size:24px;color:var(--accent-color)}.no-timings[data-v-793cb6b0]{text-align:center;padding:40px;color:rgba(255,255,255,.7)}.all-timings-list[data-v-793cb6b0]{display:flex;flex-direction:column;gap:15px}.timing-item[data-v-793cb6b0]{background:rgba(255,255,255,.05);border-radius:8px;border:1px solid rgba(255,255,255,.1);overflow:hidden;transition:all .2s ease}.timing-item[data-v-793cb6b0]:hover{background:rgba(255,255,255,.08);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.timing-item.pending[data-v-793cb6b0]{border-left:4px solid #ffa500}.timing-item.approved[data-v-793cb6b0]{border-left:4px solid #51cf66}.timing-item.rejected[data-v-793cb6b0]{border-left:4px solid #ff6b6b}.timing-item.clean-text[data-v-793cb6b0]{border-left:4px solid #ffa500}.all-timings-list .timing-item .timing-content[data-v-793cb6b0]{padding:15px}.timing-header[data-v-793cb6b0]{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:rgba(255,255,255,.03);border-bottom:1px solid rgba(255,255,255,.1)}.timing-meta[data-v-793cb6b0]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.timing-status[data-v-793cb6b0]{padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:uppercase}.timing-status.pending[data-v-793cb6b0]{background:rgba(255,165,0,.2);color:orange}.timing-status.approved[data-v-793cb6b0]{background:rgba(81,207,102,.2);color:#51cf66}.timing-status.rejected[data-v-793cb6b0]{background:rgba(255,107,107,.2);color:#ff6b6b}.timing-status.clean_text[data-v-793cb6b0]{background:rgba(255,165,0,.2);color:orange}.timing-date[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:13px}.timing-movie-info[data-v-793cb6b0]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.timing-kp-id[data-v-793cb6b0]{color:rgba(255,255,255,.7);font-size:13px;font-family:monospace;background:rgba(255,255,255,.1);padding:2px 6px;border-radius:3px;text-decoration:none;transition:all .2s ease}.timing-kp-id.clickable[data-v-793cb6b0]:hover{color:var(--accent-color);background:rgba(var(--accent-color-rgb),.2);transform:translateY(-1px);text-decoration:none}@media (max-width: 768px){.modal-header-controls[data-v-793cb6b0]{flex-direction:column;align-items:stretch;gap:8px}.show-all-timings-btn[data-v-793cb6b0]{justify-content:center}.all-timings-modal[data-v-793cb6b0]{width:95%;margin:10px}.timing-header[data-v-793cb6b0]{flex-direction:column;align-items:stretch;gap:8px}.timing-meta[data-v-793cb6b0]{justify-content:space-between}.timing-movie-info[data-v-793cb6b0]{justify-content:flex-end}}.admin-controls[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;margin-left:auto}.approve-btn[data-v-793cb6b0],.reject-btn[data-v-793cb6b0],.clean-text-btn[data-v-793cb6b0]{width:32px;height:32px;border:none;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.approve-btn[data-v-793cb6b0]{background:rgba(81,207,102,.2);color:#51cf66;border:1px solid rgba(81,207,102,.3)}.approve-btn[data-v-793cb6b0]:hover:not(:disabled){background:rgba(81,207,102,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(81,207,102,.3)}.reject-btn[data-v-793cb6b0]{background:rgba(255,107,107,.2);color:#ff6b6b;border:1px solid rgba(255,107,107,.3)}.reject-btn[data-v-793cb6b0]:hover:not(:disabled){background:rgba(255,107,107,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,107,107,.3)}.approve-btn[data-v-793cb6b0]:disabled,.reject-btn[data-v-793cb6b0]:disabled{opacity:.6;cursor:not-allowed;transform:none}.clean-text-btn[data-v-793cb6b0]{background:rgba(255,165,0,.2);color:orange;border:1px solid rgba(255,165,0,.3)}.clean-text-btn[data-v-793cb6b0]:hover:not(:disabled){background:rgba(255,165,0,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,165,0,.3)}.clean-text-btn[data-v-793cb6b0]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (max-width: 600px){.admin-controls[data-v-793cb6b0]{margin-left:0;margin-top:8px}.approve-btn[data-v-793cb6b0],.reject-btn[data-v-793cb6b0],.clean-text-btn[data-v-793cb6b0]{width:28px;height:28px;font-size:12px}}.timing-filters[data-v-793cb6b0]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px;padding:15px;background:rgba(255,255,255,.03);border-radius:8px;border:1px solid rgba(255,255,255,.1)}.timing-filter-btn[data-v-793cb6b0]{padding:8px 12px;background:rgba(255,255,255,.1);color:rgba(255,255,255,.7);border:1px solid rgba(255,255,255,.1);border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s ease;white-space:nowrap}.timing-filter-btn[data-v-793cb6b0]:hover{background:rgba(255,255,255,.15);color:#fff;transform:translateY(-1px)}.timing-filter-btn.active[data-v-793cb6b0]{background:var(--accent-color);color:#fff;border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}@media (max-width: 600px){.timing-filters[data-v-793cb6b0]{padding:10px;gap:8px}.timing-filter-btn[data-v-793cb6b0]{padding:6px 10px;font-size:12px;flex:1;text-align:center}}.timing-preview[data-v-793cb6b0]{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:12px;margin-top:10px}.timing-preview-header[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:rgba(255,255,255,.8);font-size:14px;font-weight:500}.timing-preview-header i[data-v-793cb6b0]{color:var(--accent-color)}.timing-preview-content[data-v-793cb6b0]{display:flex;flex-direction:column;gap:4px}.timing-preview-item[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;padding:6px 8px;background:rgba(255,255,255,.05);border-radius:4px;font-size:13px}.timing-preview-range[data-v-793cb6b0]{color:#fff;font-weight:500;font-family:Courier New,monospace}.timing-preview-duration[data-v-793cb6b0]{color:rgba(255,255,255,.6);font-size:12px}.overlay-button[data-v-793cb6b0]{background:rgba(255,255,255,.1)!important;border:none!important}.overlay-button[data-v-793cb6b0]:hover{background:var(--accent-color)!important;transform:translateY(-2px)!important;box-shadow:0 4px 8px var(--accent-semi-transparent)!important}.obs-button[data-v-793cb6b0]{background:linear-gradient(135deg,#ff6b35,#f7931e)!important;color:#fff!important}.obs-button[data-v-793cb6b0]:hover{background:linear-gradient(135deg,#e55a2b,#e68900)!important;transform:translateY(-1px);box-shadow:0 4px 12px rgba(255,107,53,.4)}.obs-modal[data-v-793cb6b0]{z-index:10001}.obs-modal-content[data-v-793cb6b0]{max-width:600px;width:90%;max-height:80vh;overflow-y:auto}.obs-settings-form[data-v-793cb6b0]{display:flex;flex-direction:column;gap:20px;padding:20px 0}.obs-setting-group[data-v-793cb6b0]{display:flex;flex-direction:column;gap:8px}.obs-checkbox-label[data-v-793cb6b0]{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:16px;font-weight:500;color:#fff}.obs-checkbox-label input[type=checkbox][data-v-793cb6b0]{width:18px;height:18px;accent-color:#ff6b35}.obs-setting-description[data-v-793cb6b0]{font-size:13px;color:rgba(255,255,255,.7);margin-top:4px;line-height:1.4}.obs-connection-settings[data-v-793cb6b0]{background:rgba(255,255,255,.05);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,.1)}.obs-setting-group label[data-v-793cb6b0]{color:#fff;font-size:14px;font-weight:500;margin-bottom:6px}.obs-input[data-v-793cb6b0],.obs-select[data-v-793cb6b0]{width:100%;padding:10px 12px;border:1px solid rgba(255,255,255,.2);border-radius:6px;background:rgba(255,255,255,.1);color:#fff;font-size:14px;transition:all .3s ease}.obs-input[data-v-793cb6b0]:focus,.obs-select[data-v-793cb6b0]:focus{outline:none;border-color:#ff6b35;box-shadow:0 0 0 2px rgba(255,107,53,.2)}.obs-range[data-v-793cb6b0]{width:100%;height:6px;border-radius:3px;background:rgba(255,255,255,.2);outline:none;accent-color:#ff6b35}.obs-status[data-v-793cb6b0]{padding:12px 16px;border-radius:8px;text-align:center;font-weight:500;background:rgba(244,67,54,.2);color:#f44336;border:1px solid rgba(244,67,54,.3)}.obs-status.connected[data-v-793cb6b0]{background:rgba(76,175,80,.2);color:#4caf50;border:1px solid rgba(76,175,80,.3)}.obs-actions[data-v-793cb6b0]{display:flex;flex-wrap:wrap;gap:12px;margin-top:16px}.obs-action-btn[data-v-793cb6b0]{display:flex;align-items:center;gap:8px;padding:10px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;flex:1;min-width:140px;justify-content:center}.obs-action-btn[data-v-793cb6b0]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.connect-btn[data-v-793cb6b0]{background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:#fff}.connect-btn[data-v-793cb6b0]:hover:not(:disabled){background:linear-gradient(135deg,#8e24aa,#6a1b9a);transform:translateY(-1px)}.test-btn[data-v-793cb6b0]{background:linear-gradient(135deg,#2196f3,#0b7dda);color:#fff}.test-btn[data-v-793cb6b0]:hover:not(:disabled){background:linear-gradient(135deg,#1976d2,#0b6cb7);transform:translateY(-1px)}.refresh-btn[data-v-793cb6b0]{background:linear-gradient(135deg,#ff9800,#e68900);color:#fff}.refresh-btn[data-v-793cb6b0]:hover:not(:disabled){background:linear-gradient(135deg,#f57c00,#bf6900);transform:translateY(-1px)}.obs-warning[data-v-793cb6b0]{padding:12px;background:rgba(255,152,0,.2);color:#ff9800;border:1px solid rgba(255,152,0,.3);border-radius:6px;font-size:14px;line-height:1.4}.obs-filters-list[data-v-793cb6b0]{display:flex;flex-direction:column;gap:8px}.obs-filter-selection[data-v-793cb6b0]{display:flex;flex-direction:column;gap:12px}.obs-filter-select[data-v-793cb6b0]{padding:10px 12px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#fff;font-size:14px;outline:none;transition:all .3s ease}.obs-filter-select[data-v-793cb6b0]:focus{border-color:var(--accent-color);box-shadow:0 0 5px var(--accent-semi-transparent)}.obs-filter-select option[data-v-793cb6b0]{background:#2a2a2a;color:#fff}.selected-filter-info[data-v-793cb6b0]{padding:12px;background:rgba(255,255,255,.05);border-radius:6px;display:flex;flex-direction:column;gap:8px}.filter-details[data-v-793cb6b0]{font-size:14px;color:#fff;text-align:center}.filter-status[data-v-793cb6b0]{font-size:13px;color:#f44336;font-weight:500;text-align:center}.filter-status.enabled[data-v-793cb6b0]{color:#4caf50}.obs-info[data-v-793cb6b0]{padding:10px 12px;background:rgba(76,175,80,.1);border:1px solid rgba(76,175,80,.3);border-radius:6px;color:#4caf50;font-size:13px;text-align:center}@media (max-width: 600px){.obs-actions[data-v-793cb6b0]{flex-direction:column}.obs-action-btn[data-v-793cb6b0]{min-width:unset}}\n/*$vite$:1*/',document.head.appendChild(t);var je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Se=e=>{var t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.color="white",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="2rem",t.style.zIndex="99000",t.textContent=e,document.body.appendChild(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)},Te={key:0},Be={key:1},Ae={class:"players-list"},Re=["onClick"],Oe={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ne={key:0},Pe={key:0,class:"warning-icon material-icons",title:"Внимание!"},$e={key:1},Fe={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ue=["onClick"],De={key:0,class:"warning-icon material-icons",title:"Внимание!"},qe=n({__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(e,t){var a=t.emit,n=e,o=a,r=i(null),s=l((()=>n.players.filter((e=>!k(e)&&!w(e))))),d=l((()=>n.players.some((e=>k(e))))),y=l((()=>n.players.some((e=>w(e))))),k=e=>e.key.toUpperCase().includes("HDREZKA"),w=e=>e.key.toUpperCase().includes("KODIK"),_=e=>e.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),C=e=>{o("select",e),o("close")},E=e=>n.selectedPlayer&&n.selectedPlayer.key===e.key,I=e=>!!n.selectedPlayer&&("hdrezka"===e&&k(n.selectedPlayer)||"kodik"===e&&w(n.selectedPlayer)),M=e=>{r.value=e},L=()=>{r.value=null},z=e=>{var t=n.players.filter((t=>"hdrezka"===e&&k(t)||"kodik"===e&&w(t)));return"kodik"===e?t.sort(((e,t)=>_(e.translate).localeCompare(_(t.translate)))):t},j=e=>z(e).some((e=>e.warning));return(e,t)=>(u(),c("div",{class:"modal",onClick:t[4]||(t[4]=x((t=>e.$emit("close")),["self"]))},[v("div",{class:"modal-content",onClick:t[3]||(t[3]=x((()=>{}),["stop"]))},[v("button",{class:"close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),r.value?(u(),c("h2",Be,[v("button",{class:"back-btn",onClick:L},"← Назад"),p(" "+m("hdrezka"===r.value?"ReYohoho - HDrezka":"Kodik"),1)])):(u(),c("h2",Te,"Выберите плеер")),v("ul",Ae,[r.value?(u(!0),c(b,{key:1},g(z(r.value),(e=>(u(),c("li",{key:e.key},[v("button",{class:h(["player-item",{active:E(e)}]),onClick:t=>C(e)},[p(m(_(e.translate))+" ",1),e.warning?(u(),c("span",De,"warning")):f("",!0)],10,Ue)])))),128)):(u(),c(b,{key:0},[(u(!0),c(b,null,g(s.value,(e=>(u(),c("li",{key:e.key},[v("button",{class:h(["player-item",{active:E(e)}]),onClick:t=>C(e)},[p(m(_(e.translate))+" ",1),e.warning?(u(),c("span",Oe,"warning")):f("",!0)],10,Re)])))),128)),d.value?(u(),c("li",Ne,[v("button",{class:h(["group-item",{active:I("hdrezka")}]),onClick:t[1]||(t[1]=e=>M("hdrezka"))},[t[5]||(t[5]=v("span",{class:"material-icons group-icon"},"folder",-1)),t[6]||(t[6]=p(" ReYohoho - HDrezka ")),j("hdrezka")?(u(),c("span",Pe,"warning")):f("",!0)],2)])):f("",!0),y.value?(u(),c("li",$e,[v("button",{class:h(["group-item",{active:I("kodik")}]),onClick:t[2]||(t[2]=e=>M("kodik"))},[t[7]||(t[7]=v("span",{class:"material-icons group-icon"},"folder",-1)),t[8]||(t[8]=p(" Kodik ")),j("kodik")?(u(),c("span",Fe,"warning")):f("",!0)],2)])):f("",!0)],64))])])]))}},[["__scopeId","data-v-8b8d2b67"]]);class He{constructor(){this.ws=null,this.isConnected=!1,this.isAuthenticated=!1,this.messageId=0,this.sources=new Map,this.filtersFound=new Map,this.pendingRequests=new Map,this.callbacks={onConnect:null,onDisconnect:null,onSourcesUpdated:null,onFiltersFound:null,onError:null},this.BLUR_FILTER_NAME="reyohoho"}generateMessageId(){return++this.messageId}setCallbacks(e){this.callbacks=e}connect(){var e=arguments,t=this;return d(s().mark((function a(){var n,o,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"localhost",o=e.length>1&&void 0!==e[1]?e[1]:4455,r=e.length>2&&void 0!==e[2]?e[2]:"",a.abrupt("return",new Promise(((e,a)=>{var i=`ws://${n}:${o}`;console.log(`Connecting to OBS WebSocket at ${i}`),t.ws=new WebSocket(i),t.ws.onopen=d(s().mark((function n(){var o,i,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("WebSocket connection opened"),n.prev=1,n.next=4,t.authenticate(r);case 4:o=n.sent,console.log("Authentication response:",o),o.success?(console.log("Successfully authenticated to OBS"),null===(i=(l=t.callbacks).onConnect)||void 0===i||i.call(l),t.loadSourcesAndSearchFilters(),e()):(console.error("Authentication failed"),a(new Error("Authentication failed"))),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),console.error("Error during authentication:",n.t0),a(n.t0);case 13:case"end":return n.stop()}}),n,null,[[1,9]])}))),t.ws.onmessage=e=>{t.handleMessage(JSON.parse(e.data))},t.ws.onclose=()=>{var e,a;console.log("WebSocket connection closed"),null===(e=(a=t.callbacks).onDisconnect)||void 0===e||e.call(a)},t.ws.onerror=e=>{var n,o;console.error("WebSocket error:",e),null===(n=(o=t.callbacks).onError)||void 0===n||n.call(o,e.message||"Connection error"),a(e)}})));case 4:case"end":return a.stop()}}),a)})))()}disconnect(){if(this.ws&&(this.ws.close(),this.ws=null),this.pendingRequests){var e,t=r(this.pendingRequests.entries());try{for(t.s();!(e=t.n()).done;){(0,o(e.value,2)[1].reject)(new Error("Connection closed"))}}catch(a){t.e(a)}finally{t.f()}this.pendingRequests.clear()}this.sources.clear(),this.filtersFound.clear()}sendRequest(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((a,n)=>{if(!this.isConnected||!this.ws)return console.warn("No connection to OBS"),void n(new Error("No connection to OBS"));var o=this.generateMessageId().toString(),r={op:6,d:{requestType:e,requestId:o,requestData:t}};console.log(`Sending OBS request: ${e}`,t),this.pendingRequests.set(o,{resolve:a,reject:n}),this.ws.send(JSON.stringify(r)),setTimeout((()=>{this.pendingRequests&&this.pendingRequests.has(o)&&(this.pendingRequests.delete(o),n(new Error(`Request ${e} timed out`)))}),1e4)}))}handleMessage(e){switch(e.op){case 0:this.handleHello(e.d);break;case 2:this.handleIdentified();break;case 7:this.handleRequestResponse(e.d);break;case 5:this.handleEvent(e.d);break;default:console.log(`Unknown OBS message: op=${e.op}`)}}authenticate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((t=>{this.password=e,this.authResolve=t}))}handleHello(e){var t=this;return d(s().mark((function a(){var n,o,r,i,l,c,d,u;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("Received OBS hello"),t.isConnected=!0,n={op:1,d:{rpcVersion:1}},!e.authentication||!t.password){a.next=22;break}return a.prev=4,o=new TextEncoder,a.next=8,crypto.subtle.digest("SHA-256",o.encode(t.password+e.authentication.salt));case 8:return r=a.sent,i=Array.from(new Uint8Array(r)),l=btoa(String.fromCharCode(...i)),a.next=13,crypto.subtle.digest("SHA-256",o.encode(l+e.authentication.challenge));case 13:c=a.sent,d=Array.from(new Uint8Array(c)),u=btoa(String.fromCharCode(...d)),n.d.authentication=u,a.next=22;break;case 19:a.prev=19,a.t0=a.catch(4),console.error("Authentication error:",a.t0);case 22:t.ws.send(JSON.stringify(n));case 23:case"end":return a.stop()}}),a,null,[[4,19]])})))()}handleIdentified(){console.log("OBS authentication successful"),this.isAuthenticated=!0,this.authResolve&&(this.authResolve({success:!0}),this.authResolve=null)}handleRequestResponse(e){var t=e.requestId,a=e.requestType,n=e.requestStatus,o=e.responseData;if(console.log(`Received response for ${a}:`,{success:n.result,code:n.code,comment:n.comment}),this.pendingRequests){var r=this.pendingRequests.get(t);r?(this.pendingRequests.delete(t),n.result?(console.log(`Request ${a} successful`,o),r.resolve(o)):(console.error(`Request ${a} failed:`,n.comment),r.reject(new Error(`${a} failed: ${n.comment}`)))):console.warn(`No pending request found for ID: ${t}`)}else console.warn("No pending requests map")}handleFilterListResponse(e){var t=e.sourceName,a=(e.filters||[]).find((e=>e.filterName.toLowerCase()===this.BLUR_FILTER_NAME.toLowerCase()));a&&(this.foundFilters.set(t,{sourceName:t,filterName:a.filterName,enabled:a.filterEnabled}),console.log(`Found reyohoho filter in source: ${t}`)),this.checkSearchComplete()}checkSearchComplete(){setTimeout((()=>{var e,t;console.log(`Search complete. Found ${this.foundFilters.size} reyohoho filters`),null===(e=(t=this.callbacks).onFiltersFound)||void 0===e||e.call(t,Array.from(this.foundFilters.values()))}),500)}handleEvent(e){console.log(`OBS event: ${e.eventType}`)}testConnection(){var e=this;return d(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Testing OBS connection..."),t.next=4,e.sendRequest("GetVersion");case 4:return a=t.sent,console.log("OBS connection test successful:",a),t.abrupt("return",{success:!0,version:a});case 9:return t.prev=9,t.t0=t.catch(0),console.error("OBS connection test failed:",t.t0),t.abrupt("return",{success:!1,error:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()}loadSourcesAndSearchFilters(){var e=this;return d(s().mark((function t(){var a,n,o,i,l,c,d,u,v,p,m,b,f,g,h,x,y,k,w,_,C,E,I;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Loading sources and searching for filters..."),t.prev=2,t.next=5,e.sendRequest("GetVersion");case 5:l=t.sent,console.log("OBS version info:",l),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.warn("Could not get OBS version:",t.t0);case 12:return console.log("Requesting scene list..."),t.next=15,e.sendRequest("GetSceneList");case 15:if(c=t.sent,console.log("Raw scenes response:",c),c&&c.scenes){t.next=21;break}return console.error("Invalid scenes response structure:",c),null===(d=(u=e.callbacks).onError)||void 0===d||d.call(u,"Invalid response from OBS - no scenes data"),t.abrupt("return");case 21:return console.log("Found scenes:",c.scenes.length),console.log("Requesting input list..."),t.next=25,e.sendRequest("GetInputList");case 25:if(v=t.sent,console.log("Raw inputs response:",v),v&&v.inputs){t.next=31;break}return console.error("Invalid inputs response structure:",v),null===(p=(m=e.callbacks).onError)||void 0===p||p.call(m,"Invalid response from OBS - no inputs data"),t.abrupt("return");case 31:console.log("Found inputs:",v.inputs.length),e.sources.clear(),e.filtersFound.clear(),b=r(c.scenes),t.prev=35,b.s();case 37:if((f=b.n()).done){t.next=62;break}if(g=f.value,console.log(`Checking scene: ${g.sceneName} with ${g.sceneItems?g.sceneItems.length:0} items`),!g.sceneItems||!Array.isArray(g.sceneItems)){t.next=60;break}h=r(g.sceneItems),t.prev=42,h.s();case 44:if((x=h.n()).done){t.next=52;break}if(!(y=x.value).sourceName){t.next=50;break}return e.sources.set(y.sourceName,{sceneName:g.sceneName,sourceId:y.sceneItemId,sourceName:y.sourceName}),t.next=50,e.searchFiltersInSource(y.sourceName,g.sceneName);case 50:t.next=44;break;case 52:t.next=57;break;case 54:t.prev=54,t.t1=t.catch(42),h.e(t.t1);case 57:return t.prev=57,h.f(),t.finish(57);case 60:t.next=37;break;case 62:t.next=67;break;case 64:t.prev=64,t.t2=t.catch(35),b.e(t.t2);case 67:return t.prev=67,b.f(),t.finish(67);case 70:k=r(v.inputs),t.prev=71,k.s();case 73:if((w=k.n()).done){t.next=81;break}return _=w.value,console.log(`Checking input: ${_.inputName}`),e.sources.has(_.inputName)||e.sources.set(_.inputName,{sceneName:"Direct Input",sourceId:null,sourceName:_.inputName}),t.next=79,e.searchFiltersInSource(_.inputName,"Direct Input");case 79:t.next=73;break;case 81:t.next=86;break;case 83:t.prev=83,t.t3=t.catch(71),k.e(t.t3);case 86:return t.prev=86,k.f(),t.finish(86);case 89:C=Array.from(e.filtersFound.values()),console.log("Total filters found:",C.length),C.forEach((e=>{console.log(`- ${e.sourceName}: ${e.filterName} (${e.enabled?"enabled":"disabled"})`)})),null===(a=(n=e.callbacks).onFiltersFound)||void 0===a||a.call(n,C),null===(o=(i=e.callbacks).onSourcesUpdated)||void 0===o||o.call(i,Array.from(e.sources.values())),t.next=101;break;case 96:t.prev=96,t.t4=t.catch(0),console.error("Error loading sources:",t.t4),console.error("Error stack:",t.t4.stack),null===(E=(I=e.callbacks).onError)||void 0===E||E.call(I,`Error loading sources: ${t.t4.message}`);case 101:case"end":return t.stop()}}),t,null,[[0,96],[2,9],[35,64,67,70],[42,54,57,60],[71,83,86,89]])})))()}searchFiltersInSource(e,t){var a=this;return d(s().mark((function n(){var o,i,l,c,d;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(`Searching filters in source: ${e}`),n.next=4,a.sendRequest("GetSourceFilterList",{sourceName:e});case 4:o=n.sent,console.log(`Source ${e} has ${o.filters.length} filters`),i=r(o.filters);try{for(i.s();!(l=i.n()).done;)c=l.value,console.log(`  Filter: ${c.filterName} (${c.filterEnabled?"enabled":"disabled"})`),d=`${e}::${c.filterName}`,a.filtersFound.set(d,{id:d,sourceName:e,sceneName:t,filterName:c.filterName,enabled:c.filterEnabled})}catch(s){i.e(s)}finally{i.f()}n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.warn(`Could not get filters for source ${e}:`,n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()}enableBlur(e){var t=this;return d(s().mark((function a(){var n,o,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return console.warn("No filter selected for blur"),a.abrupt("return");case 3:if(n=t.filtersFound.get(e)){a.next=7;break}return console.warn("Selected filter not found:",e),a.abrupt("return");case 7:return a.prev=7,a.next=10,t.sendRequest("SetSourceFilterEnabled",{sourceName:n.sourceName,filterName:n.filterName,filterEnabled:!0});case 10:n.enabled=!0,console.log(`Enabled blur filter: ${n.sourceName}::${n.filterName}`),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(7),null===(o=(r=t.callbacks).onError)||void 0===o||o.call(r,`Error enabling filter: ${a.t0.message}`);case 17:case"end":return a.stop()}}),a,null,[[7,14]])})))()}disableBlur(e){var t=this;return d(s().mark((function a(){var n,o,r;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=3;break}return console.warn("No filter selected for blur"),a.abrupt("return");case 3:if(n=t.filtersFound.get(e)){a.next=7;break}return console.warn("Selected filter not found:",e),a.abrupt("return");case 7:return a.prev=7,a.next=10,t.sendRequest("SetSourceFilterEnabled",{sourceName:n.sourceName,filterName:n.filterName,filterEnabled:!1});case 10:n.enabled=!1,console.log(`Disabled blur filter: ${n.sourceName}::${n.filterName}`),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(7),null===(o=(r=t.callbacks).onError)||void 0===o||o.call(r,`Error disabling filter: ${a.t0.message}`);case 17:case"end":return a.stop()}}),a,null,[[7,14]])})))()}testBlur(e){var t=arguments,a=this;return d(s().mark((function n(){var o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:2e3,e){n.next=4;break}return console.warn("No filter selected for test"),n.abrupt("return");case 4:return n.next=6,a.enableBlur(e);case 6:setTimeout((()=>{a.disableBlur(e)}),o);case 7:case"end":return n.stop()}}),n)})))()}getFilterById(e){return this.filtersFound.get(e)}getAllFilters(){return Array.from(this.filtersFound.values())}}var Ve={class:"players-list"},Ye=["src"],We={key:1,class:"controls"},Ke={class:"main-controls"},Ge={class:"material-icons"},Ze={class:"list-button-item"},Xe={class:"material-icons"},Qe={class:"list-button-item"},Je={class:"material-icons"},et={class:"list-button-item"},tt={class:"list-button-item"},at={class:"material-icons"},nt={class:"list-button-item"},ot={class:"material-icons"},rt={class:"tooltip-container","data-tooltip-container":"dimming"},it={class:"material-icons"},lt={class:"tooltip-container","data-tooltip-container":"blur"},st={class:"tooltip-container","data-tooltip-container":"compressor"},ct={class:"tooltip-container","data-tooltip-container":"mirror"},dt={class:"tooltip-container","data-tooltip-container":"theater"},ut={class:"material-symbols-outlined"},vt={class:"custom-tooltip","data-tooltip":"theater"},pt={class:"tooltip-container","data-tooltip-container":"pip"},mt={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},bt={class:"current-ratio"},ft=["onClick"],gt={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},ht={class:"custom-tooltip","data-tooltip":"app_link"},xt={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},yt={class:"custom-tooltip","data-tooltip":"copy_link"},kt={key:2,class:"tooltip-container","data-tooltip-container":"overlay"},wt={class:"material-icons"},_t={key:0,class:"desktop-list-buttons"},Ct={class:"tooltip-container"},Et={class:"material-icons"},It={class:"custom-tooltip"},Mt={class:"tooltip-container"},Lt={class:"material-icons"},zt={class:"custom-tooltip"},jt={class:"tooltip-container"},St={class:"custom-tooltip"},Tt={class:"tooltip-container"},Bt={class:"material-icons"},At={class:"custom-tooltip"},Rt={class:"tooltip-container"},Ot={class:"material-icons"},Nt={class:"custom-tooltip"},Pt={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(e,t){var n=t.emit,x=y(),F=Me(),U=k(),D=w(),q=_(),H=i(D.params.kp_id),V=e,Y=n,W=i([]),K=i(null),G=i(!0),Z=i(!1),X=i(!1),Q=i(null),J=i(null),ee=i(!1),te=i(""),ae=i(null),ne=i(.9*window.innerHeight),oe=l((()=>`${ne.value}px`)),re=l((()=>x.isMobile)),ie=l((()=>!!window.electronAPI)),le=i(null),se=i(!1),ce=null,de=i(null),ue=i(null),ve=i(null),pe=i(null),me=i(!1),be=i(!1),fe=i(null),ge=i(null),he=i(0),xe=i(null),we=i(null),_e=i(null),Ce=i(null),ze=i(null),je=i(null),Te=l({get:()=>F.videoOverlayEnabled,set:e=>F.updateVideoOverlay(e)}),Be=l({get:()=>F.overlaySettings,set:e=>F.updateOverlaySettings(e)}),Ae=i(0),Re=i(0),Oe=i([]),Ne=i(null),Pe=i(null),$e=i(!1),Fe=i(null),Ue=i(!1),De=i([]),Pt=i([]),$t=l({get:()=>F.obsSettings,set:e=>F.updateObsSettings(e)}),Ft=e=>{var t=document.querySelector(`[data-tooltip-container="${e}"]`),a=document.querySelector(`[data-tooltip="${e}"]`);if(t&&a){var n=t.getBoundingClientRect(),o=a.getBoundingClientRect(),r=window.innerHeight;n.bottom+o.height>r?(a.style.top="auto",a.style.bottom="100%",a.style.marginTop="0",a.style.marginBottom="12px",a.style.transform="translateX(-50%)"):(a.style.top="100%",a.style.bottom="auto",a.style.marginTop="12px",a.style.marginBottom="0",a.style.transform="translateX(-50%)")}},Ut=e=>{le.value=e,se.value=!1,clearTimeout(ce),N((()=>{Ft(e)}))},Dt=()=>{se.value||(ce=setTimeout((()=>{le.value=null}),300))},qt=()=>{se.value=!0,clearTimeout(ce)},Ht=()=>{se.value=!1,le.value=null},Vt=l({get:()=>F.aspectRatio,set:e=>F.updateAspectRatio(e)}),Yt=l({get:()=>F.isCentered,set:e=>F.updateCentering(e)}),Wt=l((()=>{var e,t,a,n,o;return(null===(e=V.movieInfo)||void 0===e||null===(e=e.lists)||void 0===e?void 0:e.isFavorite)||(null===(t=V.movieInfo)||void 0===t||null===(t=t.lists)||void 0===t?void 0:t.isWatching)||(null===(a=V.movieInfo)||void 0===a||null===(a=a.lists)||void 0===a?void 0:a.isLater)||(null===(n=V.movieInfo)||void 0===n||null===(n=n.lists)||void 0===n?void 0:n.isCompleted)||(null===(o=V.movieInfo)||void 0===o||null===(o=o.lists)||void 0===o?void 0:o.isAbandoned)})),Kt=l((()=>F.preferredPlayer)),Gt=i(0),Zt=e=>e.toUpperCase(),Xt=()=>{if(!Z.value&&J.value){var e=o(Vt.value.split(":").map(Number),2),t=e[0],a=e[1];ne.value=.9*window.innerHeight,Gt.value=Math.min(J.value.clientWidth*(a/t),ne.value)}},Qt=l((()=>{if(Z.value)return{};var e=o(Vt.value.split(":").map(Number),2),t=e[0],a=e[1];return{width:"100%",maxWidth:`${ne.value*(t/a)}px`,maxHeight:oe.value,margin:"0 auto",overflow:"hidden"}})),Jt=l((()=>{var e=o(Vt.value.split(":").map(Number),2),t=e[0];return{position:"relative",width:"100%",paddingTop:e[1]/t*100+"%"}})),ea=()=>{J.value&&setTimeout((()=>{N((()=>{J.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}))}),500)},ta=function(){var e=d(s().mark((function e(){var t,n,r,i,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te.value="",ae.value=null,e.next=5,R(V.kpId);case 5:t=e.sent,W.value=Object.entries(t).map((e=>{var t=o(e,2),n=t[0],r=t[1];return a({key:n.toUpperCase()},r)})),W.value.length>0&&(Kt.value?(n=Zt(Kt.value),r=W.value.find((e=>Zt(e.key)===n)),K.value=r||W.value[0]):K.value=W.value[0],Y("update:selectedPlayer",K.value)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(0),i=O(e.t0),l=i.message,c=i.code,te.value=l,ae.value=c,console.error("Ошибка при загрузке плееров:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),aa=()=>{ee.value=!0},na=()=>{ee.value=!1},oa=()=>{try{return xe.value||(xe.value=new(window.AudioContext||window.webkitAudioContext)),we.value||(we.value=xe.value.createDynamicsCompressor(),we.value.threshold.value=-50,we.value.knee.value=40,we.value.ratio.value=12,we.value.attack.value=0,we.value.release.value=.25,Ce.value=xe.value.createGain(),ze.value=xe.value.createGain(),Ce.value.gain.value=0,ze.value.gain.value=1,we.value.connect(Ce.value),Ce.value.connect(xe.value.destination),ze.value.connect(xe.value.destination)),!0}catch(e){return console.log("Error initializing audio context:",e),!1}},ra=function(){var e=d(s().mark((function e(t){var a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,xe.value&&je.value!==t){e.next=3;break}return e.abrupt("return",!0);case 3:if(a=Q.value,!((n=(null==a?void 0:a.src)||"").includes("videoframe")||n.includes("kinoserial.net")||n.includes("allarknow"))){e.next=12;break}return console.log("Player detected as unsupported for compressor:",n),je.value=t,_e.value=null,be.value=!1,ie.value&&window.electronAPI.showToast("Компрессор не поддерживается этим плеером"),e.abrupt("return",!1);case 12:if(_e.value)try{_e.value.disconnect()}catch(r){}return o=function(){var e=d(s().mark((function e(){var a,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.length>0&&void 0!==n[0]?n[0]:0)>0)){e.next=4;break}return e.next=4,new Promise((e=>setTimeout(e,a)));case 4:return e.prev=4,_e.value=xe.value.createMediaElementSource(t),je.value=t,_e.value.connect(we.value),_e.value.connect(ze.value),console.log(`Video audio setup completed (attempt with ${a}ms delay)`),e.abrupt("return",!0);case 13:if(e.prev=13,e.t0=e.catch(4),"InvalidStateError"!==e.t0.name||!e.t0.message.includes("already connected")){e.next=20;break}return console.log(`MediaElementSource already connected (${a}ms delay attempt)`),e.abrupt("return",!1);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),e.next=16,o(0);case 16:if(!e.sent){e.next=18;break}return e.abrupt("return",!0);case 18:return e.next=20,o(100);case 20:if(!e.sent){e.next=22;break}return e.abrupt("return",!0);case 22:return e.next=24,o(300);case 24:if(!e.sent){e.next=26;break}return e.abrupt("return",!0);case 26:return e.next=28,o(800);case 28:if(!e.sent){e.next=30;break}return e.abrupt("return",!0);case 30:return console.log("Video element has internal audio processing, compressor not available for this player"),je.value=t,_e.value=null,be.value=!1,ie.value&&window.electronAPI.showToast("Компрессор не поддерживается этим плеером"),e.abrupt("return",!1);case 38:return e.prev=38,e.t0=e.catch(0),console.log("Error setting up video audio:",e.t0),e.abrupt("return",!1);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})));return function(t){return e.apply(this,arguments)}}(),ia=function(){var e=d(s().mark((function e(t){var a,n,o,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q.value){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,a=Q.value,n=a.contentDocument||a.contentWindow.document){e.next=7;break}return e.abrupt("return");case 7:if(0!==(o=n.querySelectorAll("video")).length){e.next=10;break}return e.abrupt("return");case 10:if(r=o[0],oa()){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,ra(r);case 15:if(e.sent&&_e.value){e.next=19;break}return console.log("Compressor not available for this player"),e.abrupt("return");case 19:t&&!be.value?(Ce.value.gain.setValueAtTime(1,xe.value.currentTime),ze.value.gain.setValueAtTime(0,xe.value.currentTime),be.value=!0,ie.value&&window.electronAPI.showToast("Компрессор включён"),console.log("Compressor enabled")):!t&&be.value&&(Ce.value.gain.setValueAtTime(0,xe.value.currentTime),ze.value.gain.setValueAtTime(1,xe.value.currentTime),be.value=!1,ie.value&&window.electronAPI.showToast("Компрессор отключён"),console.log("Compressor disabled")),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(2),console.log("Compressor error:",e.t0),ie.value&&window.electronAPI.showToast("Ошибка при включении компрессора");case 26:case"end":return e.stop()}}),e,null,[[2,22]])})));return function(t){return e.apply(this,arguments)}}(),la=()=>{ie.value?window.electronAPI.sendHotKey("F2"):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},sa=()=>{ie.value?(ba.value=!ba.value,ia(ba.value)):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},ca=()=>{ie.value?(fa.value=!fa.value,ga(fa.value)):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},da=()=>{Z.value=!Z.value,Z.value?(window.addEventListener("mousemove",va),document.addEventListener("keydown",xa),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",va),document.removeEventListener("keydown",xa),document.body.classList.remove("no-scroll")),X.value=Z.value,N((()=>ea()))},ua=i(null),va=()=>{ua.value=setTimeout((()=>{clearTimeout(ua.value),X.value=!1}),4e3),X.value=!0},pa=l((()=>x.dimmingEnabled)),ma=()=>{Z.value||x.toggleDimming()},ba=l({get:()=>F.compressorEnabled,set:e=>F.updateCompressor(e)}),fa=l({get:()=>F.mirrorEnabled,set:e=>F.updateMirror(e)}),ga=e=>{if(Q.value)try{var t=Q.value,a=t.contentDocument||t.contentWindow.document;if(!a)return;var n=a.querySelectorAll("video");if(n.length>0&&(n.forEach((t=>{t.style.transform=e?"scaleX(-1)":"scaleX(1)"})),me.value=e,ie.value)){var o=e?"Зеркало включено":"Зеркало отключено";window.electronAPI.showToast(o)}}catch(r){}},ha=()=>{G.value=!1,window.iframeLoadTime=Date.now(),pe.value&&clearInterval(pe.value),pe.value=setInterval((()=>{if(Q.value)try{var e=Q.value,t=e.contentDocument||e.contentWindow.document;if(!t)return;var a=t.querySelectorAll("video");if(a.length>0){var n=a[0],o="scaleX(-1)"===n.style.transform;fa.value&&!o?(n.style.transform="scaleX(-1)",me.value=!0):!fa.value&&o&&(n.style.transform="scaleX(1)",me.value=!1),je.value!==n?(je.value=null,be.value=!1,ba.value&&setTimeout((()=>{ia(!0)}),500)):ba.value!==be.value&&_e.value&&(console.log("Compressor state mismatch, reapplying"),ia(ba.value))}}catch(r){}}),1e3),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(ie.value){fe.value&&clearInterval(fe.value);var t=!1,a=[];n(),fe.value=setInterval((()=>{if(Q.value){n();try{var i=Q.value,l=i.contentDocument||i.contentWindow.document;if(!l)return;var s=l.querySelectorAll("video");if(s.length>0){var c,d=s[0];if(Ae.value=d.currentTime||0,Re.value=d.duration||0,ie.value&&Te.value&&!Ne.value&&!$e.value&&Date.now()-(window.iframeLoadTime||0)>=3e3)try{$a(l,d)}catch(Y){console.log("Error creating overlay:",Y),$e.value=!1}if(ie.value&&!Te.value&&Ne.value&&setTimeout((()=>{!Te.value&&Ne.value&&Ua()}),100),ie.value&&null!==(c=V.movieInfo)&&void 0!==c&&c.nudity_timings){var u=d.currentTime,v=[],p=[],m=a.length>0,b=$t.value.enabled&&Ue.value;if(window.overlayNudityTimings&&Array.isArray(window.overlayNudityTimings)&&window.overlayNudityTimings.length>0){var f,g=r(V.movieInfo.nudity_timings);try{for(g.s();!(f=g.n()).done;){var h=f.value;if(window.overlayNudityTimings.includes(h.id)){var x=ye(h.timing_text);if(x&&x.length>0){var y=[];if(m||b){var k,w=r(x);try{for(w.s();!(k=w.n()).done;){var _=o(k.value,2),C=_[0],E=_[1],I="normal";b&&u>=C&&u<=E?(I="active",p.push(h.id)):b&&C>u&&C-u<=20&&(I="upcoming"),y.push({text:`[${ke(C)}-${ke(E)}]`,status:I})}}catch(W){w.e(W)}finally{w.f()}}else{var M,L=r(x);try{for(L.s();!(M=L.n()).done;){var z=o(M.value,2),j=z[0],S=z[1],T="normal";u>=j&&u<=S?(T="active",p.push(h.id)):j>u&&j-u<=20&&(T="upcoming"),y.push({text:`[${ke(j)}-${ke(S)}]`,status:T})}}catch(W){L.e(W)}finally{L.f()}}v.push({id:h.id,intervals:y})}}}}catch(W){g.e(W)}finally{g.f()}}Oe.value=v}if(ie.value&&Ne.value&&Te.value&&Fa(),!d.paused){var B=d.currentTime,A=d.duration,R=A>0?B/A*100:0;if(e&&(console.log(`Video position: ${B.toFixed(2)}s / ${A.toFixed(2)}s (${R.toFixed(1)}%)`),a.length>0)){var O=a.map((e=>{var t=o(e,2),a=t[0],n=t[1];return`${ke(a)} - ${ke(n)}`})).join(", ");console.log(`Active blur intervals: [${O}]`)}for(var N,P=!1,$=0,F=a;$<F.length;$++){var U=o(F[$],2),D=U[0],q=U[1];if(B>=D&&B<=q){P=!0;break}}if($t.value.enabled&&Ue.value&&$t.value.selectedFilterId){if(P&&!t)null===(N=Fe.value)||void 0===N||N.enableBlur($t.value.selectedFilterId),t=!0,console.log("OBS Blur applied at",B.toFixed(2),"seconds");else if(!P&&t){var H;null===(H=Fe.value)||void 0===H||H.disableBlur($t.value.selectedFilterId),t=!1,console.log("OBS Blur removed at",B.toFixed(2),"seconds")}}else P&&!t&&ie.value?(window.electronAPI.sendHotKey("F2"),t=!0,console.log("Blur applied at",B.toFixed(2),"seconds")):P||!t||$t.value.enabled||(window.electronAPI.sendHotKey("F2"),t=!1,console.log("Blur removed at",B.toFixed(2),"seconds"))}}}catch(Y){console.log("Error monitoring video position:",Y)}}}),100)}function n(){var e;if(a=[],window.selectedNudityTimings&&Array.isArray(window.selectedNudityTimings)&&null!==(e=V.movieInfo)&&void 0!==e&&e.nudity_timings){var t,n=r(V.movieInfo.nudity_timings);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(window.selectedNudityTimings.includes(o.id)){var i=ye(o.timing_text);i&&i.length>0&&a.push(...i)}}}catch(l){n.e(l)}finally{n.f()}}}}(),ie.value&&Te.value&&!Ne.value&&setTimeout((()=>{try{var e=Q.value,t=e.contentDocument||e.contentWindow.document;if(t){var a=t.querySelector("video");a&&$a(t,a)}}catch(n){console.log("Error creating overlay on iframe load:",n),$e.value=!1}}),3e3)},xa=e=>{("Escape"===e.key&&Z.value||e.altKey&&84===e.keyCode)&&da()},ya=e=>{Vt.value=e,setTimeout((()=>{Yt.value&&ea()}),310)},ka=()=>{var e=`reyohoho://#${H.value}`;try{window.location.href=e}catch(t){console.error("Ошибка при открытии ссылки:",t)}},wa=()=>{var e=window.location.href;navigator.clipboard.writeText(e).then((()=>{})),de.value.showNotification("Ссылка на фильм скопирована")};function _a(e){return e.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}var Ca=e=>{var t;(null===(t=K.value)||void 0===t?void 0:t.key)!==e.key?(K.value=e,G.value=!0,me.value=!1,be.value=!1,je.value=null,Ne.value&&Ua(),pe.value&&(clearInterval(pe.value),pe.value=null),fe.value&&(clearInterval(fe.value),fe.value=null),e.key.toLowerCase().includes("torrents")||F.updatePreferredPlayer(Zt(e.key)),Y("update:selectedPlayer",e)):na()};C(K,(e=>{e&&(G.value=!0,me.value=!1,be.value=!1,je.value=null,Ne.value&&Ua(),pe.value&&(clearInterval(pe.value),pe.value=null),fe.value&&(clearInterval(fe.value),fe.value=null),e.key.toLowerCase().includes("torrents")||F.updatePreferredPlayer(Zt(e.key)),Y("update:selectedPlayer",e))})),C((()=>D.params.kp_id),function(){var e=d(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t!==H.value&&(H.value=t,me.value=!1,be.value=!1,je.value=null,Ne.value&&Ua(),pe.value&&(clearInterval(pe.value),pe.value=null),fe.value&&(clearInterval(fe.value),fe.value=null),he.value=0,Yt.value&&ea());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{immediate:!0}),C(Te,(e=>{if(ie.value)if(e&&!Ne.value){var t=()=>{if(Q.value)try{var e=Q.value,a=e.contentDocument||e.contentWindow.document;if(a){var n=a.querySelector("video");if(n){var o=Date.now()-(window.iframeLoadTime||0);o>=3e3?$a(a,n):setTimeout(t,3e3-o)}}}catch(r){console.log("Error creating overlay via watcher:",r),$e.value=!1}};t()}else!e&&Ne.value&&Ua()})),C(Oe,((e,t)=>{if(ie.value){var a=t&&t.length>0,n=e&&e.length>0;!a&&n&&(Te.value||(Te.value=!0,window.electronAPI&&window.electronAPI.showToast("Оверлей автоматически включён - добавлены тайминги")))}}),{deep:!0}),C((()=>$t.value.enabled),(e=>{e&&!Ue.value?Aa():!e&&Ue.value&&Ra()})),C(Be,((e,t)=>{ie.value&&Te.value&&(t&&e.showBackground!==t.showBackground?Ne.value&&(Ua(),setTimeout((()=>{if(Q.value&&Te.value)try{var e=Q.value,t=e.contentDocument||e.contentWindow.document;if(t){var a=t.querySelector("video");a&&$a(t,a)}}catch(n){console.log("Error recreating overlay:",n)}}),100)):Ne.value&&Fa())}),{deep:!0});var Ea=["16:9","12:5","4:3"],Ia=()=>{var e=(Ea.indexOf(Vt.value)+1)%Ea.length;ya(Ea[e])},Ma=function(){var e=d(s().mark((function e(t){var a,n,o,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U.token){e.next=3;break}return de.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:La}),e.abrupt("return");case 3:if(e.prev=3,a={[A.FAVORITE]:"избранное",[A.HISTORY]:"историю",[A.LATER]:'список "Смотреть позже"',[A.COMPLETED]:'список "Просмотрено"',[A.ABANDONED]:'список "Брошено"',[A.WATCHING]:'список "Смотрю"'},i=t,l=void 0,s=void 0,c=void 0,d=void 0,u=void 0,v=void 0,p=void 0,null===(p={[A.FAVORITE]:(null===(l=V.movieInfo)||void 0===l||null===(l=l.lists)||void 0===l?void 0:l.isFavorite)||!1,[A.HISTORY]:(null===(s=V.movieInfo)||void 0===s||null===(s=s.lists)||void 0===s?void 0:s.isHistory)||!1,[A.LATER]:(null===(c=V.movieInfo)||void 0===c||null===(c=c.lists)||void 0===c?void 0:c.isLater)||!1,[A.COMPLETED]:(null===(d=V.movieInfo)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isCompleted)||!1,[A.ABANDONED]:(null===(u=V.movieInfo)||void 0===u||null===(u=u.lists)||void 0===u?void 0:u.isAbandoned)||!1,[A.WATCHING]:(null===(v=V.movieInfo)||void 0===v||null===(v=v.lists)||void 0===v?void 0:v.isWatching)||!1}[i])||void 0===p||!p){e.next=11;break}return e.next=8,P(H.value,t);case 8:de.value.showNotification(`Удалено из ${a[t]}`),e.next=14;break;case 11:return e.next=13,$(H.value,t);case 13:de.value.showNotification(`Добавлено в ${a[t]}`);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),n=O(e.t0),o=n.message,r=n.code,de.value.showNotification(`${o} ${r}`);case 20:Y("update:movieInfo");case 21:case"end":return e.stop()}var i,l,s,c,d,u,v,p}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}(),La=()=>{q.push("/login")},za=l((()=>F.showFavoriteTooltip)),ja=()=>{q.push("/settings"),Ht()},Sa=function(){var e=d(s().mark((function e(){var t,a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie.value){e.next=4;break}return Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"),e.abrupt("return");case 4:if(Q.value){e.next=6;break}return e.abrupt("return");case 6:if(e.prev=6,t=Q.value,a=t.contentDocument||t.contentWindow.document){e.next=11;break}return e.abrupt("return");case 11:if(n=a.querySelector("video")){e.next=14;break}return e.abrupt("return");case 14:if(!document.pictureInPictureElement){e.next=19;break}return e.next=17,document.exitPictureInPicture();case 17:e.next=25;break;case 19:if(!document.pictureInPictureEnabled){e.next=24;break}return e.next=22,n.requestPictureInPicture();case 22:e.next=25;break;case 24:Se('Ваш браузер не поддерживает режим "Картинка в картинке"');case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(6),console.error("Error toggling PiP:",e.t0),Se('Не удалось включить режим "Картинка в картинке"');case 31:case"end":return e.stop()}}),e,null,[[6,27]])})));return function(){return e.apply(this,arguments)}}(),Ta=()=>{if(Te.value=!Te.value,Te.value){var e=()=>{if(!Ne.value&&Q.value)try{var t=Q.value,a=t.contentDocument||t.contentWindow.document;if(a){var n=a.querySelector("video");if(n){var o=Date.now()-(window.iframeLoadTime||0);o>=3e3?$a(a,n):setTimeout(e,3e3-o)}}}catch(r){console.log("Error creating overlay:",r),$e.value=!1}};e()}else Ua()},Ba=()=>{Fe.value&&Fe.value.disconnect(),Fe.value=new He,Fe.value.setCallbacks({onConnect:()=>{Ue.value=!0,F.setObsConnected(!0),ie.value&&window.electronAPI&&window.electronAPI.showToast("Подключен к OBS WebSocket")},onDisconnect:()=>{Ue.value=!1,F.setObsConnected(!1),De.value=[],Pt.value=[]},onSourcesUpdated:e=>{De.value=e,window.obsSources=e},onFiltersFound:e=>{Pt.value=e,window.obsFiltersFound=e,F.updateObsSettings({filtersFound:e})},onError:e=>{console.error("OBS WebSocket error:",e),ie.value&&window.electronAPI&&window.electronAPI.showToast(`Ошибка OBS: ${e}`)}})},Aa=function(){var e=d(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fe.value||Ba(),e.next=3,Fe.value.connect($t.value.host,$t.value.port,$t.value.password);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ra=()=>{Fe.value&&Fe.value.disconnect()},Oa=e=>{Fe.value&&Ue.value&&e?Fe.value.testBlur(e):ie.value&&window.electronAPI&&window.electronAPI.showToast("Фильтр не выбран или не найден в OBS")},Na=()=>{Fe.value&&Ue.value&&Fe.value.loadSourcesAndSearchFilters()},Pa=()=>Pt.value,$a=(e,t)=>{if(Te.value&&!Ne.value&&!$e.value){$e.value=!0;var a=e.createElement("div");a.id="reyohoho-video-overlay";var n=()=>{a.style.cssText="\n      position: absolute !important;\n      top: 0 !important;\n      left: 0 !important;\n      width: 100% !important;\n      height: 100% !important;\n      pointer-events: none !important;\n      z-index: 999999999 !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n    "},o=e.createElement("div");o.style.cssText="\n    color: white !important;\n    padding: 20px !important;\n    text-align: left !important;\n    pointer-events: none !important;\n  ";var r=e.createElement("div"),i=Be.value.showBackground?"rgba(0, 0, 0, 0.7)":"transparent",l=Be.value.showBackground?"blur(10px)":"none",s=Be.value.showBackground?"fit-content":"auto";r.style.cssText=`\n    font-size: 20px !important;\n    font-weight: 600 !important;\n    margin-bottom: 8px !important;\n    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;\n    line-height: 1.2 !important;\n    padding: 8px 12px !important;\n    border-radius: 6px !important;\n    display: inline-block !important;\n    color: rgba(255, 255, 255, 0.6) !important;\n    background: ${i} !important;\n    backdrop-filter: ${l} !important;\n    width: ${s} !important;\n  `;var c=e.createElement("div"),d=Be.value.showBackground?"rgba(0, 0, 0, 0.7)":"transparent",u=Be.value.showBackground?"blur(10px)":"none",v=Be.value.showBackground?"6px":"0",p=Be.value.showBackground?"inline-flex":"flex",m=Be.value.showBackground?"fit-content":"auto";c.style.cssText=`\n    font-size: 18px !important;\n    font-weight: 500 !important;\n    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8) !important;\n    display: ${p} !important;\n    align-items: center !important;\n    gap: 8px !important;\n    flex-wrap: wrap !important;\n    color: rgba(255, 255, 255, 0.6) !important;\n    margin-left: 12px !important;\n    background: ${d} !important;\n    backdrop-filter: ${u} !important;\n    border-radius: ${v} !important;\n    width: ${m} !important;\n  `;var b=e.createElement("div"),f=Be.value.showBackground?"rgba(0, 0, 0, 0.7)":"transparent",g=Be.value.showBackground?"blur(10px)":"none";b.style.cssText=`\n    position: absolute !important;\n    top: 20px !important;\n    right: 110px !important;\n    background: ${f} !important;\n    backdrop-filter: ${g} !important;\n    border-radius: 12px !important;\n    padding: 16px !important;\n    width: fit-content !important;\n    max-width: 800px !important;\n    pointer-events: none !important;\n    display: none !important;\n    transition: opacity 0.3s ease, visibility 0.3s ease !important;\n    opacity: 0 !important;\n    visibility: hidden !important;\n  `;var h=e.createElement("div");h.style.cssText="\n    font-size: 14px !important;\n    color: rgba(255, 255, 255, 0.6) !important;\n    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8) !important;\n    line-height: 1.4 !important;\n    word-wrap: break-word !important;\n  ";var x=e.createElement("div");x.style.cssText="\n    position: absolute !important;\n    top: 20px !important;\n    right: 20px !important;\n    display: flex !important;\n    gap: 8px !important;\n    pointer-events: all !important;\n  ";var y=e.createElement("button");y.style.cssText="\n    background: rgba(0, 0, 0, 0.8) !important;\n    backdrop-filter: blur(10px) !important;\n    color: white !important;\n    border: 1px solid rgba(255, 255, 255, 0.2) !important;\n    border-radius: 50% !important;\n    width: 40px !important;\n    height: 40px !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    cursor: pointer !important;\n    transition: all 0.3s ease !important;\n    font-size: 18px !important;\n  ",y.innerHTML="⚙️",y.title="Настройки оверлея";var k=e.createElement("button");k.style.cssText="\n    background: rgba(0, 0, 0, 0.8) !important;\n    backdrop-filter: blur(10px) !important;\n    color: white !important;\n    border: 1px solid rgba(255, 255, 255, 0.2) !important;\n    border-radius: 50% !important;\n    width: 40px !important;\n    height: 40px !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    cursor: pointer !important;\n    transition: all 0.3s ease !important;\n    font-size: 18px !important;\n  ",k.innerHTML="👁️",k.title="Отключить оверлей",k.addEventListener("click",(()=>{Te.value=!1})),y.addEventListener("click",(()=>{(()=>{if(ie.value){var e=Q.value,t=e.contentDocument||e.contentWindow.document;if(t&&!t.getElementById("overlay-settings-modal")){var a=Be.value,n=t.createElement("div");n.id="overlay-settings-modal",n.style.cssText="\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    width: 100% !important;\n    height: 100% !important;\n    background: rgba(0, 0, 0, 0.8) !important;\n    display: flex !important;\n    align-items: center !important;\n    justify-content: center !important;\n    z-index: 9999 !important;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n  ";var o=t.createElement("div");o.style.cssText="\n    background: rgba(30, 30, 30, 0.95) !important;\n    backdrop-filter: blur(20px) !important;\n    border-radius: 16px !important;\n    padding: 32px !important;\n    max-width: 400px !important;\n    width: 90% !important;\n    border: 1px solid rgba(255, 255, 255, 0.1) !important;\n    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5) !important;\n  ",o.innerHTML=`\n    <h3 style="color: #ff6b35; margin: 0 0 24px 0; font-size: 20px; font-weight: 600; text-align: center;">Настройки оверлея</h3>\n    \n    <div style="display: flex; flex-direction: column; gap: 16px;">\n      <label style="display: flex; align-items: center; gap: 12px; color: white; cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(255, 255, 255, 0.05);">\n        <input type="checkbox" id="showTitle" ${a.showTitle?"checked":""} style="width: 18px; height: 18px; accent-color: #ff6b35;">\n        <span style="font-size: 16px;">Показывать название фильма</span>\n      </label>\n      \n      <label style="display: flex; align-items: center; gap: 12px; color: white; cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(255, 255, 255, 0.05);">\n        <input type="checkbox" id="showDuration" ${a.showDuration?"checked":""} style="width: 18px; height: 18px; accent-color: #ff6b35;">\n        <span style="font-size: 16px;">Показывать продолжительность</span>\n      </label>\n      \n      <label style="display: flex; align-items: center; gap: 12px; color: white; cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(255, 255, 255, 0.05);">\n        <input type="checkbox" id="showBackground" ${a.showBackground?"checked":""} style="width: 18px; height: 18px; accent-color: #ff6b35;">\n        <span style="font-size: 16px;">Показывать затемненный фон</span>\n      </label>\n      \n      <label style="display: flex; align-items: center; gap: 12px; color: white; cursor: pointer; padding: 8px; border-radius: 8px; background: rgba(255, 255, 255, 0.05);">\n        <input type="checkbox" id="showTimingsOnMouseMove" ${a.showTimingsOnMouseMove?"checked":""} style="width: 18px; height: 18px; accent-color: #ff6b35;">\n        <span style="font-size: 16px;">Показывать тайминги только при движении мышки</span>\n      </label>\n\n    </div>\n    \n    <div style="display: flex; gap: 12px; margin-top: 24px; justify-content: center;">\n      <button id="saveSettings" style="background: #ff6b35; color: white; border: none; border-radius: 8px; padding: 10px 20px; cursor: pointer; font-size: 16px; font-weight: 500; transition: all 0.3s ease;">\n        Сохранить\n      </button>\n      <button id="cancelSettings" style="background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; padding: 10px 16px; cursor: pointer; font-size: 14px; transition: all 0.3s ease;">\n        Отмена\n      </button>\n    </div>\n  `,n.appendChild(o),n.addEventListener("click",(e=>{e.target===n&&n.remove()})),o.querySelector("#saveSettings").addEventListener("click",(()=>{var e,t={showTitle:o.querySelector("#showTitle").checked,showDuration:o.querySelector("#showDuration").checked,showBackground:o.querySelector("#showBackground").checked,showTimingsOnMouseMove:o.querySelector("#showTimingsOnMouseMove").checked};Be.value=t,null===(e=window.electronAPI)||void 0===e||e.showToast("Настройки оверлея сохранены"),n.remove()})),o.querySelector("#cancelSettings").addEventListener("click",(()=>{n.remove()})),o.querySelectorAll("button").forEach((e=>{e.addEventListener("mouseenter",(()=>{"saveSettings"===e.id?(e.style.background="#e55a2b",e.style.transform="translateY(-1px)"):e.style.background="rgba(255, 255, 255, 0.15)"})),e.addEventListener("mouseleave",(()=>{"saveSettings"===e.id?(e.style.background="#ff6b35",e.style.transform="translateY(0)"):e.style.background="rgba(255, 255, 255, 0.1)"}))})),t.body.appendChild(n)}}})()})),[y,k].forEach((e=>{e.addEventListener("mouseenter",(()=>{e.style.background="#ff6b35",e.style.borderColor="#ff6b35",e.style.transform="scale(1.1)"})),e.addEventListener("mouseleave",(()=>{e.style.background="rgba(0, 0, 0, 0.8)",e.style.borderColor="rgba(255, 255, 255, 0.2)",e.style.transform="scale(1)"}))})),x.appendChild(y),x.appendChild(k),b.appendChild(h),o.appendChild(r),o.appendChild(c),a.appendChild(o),a.appendChild(b),a.appendChild(x),x.style.transition="opacity 0.3s ease, visibility 0.3s ease",x.style.opacity="0",x.style.visibility="hidden",o.style.transition="opacity 0.3s ease";var w=null,_=null,C=()=>{x.style.opacity="1",x.style.visibility="visible",o.style.opacity="0",Be.value.showTimingsOnMouseMove&&Oe.value.length>0&&(b.style.opacity="1",b.style.visibility="visible",clearTimeout(_),_=setTimeout((()=>{b.style.opacity="0",b.style.visibility="hidden"}),3e3)),clearTimeout(Pe.value),clearTimeout(w),Pe.value=setTimeout((()=>{x.style.opacity="0",x.style.visibility="hidden"}),3e3),w=setTimeout((()=>{o.style.opacity="1"}),2e3)};e.addEventListener("mousemove",C),a.addEventListener("mouseenter",(()=>{x.style.opacity="1",x.style.visibility="visible",o.style.opacity="0",clearTimeout(w)})),a.addEventListener("mouseleave",(()=>{clearTimeout(Pe.value),clearTimeout(w),x.style.opacity="0",x.style.visibility="hidden",o.style.opacity="1"})),a._mouseHandler=C;var E=(t=>{for(var a=t.parentNode,n=0;a&&n<5;){var o=e.defaultView.getComputedStyle(a),r=a.getBoundingClientRect();if(r.width>0&&r.height>0&&("relative"===o.position||"absolute"===o.position||"fixed"===o.position||"BODY"===a.tagName))return a;a=a.parentNode,n++}return t.parentNode})(t);a._targetContainer=E,a._videoElement=t;n=()=>{var e=a._videoElement.getBoundingClientRect(),t=a._targetContainer.getBoundingClientRect(),n=e.top-t.top,o=e.left-t.left;a.style.cssText=`\n      position: absolute !important;\n      top: ${n}px !important;\n      left: ${o}px !important;\n      width: ${e.width}px !important;\n      height: ${e.height}px !important;\n      pointer-events: none !important;\n      z-index: 999999999 !important;\n      display: flex !important;\n      flex-direction: column !important;\n      justify-content: space-between !important;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n      visibility: visible !important;\n      opacity: 1 !important;\n      box-sizing: border-box !important;\n    `},t.style.position="relative",""!==E.style.position&&"static"!==E.style.position||(E.style.position="relative"),E.appendChild(a),n(),Ne.value=a,$e.value=!1;var I=setInterval((()=>{if(Ne.value&&Te.value){if(!e.body.contains(a))try{var t=e.querySelectorAll("video");if(t.length>0){var o=t[0];a._videoElement=o;var r=(t=>{for(var a=t.parentNode,n=0;a&&n<5;){var o=e.defaultView.getComputedStyle(a),r=a.getBoundingClientRect();if(r.width>0&&r.height>0&&("relative"===o.position||"absolute"===o.position||"fixed"===o.position||"BODY"===a.tagName))return a;a=a.parentNode,n++}return t.parentNode})(o);a._targetContainer=r,r.appendChild(a),n(),a._mouseHandler&&(e.removeEventListener("mousemove",a._mouseHandler),e.addEventListener("mousemove",a._mouseHandler))}}catch(d){console.log("Error re-adding overlay to DOM:",d)}var i=e.defaultView.getComputedStyle(a);if("hidden"!==i.visibility&&"none"!==i.display&&"0"!==i.opacity||n(),(parseInt(i.zIndex)||0)<999999999&&n(),a._videoElement&&a._targetContainer){var l=a._videoElement.getBoundingClientRect(),s=parseInt(i.width)||0,c=parseInt(i.height)||0;(Math.abs(s-l.width)>5||Math.abs(c-l.height)>5)&&n()}}else clearInterval(I)}),1e3),M=new window.MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&e.target===a&&"style"===e.attributeName&&setTimeout((()=>{Ne.value&&Te.value&&n()}),100)}))}));M.observe(a,{attributes:!0,attributeFilter:["style","class"]});var L=()=>{Ne.value&&Te.value&&n()};e.defaultView.addEventListener("resize",L),a._monitorInterval=I,a._mutationObserver=M,a._resizeHandler=L,a._iframeDoc=e;var z=setInterval((()=>{Ne.value&&Te.value?n():clearInterval(z)}),500);setTimeout((()=>{clearInterval(z)}),1e4)}},Fa=()=>{if(Ne.value&&Te.value){var e=Q.value;if(e){var t=e.contentDocument||e.contentWindow.document;if(t){var a=Ne.value,n=a.children[0],o=a.children[1],r=t.defaultView.getComputedStyle(a);"none"!==r.display&&"hidden"!==r.visibility||(a.style.display="flex !important",a.style.visibility="visible !important");var i=n.children[0];if(Be.value.showTitle){var l,s,c,d,u;i.style.display="block";var v=(null===(l=V.movieInfo)||void 0===l?void 0:l.title)||(null===(s=V.movieInfo)||void 0===s?void 0:s.name_ru)||(null===(c=V.movieInfo)||void 0===c?void 0:c.name_en)||(null===(d=V.movieInfo)||void 0===d?void 0:d.name_original)||"Загрузка...",p=null!==(u=V.movieInfo)&&void 0!==u&&u.year?` (${V.movieInfo.year})`:"";i.textContent=v+p,Be.value.showBackground?(i.style.background="rgba(0, 0, 0, 0.7) !important",i.style.backdropFilter="blur(10px) !important",i.style.width="fit-content !important",i.style.display="inline-block !important"):(i.style.background="transparent !important",i.style.backdropFilter="none !important",i.style.width="auto !important",i.style.display="inline-block !important")}else i.style.display="none";var m=n.children[1],b="";if(Be.value.showDuration)b=`\n      <span style="font-family: 'Courier New', monospace; color: rgba(255, 255, 255, 0.6);">${ke(Ae.value)}</span>\n      <span style="opacity: 0.6;">/</span>\n      <span style="font-family: 'Courier New', monospace; color: rgba(255, 255, 255, 0.6);">${ke(Re.value)}</span>\n    `;if($t.value.enabled&&$t.value.showObsInOverlay){var f="Отключен";if(Ue.value)if($t.value.selectedFilterId){var g=Pt.value.find((e=>e.id===$t.value.selectedFilterId));f=g?`${g.filterName} (${g.sceneName})`:"Фильтр не найден"}else f=Pt.value.length>0?"Фильтр не выбран":"Фильтры не найдены";var h=`\n      <span style="color: #999999;">\n        OBS: ${f}\n      </span>\n    `;b=b?`${b} ${h}`:h}if(b?(m.style.display="flex",m.innerHTML=b,Be.value.showBackground?(m.style.background="rgba(0, 0, 0, 0.7) !important",m.style.backdropFilter="blur(10px) !important",m.style.borderRadius="6px !important",m.style.padding="8px 12px !important",m.style.width="fit-content !important",m.style.display="inline-flex !important"):(m.style.background="transparent !important",m.style.backdropFilter="none !important",m.style.borderRadius="0 !important",m.style.padding="0 !important",m.style.width="auto !important",m.style.display="flex !important")):m.style.display="none",Oe.value.length>0){var x=o.children[0];x.innerHTML="";var y=t.createElement("span");y.textContent="Тайминги: ",y.style.color="rgba(255, 255, 255, 0.6)",x.appendChild(y),Oe.value.forEach(((e,a)=>{if(a>0){var n=t.createElement("span");n.textContent=", ",n.style.color="rgba(255, 255, 255, 0.6)",x.appendChild(n)}e.intervals.forEach(((e,a)=>{if(a>0){var n=t.createElement("span");n.textContent=", ",n.style.color="rgba(255, 255, 255, 0.6)",x.appendChild(n)}var o=t.createElement("span");o.textContent=e.text,"active"===e.status?(o.style.color="#ff4444",o.style.fontWeight="bold"):"upcoming"===e.status?(o.style.color="#ff6b35",o.style.fontWeight="500"):o.style.color="rgba(255, 255, 255, 0.6)",x.appendChild(o)}))})),o.style.display="block",Be.value.showTimingsOnMouseMove||(o.style.opacity="1",o.style.visibility="visible"),Be.value.showBackground?(o.style.background="rgba(0, 0, 0, 0.7) !important",o.style.backdropFilter="blur(10px) !important",o.style.width="fit-content !important",o.style.minWidth="auto !important"):(o.style.background="transparent !important",o.style.backdropFilter="none !important",o.style.width="fit-content !important",o.style.minWidth="auto !important")}else o.style.display="none"}}}},Ua=()=>{if(Ne.value){try{Ne.value._monitorInterval&&clearInterval(Ne.value._monitorInterval),Ne.value._mutationObserver&&Ne.value._mutationObserver.disconnect(),Ne.value._resizeHandler&&Ne.value._iframeDoc&&Ne.value._iframeDoc.defaultView.removeEventListener("resize",Ne.value._resizeHandler),Ne.value._mouseHandler&&Ne.value._iframeDoc&&Ne.value._iframeDoc.removeEventListener("mousemove",Ne.value._mouseHandler),Ne.value.remove()}catch(e){console.log("Error removing overlay:",e)}Ne.value=null}$e.value=!1,Pe.value&&(clearTimeout(Pe.value),Pe.value=null)};E((()=>{if(G.value=!0,ta(),re.value&&(Vt.value="4:3"),Xt(),window.addEventListener("resize",Xt),window.addEventListener("resize",Ft),Yt.value&&ea(),window.toggleCompressor=sa,window.toggleMirror=ca,Ba(),window.connectToOBS=Aa,window.testOBSBlur=Oa,window.refreshOBSFilters=Na,window.getOBSFiltersInfo=Pa,window.testOBSConnection=Da,window.debugOBS=()=>{var e;(console.log("=== OBS Debug Info ==="),console.log("OBS Settings:",$t.value),console.log("OBS Connected:",Ue.value),console.log("OBS Filters Found:",Pt.value),console.log("OBS WebSocket instance:",Fe.value),Fe.value)&&(console.log("WebSocket state:",null===(e=Fe.value.ws)||void 0===e?void 0:e.readyState),console.log("Is Connected:",Fe.value.isConnected),console.log("Is Authenticated:",Fe.value.isAuthenticated))},$t.value.enabled&&Aa(),ie.value&&(ge.value=setInterval((()=>{var e=window.overlayNudityTimings?window.overlayNudityTimings.length:0;e>he.value?(he.value=e,Te.value||(Te.value=!0,window.electronAPI&&window.electronAPI.showToast("Оверлей автоматически включён - добавлены тайминги"))):he.value=e}),1e3)),ie.value&&Te.value){var e=()=>{if(Q.value&&!Ne.value)try{var t=Q.value,a=t.contentDocument||t.contentWindow.document;if(a){var n=a.querySelector("video");if(n){var o=Date.now()-(window.iframeLoadTime||0);o>=3e3?$a(a,n):setTimeout(e,3e3-o)}else{var r=setInterval((()=>{try{var e=a.querySelector("video");if(e){clearInterval(r);var t=Date.now()-(window.iframeLoadTime||0);t>=3e3?$a(a,e):setTimeout((()=>$a(a,e)),3e3-t)}}catch(n){console.log("Waiting for video element...",n)}}),1e3);setTimeout((()=>clearInterval(r)),15e3)}}}catch(i){console.log("Error initializing overlay on mount:",i),$e.value=!1}};setTimeout(e,1e3)}})),I((()=>{window.removeEventListener("resize",Xt),window.removeEventListener("resize",Ft),window.removeEventListener("mousemove",va),document.removeEventListener("keydown",xa),document.body.classList.remove("no-scroll"),pe.value&&clearInterval(pe.value),fe.value&&clearInterval(fe.value),ge.value&&clearInterval(ge.value),Ua(),(()=>{try{_e.value&&(_e.value.disconnect(),_e.value=null),xe.value&&(xe.value.close(),xe.value=null),we.value=null,Ce.value=null,ze.value=null,je.value=null,be.value=!1}catch(e){console.log("Error cleaning up audio context:",e)}})(),Ra(),delete window.toggleCompressor,delete window.toggleMirror,delete window.connectToOBS,delete window.testOBSBlur,delete window.refreshOBSFilters,delete window.getOBSFiltersInfo,delete window.testOBSConnection,delete window.debugOBS,delete window.obsSources,delete window.obsFiltersFound}));var Da=function(){var e=d(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Fe.value||!Ue.value){e.next=7;break}return e.next=3,Fe.value.testConnection();case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.abrupt("return",{success:!1,error:"Not connected"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(t,a)=>{var n,o,r,i,l,s,d,x,y,k,w,_,C,E,I,R,O,N,P,$,F,U;return te.value?(u(),M(L,{key:0,message:te.value,code:ae.value},null,8,["message","code"])):(u(),c(b,{key:1},[v("div",Ve,[a[43]||(a[43]=v("span",null,"Плеер:",-1)),v("button",{class:"player-btn",onClick:aa},m(K.value?_a(K.value.translate).toUpperCase():"Загрузка плееров..."),1)]),ee.value?(u(),M(qe,{key:0,players:W.value,"selected-player":K.value,onClose:na,onSelect:Ca},null,8,["players","selected-player"])):f("",!0),v("div",{ref_key:"containerRef",ref:J,class:h(["player-container",{"theater-mode":Z.value}]),style:j(Z.value?{}:Qt.value)},[v("div",{class:"iframe-wrapper",style:j(Z.value?{}:Jt.value)},[S(v("iframe",{ref_key:"playerIframe",ref:Q,src:null===(n=K.value)||void 0===n?void 0:n.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:h(["responsive-iframe",{"theater-mode-unlock":X.value,"theater-mode-lock":Z.value,dimmed:pa.value}]),onLoad:ha},null,42,Ye),[[T,!G.value&&(null===(o=K.value)||void 0===o?void 0:o.iframe)]]),G.value?(u(),M(Ee,{key:0,text:`Загружается плеер: ${K.value?_a(K.value.translate):"Загружается список плееров"}\nЕсли плеер не грузится, то смените плеер выше или включите VPN`,style:{"white-space":"pre-line"}},null,8,["text"])):f("",!0)],4),Z.value?(u(),c("button",{key:0,class:h(["close-theater-btn",{visible:X.value}]),onClick:da}," ✖ ",2)):f("",!0)],6),Z.value?f("",!0):(u(),c("div",We,[v("div",Ke,[re.value?f("",!0):(u(),c("div",{key:0,ref_key:"tooltipContainer",ref:ue,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[za.value?(u(),c("button",{key:0,class:h(["favorite-btn",{active:null===(r=e.movieInfo)||void 0===r||null===(r=r.lists)||void 0===r?void 0:r.isFavorite}]),onMouseenter:a[0]||(a[0]=e=>Ut("favorite")),onMouseleave:Dt,onClick:a[1]||(a[1]=e=>Ma(B(A).FAVORITE))},[v("span",Ge,m(null!==(i=e.movieInfo)&&void 0!==i&&null!==(i=i.lists)&&void 0!==i&&i.isFavorite?"favorite":"favorite_border"),1),v("span",{class:h(["material-icons dropdown-arrow",{highlighted:Wt.value}])},"expand_more",2)],34)):f("",!0),S(v("div",{ref_key:"tooltip",ref:ve,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:qt,onMouseleave:Ht},[v("div",Ze,[v("button",{class:h(["favorite-btn",{active:null===(l=e.movieInfo)||void 0===l||null===(l=l.lists)||void 0===l?void 0:l.isFavorite}]),onClick:a[2]||(a[2]=e=>Ma(B(A).FAVORITE))},[v("span",Xe,m(null!==(s=e.movieInfo)&&void 0!==s&&null!==(s=s.lists)&&void 0!==s&&s.isFavorite?"favorite":"favorite_border"),1),a[44]||(a[44]=v("span",{class:"button-label"},"В избранное",-1))],2)]),v("div",Qe,[v("button",{class:h(["watching-btn",{active:null===(d=e.movieInfo)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isWatching}]),onClick:a[3]||(a[3]=e=>Ma(B(A).WATCHING))},[v("span",Je,m(null!==(x=e.movieInfo)&&void 0!==x&&null!==(x=x.lists)&&void 0!==x&&x.isWatching?"visibility":"visibility_off"),1),a[45]||(a[45]=v("span",{class:"button-label"},"Смотрю",-1))],2)]),v("div",et,[v("button",{class:h(["later-btn",{active:null===(y=e.movieInfo)||void 0===y||null===(y=y.lists)||void 0===y?void 0:y.isLater}]),onClick:a[4]||(a[4]=e=>Ma(B(A).LATER))},a[46]||(a[46]=[v("span",{class:"material-icons"},"watch_later",-1),v("span",{class:"button-label"},"Смотреть позже",-1)]),2)]),v("div",tt,[v("button",{class:h(["completed-btn",{active:null===(k=e.movieInfo)||void 0===k||null===(k=k.lists)||void 0===k?void 0:k.isCompleted}]),onClick:a[5]||(a[5]=e=>Ma(B(A).COMPLETED))},[v("span",at,m(null!==(w=e.movieInfo)&&void 0!==w&&null!==(w=w.lists)&&void 0!==w&&w.isCompleted?"check_circle":"check_circle_outline"),1),a[47]||(a[47]=v("span",{class:"button-label"},"Просмотрено",-1))],2)]),v("div",nt,[v("button",{class:h(["abandoned-btn",{active:null===(_=e.movieInfo)||void 0===_||null===(_=_.lists)||void 0===_?void 0:_.isAbandoned}]),onClick:a[6]||(a[6]=e=>Ma(B(A).ABANDONED))},[v("span",ot,m((null!==(C=e.movieInfo)&&void 0!==C&&null!==(C=C.lists)&&void 0!==C&&C.isAbandoned,"not_interested")),1),a[48]||(a[48]=v("span",{class:"button-label"},"Брошено",-1))],2)]),v("div",{class:"tooltip-hint"},[a[50]||(a[50]=v("span",{class:"material-icons"},"settings",-1)),v("span",null,[a[49]||(a[49]=p("Стиль отображения можно изменить в ")),v("a",{class:"settings-link",onClick:ja},"настройках")])])],544),[[T,"favorite"===le.value&&za.value]])],512)),re.value?f("",!0):(u(),c(b,{key:1},[v("div",rt,[v("button",{class:h(["dimming-btn",{active:pa.value}]),onMouseenter:a[7]||(a[7]=e=>Ut("dimming")),onMouseleave:a[8]||(a[8]=e=>le.value=null),onClick:ma},[v("span",it,m(pa.value?"light_mode":"dark_mode"),1)],34),S(v("div",{class:"custom-tooltip","data-tooltip":"dimming"},m(pa.value?"Отключить затемнение":"Включить затемнение"),513),[[T,"dimming"===le.value]])]),v("div",lt,[v("button",{class:h(["blur-btn",{"electron-only":!ie.value}]),onMouseenter:a[9]||(a[9]=e=>Ut("blur")),onMouseleave:a[10]||(a[10]=e=>le.value=null),onClick:la},a[51]||(a[51]=[v("span",{class:"material-icons"},"blur_on",-1)]),34),S(v("div",{class:"custom-tooltip","data-tooltip":"blur"},m(ie.value?"Блюр":"Блюр, функция доступна в приложении"),513),[[T,"blur"===le.value]])]),v("div",st,[v("button",{class:h(["material-symbols-outlined",{active:ba.value,"electron-only":!ie.value}]),onMouseenter:a[11]||(a[11]=e=>Ut("compressor")),onMouseleave:a[12]||(a[12]=e=>le.value=null),onClick:sa},a[52]||(a[52]=[v("span",{class:"material-icons"},"graphic_eq",-1)]),34),S(v("div",{class:"custom-tooltip","data-tooltip":"compressor"},m(ie.value?"Компрессор":"Компрессор, функция доступна в приложении"),513),[[T,"compressor"===le.value]])]),v("div",ct,[v("button",{class:h(["mirror-btn",{active:fa.value,"electron-only":!ie.value}]),onMouseenter:a[13]||(a[13]=e=>Ut("mirror")),onMouseleave:a[14]||(a[14]=e=>le.value=null),onClick:ca},a[53]||(a[53]=[v("span",{class:"material-icons"},"flip",-1)]),34),S(v("div",{class:"custom-tooltip","data-tooltip":"mirror"},m(ie.value?"Зеркало":"Зеркало, функция доступна в приложении"),513),[[T,"mirror"===le.value]])]),v("div",dt,[v("button",{class:"theater-mode-btn",onMouseenter:a[15]||(a[15]=e=>Ut("theater")),onMouseleave:a[16]||(a[16]=e=>le.value=null),onClick:da},[v("span",ut,m(Z.value?"fullscreen_exit":"aspect_ratio"),1)],32),S(v("div",vt,[p(m(Z.value?"Выйти из театрального режима":"Театральный режим")+" ",1),a[54]||(a[54]=v("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[T,"theater"===le.value]])]),v("div",pt,[v("button",{class:h(["pip-btn",{"electron-only":!ie.value}]),onMouseenter:a[17]||(a[17]=e=>Ut("pip")),onMouseleave:a[18]||(a[18]=e=>le.value=null),onClick:Sa},a[55]||(a[55]=[v("span",{class:"material-icons"},"picture_in_picture_alt",-1)]),34),S(v("div",{class:"custom-tooltip","data-tooltip":"pip"},m(ie.value?"Картинка в картинке":"Картинка в картинке, функция доступна в приложении"),513),[[T,"pip"===le.value]])]),v("div",mt,[v("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:a[19]||(a[19]=e=>Ut("aspect_ratio")),onMouseleave:Dt,onClick:Ia},[v("span",bt,m(Vt.value),1)],32),S(v("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:qt,onMouseleave:Ht},[(u(),c(b,null,g(Ea,(e=>v("div",{key:e,class:h(["aspect-ratio-option",{active:Vt.value===e}]),onClick:t=>ya(e)},m(e),11,ft))),64))],544),[[T,"aspect_ratio"===le.value]])]),v("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:a[21]||(a[21]=e=>Ut("centering")),onMouseleave:Dt},[v("button",{class:"center-btn",onClick:ea},a[56]||(a[56]=[v("span",{class:"material-icons"},"center_focus_strong",-1)])),S(v("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:qt,onMouseleave:Ht},[a[57]||(a[57]=p(" Отцентрировать плеер ")),z(Le,{modelValue:Yt.value,"onUpdate:modelValue":a[20]||(a[20]=e=>Yt.value=e),title:"Автоцентрирование плеера"},null,8,["modelValue"]),a[58]||(a[58]=v("span",{class:"tooltip-title"},"Автоцентрирование плеера",-1))],544),[[T,"centering"===le.value]])],32),ie.value?f("",!0):(u(),c("div",gt,[v("button",{class:"app-link-btn",onMouseenter:a[22]||(a[22]=e=>Ut("app_link")),onMouseleave:a[23]||(a[23]=e=>le.value=null),onClick:ka},a[59]||(a[59]=[v("span",{class:"material-icons"},"open_in_new",-1)]),32),S(v("div",ht," Открыть в приложении ",512),[[T,"app_link"===le.value]])])),ie.value?(u(),c("div",xt,[v("button",{class:"copy-link-btn",onMouseenter:a[24]||(a[24]=e=>Ut("copy_link")),onMouseleave:a[25]||(a[25]=e=>le.value=null),onClick:wa},a[60]||(a[60]=[v("span",{class:"material-icons"},"content_copy",-1)]),32),S(v("div",yt," Скопировать ссылку ",512),[[T,"copy_link"===le.value]])])):f("",!0),ie.value?(u(),c("div",kt,[v("button",{class:h(["overlay-btn",{active:Te.value}]),onMouseenter:a[26]||(a[26]=e=>Ut("overlay")),onMouseleave:a[27]||(a[27]=e=>le.value=null),onClick:Ta},[v("span",wt,m(Te.value?"layers":"layers_clear"),1)],34),S(v("div",{class:"custom-tooltip","data-tooltip":"overlay"},m(Te.value?"Скрыть оверлей видео":"Показать оверлей видео"),513),[[T,"overlay"===le.value]])])):f("",!0)],64))]),re.value||za.value?f("",!0):(u(),c("div",_t,[v("div",Ct,[v("button",{class:h(["favorite-btn",{active:null===(E=e.movieInfo)||void 0===E||null===(E=E.lists)||void 0===E?void 0:E.isFavorite}]),onMouseenter:a[28]||(a[28]=e=>Ut("favorite")),onMouseleave:a[29]||(a[29]=e=>le.value=null),onClick:a[30]||(a[30]=e=>Ma(B(A).FAVORITE))},[v("span",Et,m(null!==(I=e.movieInfo)&&void 0!==I&&null!==(I=I.lists)&&void 0!==I&&I.isFavorite?"favorite":"favorite_border"),1)],34),S(v("div",It,m("В избранное"),512),[[T,"favorite"===le.value]])]),v("div",Mt,[v("button",{class:h(["watching-btn",{active:null===(R=e.movieInfo)||void 0===R||null===(R=R.lists)||void 0===R?void 0:R.isWatching}]),onMouseenter:a[31]||(a[31]=e=>Ut("watching")),onMouseleave:a[32]||(a[32]=e=>le.value=null),onClick:a[33]||(a[33]=e=>Ma(B(A).WATCHING))},[v("span",Lt,m(null!==(O=e.movieInfo)&&void 0!==O&&null!==(O=O.lists)&&void 0!==O&&O.isWatching?"visibility":"visibility_off"),1)],34),S(v("div",zt,m("Смотрю"),512),[[T,"watching"===le.value]])]),v("div",jt,[v("button",{class:h(["later-btn",{active:null===(N=e.movieInfo)||void 0===N||null===(N=N.lists)||void 0===N?void 0:N.isLater}]),onMouseenter:a[34]||(a[34]=e=>Ut("later")),onMouseleave:a[35]||(a[35]=e=>le.value=null),onClick:a[36]||(a[36]=e=>Ma(B(A).LATER))},a[61]||(a[61]=[v("span",{class:"material-icons"},"watch_later",-1)]),34),S(v("div",St,m("Смотреть позже"),512),[[T,"later"===le.value]])]),v("div",Tt,[v("button",{class:h(["completed-btn",{active:null===(P=e.movieInfo)||void 0===P||null===(P=P.lists)||void 0===P?void 0:P.isCompleted}]),onMouseenter:a[37]||(a[37]=e=>Ut("completed")),onMouseleave:a[38]||(a[38]=e=>le.value=null),onClick:a[39]||(a[39]=e=>Ma(B(A).COMPLETED))},[v("span",Bt,m(null!==($=e.movieInfo)&&void 0!==$&&null!==($=$.lists)&&void 0!==$&&$.isCompleted?"check_circle":"check_circle_outline"),1)],34),S(v("div",At,m("Просмотрено"),512),[[T,"completed"===le.value]])]),v("div",Rt,[v("button",{class:h(["abandoned-btn",{active:null===(F=e.movieInfo)||void 0===F||null===(F=F.lists)||void 0===F?void 0:F.isAbandoned}]),onMouseenter:a[40]||(a[40]=e=>Ut("abandoned")),onMouseleave:a[41]||(a[41]=e=>le.value=null),onClick:a[42]||(a[42]=e=>Ma(B(A).ABANDONED))},[v("span",Ot,m((null!==(U=e.movieInfo)&&void 0!==U&&null!==(U=U.lists)&&void 0!==U&&U.isAbandoned,"not_interested")),1)],34),S(v("div",Nt,m("Брошено"),512),[[T,"abandoned"===le.value]])])]))])),z(Ie,{ref_key:"notificationRef",ref:de},null,512)],64))}}},$t=n(Pt,[["__scopeId","data-v-1f8109ea"]]),Ft={key:0,class:"carousel-container"},Ut={class:"carousel-wrapper"},Dt=["onClick"],qt=["src","alt"],Ht={class:"video-name"},Vt={key:0,class:"video-player"},Yt=["src"],Wt={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(e,t){var a=t.emit,n=y(),o=l((()=>n.isMobile)),r=e,p=a,h=i(r.activeVideoIndex),x=i(null),k=i(!1),w=i(!1),_=()=>{if(x.value){var e=x.value,t=e.scrollLeft,a=e.scrollWidth,n=e.clientWidth;k.value=t>0,w.value=t<a-n-1}},M=e=>{if(x.value){var t=x.value.querySelector(".carousel-item");if(t){var a=t.clientWidth+16;x.value.scrollBy({left:a*e,behavior:"smooth"})}}},L=()=>_(),z=i([]),j=function(){var e=d(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(`https://img.youtube.com/vi/${t}/0.jpg`);case 3:return a=e.sent,e.abrupt("return",a.ok);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return E(d(s().mark((function e(){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.videos.map(function(){var e=d(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.videoId);case 2:return a=e.sent,e.abrupt("return",a?t:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:a=e.sent,z.value=a.filter(Boolean),_(),window.addEventListener("resize",L);case 7:case"end":return e.stop()}}),e)})))),C((()=>r.videos),function(){var e=d(s().mark((function e(t){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=d(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t.videoId);case 2:return a=e.sent,e.abrupt("return",a?t:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:n=e.sent,z.value=n.filter(Boolean);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C((()=>r.activeVideoIndex),(e=>{h.value=e})),I((()=>{window.removeEventListener("resize",L)})),(t,a)=>z.value.length?(u(),c("div",Ft,[a[4]||(a[4]=v("h2",null,"Трейлеры (YouTube)",-1)),v("div",Ut,[S(v("button",{class:"scroll-button left",onClick:a[0]||(a[0]=e=>M(-1))},a[2]||(a[2]=[v("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[T,!o.value&&k.value]]),v("div",{ref_key:"carousel",ref:x,class:"carousel",onScroll:_},[(u(!0),c(b,null,g(z.value,((e,t)=>(u(),c("div",{key:t,class:"carousel-item",onClick:e=>(e=>{h.value=e,p("select",r.videos[e])})(t)},[v("img",{src:`https://img.youtube.com/vi/${e.videoId}/0.jpg`,alt:e.name},null,8,qt),v("div",Ht,m(e.name),1)],8,Dt)))),128))],544),S(v("button",{class:"scroll-button right",onClick:a[1]||(a[1]=e=>M(1))},a[3]||(a[3]=[v("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[T,!o.value&&w.value]])]),null!==h.value?(u(),c("div",Vt,[v("iframe",{src:e.videos[h.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,Yt)])):f("",!0)])):f("",!0)}},Kt=n(Wt,[["__scopeId","data-v-4a5806b3"]]),Gt={class:"rating-container"},Zt={class:"rating-display"},Xt={class:"rating-numbers"},Qt=["onClick","onMouseenter"],Jt={key:0,class:"tooltip-footer"},ea={class:"rating-numbers mobile-rating-numbers"},ta=["onClick"],aa={key:0,class:"mobile-modal-footer"},na={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(e){var t=y(),a=_(),n=e,o=i(null),r=i(null),l=i(null),p=i(null),k=i(0),w=i(!1),C=i(!1),I=null,M=()=>{I=setTimeout((()=>{w.value=!1,t.isMobile||(C.value=!1)}),100)},L=()=>{I&&(clearTimeout(I),I=null),w.value=!0},j=()=>{t.isMobile&&(C.value=!C.value)},A=()=>{a.push("/login")},R=function(){var e=d(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(n.kpId);case 3:t=e.sent,r.value=t.user_rating,l.value=t.average_rating,p.value=(a=t.vote_count)?a.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error loading rating:",e.t0);case 12:case"end":return e.stop()}var a}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=d(s().mark((function e(a){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a!==r.value){e.next=8;break}return e.next=4,D(n.kpId,null);case 4:r.value=null,o.value.showNotification("Оценка удалена"),e.next=12;break;case 8:return e.next=10,D(n.kpId,a);case 10:r.value=a,o.value.showNotification("Оценка сохранена");case 12:t.isMobile&&(C.value=!1),R(),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error setting rating:",e.t0),401===(null===(i=e.t0.response)||void 0===i?void 0:i.status)?o.value.showNotification('Для оценки необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:A}):o.value.showNotification("Ошибка при сохранении оценки"),t.isMobile&&(C.value=!1);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),N=()=>{C.value=!1};return E((()=>{R()})),(e,a)=>(u(),c("div",Gt,[v("div",Zt,[v("a",{href:"#",class:h(["rating-link",{"has-rating":r.value}]),onMouseenter:a[0]||(a[0]=e=>w.value=!0),onMouseleave:M,onClick:x(j,["prevent"])},[a[3]||(a[3]=v("img",{src:fe,alt:"ReYohoho",class:"rating-logo"},null,-1)),v("span",{class:h(["average-rating",B(F)(l.value)])},m(l.value?l.value.toFixed(1).replace(/\.0$/,""):"—"),3)],34),S(v("div",{class:"rating-tooltip",onMouseenter:L,onMouseleave:M},[v("div",Xt,[(u(),c(b,null,g(10,(e=>v("button",{key:e,class:h(["number-btn",{active:e===r.value,hover:e===k.value,"average-highlight":l.value&&e<=Math.round(l.value)}]),onClick:t=>O(e),onMouseenter:t=>k.value=e,onMouseleave:a[1]||(a[1]=e=>k.value=0)},m(e),43,Qt))),64))]),p.value?(u(),c("div",Jt,"Оценок: "+m(p.value),1)):f("",!0)],544),[[T,(w.value||C.value)&&!B(t).isMobile]])]),z(Ie,{ref_key:"notificationRef",ref:o},null,512),B(t).isMobile&&C.value?(u(),c("div",{key:0,class:"mobile-modal-overlay",onClick:N},[v("div",{class:"mobile-modal",onClick:a[2]||(a[2]=x((()=>{}),["stop"]))},[v("div",{class:"mobile-modal-header"},[a[4]||(a[4]=v("h3",null,"Оценить фильм",-1)),v("button",{class:"close-button",onClick:N},"×")]),v("div",ea,[(u(),c(b,null,g(10,(e=>v("button",{key:e,class:h(["number-btn",{active:e===r.value,"average-highlight":l.value&&e<=Math.round(l.value)}]),onClick:t=>O(e)},m(e),11,ta))),64))]),p.value?(u(),c("div",aa,"Оценок: "+m(p.value),1)):f("",!0)])])):f("",!0)]))}},oa=n(na,[["__scopeId","data-v-2df64bd5"]]),ra={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data:()=>({activeCategory:"smileys",categories:[{name:"smileys",icon:"😀",emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳"]},{name:"emotions",icon:"😢",emojis:["😥","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲"]},{name:"gestures",icon:"👍",emojis:["👍","👎","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👏","🙌","👐","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶","👂","🦻","👃"]},{name:"hearts",icon:"❤️",emojis:["❤️","🧡","💛","💚","💙","💜","🤎","🖤","🤍","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","♥️","💯","💢","💥","💫","💦","💨","🕳️","💣","💬","👁️‍🗨️","🗨️"]},{name:"objects",icon:"🎉",emojis:["🎉","🎊","🎈","🎁","🎀","🎂","🍰","🧁","🍭","🍬","🍫","🍩","🍪","🍕","🍔","🍟","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥗","🍿","🧈","🧀","🥨","🥯"]}]}),computed:{currentEmojis(){var e=this.categories.find((e=>e.name===this.activeCategory));return e?e.emojis:[]}},methods:{selectEmoji(e){this.$emit("emoji-selected",e)}}},ia={class:"emoji-categories"},la=["onClick"],sa={class:"emoji-grid"},ca=["onClick"];var da=n(ra,[["render",function(e,t,a,n,o,r){return a.isVisible?(u(),c("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=t=>e.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=t=>e.$emit("mouse-leave"))},[v("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[3]||(t[3]=[v("i",{class:"fas fa-times"},null,-1)])),v("div",ia,[(u(!0),c(b,null,g(o.categories,(e=>(u(),c("button",{key:e.name,onClick:t=>o.activeCategory=e.name,class:h([{active:o.activeCategory===e.name},"category-btn"]),type:"button"},m(e.icon),11,la)))),128))]),v("div",sa,[(u(!0),c(b,null,g(r.currentEmojis,(e=>(u(),c("button",{key:e,onClick:t=>r.selectEmoji(e),class:"emoji-btn",type:"button"},m(e),9,ca)))),128))])],32)):f("",!0)}],["__scopeId","data-v-209132f3"]]),ua=function(){var e=d(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return a=e.sent,e.next=5,t(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=d(s().mark((function e(t){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua((e=>e.get(`/search_emotes/${t}`)));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.emotes||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pa={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(e,t){var a=t.emit,n=i(""),o=i([]),r=i(null),l=i(!1),c=function(){var t=d(s().mark((function t(a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=3;break}return console.warn("Попытка поиска изображений без авторизации"),t.abrupt("return");case 3:if(a.trim()){t.next=7;break}return o.value=[],l.value=!1,t.abrupt("return");case 7:return l.value=!0,t.prev=8,t.next=11,va(a);case 11:o.value=t.sent,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),console.error("Error searching images:",t.t0),o.value=[];case 18:return t.prev=18,l.value=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[8,14,18,21]])})));return function(e){return t.apply(this,arguments)}}(),u=H(c,300);return C((()=>e.isVisible),(e=>{e&&(n.value="",o.value=[],l.value=!1)})),{searchQuery:n,images:o,searchInput:r,isLoading:l,handleSearch:()=>{e.currentUser?(n.value.trim()&&(l.value=!0),u(n.value)):a("login-required")},selectImage:t=>{e.currentUser?(a("image-selected",t),a("close")):a("login-required")},handleInputBlur:()=>{setTimeout((()=>{e.isVisible&&a("mouse-leave")}),100)}}}},ma={key:0,class:"auth-required"},ba={class:"auth-message"},fa={key:1},ga={class:"image-picker-header"},ha={class:"image-content"},xa={key:0,class:"loading-spinner"},ya={key:1,class:"image-grid"},ka=["onClick"],wa=["src","alt"],_a={key:2,class:"no-images"},Ca={key:3,class:"no-search"};var Ea=n(pa,[["render",function(e,t,a,n,o,r){return a.isVisible?(u(),c("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=t=>e.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=t=>e.$emit("mouse-leave")),onClick:t[9]||(t[9]=x((()=>{}),["stop"]))},[v("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[10]||(t[10]=[v("i",{class:"fas fa-times"},null,-1)])),a.currentUser?(u(),c("div",fa,[v("div",ga,[S(v("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchQuery=e),placeholder:"Введите название смайла 7tv",class:"image-search-input",onInput:t[3]||(t[3]=function(){return n.handleSearch&&n.handleSearch(...arguments)}),onClick:t[4]||(t[4]=x((()=>{}),["stop"])),onFocus:t[5]||(t[5]=t=>e.$emit("mouse-enter")),onBlur:t[6]||(t[6]=function(){return n.handleInputBlur&&n.handleInputBlur(...arguments)})},null,544),[[V,n.searchQuery]])]),v("div",ha,[n.isLoading?(u(),c("div",xa,t[14]||(t[14]=[v("div",{class:"spinner"},null,-1),v("p",null,"Поиск изображений...",-1)]))):n.images.length>0?(u(),c("div",ya,[(u(!0),c(b,null,g(n.images,((e,t)=>(u(),c("div",{key:t,class:"image-item",onClick:t=>n.selectImage(e)},[v("img",{src:e,alt:"Image "+(t+1)},null,8,wa)],8,ka)))),128))])):n.searchQuery.trim()?(u(),c("div",_a,t[15]||(t[15]=[v("p",null,"Нет результатов",-1)]))):(u(),c("div",Ca,t[16]||(t[16]=[v("p",null,"Введите запрос для поиска",-1)])))])])):(u(),c("div",ma,[v("div",ba,[t[11]||(t[11]=v("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=v("h3",null,"Требуется авторизация",-1)),t[13]||(t[13]=v("p",null,"Для поиска изображений необходимо войти в аккаунт",-1)),v("button",{class:"login-button",onClick:t[1]||(t[1]=t=>e.$emit("login-required"))},"Войти")])]))],32)):f("",!0)}],["__scopeId","data-v-f33eb3f6"]]),Ia={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(e,t){var a=t.emit,n=i(""),o=i(""),r=i(null),s=i(null),c=l((()=>/^https?:\/\/.+/.test(n.value.trim())&&o.value.trim())),d=()=>{a("close"),v()},u=()=>{c.value&&(a("submit",{url:n.value.trim(),title:o.value.trim()}),d())},v=()=>{n.value="",o.value=""};return C((()=>e.isVisible),(t=>{t&&(e.selectedText.trim()&&(o.value=e.selectedText.trim()),N((()=>{var e;null===(e=r.value)||void 0===e||e.focus()})))})),{linkUrl:n,linkTitle:o,urlInput:r,titleInput:s,isValidLink:c,closeModal:d,submitLink:u,handleKeydown:e=>{if("Enter"===e.key){if(e.preventDefault(),c.value)u();else if(e.target===r.value&&n.value.trim()){var t;null===(t=s.value)||void 0===t||t.focus()}}else"Escape"===e.key&&d()}}}},Ma={class:"link-modal-header"},La={class:"link-modal-content"},za={class:"form-group"},ja={class:"form-group"},Sa={class:"link-modal-footer"},Ta=["disabled"];var Ba=n(Ia,[["render",function(e,t,a,n,o,r){return a.isVisible?(u(),c("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=function(){return n.closeModal&&n.closeModal(...arguments)})},[v("div",{class:"link-modal",onClick:t[7]||(t[7]=x((()=>{}),["stop"]))},[v("div",Ma,[t[10]||(t[10]=v("h3",null,"Добавить ссылку",-1)),v("button",{class:"close-button",onClick:t[0]||(t[0]=function(){return n.closeModal&&n.closeModal(...arguments)})},t[9]||(t[9]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",La,[v("div",za,[t[11]||(t[11]=v("label",{for:"link-url"},"URL ссылки:",-1)),S(v("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=e=>n.linkUrl=e),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[V,n.linkUrl]])]),v("div",ja,[t[12]||(t[12]=v("label",{for:"link-title"},"Название ссылки:",-1)),S(v("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=e=>n.linkTitle=e),type:"text",placeholder:"Название для отображения",class:"link-input",onKeydown:t[4]||(t[4]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[V,n.linkTitle]])])]),v("div",Sa,[v("button",{class:"cancel-button",onClick:t[5]||(t[5]=function(){return n.closeModal&&n.closeModal(...arguments)})},"Отмена"),v("button",{class:"submit-button",disabled:!n.isValidLink,onClick:t[6]||(t[6]=function(){return n.submitLink&&n.submitLink(...arguments)})},"Добавить",8,Ta)])])])):f("",!0)}],["__scopeId","data-v-a794d83f"]]);function Aa(){var e,t,a,n,o,r,l=(e=i(!1),t=i(!1),a=i(!1),n=()=>{e.value=!1},{showEmojiPicker:e,isEmojiHovered:t,isButtonHovered:a,handleEmojiMouseEnter:()=>{t.value=!0},handleEmojiMouseLeave:()=>{t.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},handleButtonMouseEnter:()=>{a.value=!0,e.value=!0},handleButtonMouseLeave:()=>{a.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},closeEmojiPicker:n,insertEmoji:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=a.value.substring(0,r),s=a.value.substring(i);n(l+e+s),N((()=>{o.focus(),o.setSelectionRange(r+e.length,r+e.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}else n(a.value+e)},handleGlobalClick:e=>{e.target.closest(".emoji-picker")||e.target.closest(".emoji-button-inline")||n()}}),s=function(){var e=i(!1),t=i(!1),a=i(!1),n=()=>{e.value=!1};return{showImagePicker:e,isImageHovered:t,isButtonHovered:a,handleImageMouseEnter:()=>{t.value=!0},handleImageMouseLeave:()=>{t.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},handleImageButtonMouseEnter:()=>{a.value=!0,e.value=!0},handleButtonMouseLeave:()=>{a.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},closeImagePicker:n,insertImage:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=`[img]${e}[/img]`;n(a.value.slice(0,r)+l+a.value.slice(i)),N((()=>{o.focus(),o.setSelectionRange(r+l.length,r+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}else{var s=`[img]${e}[/img]`;n(a.value+s)}},handleGlobalClick:e=>{e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||n()}}}(),c=(o=i(!1),r=i(""),{showLinkModal:o,selectedTextForLink:r,insertLink:(e,t)=>{var a=e.value;if(a){var n=a.selectionStart,i=a.selectionEnd,l=t.value.slice(n,i);r.value=l.trim()||""}o.value=!0},insertLinkFromModal:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=`[link=${e.url}]${e.title}[/link]`;n(a.value.slice(0,r)+l+a.value.slice(i)),N((()=>{o.focus(),o.setSelectionRange(r+l.length,r+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}},closeLinkModal:()=>{o.value=!1},insertSpoiler:(e,t,a)=>{var n=e.value;if(n){var o,r=n.selectionStart,i=n.selectionEnd,l=t.value.slice(r,i);o=l.trim()?`[spoiler]${l}[/spoiler]`:"[spoiler][/spoiler]",a(t.value.slice(0,r)+o+t.value.slice(i)),N((()=>{if(n.focus(),l.trim())n.setSelectionRange(r+o.length,r+o.length);else{var e=r+9;n.setSelectionRange(e,e)}n.style.height&&(n.style.height="auto",n.style.height=`${Math.min(n.scrollHeight,200)}px`)}))}}}),d={autoResize:e=>{var t=null==e?void 0:e.target;t&&(t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,200)}px`)},autoResizeElement:e=>{e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,200)}px`)}},u=d.autoResize,v=d.autoResizeElement,p=()=>{l.showEmojiPicker.value=!1,s.showImagePicker.value=!1},m=e=>{e.target.closest(".emoji-picker")||e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||p()};return E((()=>{document.addEventListener("click",m)})),I((()=>{document.removeEventListener("click",m)})),{showEmojiPicker:l.showEmojiPicker,handleEmojiMouseEnter:l.handleEmojiMouseEnter,handleEmojiMouseLeave:l.handleEmojiMouseLeave,closeEmojiPicker:l.closeEmojiPicker,showImagePicker:s.showImagePicker,handleImageMouseEnter:s.handleImageMouseEnter,handleImageMouseLeave:s.handleImageMouseLeave,closeImagePicker:s.closeImagePicker,showLinkModal:c.showLinkModal,selectedTextForLink:c.selectedTextForLink,closeLinkModal:c.closeLinkModal,handleButtonMouseEnter:()=>{l.isButtonHovered.value=!0,s.isButtonHovered.value=!0,l.showEmojiPicker.value=!0,s.showImagePicker.value=!1},handleImageButtonMouseEnter:()=>{l.isButtonHovered.value=!0,s.isButtonHovered.value=!0,s.showImagePicker.value=!0,l.showEmojiPicker.value=!1},handleButtonMouseLeave:()=>{l.isButtonHovered.value=!1,s.isButtonHovered.value=!1,setTimeout((()=>{l.isEmojiHovered.value||s.isImageHovered.value||l.isButtonHovered.value||s.isButtonHovered.value||(l.showEmojiPicker.value=!1,s.showImagePicker.value=!1)}),300)},closeAllPickers:p,insertEmojiUniversal:(e,t,a,n)=>{l.insertEmoji(e,t,a,n)},insertImageUniversal:(e,t,a,n)=>{s.insertImage(e,t,a,n)},insertLinkUniversal:(e,t,a)=>{c.insertLink(e,t,a)},insertLinkFromModalUniversal:(e,t,a,n)=>{c.insertLinkFromModal(e,t,a,n)},insertSpoilerUniversal:(e,t,a)=>{c.insertSpoiler(e,t,a)},autoResize:u,autoResizeElement:v}}var Ra=e=>1===e?"комментарий":e>=2&&e<=4?"комментария":"комментариев",Oa=e=>{if(!e)return"?";var t=e.split(" ");return 1===t.length?e.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},Na=["data-comment-id"],Pa={class:"comment-header"},$a={class:"user-info"},Fa={class:"user-avatar"},Ua=["src","alt"],Da={class:"user-details"},qa={class:"username"},Ha={key:0,class:"user-rating"},Va=["title"],Ya=["title"],Wa={class:"comment-content"},Ka={key:0,class:"hidden-comment-warning"},Ga={key:1},Za={key:0,class:"deleted-comment"},Xa={key:1},Qa={key:0,class:"edit-form"},Ja={class:"edit-textarea-container"},en={class:"edit-footer"},tn={class:"edit-actions"},an=["disabled"],nn={class:"character-counter-container"},on={key:1,class:"comment-text-container"},rn=["innerHTML"],ln={class:"comment-footer"},sn={class:"comment-actions"},cn={class:"rating-buttons"},dn={class:"action-buttons"};var un=n({name:"CommentItem",components:{EmojiPicker:da,ImagePicker:Ea,LinkModal:Ba},props:{comment:{type:Object,required:!0,default:()=>({username:"Аноним",user_avatar:null,content:"",created_at:(new Date).toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(e,t){var a,n,o=t.emit,r=_(),c=l((()=>{var t;return e.editingCommentId===(null===(t=e.comment)||void 0===t?void 0:t.id)})),u=i((null===(a=e.comment)||void 0===a?void 0:a.content)||""),v=i((null===(n=e.comment)||void 0===n?void 0:n.user_rating)||0),p=i(null),m=i(null),b=Aa(),f=b.showEmojiPicker,g=b.showImagePicker,h=b.showLinkModal,x=b.selectedTextForLink,y=b.handleEmojiMouseEnter,k=b.handleEmojiMouseLeave,w=b.handleImageMouseEnter,I=b.handleImageMouseLeave,M=b.handleButtonMouseEnter,L=b.handleImageButtonMouseEnter,z=b.handleButtonMouseLeave,j=b.closeEmojiPicker,S=b.closeImagePicker,T=b.closeLinkModal,B=b.insertEmojiUniversal,A=b.insertImageUniversal,R=b.insertLinkUniversal,O=b.insertLinkFromModalUniversal,P=b.insertSpoilerUniversal,$=b.autoResize,F=we().formatContentWithTruncation;E(d(s().mark((function t(){var a,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=e.comment)||void 0===a||!a.user_avatar){t.next=5;break}return t.next=3,Y();case 3:n=t.sent,p.value=`${n}${e.comment.user_avatar}`;case 5:case"end":return t.stop()}}),t)}))));var U=l((()=>{var t;return e.currentUser&&(null===(t=e.comment)||void 0===t?void 0:t.user_id)===e.currentUser.id})),D=l((()=>{var t;return e.currentUser&&(null===(t=e.comment)||void 0===t?void 0:t.user_id)===e.currentUser.id||e.currentUser&&1===e.currentUser.is_admin})),q=l((()=>{var t,a,n;return(null===(t=e.comment)||void 0===t?void 0:t.updated_at)&&(null===(a=e.comment)||void 0===a?void 0:a.updated_at)!==(null===(n=e.comment)||void 0===n?void 0:n.created_at)})),H=l((()=>{var t,a;return(null===(t=e.comment)||void 0===t||!t.is_deleted)&&((null===(a=e.comment)||void 0===a?void 0:a.rating)||0)<=-3})),V=l((()=>H.value)),W=i(!1),K=l((()=>{var t,a;return null!==(t=e.comment)&&void 0!==t&&t.is_deleted?null:((null===(a=e.comment)||void 0===a?void 0:a.rating)||0)<=-3?"lowRating":null})),G=()=>{var t;u.value.trim()&&o("edit",null===(t=e.comment)||void 0===t?void 0:t.id,u.value.trim())},Z=l((()=>{var t;return F(null===(t=e.comment)||void 0===t?void 0:t.content)})),X=e=>{$(e)};return C(u,(()=>{c.value&&m.value&&N((()=>{X({target:m.value})}))})),{isEditing:c,editContent:u,userRating:v,isCommentOwner:U,canDeleteComment:D,isCommentEdited:q,formatDate:Ce,formatRelativeTime:_e,startEdit:()=>{var t,a;o("start-edit",null===(t=e.comment)||void 0===t?void 0:t.id),u.value=(null===(a=e.comment)||void 0===a?void 0:a.content)||"",N((()=>{m.value&&(m.value.focus(),$({target:m.value}))}))},cancelEdit:()=>{var t;o("cancel-edit"),u.value=(null===(t=e.comment)||void 0===t?void 0:t.content)||""},saveEdit:G,confirmDelete:()=>{var t;confirm("Вы уверены, что хотите удалить этот комментарий?")&&o("delete",null===(t=e.comment)||void 0===t?void 0:t.id)},rateComment:t=>{var a,n;v.value===t?(v.value=0,o("rate",null===(a=e.comment)||void 0===a?void 0:a.id,t)):(v.value=t,o("rate",null===(n=e.comment)||void 0===n?void 0:n.id,t))},avatarUrl:p,getInitials:Oa,handleEditKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),G())},isCommentHidden:V,showHiddenComment:W,hiddenCommentReason:K,formattedContent:Z,autoResizeEdit:X,editTextarea:m,showEmojiPicker:f,showImagePicker:g,insertEmojiEdit:e=>{B(e,m,u,(e=>{u.value=e}))},insertImageEdit:e=>{A(e,m,u,(e=>{u.value=e}))},insertSpoilerEdit:()=>{P(m,u,(e=>{u.value=e}))},insertLinkEdit:()=>{R(m,u,(e=>{u.value=e}))},handleEmojiMouseEnter:y,handleEmojiMouseLeave:k,handleImageMouseEnter:w,handleImageMouseLeave:I,closeEmojiPicker:j,closeImagePicker:S,handleButtonMouseEnter:M,handleButtonMouseLeave:z,handleImageButtonMouseEnter:L,handleAvatarError:()=>{console.log("Avatar load error, falling back to initials"),p.value=null,N((()=>{var e=document.querySelector(".avatar-placeholder");e&&(e.style.display="flex")}))},openLogin:()=>{r.push("/login")},showLinkModal:h,selectedTextForLink:x,insertLinkFromModal:e=>{O(e,m,u,(e=>{u.value=e}))},closeLinkModal:T}}},[["render",function(e,t,a,n,o,r){var i,l,s,d,b,g,x,y,k,w,_,C,E,I,M,L,T,B,A,R=W("router-link"),O=W("EmojiPicker"),N=W("ImagePicker"),P=W("LinkModal");return u(),c("div",{class:"comment-item","data-comment-id":null===(i=a.comment)||void 0===i?void 0:i.id},[v("div",Pa,[v("div",$a,[z(R,{to:{path:`/lists/${null===(l=a.comment)||void 0===l?void 0:l.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:K((()=>{var e,o;return[v("div",Fa,[n.avatarUrl?(u(),c("img",{key:0,src:n.avatarUrl,alt:(null===(e=a.comment)||void 0===e?void 0:e.username)||"Аноним",onError:t[0]||(t[0]=function(){return n.handleAvatarError&&n.handleAvatarError(...arguments)}),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,Ua)):(u(),c("div",{key:1,class:"avatar-placeholder",style:j({display:n.avatarUrl?"none":"flex"})},m(n.getInitials((null===(o=a.comment)||void 0===o?void 0:o.username)||"Аноним")),5))])]})),_:1},8,["to"]),v("div",Da,[z(R,{to:{path:`/lists/${null===(s=a.comment)||void 0===s?void 0:s.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:K((()=>{var e;return[v("span",qa,m((null===(e=a.comment)||void 0===e?void 0:e.username)||"Аноним"),1)]})),_:1},8,["to"]),null!==(d=a.comment)&&void 0!==d&&d.user_movie_rating?(u(),c("span",Ha,[t[18]||(t[18]=v("i",{class:"fas fa-star"},null,-1)),p(" "+m(a.comment.user_movie_rating),1)])):f("",!0),v("span",{class:"date",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(b=a.comment)||void 0===b?void 0:b.created_at)}\nИзменено: ${n.formatDate(null===(g=a.comment)||void 0===g?void 0:g.updated_at)}`:`Создано: ${n.formatDate(null===(x=a.comment)||void 0===x?void 0:x.created_at)}`},[p(m(n.formatRelativeTime(null===(y=a.comment)||void 0===y?void 0:y.created_at))+" ",1),n.isCommentEdited?(u(),c("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(k=a.comment)||void 0===k?void 0:k.created_at)}\nИзменено: ${n.formatDate(null===(w=a.comment)||void 0===w?void 0:w.updated_at)}`:`Создано: ${n.formatDate(null===(_=a.comment)||void 0===_?void 0:_.created_at)}`},null,8,Ya)):f("",!0)],8,Va)])])]),v("div",Wa,[null!==(C=a.comment)&&void 0!==C&&C.is_deleted||!n.isCommentHidden||n.showHiddenComment?(u(),c("div",Ga,[null!==(E=a.comment)&&void 0!==E&&E.is_deleted?(u(),c("div",Za,t[20]||(t[20]=[v("p",{class:"deleted-message"},[v("i",{class:"fas fa-trash"}),p(" комментарий удалён ")],-1)]))):(u(),c("div",Xa,[n.isEditing?(u(),c("div",Qa,[v("div",Ja,[S(v("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=e=>n.editContent=e),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=function(){return n.handleEditKeydown&&n.handleEditKeydown(...arguments)}),onInput:t[4]||(t[4]=function(){return n.autoResizeEdit&&n.autoResizeEdit(...arguments)})},null,544),[[V,n.editContent]])]),v("div",en,[v("div",tn,[v("button",{onClick:t[5]||(t[5]=function(){return n.cancelEdit&&n.cancelEdit(...arguments)}),class:"cancel-button"},"Отмена"),v("button",{onClick:t[6]||(t[6]=function(){return n.saveEdit&&n.saveEdit(...arguments)}),class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500}," Сохранить ",8,an)]),v("div",nn,[v("div",{class:h(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},m(n.editContent.length)+"/1500 ",3),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[8]||(t[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[9]||(t[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[10]||(t[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[21]||(t[21]=[G('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-f1c85dfc><g id="logo" data-v-f1c85dfc><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-f1c85dfc></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-f1c85dfc></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-f1c85dfc></path></g></svg>',1)]),34),v("button",{type:"button",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=function(){return n.insertSpoilerEdit&&n.insertSpoilerEdit(...arguments)}),title:"Добавить спойлер"},t[22]||(t[22]=[v("i",{class:"fas fa-eye-slash"},null,-1)])),v("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=function(){return n.insertLinkEdit&&n.insertLinkEdit(...arguments)}),title:"Добавить ссылку"},t[23]||(t[23]=[v("i",{class:"fas fa-link"},null,-1)])),z(O,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),z(N,{"is-visible":n.showImagePicker,"current-user":a.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),z(P,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(u(),c("div",on,[v("p",{class:"comment-text",innerHTML:n.formattedContent},null,8,rn)]))]))])):(u(),c("div",Ka,["lowRating"===n.hiddenCommentReason?(u(),c("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=e=>n.showHiddenComment=!0)},t[19]||(t[19]=[v("i",{class:"fas fa-eye-slash"},null,-1),p(" Комментарий скрыт из-за низкого рейтинга. Нажмите, чтобы показать. ")]))):f("",!0)]))]),v("div",ln,[v("div",sn,[v("div",cn,[n.isCommentOwner||null!==(I=a.comment)&&void 0!==I&&I.is_deleted?f("",!0):(u(),c("button",{key:0,onClick:t[13]||(t[13]=e=>n.rateComment(1)),class:h(["rating-button",{"rated-up":1===n.userRating}])},t[24]||(t[24]=[v("i",{class:"fas fa-thumbs-up"},null,-1)]),2)),v("span",{class:h(["rating-count",{"rating-positive":1===n.userRating,"rating-negative":-1===n.userRating}])},m((null===(M=a.comment)||void 0===M?void 0:M.rating)||0),3),n.isCommentOwner||null!==(L=a.comment)&&void 0!==L&&L.is_deleted?f("",!0):(u(),c("button",{key:1,onClick:t[14]||(t[14]=e=>n.rateComment(-1)),class:h(["rating-button",{"rated-down":-1===n.userRating}])},t[25]||(t[25]=[v("i",{class:"fas fa-thumbs-down"},null,-1)]),2))]),v("div",dn,[a.currentUser&&1!==a.currentUser.allow_comments?f("",!0):(u(),c("button",{key:0,onClick:t[15]||(t[15]=t=>e.$emit("reply",a.comment)),class:"action-button reply-button"},t[26]||(t[26]=[v("i",{class:"fas fa-reply"},null,-1)]))),!n.isCommentOwner||null!==(T=a.comment)&&void 0!==T&&T.is_deleted||n.isEditing||1!==(null===(B=a.currentUser)||void 0===B?void 0:B.allow_comments)?f("",!0):(u(),c("button",{key:1,onClick:t[16]||(t[16]=function(){return n.startEdit&&n.startEdit(...arguments)}),class:"action-button edit-button"},t[27]||(t[27]=[v("i",{class:"fas fa-edit"},null,-1)]))),!n.canDeleteComment||null!==(A=a.comment)&&void 0!==A&&A.is_deleted?f("",!0):(u(),c("button",{key:2,onClick:t[17]||(t[17]=function(){return n.confirmDelete&&n.confirmDelete(...arguments)}),class:"action-button delete-button"},t[28]||(t[28]=[v("i",{class:"fas fa-trash"},null,-1)])))])])])],8,Na)}],["__scopeId","data-v-f1c85dfc"]]),vn={class:"comment-thread"},pn={key:0,class:"reply-form"},mn={class:"textarea-container"},bn=["value","placeholder","disabled"],fn={class:"reply-footer"},gn={class:"reply-actions"},hn=["disabled"],xn={class:"character-counter-container"},yn=["disabled"],kn={key:1,class:"replies-container"},wn=["title"],_n={class:"replies-count"},Cn=["title"],En={key:0,class:"replies-content"};var In=n({name:"CommentThread",components:{CommentItem:un,EmojiPicker:da,ImagePicker:Ea,LinkModal:Ba},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(e,t){var a=t.emit,n=i(null),o=i(!0),r=Aa(),l=r.showEmojiPicker,s=r.showImagePicker,c=r.showLinkModal,d=r.selectedTextForLink,u=r.handleEmojiMouseEnter,v=r.handleEmojiMouseLeave,p=r.handleImageMouseEnter,m=r.handleImageMouseLeave,b=r.handleButtonMouseEnter,f=r.handleImageButtonMouseEnter,g=r.handleButtonMouseLeave,h=r.closeEmojiPicker,x=r.closeImagePicker,y=r.closeLinkModal,k=r.insertEmojiUniversal,w=r.insertImageUniversal,_=r.insertLinkUniversal,C=r.insertLinkFromModalUniversal,E=r.insertSpoilerUniversal,I={get value(){return e.replyContent},set value(e){a("update-reply-content",e)}};return{replyTextarea:n,showEmojiPicker:l,showImagePicker:s,isCollapsed:o,insertEmoji:e=>{k(e,n,I,(e=>{a("update-reply-content",e)}))},insertImage:e=>{w(e,n,I,(e=>{a("update-reply-content",e)}))},insertSpoiler:()=>{E(n,I,(e=>{a("update-reply-content",e)}))},handleEmojiMouseEnter:u,handleEmojiMouseLeave:v,handleImageMouseEnter:p,handleImageMouseLeave:m,handleButtonMouseEnter:b,handleButtonMouseLeave:g,closeEmojiPicker:h,closeImagePicker:x,handleImageButtonMouseEnter:f,handleReplyInput:e=>{a("update-reply-content",e.target.value);var t=e.target;t&&(t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,200)}px`)},toggleCollapsed:()=>{o.value=!o.value},showLinkModal:c,selectedTextForLink:d,insertLink:()=>{_(n,I,(e=>{a("update-reply-content",e)}))},closeLinkModal:y,insertLinkFromModal:e=>{C(e,n,I,(e=>{a("update-reply-content",e)}))}}},computed:{canReply(){return!this.currentUser||1===this.currentUser.allow_comments},getReplyPlaceholder(){return this.currentUser?1!==this.currentUser.allow_comments?"У вас нет прав на создание комментариев":"Напишите ваш ответ...":"Войдите, чтобы оставить ответ..."},formattedContent(){return(0,we().formatContent)(this.comment.content)}}},[["render",function(e,t,a,n,o,r){var i=W("CommentItem"),l=W("EmojiPicker"),s=W("ImagePicker"),d=W("LinkModal"),p=W("CommentThread",!0);return u(),c("div",vn,[z(i,{comment:a.comment,"current-user":a.currentUser,"editing-comment-id":a.editingCommentId,onReply:t[0]||(t[0]=t=>e.$emit("reply",t)),onStartEdit:t[1]||(t[1]=t=>e.$emit("start-edit",t)),onCancelEdit:t[2]||(t[2]=t=>e.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(t,a)=>e.$emit("edit",t,a)),onDelete:t[4]||(t[4]=t=>e.$emit("delete",t)),onRate:t[5]||(t[5]=(t,a)=>e.$emit("rate",t,a))},null,8,["comment","current-user","editing-comment-id"]),a.replyTo&&a.replyTo.id===a.comment.id?(u(),c("div",pn,[v("div",mn,[v("textarea",{ref:"replyTextarea",class:"comment-textarea",value:a.replyContent,placeholder:r.getReplyPlaceholder,disabled:a.currentUser&&1!==a.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=function(){return n.handleReplyInput&&n.handleReplyInput(...arguments)}),onKeydown:t[7]||(t[7]=t=>e.$emit("reply-keydown",t))},null,40,bn)]),v("div",fn,[v("div",gn,[v("button",{class:"cancel-reply",onClick:t[8]||(t[8]=t=>e.$emit("cancel-reply"))},"Отмена"),v("button",{class:"submit-button",disabled:!a.replyContent.trim()||a.replyContent.length>1500||a.currentUser&&1!==a.currentUser.allow_comments,onClick:t[9]||(t[9]=t=>e.$emit("submit-reply"))}," Ответить ",8,hn)]),v("div",xn,[v("div",{class:h(["character-counter-inline",{"near-limit":a.replyContent.length>1400,"at-limit":a.replyContent.length>=1500}])},m(a.replyContent.length)+"/1500 ",3),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[11]||(t[11]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[12]||(t[12]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[13]||(t[13]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[29]||(t[29]=[G('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),v("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:a.currentUser&&1!==a.currentUser.allow_comments,onClick:t[14]||(t[14]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)}),title:"Добавить спойлер"},t[30]||(t[30]=[v("i",{class:"fas fa-eye-slash"},null,-1)]),8,yn),v("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=function(){return n.insertLink&&n.insertLink(...arguments)}),title:"Добавить ссылку"},t[31]||(t[31]=[v("i",{class:"fas fa-link"},null,-1)])),z(l,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),z(s,{"is-visible":n.showImagePicker,"current-user":a.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>e.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),z(d,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):f("",!0),a.comment.replies&&a.comment.replies.length>0?(u(),c("div",kn,[v("button",{class:"collapse-toggle",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:t[17]||(t[17]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[v("span",{class:h(["collapse-icon",{expanded:!n.isCollapsed}])},t[32]||(t[32]=[v("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[v("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),v("span",_n,m(a.comment.replies.length)+" "+m(1===a.comment.replies.length?"ответ":"ответов"),1)],8,wn),v("div",{class:"vertical-line-clickable",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:t[18]||(t[18]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[v("div",{class:h(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,Cn),n.isCollapsed?f("",!0):(u(),c("div",En,[(u(!0),c(b,null,g(a.comment.replies,(n=>(u(),M(p,{key:n.id,comment:n,"current-user":a.currentUser,"reply-to":a.replyTo,"reply-content":a.replyContent,"editing-comment-id":a.editingCommentId,onReply:t[19]||(t[19]=t=>e.$emit("reply",t)),onStartEdit:t[20]||(t[20]=t=>e.$emit("start-edit",t)),onCancelEdit:t[21]||(t[21]=t=>e.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(t,a)=>e.$emit("edit",t,a)),onDelete:t[23]||(t[23]=t=>e.$emit("delete",t)),onRate:t[24]||(t[24]=(t,a)=>e.$emit("rate",t,a)),onSubmitReply:t[25]||(t[25]=t=>e.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=t=>e.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=t=>e.$emit("update-reply-content",t)),onReplyKeydown:t[28]||(t[28]=t=>e.$emit("reply-keydown",t))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"])))),128))]))])):f("",!0)])}],["__scopeId","data-v-6c0fc347"]]),Mn={name:"Comments",components:{CommentThread:In,Notification:Ie,EmojiPicker:da,ImagePicker:Ea,LinkModal:Ba},props:{movieId:{type:[String,Number],required:!0}},setup(e){var t=k(),n=_(),o=y(),r=i([]),c=i(""),u=i(null),v=i(""),p=i(null),m=i(t.user),b=i(null),f=i(null),g=i(o.isAutoShowComments),h=i(!1),x=i(3),w=i(o.commentsSortBy),C=i("date"===w.value?"asc":"desc"),I=Aa(),M=I.showEmojiPicker,L=I.showImagePicker,z=I.showLinkModal,j=I.selectedTextForLink,S=I.handleEmojiMouseEnter,T=I.handleEmojiMouseLeave,B=I.handleImageMouseEnter,A=I.handleImageMouseLeave,R=I.handleButtonMouseEnter,O=I.handleImageButtonMouseEnter,P=I.handleButtonMouseLeave,$=I.closeEmojiPicker,F=I.closeImagePicker,U=I.closeLinkModal,D=I.insertEmojiUniversal,q=I.insertImageUniversal,H=I.insertLinkUniversal,V=I.insertLinkFromModalUniversal,Y=I.insertSpoilerUniversal,W=I.autoResize,K=l((()=>{var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=r.value.filter((e=>e.parent_id===t)).filter((e=>!e.is_deleted||e.replies&&e.replies.length>0));return(null===t?n.sort(((e,t)=>{if("rating"===w.value){var a=e.rating||0,n=t.rating||0;return a!==n?"asc"===C.value?a-n:n-a:e.id-t.id}return"asc"===C.value?e.id-t.id:t.id-e.id})):n.sort(((e,t)=>e.id-t.id))).map((t=>a(a({},t),{},{replies:e(t.id)})))};return e()})),G=l((()=>{var e=t=>t.reduce(((t,a)=>t+1+e(a.replies||[])),0);return e(K.value)})),te=l((()=>K.value.slice(0,x.value))),ae=l((()=>K.value.length>x.value)),ne=l((()=>K.value.length-x.value)),oe=function(){var t=d(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e.movieId);case 3:a=t.sent,r.value=a,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to load comments:",t.t0),b.value.showNotification("Ошибка при загрузке комментариев. Попробуйте обновить страницу.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var a=d(s().mark((function a(){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!h.value){a.next=2;break}return a.abrupt("return");case 2:if(t.token){a.next=5;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de}),a.abrupt("return");case 5:if(!m.value||1===m.value.allow_comments){a.next=8;break}return b.value.showNotification("У вас нет прав на создание комментариев"),a.abrupt("return");case 8:if(c.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){a.next=12;break}return b.value.showNotification("Комментарий не может быть пустым"),a.abrupt("return");case 12:if(!(c.value.length>1500)){a.next=15;break}return b.value.showNotification("Комментарий слишком длинный. Максимум 1500 символов."),a.abrupt("return");case 15:return a.prev=15,a.next=18,ee(e.movieId,c.value.trim());case 18:return c.value="",a.next=21,oe();case 21:g.value=!0,N((()=>{f.value&&(f.value.focus(),f.value.style.height="auto"),setTimeout((()=>{var e=document.querySelectorAll(".comment-item[data-comment-id]");if(e.length>0){var t=Array.from(e).map((e=>parseInt(e.getAttribute("data-comment-id")))).filter((e=>!isNaN(e)));if(t.length>0){var a=Math.max(...t),n=document.querySelector(`[data-comment-id="${a}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}),300)})),a.next=29;break;case 25:a.prev=25,a.t0=a.catch(15),console.error("Failed to create comment:",a.t0),b.value.showNotification("Ошибка при создании комментария. Попробуйте еще раз.");case 29:case"end":return a.stop()}}),a,null,[[15,25]])})));return function(){return a.apply(this,arguments)}}(),ie=function(){var a=d(s().mark((function a(){var n;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.token){a.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de}),a.abrupt("return");case 3:if(!m.value||1===m.value.allow_comments){a.next=6;break}return b.value.showNotification("У вас нет прав на создание комментариев"),a.abrupt("return");case 6:if(v.value.trim()&&u.value){a.next=8;break}return a.abrupt("return");case 8:if(!(v.value.length>1500)){a.next=11;break}return b.value.showNotification("Ответ слишком длинный. Максимум 1500 символов."),a.abrupt("return");case 11:return a.prev=11,a.next=14,ee(e.movieId,v.value.trim(),u.value.id);case 14:return n=u.value.id,a.next=17,oe();case 17:v.value="",u.value=null,N((()=>{setTimeout((()=>{var e=document.querySelector(`[data-comment-id="${n}"]`);if(e){var t=e.querySelector(".replies-content");if(t){var a=t.querySelectorAll(".comment-item[data-comment-id]");if(a.length>0){var o=Array.from(a).map((e=>parseInt(e.getAttribute("data-comment-id")))).filter((e=>!isNaN(e)));if(o.length>0){var r=Math.max(...o),i=document.querySelector(`[data-comment-id="${r}"]`);i&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}}),300)})),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(11),console.error("Error submitting reply:",a.t0),b.value.showNotification("Ошибка при отправке ответа. Попробуйте еще раз.");case 26:case"end":return a.stop()}}),a,null,[[11,22]])})));return function(){return a.apply(this,arguments)}}(),le=function(){var e=d(s().mark((function e(a,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de}),e.abrupt("return");case 3:if(!m.value||1===m.value.allow_comments){e.next=6;break}return b.value.showNotification("У вас нет прав на редактирование комментариев"),e.abrupt("return");case 6:if(!(n.length>1500)){e.next=9;break}return b.value.showNotification("Комментарий слишком длинный. Максимум 1500 символов."),e.abrupt("return");case 9:return e.prev=9,e.next=12,J(a,n.trim());case 12:return e.next=14,oe();case 14:p.value=null,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.error("Failed to update comment:",e.t0),b.value.showNotification("Ошибка при редактировании комментария. Попробуйте еще раз.");case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=d(s().mark((function e(a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de}),e.abrupt("return");case 3:return e.prev=3,e.next=6,Q(a);case 6:return e.next=8,oe();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to delete comment:",e.t0),b.value.showNotification("Ошибка при удалении комментария. Попробуйте еще раз.");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=d(s().mark((function e(a,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de}),e.abrupt("return");case 3:return e.prev=3,e.next=6,X(a,n);case 6:return e.next=8,oe();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to rate comment:",e.t0),b.value.showNotification("Ошибка при оценке комментария. Попробуйте еще раз.");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),de=()=>{n.push("/login")},ue=l((()=>m.value?1!==m.value.allow_comments?"У вас нет прав на создание комментариев":"Напишите комментарий...":"Войдите, чтобы оставить комментарий...")),ve=l((()=>!m.value||1===m.value.allow_comments));return E((()=>{oe()})),{comments:r,groupedComments:K,displayedComments:te,hasMoreComments:ae,remainingCommentsCount:ne,showMoreComments:()=>{x.value=K.value.length},sortBy:w,setSortBy:e=>{w.value===e?C.value="asc"===C.value?"desc":"asc":(w.value=e,C.value="date"===e?"asc":"desc",o.setCommentsSortBy(e))},sortDirection:C,newComment:c,replyTo:u,replyContent:v,editingCommentId:p,currentUser:m,notificationRef:b,commentTextarea:f,showComments:g,submitComment:re,handleReply:e=>{t.token?(p.value=null,u.value=e,v.value="",N((()=>{var e=document.querySelector(".reply-form");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}))):b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:de})},submitReply:ie,handleEdit:le,handleDelete:se,handleRate:ce,handleCommentKeydown:e=>{h.value||M.value||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),re())},handleReplyKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ie())},autoResize:W,totalCommentsCount:G,getCommentWordForm:Ra,showEmojiPicker:M,showImagePicker:L,showLinkModal:z,selectedTextForLink:j,insertEmoji:e=>{h.value=!0,D(e,f,c,(e=>{c.value=e})),setTimeout((()=>{h.value=!1}),100)},insertImage:e=>{q(e,f,c,(e=>{c.value=e}))},handleEmojiMouseEnter:S,handleEmojiMouseLeave:T,handleImageMouseEnter:B,handleImageMouseLeave:A,closeEmojiPicker:$,closeImagePicker:F,handleButtonMouseLeave:P,handleButtonMouseEnter:R,handleImageButtonMouseEnter:O,getCommentPlaceholder:ue,canComment:ve,handleStartEdit:e=>{u.value=null,v.value="",p.value=e},handleCancelEdit:()=>{p.value=null},insertSpoiler:()=>{Y(f,c,(e=>{c.value=e}))},insertLink:()=>{H(f,c,(e=>{c.value=e}))},insertLinkFromModal:e=>{V(e,f,c,(e=>{c.value=e}))},closeLinkModal:U}}},Ln={class:"comments-section"},zn={class:"spoiler-content"},jn={key:1,class:"comments-container"},Sn={class:"comments-header"},Tn={class:"comments-controls"},Bn={class:"textarea-container"},An=["placeholder","disabled"],Rn={class:"comment-footer"},On={class:"comment-actions"},Nn=["disabled"],Pn={class:"character-counter-container"},$n=["disabled"],Fn=["disabled"],Un=["disabled"],Dn={class:"comments-list"},qn={key:0,class:"show-more-comments"};var Hn=n(Mn,[["render",function(e,t,a,n,o,r){var i=W("EmojiPicker"),l=W("ImagePicker"),s=W("LinkModal"),d=W("CommentThread"),y=W("Notification");return u(),c("div",Ln,[n.showComments?(u(),c("div",jn,[v("div",Sn,[v("div",Tn,[v("button",{class:h(["sort-button",{active:"date"===n.sortBy}]),onClick:t[1]||(t[1]=e=>n.setSortBy("date")),title:"Сортировать по дате"},[t[20]||(t[20]=v("i",{class:"fas fa-clock"},null,-1)),t[21]||(t[21]=p(" По дате ")),"date"===n.sortBy?(u(),c("i",{key:0,class:h(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):f("",!0)],2),v("button",{class:h(["sort-button",{active:"rating"===n.sortBy}]),onClick:t[2]||(t[2]=e=>n.setSortBy("rating")),title:"Сортировать по рейтингу"},[t[22]||(t[22]=v("i",{class:"fas fa-thumbs-up"},null,-1)),t[23]||(t[23]=p(" По рейтингу ")),"rating"===n.sortBy?(u(),c("i",{key:0,class:h(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):f("",!0)],2)]),v("button",{class:"hide-comments-btn",onClick:t[3]||(t[3]=e=>n.showComments=!1)},t[24]||(t[24]=[v("i",{class:"fas fa-eye-slash"},null,-1),p(" Скрыть комментарии ")]))]),v("form",{class:"comment-form",onSubmit:t[13]||(t[13]=x((function(){return n.submitComment&&n.submitComment(...arguments)}),["prevent"]))},[v("div",Bn,[S(v("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[4]||(t[4]=e=>n.newComment=e),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&1!==n.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:t[5]||(t[5]=function(){return n.autoResize&&n.autoResize(...arguments)}),onKeydown:t[6]||(t[6]=function(){return n.handleCommentKeydown&&n.handleCommentKeydown(...arguments)})},null,40,An),[[V,n.newComment]])]),v("div",Rn,[v("div",On,[v("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&1!==n.currentUser.allow_comments}," Отправить ",8,Nn)]),v("div",Pn,[v("div",{class:h(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},m(n.newComment.length)+"/1500 ",3),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:t[7]||(t[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[8]||(t[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",42,$n),v("button",{type:"button",class:h(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:t[9]||(t[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[10]||(t[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[25]||(t[25]=[G('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-e82be516><g id="logo" data-v-e82be516><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-e82be516></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-e82be516></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-e82be516></path></g></svg>',1)]),42,Fn),v("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&1!==n.currentUser.allow_comments,onClick:t[11]||(t[11]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)}),title:"Добавить спойлер"},t[26]||(t[26]=[v("i",{class:"fas fa-eye-slash"},null,-1)]),8,Un),v("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=function(){return n.insertLink&&n.insertLink(...arguments)}),title:"Добавить ссылку"},t[27]||(t[27]=[v("i",{class:"fas fa-link"},null,-1)])),z(i,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),z(l,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:e.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),z(s,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),v("div",Dn,[(u(!0),c(b,null,g(n.displayedComments,(e=>(u(),M(d,{key:e.id,comment:e,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:t[14]||(t[14]=e=>n.replyTo=null),onUpdateReplyContent:t[15]||(t[15]=e=>n.replyContent=e),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"])))),128)),n.hasMoreComments?(u(),c("div",qn,[v("button",{class:"show-more-btn",onClick:t[16]||(t[16]=function(){return n.showMoreComments&&n.showMoreComments(...arguments)})}," Показать еще "+m(n.remainingCommentsCount)+" "+m(n.getCommentWordForm(n.remainingCommentsCount)),1)])):f("",!0)])])):(u(),c("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=e=>n.showComments=!0)},[v("div",zn,[t[17]||(t[17]=v("i",{class:"fas fa-eye-slash"},null,-1)),t[18]||(t[18]=v("h3",null,"Комментарии скрыты",-1)),t[19]||(t[19]=v("p",null,"Комментарии могут содержать спойлеры. Нажмите, чтобы показать.",-1)),v("div",{class:h(["comments-count",{"no-comments":0===n.totalCommentsCount}])},[0===n.totalCommentsCount?(u(),c(b,{key:0},[p(" Комментариев пока нет ")],64)):(u(),c(b,{key:1},[p(m(n.totalCommentsCount)+" "+m(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),z(y,{ref:"notificationRef"},null,512)])}],["__scopeId","data-v-e82be516"]]),Vn={class:"movie-info"},Yn={class:"content"},Wn={key:0,class:"content-card"},Kn={class:"movie-skeleton"},Gn={class:"movie-skeleton__player"},Zn={key:2,class:"content-card"},Xn={key:3,class:"content-card"},Qn={class:"content-header"},Jn=["src"],eo={class:"content-title"},to={key:0,class:"ratings-links"},ao={key:1},no=["href","title"],oo={key:2},ro=["href","title"],io={key:3},lo=["href","title"],so={key:4},co=["href","title"],uo={key:5},vo=["href"],po=["title"],mo={key:0,class:"fa-regular fa-face-grin-wink"},bo={key:1,class:"fas fa-spinner fa-spin"},fo=["title"],go={key:1,class:"mobile-list-dropdown"},ho={class:"mobile-list-content"},xo=["content"],yo=["content"],ko={class:"additional-info"},wo={class:"info-content"},_o={key:0,class:"movie-poster-container desktop-only"},Co=["href"],Eo=["src"],Io={class:"details-container"},Mo={class:"info-list"},Lo={key:0},zo={key:1},jo={key:2},So={key:3},To={key:4},Bo={key:5},Ao={key:6},Ro={key:7},Oo={key:8},No={key:9,class:"rating-boxes"},Po={key:0,class:"rating-box mpaa"},$o={key:1,class:"rating-box age"},Fo={class:"content-info"},Uo={key:0,class:"content-description-text"},Do={key:3,class:"comments-section"},qo={key:4,class:"staff-section"},Ho={class:"staff-categories"},Vo={key:0,class:"staff-category"},Yo={class:"staff-list"},Wo=["href","title"],Ko=["src","alt"],Go={class:"staff-name"},Zo={key:0,class:"staff-role"},Xo=["href","title"],Qo={key:1,class:"staff-category"},Jo={class:"staff-names-container"},er={class:"staff-names-list"},tr=["href"],ar=["href","title"],nr={key:2,class:"staff-category"},or={class:"staff-names-container"},rr={class:"staff-names-list"},ir=["href"],lr=["href","title"],sr={key:5,class:"yt-video-container"},cr={key:6,class:"related-movies"},dr=["title"],ur={key:7,class:"related-movies"},vr=["title"],pr={key:0,class:"nudity-info-popup"},mr={class:"nudity-info-content"},br={key:0,class:"nudity-info-loading"},fr={key:1},gr={class:"nudity-info-actions"},hr=["href"],xr={key:1,class:"nudity-info-popup"},yr={class:"nudity-info-content"},kr={class:"timings-text"},wr={key:0,class:"timing-entries"},_r={class:"timing-content"},Cr={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},Er={key:0,class:"pending-badge"},Ir={key:1,class:"clean-text-badge"},Mr={key:0,class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},Lr=["onClick"],zr=["onClick"],jr=["onClick"],Sr=["onClick"],Tr=["onClick"],Br={class:"timing-text"},Ar={class:"timing-author"},Rr={key:1,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},Or={key:0},Nr={key:1},Pr={key:1},$r={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Fr={style:{margin:"0 0 10px 0",color:"#fff"}},Ur={style:{color:"#fff","font-size":"13px"}},Dr={key:0},qr={key:1},Hr={key:1,class:"overlay-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Vr={style:{margin:"0 0 10px 0",color:"#fff"}},Yr={style:{color:"#fff","font-size":"13px"}},Wr={key:0},Kr={key:1},Gr={class:"nudity-info-actions"},Zr={key:2,class:"timing-modal"},Xr={class:"timing-modal-content"},Qr={class:"timing-modal-header"},Jr={class:"timing-submission-form"},ei={key:0,class:"timing-preview"},ti={class:"timing-preview-content"},ai={class:"timing-preview-range"},ni={class:"timing-preview-duration"},oi={class:"timing-form-actions"},ri=["disabled"],ii={key:0,class:"fas fa-spinner fa-spin"},li={key:1},si={class:"modal-header"},ci={class:"modal-header-controls"},di={class:"modal-body"},ui=["disabled"],vi={key:0,class:"fas fa-spinner fa-spin"},pi={key:1,class:"fas fa-list"},mi={class:"top-submitters-list"},bi={class:"submitter-info"},fi={class:"submitter-name"},gi=["href"],hi={class:"submitter-count"},xi={class:"submitter-contribution"},yi={class:"modal-header"},ki={class:"modal-body"},wi={key:0,class:"timing-filters"},_i={key:1,class:"loading-spinner"},Ci={key:2,class:"no-timings"},Ei={key:3,class:"no-timings"},Ii={key:4,class:"all-timings-list"},Mi={class:"timing-header"},Li={class:"timing-meta"},zi={class:"timing-author"},ji={class:"timing-date"},Si={class:"timing-movie-info"},Ti={key:0,class:"admin-controls"},Bi=["onClick","disabled"],Ai={key:0,class:"fas fa-spinner fa-spin"},Ri={key:1,class:"fas fa-check"},Oi=["onClick","disabled"],Ni={key:0,class:"fas fa-spinner fa-spin"},Pi={key:1,class:"fas fa-times"},$i=["onClick","disabled"],Fi={key:0,class:"fas fa-spinner fa-spin"},Ui={key:1,class:"fas fa-eye-slash"},Di={class:"timing-content"},qi={class:"timing-text"},Hi={key:5,class:"timing-modal obs-modal"},Vi={class:"timing-modal-content obs-modal-content"},Yi={class:"timing-modal-header"},Wi={class:"obs-settings-form"},Ki={class:"obs-setting-group"},Gi={class:"obs-checkbox-label"},Zi={key:0,class:"obs-connection-settings"},Xi={class:"obs-setting-group"},Qi={class:"obs-setting-group"},Ji={class:"obs-setting-group"},el={key:0,class:"obs-setting-group"},tl={key:0,class:"obs-warning"},al={key:1,class:"obs-filter-selection"},nl=["value"],ol={key:0,class:"selected-filter-info"},rl={class:"filter-details"},il={class:"obs-info"},ll={class:"obs-setting-group"},sl={class:"obs-checkbox-label"},cl={class:"obs-actions"},dl=["disabled"],ul={key:0,class:"fas fa-spinner fa-spin"},vl={key:1,class:"fas fa-plug"},pl=["disabled"],ml=["disabled"],bl={__name:"MovieInfo",setup(e){var t=i(!0),n=y(),o=k(),I=te(),R=Me(),N=w(),U=_(),D=i(N.params.kp_id),q=i(""),H=i(null),Y=i(null),Z=ae(),X=ze(),Q=i(null),J=l((()=>X.areTrailersActive)),ee=i(null),fe=i(!1),we=i(!1),_e=i(10),Le=i(null),Se=i(!1),Te=i(null),Be=i(!1),Ae=i(void 0),Re=i(null),Oe=i(new Set),Ne=i(new Set),Pe=i(!1),$e=i(!1),Fe=l((()=>{var e;return(null===(e=Y.value)||void 0===e?void 0:e.nudity_timings.length)>0})),Ue=l((()=>{var e;return(null===(e=Y.value)||void 0===e?void 0:e.nudity_timings.length)>0&&n.isStreamerMode&&!n.isMobile})),De=l((()=>{var e,t,a,n,o;return(null===(e=Y.value)||void 0===e||null===(e=e.lists)||void 0===e?void 0:e.isFavorite)||(null===(t=Y.value)||void 0===t||null===(t=t.lists)||void 0===t?void 0:t.isWatching)||(null===(a=Y.value)||void 0===a||null===(a=a.lists)||void 0===a?void 0:a.isLater)||(null===(n=Y.value)||void 0===n||null===(n=n.lists)||void 0===n?void 0:n.isCompleted)||(null===(o=Y.value)||void 0===o||null===(o=o.lists)||void 0===o?void 0:o.isAbandoned)})),qe=l((()=>n.isCommentsEnabled)),He=()=>{if(Y.value){var e=Y.value.name_ru||Y.value.name_en||Y.value.name_original||"Информация о фильме";document.title=e}},Ve=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",Ye=e=>(e||[]).map((e=>({kp_id:e.film_id,poster:e.poster_url_preview||e.poster_url,title:e.name_ru||e.name_en||e.name_original}))),We=e=>{if("number"==typeof e)return`${Math.floor(e/60)} ч. ${e%60} мин.`},Ke=i(!1),Ge=i({top:"0px",left:"0px"}),Ze=e=>{Ke.value=!0,Ge.value={top:`${e.pageY+10}px`,left:e.pageX-70+"px"}},Xe=function(){var e=d(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[Y.value.name_ru||Y.value.name_en||Y.value.name_original,...Y.value.year?[Y.value.year]:[],...Y.value.film_length?[We(Y.value.film_length)]:[]],e.next=4,navigator.clipboard.writeText(t.join(", "));case 4:Q.value.showNotification("Скопировано"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Ошибка копирования:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=d(s().mark((function e(){var t,r,i,c,d,u,v,p,m,b,f,g,h,x,y,k,w=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(w.length>0&&void 0!==w[0])||w[0],e.prev=1,!D.value.startsWith("shiki")){e.next=8;break}return e.next=5,le(D.value);case 5:b=e.sent,e.next=11;break;case 8:return e.next=10,se(D.value,o.token);case 10:b=e.sent;case 11:if(!Array.isArray(b)||0!==b.length){e.next=13;break}throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");case 13:if(Y.value=b,D.value.startsWith("shiki")?Y.value=a(a({},Y.value),{},{title:Y.value.name_ru||Y.value.name_en,name_original:Y.value.name_en,short_description:Y.value.slogan}):Y.value=a(a({},Y.value),{},{title:Y.value.name_ru||Y.value.name_en||Y.value.name_original,kinopoisk_id:D.value}),Z.setHeaderContent({text:Y.value.title,imageUrl:Y.value.logo_url}),He(),f={kp_id:D.value,title:(null===(r=Y.value)||void 0===r?void 0:r.name_ru)||(null===(i=Y.value)||void 0===i?void 0:i.name_en)||(null===(c=Y.value)||void 0===c?void 0:c.name_original),poster:(null===(d=Y.value)||void 0===d?void 0:d.poster_url)||(null===(u=Y.value)||void 0===u?void 0:u.cover_url)||(null===(v=Y.value)||void 0===v?void 0:v.screenshots[0]),year:null===(p=Y.value)||void 0===p?void 0:p.year,type:null===(m=Y.value)||void 0===m?void 0:m.type},D.value.startsWith("shiki")&&Y.value.screenshots&&Y.value.screenshots.length>0?(g=Math.floor(Math.random()*Y.value.screenshots.length),h=Y.value.screenshots[g],I.updateMoviePoster(h)):f.poster&&I.updateMoviePoster(f.poster),!(l((()=>n.isHistoryAllowed)).value&&f.kp_id&&f.title&&t)){e.next=33;break}if(!o.token){e.next=32;break}return e.prev=22,e.next=25,$(f.kp_id,A.HISTORY);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),console.error("Ошибка при добавлении в историю:",e.t0);case 30:e.next=33;break;case 32:n.addToHistory(a({},f));case 33:e.next=41;break;case 35:e.prev=35,e.t1=e.catch(1),x=O(e.t1),y=x.message,k=x.code,q.value=y,H.value=k,console.error("Ошибка при загрузке информации о фильмах:",e.t1);case 41:case"end":return e.stop()}}),e,null,[[1,35],[22,27]])})));return function(){return e.apply(this,arguments)}}(),Je=l((()=>{var e;return null===(e=Y.value)||void 0===e?void 0:e.videos})),et=l((()=>{var e;return Ye(null===(e=Y.value)||void 0===e?void 0:e.sequels_and_prequels)})),tt=l((()=>{var e;return Ye(null===(e=Y.value)||void 0===e?void 0:e.similars)})),at=()=>{var e,t=(null===(e=document.querySelector(".related-movies"))||void 0===e?void 0:e.clientWidth)||0,a=Math.floor(t/160)||10;_e.value=Math.max(1,a)},nt=()=>{at()},ot=e=>{if(e.altKey&&84===e.keyCode&&document.querySelector(".player-container")){var t=document.querySelector(".theater-mode-btn");t&&t.click()}},rt=function(){var e=d(s().mark((function e(t){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===Le.value){e.next=4;break}return Le.value=null,Se.value=!1,e.abrupt("return");case 4:return Ae.value=void 0,Te.value=t.currentTarget,Le.value="",Se.value=!0,e.prev=8,e.next=11,ce(Y.value.imdb_id);case 11:a=e.sent,Le.value=a.nudity_info,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Ошибка при загрузке информации о сценах:",e.t0),Le.value="Ошибка при загрузке информации о сценах. Попробуйте обратиться к Parents Guide на IMDb для получения подробной информации.";case 19:return e.prev=19,Se.value=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=d(s().mark((function e(t){var a,n,r,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.token){e.next=3;break}return Q.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>U.push("/login")}),e.abrupt("return");case 3:if(e.prev=3,a={[A.FAVORITE]:"избранное",[A.HISTORY]:"историю",[A.LATER]:'список "Смотреть позже"',[A.COMPLETED]:'список "Просмотрено"',[A.ABANDONED]:'список "Брошено"',[A.WATCHING]:'список "Смотрю"'},l=t,s=void 0,c=void 0,d=void 0,u=void 0,v=void 0,p=void 0,m=void 0,null===(m={[A.FAVORITE]:(null===(s=Y.value)||void 0===s||null===(s=s.lists)||void 0===s?void 0:s.isFavorite)||!1,[A.HISTORY]:(null===(c=Y.value)||void 0===c||null===(c=c.lists)||void 0===c?void 0:c.isHistory)||!1,[A.LATER]:(null===(d=Y.value)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isLater)||!1,[A.COMPLETED]:(null===(u=Y.value)||void 0===u||null===(u=u.lists)||void 0===u?void 0:u.isCompleted)||!1,[A.ABANDONED]:(null===(v=Y.value)||void 0===v||null===(v=v.lists)||void 0===v?void 0:v.isAbandoned)||!1,[A.WATCHING]:(null===(p=Y.value)||void 0===p||null===(p=p.lists)||void 0===p?void 0:p.isWatching)||!1}[l])||void 0===m||!m){e.next=11;break}return e.next=8,P(D.value,t);case 8:Q.value.showNotification(`Удалено из ${a[t]}`),e.next=14;break;case 11:return e.next=13,$(D.value,t);case 13:Q.value.showNotification(`Добавлено в ${a[t]}`);case 14:return e.next=16,Qe(!1);case 16:Be.value=!1,e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),n=O(e.t0),r=n.message,i=n.code,Q.value.showNotification(`${r} ${i}`);case 23:case"end":return e.stop()}var l,s,c,d,u,v,p,m}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),lt=e=>{var t=document.querySelector(".mobile-list-dropdown");t&&!t.contains(e.target)&&(Be.value=!1)},st=e=>{var t=document.querySelector(".nudity-info-popup");t&&!t.contains(e.target)&&Te.value&&!Te.value.contains(e.target)&&(Le.value=null)},ct=e=>{var t=document.querySelector(".nudity-info-popup");t&&!t.contains(e.target)&&Re.value&&!Re.value.contains(e.target)&&(Ae.value=void 0)};E(d(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t.value=!1,document.addEventListener("keydown",ot),window.addEventListener("resize",nt),setTimeout(at,100),document.addEventListener("click",lt),document.addEventListener("click",st,!0),document.addEventListener("click",ct,!0),window.selectedNudityTimings=Array.from(Oe.value),window.overlayNudityTimings=Array.from(Ne.value);case 11:case"end":return e.stop()}}),e)})))),ne(d(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.clearHeaderContent(),document.removeEventListener("keydown",ot),window.removeEventListener("resize",nt),document.removeEventListener("click",lt),document.removeEventListener("click",st,!0),document.removeEventListener("click",ct,!0),delete window.selectedNudityTimings,delete window.overlayNudityTimings;case 8:case"end":return e.stop()}}),e)})))),C((()=>N.params.kp_id),function(){var e=d(s().mark((function e(a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||a===D.value){e.next=7;break}return Z.clearHeaderContent(),D.value=a,ee.value=null,e.next=6,Qe();case 6:t.value=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{immediate:!0}),C(Y,(()=>{He()}),{deep:!0}),C(Le,(e=>{e?document.addEventListener("click",st,!0):document.removeEventListener("click",st,!0)}),{deep:!0}),C(Ae,(e=>{e?document.addEventListener("click",ct,!0):document.removeEventListener("click",ct,!0)}),{deep:!0}),C(Oe,(()=>{window.selectedNudityTimings=Array.from(Oe.value)}),{deep:!0}),C(Ne,(()=>{window.overlayNudityTimings=Array.from(Ne.value)}),{deep:!0}),E((()=>{window.selectedNudityTimings=Array.from(Oe.value),window.overlayNudityTimings=Array.from(Ne.value);var e=setInterval((()=>{if(window.obsSources&&Array.isArray(window.obsSources)&&(Ft.value=window.obsSources),window.getOBSFiltersInfo){var e=window.getOBSFiltersInfo();e&&Array.isArray(e)&&R.updateObsSettings({filtersFound:e})}}),1e3);ne((()=>{clearInterval(e)}))})),ne((()=>{delete window.selectedNudityTimings,delete window.overlayNudityTimings}));var dt=e=>{var t;return(null===(t=Y.value)||void 0===t||null===(t=t.staff)||void 0===t?void 0:t.filter((t=>t.profession_key===e)))||[]},ut=function(){var e=d(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(Le.value);case 3:Q.value.showNotification("Текст скопирован"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Ошибка копирования:",e.t0),Q.value.showNotification("Ошибка при копировании текста");case 10:return e.prev=10,Le.value=null,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,6,10,13]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=d(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Ae.value.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=Ae.value.map((e=>`${e.timing_text} (by @${e.username})`)).join("\n").concat("\nReYohoho\n"),e.next=6,navigator.clipboard.writeText(t);case 6:Q.value.showNotification("Текст скопирован"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Ошибка копирования:",e.t0),Q.value.showNotification("Ошибка при копировании текста");case 13:return e.prev=13,Ae.value=void 0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),pt=()=>{var e=encodeURIComponent(Le.value);window.open(`https://translate.google.com/?sl=en&tl=ru&text=${e}`,"_blank"),Le.value=null},mt=l({get:()=>n.submitterUsername,set:e=>n.setSubmitterUsername(e)}),bt=i(""),ft=i(!1),gt=l((()=>{if(!bt.value.trim())return[];try{return ye(bt.value,!0)||[]}catch(e){return console.error("Error parsing timing text:",e),[]}})),ht=l((()=>mt.value.trim()&&bt.value.trim())),xt=function(){var e=d(s().mark((function e(){var t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht.value&&!ft.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,ft.value=!0,e.next=6,ue(D.value,mt.value.trim(),bt.value);case 6:Q.value.showNotification("Тайминг отправлен на модерацию, спасибо!"),bt.value="",kt.value=!1,e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),t=O(e.t0),a=t.message,Q.value.showNotification(a,5e3);case 15:return e.prev=15,ft.value=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=d(s().mark((function e(){var t,a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de();case 3:t=e.sent,a=t.submissions,wt.value=a,_t.value=!0,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n=O(e.t0),o=n.message,Q.value.showNotification(o);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),kt=i(!1),wt=i([]),_t=i(!1),Ct=i(!1),Et=i([]),It=i(!1),Mt=i(!1),Lt=i(null),zt=i(!1),jt=i(!1),St=i("all"),Tt=i(!1),Bt=i(!1),At=l({get:()=>R.obsSettings.enabled,set:e=>R.updateObsSettings({enabled:e})}),Rt=l({get:()=>R.obsSettings.host,set:e=>R.updateObsSettings({host:e})}),Ot=l({get:()=>R.obsSettings.port,set:e=>R.updateObsSettings({port:e})}),Nt=l({get:()=>R.obsSettings.password,set:e=>R.updateObsSettings({password:e})}),Pt=l((()=>R.obsSettings.connected)),Ft=i([]),Ut=l((()=>R.obsSettings.filtersFound)),Dt=l({get:()=>R.obsSettings.selectedFilterId,set:e=>R.setObsSelectedFilter(e)}),qt=l((()=>Dt.value?Ut.value.find((e=>e.id===Dt.value)):null)),Ht=l({get:()=>R.obsSettings.showObsInOverlay,set:e=>R.updateObsSettings({showObsInOverlay:e})}),Vt=function(){var e=d(s().mark((function e(t){var a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Mt.value=!0,Lt.value=t,zt.value=!0,jt.value=!1,e.next=9,pe(t);case 9:(a=Et.value.find((e=>e.id===t)))&&(a.status="approved"),Q.value.showNotification("Тайминг одобрен"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=O(e.t0),o=n.message,Q.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Mt.value=!1,Lt.value=null,zt.value=!1,jt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),Yt=function(){var e=d(s().mark((function e(t){var a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Mt.value=!0,Lt.value=t,zt.value=!1,jt.value=!1,e.next=9,me(t);case 9:(a=Et.value.find((e=>e.id===t)))&&(a.status="rejected"),Q.value.showNotification("Тайминг отклонен"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=O(e.t0),o=n.message,Q.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Mt.value=!1,Lt.value=null,zt.value=!1,jt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=d(s().mark((function e(t){var a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Mt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Mt.value=!0,Lt.value=t,zt.value=!1,jt.value=!0,e.next=9,be(t);case 9:(a=Et.value.find((e=>e.id===t)))&&(a.status="clean_text"),Q.value.showNotification("Тайминг отмечен как clean_text"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=O(e.t0),o=n.message,Q.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Mt.value=!1,Lt.value=null,zt.value=!1,jt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=d(s().mark((function e(){var t,a,n,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!It.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,It.value=!0,Ct.value=!0,e.next=7,ve();case 7:t=e.sent,a=t.timings,Et.value=a,e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),n=O(e.t0),o=n.message,Q.value.showNotification(o),Ct.value=!1;case 17:return e.prev=17,It.value=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,12,17,20]])})));return function(){return e.apply(this,arguments)}}(),Zt=l((()=>"all"===St.value?Et.value:Et.value.filter((e=>e.status===St.value)))),Xt=e=>{Oe.value.has(e)?Oe.value.delete(e):Oe.value.add(e)},Qt=i({});var Jt=l((()=>!!window.electronAPI));var ea=e=>{Ne.value.has(e)?Ne.value.delete(e):Ne.value.add(e)};function ta(){Pe.value=!Pe.value}function aa(){$e.value=!$e.value}function na(){var e=[];if(Ae.value&&Array.isArray(Ae.value)){var t,a=r(Ae.value);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(Oe.value.has(n.id)){var o=ye(n.timing_text,!0);o&&o.length>0&&e.push(...o)}}}catch(i){a.e(i)}finally{a.f()}}return e}function ra(){var e=[];if(Ae.value&&Array.isArray(Ae.value)&&Ae.value.length>0){var t,a=r(Ae.value);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(Ne.value.has(n.id)){var o=ye(n.timing_text,!0);o&&o.length>0&&e.push(...o)}}}catch(i){a.e(i)}finally{a.f()}}return e}var ia=()=>{At.value&&la()},la=function(){var e=d(s().mark((function e(){var t,a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bt.value){e.next=2;break}return e.abrupt("return");case 2:if(Bt.value=!0,e.prev=3,!window.connectToOBS){e.next=11;break}return e.next=7,window.connectToOBS();case 7:setTimeout((()=>{window.obsSources&&(Ft.value=window.obsSources)}),1e3),null===(t=Q.value)||void 0===t||t.showNotification("Подключение к OBS..."),e.next=12;break;case 11:null===(a=Q.value)||void 0===a||a.showNotification("Плеер не загружен");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Error connecting to OBS:",e.t0),null===(n=Q.value)||void 0===n||n.showNotification("Ошибка подключения к OBS");case 18:return e.prev=18,Bt.value=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),sa=()=>{var e,t;Dt.value?window.testOBSBlur?window.testOBSBlur(Dt.value):null===(e=Q.value)||void 0===e||e.showNotification("OBS функции недоступны"):null===(t=Q.value)||void 0===t||t.showNotification("Выберите фильтр для тестирования")},ca=()=>{var e,t;window.refreshOBSFilters?(window.refreshOBSFilters(),null===(e=Q.value)||void 0===e||e.showNotification("Поиск фильтров...")):null===(t=Q.value)||void 0===t||t.showNotification("OBS функции недоступны")},da=()=>{var e,t;Dt.value&&(null===(e=Q.value)||void 0===e||e.showNotification(`Выбран фильтр: ${null===(t=qt.value)||void 0===t?void 0:t.sourceName}`))};return(e,r)=>{var i,l,s,d,y,k,w,_,C,E,I=W("router-link");return u(),c(b,null,[v("div",Vn,[v("div",Yn,[!t.value&&Y.value||q.value?f("",!0):(u(),c("div",Wn,[v("div",Kn,[r[35]||(r[35]=G('<div class="movie-skeleton__header" data-v-793cb6b0><div class="movie-skeleton__title" data-v-793cb6b0></div></div><div class="movie-skeleton__ratings" data-v-793cb6b0><div class="movie-skeleton__rating-item" data-v-793cb6b0></div><div class="movie-skeleton__rating-item" data-v-793cb6b0></div><div class="movie-skeleton__rating-item" data-v-793cb6b0></div></div>',2)),v("div",Gn,[z(Ee)]),r[36]||(r[36]=G('<div class="movie-skeleton__additional-info" data-v-793cb6b0><div class="movie-skeleton__section-title" data-v-793cb6b0></div><div class="movie-skeleton__info-list" data-v-793cb6b0><div class="movie-skeleton__info-item" data-v-793cb6b0></div><div class="movie-skeleton__info-item" data-v-793cb6b0></div><div class="movie-skeleton__info-item" data-v-793cb6b0></div><div class="movie-skeleton__info-item" data-v-793cb6b0></div><div class="movie-skeleton__info-item" data-v-793cb6b0></div></div></div><div class="movie-skeleton__description" data-v-793cb6b0><div class="movie-skeleton__description-line" data-v-793cb6b0></div><div class="movie-skeleton__description-line" data-v-793cb6b0></div><div class="movie-skeleton__description-line" data-v-793cb6b0></div><div class="movie-skeleton__description-line" data-v-793cb6b0></div></div>',2))])])),q.value?(u(),M(L,{key:1,message:q.value,code:H.value},null,8,["message","code"])):f("",!0),q.value?(u(),c("div",Zn,[(u(),M($t,{key:D.value,"kp-id":D.value,"movie-info":Y.value,"onUpdate:movieInfo":Qe},null,8,["kp-id","movie-info"]))])):f("",!0),Y.value&&!t.value?(u(),c("div",Xn,[v("div",Qn,[Y.value.logo_url?(u(),c("div",{key:0,class:"content-logo",onMousemove:Ze,onMouseleave:r[0]||(r[0]=e=>Ke.value=!1),onClick:Xe},[v("img",{src:Y.value.logo_url,alt:"Логотип фильма",class:"content-logo"},null,8,Jn)],32)):(u(),c("div",{key:1,onMousemove:Ze,onMouseleave:r[1]||(r[1]=e=>Ke.value=!1),onClick:Xe},[v("h1",eo,m(Y.value.title),1)],32)),S(v("div",{class:"title-copy-tooltip",style:j(Ge.value)}," Скопировать ",4),[[T,Ke.value]])]),Y.value.kinopoisk_id||Y.value.title||Y.value.imdb_id||Y.value.rating_imdb||Y.value.shikimori_id?(u(),c("div",to,[Y.value.kinopoisk_id?(u(),M(oa,{key:Y.value.kinopoisk_id,"kp-id":Y.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):f("",!0),Y.value.kinopoisk_id?(u(),c("div",ao,[v("a",{href:`https://www.kinopoisk.ru/film/${Y.value.kinopoisk_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:Y.value.rating_kinopoisk_vote_count?`Оценок: ${Ve(Y.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[r[37]||(r[37]=v("img",{src:ge,alt:"КП",class:"rating-logo"},null,-1)),v("span",{class:h(["rating-value",B(F)(Y.value.rating_kinopoisk)])},m(Y.value.rating_kinopoisk?Y.value.rating_kinopoisk:"—"),3),r[38]||(r[38]=v("img",{src:je,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,no)])):f("",!0),!Y.value.kinopoisk_id&&Y.value.title?(u(),c("div",oo,[v("a",{href:`https://www.kinopoisk.ru/index.php?kp_query=${encodeURIComponent(Y.value.title+(Y.value.year?" "+Y.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:Y.value.rating_kinopoisk_vote_count?`Оценок: ${Ve(Y.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[r[39]||(r[39]=v("img",{src:ge,alt:"КП",class:"rating-logo"},null,-1)),v("span",{class:h(["rating-value",B(F)(Y.value.rating_kinopoisk)])},m(Y.value.rating_kinopoisk?Y.value.rating_kinopoisk:"—"),3),r[40]||(r[40]=v("img",{src:je,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,ro)])):f("",!0),Y.value.imdb_id?(u(),c("div",io,[v("a",{href:`https://www.imdb.com/title/${Y.value.imdb_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:Y.value.rating_imdb_vote_count?`Оценок: ${Ve(Y.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[r[41]||(r[41]=v("img",{src:he,alt:"IMDb",class:"rating-logo"},null,-1)),v("span",{class:h(["rating-value",B(F)(Y.value.rating_imdb)])},m(Y.value.rating_imdb?Y.value.rating_imdb:"—"),3),r[42]||(r[42]=v("img",{src:je,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,lo)])):f("",!0),!Y.value.imdb_id&&Y.value.title?(u(),c("div",so,[v("a",{href:`https://www.imdb.com/find/?q=${encodeURIComponent(Y.value.title+(Y.value.year?" "+Y.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:Y.value.rating_imdb_vote_count?`Оценок: ${Ve(Y.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[r[43]||(r[43]=v("img",{src:he,alt:"IMDb",class:"rating-logo"},null,-1)),v("span",{class:h(["rating-value",B(F)(Y.value.rating_imdb)])},m(Y.value.rating_imdb?Y.value.rating_imdb:"—"),3),r[44]||(r[44]=v("img",{src:je,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,co)])):f("",!0),Y.value.shikimori_id?(u(),c("div",uo,[v("a",{href:`https://shikimori.one/animes/${Y.value.shikimori_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link"},r[45]||(r[45]=[v("img",{src:"/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",alt:"Shiki",class:"rating-logo"},null,-1),v("img",{src:je,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,vo)])):f("",!0),Y.value.imdb_id?(u(),c("button",{key:6,class:"nudity-info-btn parents-guide-btn",onClick:r[2]||(r[2]=e=>rt(e)),onMousedown:r[3]||(r[3]=e=>{var t;1===(t=e).button&&(t.preventDefault(),rt(t))}),title:Le.value?"Скрыть информацию":"Показать Parents Guide и информацию о сценах"},[r[46]||(r[46]=v("span",{class:"desktop-text"},"Parents Guide",-1)),r[47]||(r[47]=v("span",{class:"mobile-text"},"PG",-1)),Se.value?(u(),c("i",bo)):(u(),c("i",mo))],40,po)):f("",!0),v("button",{class:"nudity-info-btn",onClick:r[4]||(r[4]=e=>{return t=e,Le.value=null,void(void 0===Ae.value?(Re.value=t.currentTarget,Ae.value=null===(null===(a=Y.value)||void 0===a?void 0:a.nudity_timings)?"":(null===(n=Y.value)||void 0===n?void 0:n.nudity_timings)||""):Ae.value=void 0);var t,a,n}),title:void 0!==Ae.value?"Скрыть тайминги":"Показать тайминги сцен 18+(для твича, мигание отключается в настройках)"},[v("i",{class:h(["fa-regular fa-clock",{"text-red":Fe.value,"text-red-blink":Ue.value}])},null,2)],8,fo)])):f("",!0),(u(),M($t,{key:D.value,"kp-id":D.value,"movie-info":Y.value,"onUpdate:movieInfo":Qe},null,8,["kp-id","movie-info"])),B(n).isMobile?(u(),c("div",go,[v("button",{class:h(["mobile-list-toggle",{}]),onClick:r[5]||(r[5]=e=>Be.value=!Be.value)},[v("span",{class:h(["material-icons",{active:De.value}])},m(De.value?"bookmark_added":"bookmark_border"),3),r[48]||(r[48]=v("span",{class:"button-label"},"Добавить в список",-1)),v("span",{class:h(["material-icons dropdown-arrow",{expanded:Be.value}])},"expand_more",2)]),S(v("div",ho,[v("button",{class:h(["mobile-list-btn",{}]),onClick:r[6]||(r[6]=e=>it(B(A).FAVORITE))},[v("span",{class:h(["material-icons",{active:null===(i=Y.value)||void 0===i||null===(i=i.lists)||void 0===i?void 0:i.isFavorite}])},m(null!==(l=Y.value)&&void 0!==l&&null!==(l=l.lists)&&void 0!==l&&l.isFavorite?"favorite":"favorite_border"),3),r[49]||(r[49]=v("span",{class:"button-label"},"В избранное",-1))]),v("button",{class:h(["mobile-list-btn",{}]),onClick:r[7]||(r[7]=e=>it(B(A).WATCHING))},[v("span",{class:h(["material-icons",{active:null===(s=Y.value)||void 0===s||null===(s=s.lists)||void 0===s?void 0:s.isWatching}])},m(null!==(d=Y.value)&&void 0!==d&&null!==(d=d.lists)&&void 0!==d&&d.isWatching?"visibility":"visibility_off"),3),r[50]||(r[50]=v("span",{class:"button-label"},"Смотрю",-1))]),v("button",{class:h(["mobile-list-btn",{}]),onClick:r[8]||(r[8]=e=>it(B(A).LATER))},[v("span",{class:h(["material-icons",{active:null===(y=Y.value)||void 0===y||null===(y=y.lists)||void 0===y?void 0:y.isLater}])},"watch_later",2),r[51]||(r[51]=v("span",{class:"button-label"},"Позже",-1))]),v("button",{class:h(["mobile-list-btn",{}]),onClick:r[9]||(r[9]=e=>it(B(A).COMPLETED))},[v("span",{class:h(["material-icons",{active:null===(k=Y.value)||void 0===k||null===(k=k.lists)||void 0===k?void 0:k.isCompleted}])},m(null!==(w=Y.value)&&void 0!==w&&null!==(w=w.lists)&&void 0!==w&&w.isCompleted?"check_circle":"check_circle_outline"),3),r[52]||(r[52]=v("span",{class:"button-label"},"Просмотрено",-1))]),v("button",{class:h(["mobile-list-btn",{}]),onClick:r[10]||(r[10]=e=>it(B(A).ABANDONED))},[v("span",{class:h(["material-icons",{active:null===(_=Y.value)||void 0===_||null===(_=_.lists)||void 0===_?void 0:_.isAbandoned}])},"not_interested",2),r[53]||(r[53]=v("span",{class:"button-label"},"Брошено",-1))])],512),[[T,Be.value]])])):f("",!0),v("meta",{name:"title-and-year",content:"FILM"===Y.value.type&&Y.value.year?`${Y.value.title} (${Y.value.year})`:Y.value.title},null,8,xo),Y.value.name_original?(u(),c("meta",{key:2,name:"original-title",content:Y.value.name_original},null,8,yo)):f("",!0),v("div",ko,[r[64]||(r[64]=v("h2",{class:"additional-info-title"},"Подробнее",-1)),v("div",wo,[Y.value.poster_url?(u(),c("div",_o,[v("a",{href:Y.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[v("img",{src:Y.value.poster_url,alt:"Постер фильма",class:"movie-poster"},null,8,Eo)],8,Co)])):f("",!0),v("div",Io,[v("ul",Mo,[Y.value.type&&B(oe)[Y.value.type]?(u(),c("li",Lo,[r[54]||(r[54]=v("strong",null,"Тип:",-1)),p(" "+m(B(oe)[Y.value.type]),1)])):f("",!0),Y.value.year?(u(),c("li",zo,[r[55]||(r[55]=v("strong",null,"Год выпуска:",-1)),p(" "+m(Y.value.year),1)])):f("",!0),Y.value.title?(u(),c("li",jo,[r[56]||(r[56]=v("strong",null,"Название:",-1)),p(" "+m(Y.value.title),1)])):f("",!0),Y.value.name_original?(u(),c("li",So,[r[57]||(r[57]=v("strong",null,"Оригинальное название:",-1)),p(" "+m(Y.value.name_original),1)])):f("",!0),Y.value.slogan?(u(),c("li",To,[r[58]||(r[58]=v("strong",null,"Слоган:",-1)),p(" "+m(Y.value.slogan),1)])):f("",!0),Y.value.production_companies?(u(),c("li",Bo,[r[59]||(r[59]=v("strong",null,"Продакшн:",-1)),p(" "+m(Y.value.production_companies),1)])):f("",!0),null!==(C=Y.value.countries)&&void 0!==C&&C.length?(u(),c("li",Ao,[r[60]||(r[60]=v("strong",null,"Страна производства:",-1)),p(" "+m(Y.value.countries.map((e=>e.country)).join(", ")),1)])):f("",!0),null!==(E=Y.value.genres)&&void 0!==E&&E.length?(u(),c("li",Ro,[r[61]||(r[61]=v("strong",null,"Жанры:",-1)),p(" "+m(Y.value.genres.map((e=>e.genre)).join(", ")),1)])):f("",!0),Y.value.film_length?(u(),c("li",Oo,[r[62]||(r[62]=v("strong",null,"Продолжительность:",-1)),p(" "+m(We(Y.value.film_length)),1)])):f("",!0),Y.value.rating_mpaa||Y.value.rating_age_limits?(u(),c("li",No,[Y.value.rating_mpaa?(u(),c("div",Po,[r[63]||(r[63]=v("strong",null,"MPAA",-1)),v("span",null,m(Y.value.rating_mpaa.toUpperCase()),1)])):f("",!0),Y.value.rating_age_limits?(u(),c("div",$o,[v("strong",null,m(Y.value.rating_age_limits.replace("age",""))+"+",1)])):f("",!0)])):f("",!0)]),v("div",Fo,[Y.value.description?(u(),c("p",Uo,m(Y.value.description),1)):f("",!0)])])])]),qe.value?(u(),c("div",Do,[(u(),M(Hn,{"movie-id":D.value,key:D.value},null,8,["movie-id"]))])):f("",!0),Y.value.staff?(u(),c("div",qo,[v("div",Ho,[dt("ACTOR").length?(u(),c("div",Vo,[r[65]||(r[65]=v("h3",{class:"additional-info-title"},"Актёры",-1)),v("div",Yo,[(u(!0),c(b,null,g(dt("ACTOR").slice(0,12),(e=>(u(),c("div",{key:e.staff_id,class:"staff-item"},[v("a",{href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:e.description||""},[v("img",{src:e.poster_url,alt:e.name_ru,class:"staff-photo"},null,8,Ko),v("span",Go,m(e.name_ru||e.name_en),1),e.description?(u(),c("span",Zo,m(e.description),1)):f("",!0)],8,Wo)])))),128)),v("a",{class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${D.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${dt("ACTOR").length} актеров`}," +"+m(dt("ACTOR").length-12),9,Xo)])])):f("",!0),dt("DIRECTOR").length?(u(),c("div",Qo,[r[66]||(r[66]=v("h3",{class:"additional-info-title"},"Режиссёры",-1)),v("div",Jo,[v("div",er,[(u(!0),c(b,null,g(dt("DIRECTOR").slice(0,5),(e=>(u(),c("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},m(e.name_ru||e.name_en),9,tr)))),128)),dt("DIRECTOR").length>5?(u(),c("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${D.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${dt("DIRECTOR").length} режиссёров`}," +"+m(dt("DIRECTOR").length-5),9,ar)):f("",!0)])])])):f("",!0),dt("PRODUCER").length?(u(),c("div",nr,[r[67]||(r[67]=v("h3",{class:"additional-info-title"},"Продюсеры",-1)),v("div",or,[v("div",rr,[(u(!0),c(b,null,g(dt("PRODUCER").slice(0,5),(e=>(u(),c("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},m(e.name_ru||e.name_en),9,ir)))),128)),dt("PRODUCER").length>5?(u(),c("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${D.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${dt("PRODUCER").length} продюсеров`}," +"+m(dt("PRODUCER").length-5),9,lr)):f("",!0)])])])):f("",!0)])])):f("",!0),Je.value.length&&J.value?(u(),c("div",sr,[z(Kt,{videos:Je.value,"active-video-index":ee.value,onSelect:e.playTrailer},null,8,["videos","active-video-index","onSelect"])])):f("",!0),et.value.length?(u(),c("div",cr,[r[68]||(r[68]=v("h2",null,"Сиквелы и приквелы",-1)),z(B(xe),{"movies-list":fe.value?et.value:et.value.slice(0,_e.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),et.value.length>_e.value?(u(),c("a",{key:0,class:"expand-circle-button",onClick:r[11]||(r[11]=e=>fe.value=!fe.value),title:`${fe.value?"Скрыть":"Показать все"} (${et.value.length})`},m(fe.value?"−":"+"+(et.value.length-_e.value)),9,dr)):f("",!0)])):f("",!0),tt.value.length?(u(),c("div",ur,[r[69]||(r[69]=v("h2",null,"Похожие",-1)),z(B(xe),{"movies-list":we.value?tt.value:tt.value.slice(0,_e.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),tt.value.length>_e.value?(u(),c("a",{key:0,class:"expand-circle-button",onClick:r[12]||(r[12]=e=>we.value=!we.value),title:`${we.value?"Скрыть":"Показать все"} (${tt.value.length})`},m(we.value?"−":"+"+(tt.value.length-_e.value)),9,vr)):f("",!0)])):f("",!0)])):f("",!0)])]),z(Ie,{ref_key:"notificationRef",ref:Q},null,512),null!==Le.value?(u(),c("div",pr,[v("div",mr,[Se.value?(u(),c("div",br,r[70]||(r[70]=[v("i",{class:"fas fa-spinner fa-spin"},null,-1),v("span",null,"Загрузка информации...",-1)]))):(u(),c("div",fr,m(Le.value),1))]),v("div",gr,[v("a",{href:`https://www.imdb.com/title/${Y.value.imdb_id}/parentalguide`,target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},r[71]||(r[71]=[v("i",{class:"fas fa-external-link-alt"},null,-1),v("span",null,"Parents Guide",-1)]),8,hr),v("button",{class:"nudity-info-button",onClick:ut},r[72]||(r[72]=[v("i",{class:"fas fa-copy"},null,-1),v("span",null,"Copy",-1)])),v("button",{class:"nudity-info-button",onClick:pt},r[73]||(r[73]=[v("i",{class:"fas fa-language"},null,-1),v("span",null,"Translate",-1)]))])])):f("",!0),void 0!==Ae.value?(u(),c("div",xr,[v("div",yr,[v("div",{class:"acknowledgment-table"},[r[76]||(r[76]=v("div",{class:"acknowledgment-header"},[v("i",{class:"fa-solid fa-heart"}),v("span",null,"Благодарности")],-1)),v("div",{class:"acknowledgment-content"},[r[75]||(r[75]=v("div",{class:"acknowledgment-row"},[v("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[v("i",{class:"fa-brands fa-twitch"}),v("span",null,"TanyaBelkova")]),v("span",{class:"acknowledgment-text"},"— за основу базы таймингов")],-1)),v("div",{class:"acknowledgment-row clickable",onClick:yt},r[74]||(r[74]=[v("div",{class:"community-link"},[v("i",{class:"fa-solid fa-users"}),v("span",null,"Сообщество")],-1),v("span",{class:"acknowledgment-text"},"— за добавление таймингов",-1)]))])]),v("div",{class:h(["timings-content",{"no-border":!Ae.value}])},[v("div",kr,[Ae.value.length>0?(u(),c("div",wr,[(u(!0),c(b,null,g(Ae.value,(e=>{var t;return u(),c("div",{key:e.id,class:h(["timing-entry",{pending:"pending"===e.status,"clean-text":"clean_text"===e.status,selected:Oe.value.has(e.id)}])},[v("div",_r,[v("div",Cr,["pending"===e.status?(u(),c("div",Er,"На модерации")):f("",!0),"clean_text"===e.status?(u(),c("div",Ir," Тайминги такого типа не модерируются, для уверенности сверяйтесь с ParentsGuide ")):f("",!0)]),"clean_text"!==e.status&&"FILM"===(null===(t=Y.value)||void 0===t?void 0:t.type)?(u(),c("div",Mr,[v("button",{class:"nudity-info-button",onClick:t=>function(e){if(Qt.value[e.id])Qt.value=a(a({},Qt.value),{},{[e.id]:!1});else{var t=ye(e.timing_text,!0);Qt.value=a(a({},Qt.value),{},{[e.id]:t})}}(e)},m(Qt.value[e.id]?"Скрыть парсер":"Показать парсер"),9,Lr),Oe.value.has(e.id)?(u(),c("button",{key:0,class:"nudity-info-button",onClick:t=>{return a=e.id,void(Jt.value?Xt(a):Q.value?Q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Удалить из автоблюра"},r[77]||(r[77]=[v("i",{class:"fas fa-minus"},null,-1),v("span",null,"Удалить из автоблюра",-1)]),8,zr)):(u(),c("button",{key:1,class:"nudity-info-button",onClick:t=>{return a=e.id,void(Jt.value?Xt(a):Q.value?Q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Добавить в автоблюр"},r[78]||(r[78]=[v("i",{class:"fas fa-plus"},null,-1),v("span",null,"Добавить в автоблюр",-1)]),8,jr)),Ne.value.has(e.id)?(u(),c("button",{key:2,class:"nudity-info-button overlay-button",onClick:t=>{return a=e.id,void(Jt.value?ea(a):Q.value?Q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Удалить из оверлея"},r[79]||(r[79]=[v("i",{class:"fas fa-eye-slash"},null,-1),v("span",null,"Удалить из оверлея",-1)]),8,Sr)):(u(),c("button",{key:3,class:"nudity-info-button overlay-button",onClick:t=>{return a=e.id,void(Jt.value?ea(a):Q.value?Q.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Добавить в оверлей"},r[80]||(r[80]=[v("i",{class:"fas fa-eye"},null,-1),v("span",null,"Добавить в оверлей",-1)]),8,Tr))])):f("",!0),v("div",{class:h(["timing-hover-container",{blurred:"pending"===e.status}])},[v("span",Br,m(e.timing_text),1),r[81]||(r[81]=v("br",null,null,-1)),v("span",Ar,"by "+m(e.username),1)],2),Qt.value[e.id]&&Array.isArray(Qt.value[e.id])?(u(),c("div",Rr,[r[82]||(r[82]=v("b",null,"Парсер(к таймингам добавится -1 и +1 секунд по краям тайминга для предосторожности, но в превью парсера их нет для удобства проверки):",-1)),0===Qt.value[e.id].length?(u(),c("span",Or,"Не удалось распарсить")):(u(),c("span",Nr,[(u(!0),c(b,null,g(Qt.value[e.id],((t,a)=>(u(),c("span",{key:a}," ["+m(B(ke)(t[0]))+" - "+m(B(ke)(t[1]))+"]"+m(a<Qt.value[e.id].length-1?", ":""),1)))),128))]))])):f("",!0)])],2)})),128))])):(u(),c("div",Pr,m("Записей о таймингах не найдено")))]),Pe.value&&Oe.value.size>0?(u(),c("div",$r,[v("h4",Fr," Общий парсер ("+m(Oe.value.size)+" таймингов): ",1),v("div",Ur,[0===na().length?(u(),c("span",Dr,"Не удалось распарсить выбранные тайминги")):(u(),c("span",qr,[(u(!0),c(b,null,g(na(),((e,t)=>(u(),c("span",{key:t}," ["+m(B(ke)(e[0]))+" - "+m(B(ke)(e[1]))+"]"+m(t<na().length-1?", ":""),1)))),128))]))])])):f("",!0),$e.value&&Ne.value.size>0?(u(),c("div",Hr,[v("h4",Vr," Парсер оверлея ("+m(Ne.value.size)+" таймингов): ",1),v("div",Yr,[0===ra().length?(u(),c("span",Wr,"Не удалось распарсить выбранные тайминги")):(u(),c("span",Kr,[(u(!0),c(b,null,g(ra(),((e,t)=>(u(),c("span",{key:t}," ["+m(B(ke)(e[0]))+" - "+m(B(ke)(e[1]))+"]"+m(t<ra().length-1?", ":""),1)))),128))]))])])):f("",!0),v("div",Gr,[Ae.value.length>0?(u(),c("button",{key:0,class:"nudity-info-button",onClick:vt},r[83]||(r[83]=[v("i",{class:"fas fa-copy"},null,-1),v("span",null,"Скопировать",-1)]))):f("",!0),Oe.value.size>0?(u(),c("button",{key:1,class:"nudity-info-button",onClick:ta},[r[84]||(r[84]=v("i",{class:"fas fa-eye"},null,-1)),v("span",null,"Общий парсер ("+m(Oe.value.size)+")",1)])):f("",!0),Ne.value.size>0?(u(),c("button",{key:2,class:"nudity-info-button overlay-button",onClick:aa},[r[85]||(r[85]=v("i",{class:"fas fa-layer-group"},null,-1)),v("span",null,"Парсер оверлея ("+m(Ne.value.size)+")",1)])):f("",!0),v("button",{class:"nudity-info-button",onClick:r[13]||(r[13]=e=>kt.value=!0)},r[86]||(r[86]=[v("i",{class:"fas fa-plus"},null,-1),v("span",null,"Добавить/дополнить тайминг",-1)])),Jt.value?(u(),c("button",{key:3,class:"nudity-info-button obs-button",onClick:r[14]||(r[14]=e=>Tt.value=!0)},r[87]||(r[87]=[v("i",{class:"fas fa-cog"},null,-1),v("span",null,"Настройки OBS",-1)]))):f("",!0)])],2)])])):f("",!0),kt.value?(u(),c("div",Zr,[v("div",Xr,[v("div",Qr,[r[89]||(r[89]=v("h3",null,"Добавить тайминг",-1)),v("button",{class:"close-modal-btn",onClick:r[15]||(r[15]=e=>kt.value=!1)},r[88]||(r[88]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",Jr,[S(v("input",{"onUpdate:modelValue":r[16]||(r[16]=e=>mt.value=e),placeholder:"Ваш ник",class:"timing-input",maxlength:"50"},null,512),[[V,mt.value]]),S(v("textarea",{"onUpdate:modelValue":r[17]||(r[17]=e=>bt.value=e),placeholder:"Пожалуйста, указывайте длительность фильма(в [] скобках, например [01:36] или [01:36:55]), к которому вы прилагаете тайминг\nТк же для автоблюра прошу все тайминги указывать как диапозон, а не конкретное время, например 00:12:31-00:13:04 - текст, а не 00:12:31\nДля сериалов указывайте сезон и номер эпизода\n",class:"timing-textarea"},null,512),[[V,bt.value]]),gt.value&&gt.value.length>0?(u(),c("div",ei,[r[90]||(r[90]=v("div",{class:"timing-preview-header"},[v("i",{class:"fas fa-eye"}),v("span",null,"Предпросмотр парсера")],-1)),v("div",ti,[(u(!0),c(b,null,g(gt.value,((e,t)=>(u(),c("div",{key:t,class:"timing-preview-item"},[v("span",ai,m(B(ke)(e[0]))+" - "+m(B(ke)(e[1])),1),v("span",ni," ("+m(Math.round(e[1]-e[0]))+"с) ",1)])))),128))])])):f("",!0),v("div",oi,[v("button",{class:"submit-timing-btn",onClick:xt,disabled:!ht.value||ft.value},[ft.value?(u(),c("i",ii)):(u(),c("span",li,"Отправить на модерацию"))],8,ri)])])])])):f("",!0),_t.value?(u(),c("div",{key:3,class:"modal-overlay",onClick:r[20]||(r[20]=e=>_t.value=!1)},[v("div",{class:"modal-content",onClick:r[19]||(r[19]=x((()=>{}),["stop"]))},[v("div",si,[r[92]||(r[92]=v("h3",null,[p(" Топ авторов таймингов "),v("span",{class:"hint-text"},[p("(Хотите добавить ссылку на свой стрим/соцсети? Напишите нам в "),v("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"телеграм"),p(")")])],-1)),v("div",ci,[v("button",{class:"close-modal-btn",onClick:r[18]||(r[18]=e=>_t.value=!1)},r[91]||(r[91]=[v("i",{class:"fas fa-times"},null,-1)]))])]),v("div",di,[v("button",{class:"show-all-timings-btn",onClick:Gt,disabled:It.value},[It.value?(u(),c("i",vi)):(u(),c("i",pi)),r[93]||(r[93]=v("span",null,"Все тайминги",-1))],8,ui),v("div",mi,[(u(!0),c(b,null,g(wt.value,((e,t)=>{return u(),c("div",{key:e.username,class:"top-submitter-item"},[v("div",{class:h(["submitter-rank",{gold:0===t,silver:1===t,bronze:2===t}])},m(t+1),3),v("div",bi,[v("div",fi,[e.stream_link?(u(),c("a",{key:0,href:e.stream_link,target:"_blank",rel:"noopener noreferrer"},[p(m(e.username)+" ",1),r[94]||(r[94]=v("i",{class:"fa-brands fa-twitch"},null,-1))],8,gi)):(u(),c(b,{key:1},[p(m(e.username),1)],64))]),v("div",hi,m(e.approved_submissions_count)+" "+m((n=e.approved_submissions_count,o=["фильм","фильма","фильмов"],o[n%100>4&&n%100<20?2:[2,0,1,1,1,2][Math.min(n%10,5)]])),1)]),v("div",xi,[v("div",{class:"contribution-bar",style:j({width:(a=e.approved_submissions_count,(wt.value.length?a/Math.max(...wt.value.map((e=>e.approved_submissions_count)))*100:0)+"%")})},null,4)])]);var a,n,o})),128))])])])])):f("",!0),Ct.value?(u(),c("div",{key:4,class:"modal-overlay",onClick:r[27]||(r[27]=e=>Ct.value=!1)},[v("div",{class:"modal-content all-timings-modal",onClick:r[26]||(r[26]=x((()=>{}),["stop"]))},[v("div",yi,[r[96]||(r[96]=v("h3",null,"Все тайминги",-1)),v("button",{class:"close-modal-btn",onClick:r[21]||(r[21]=e=>Ct.value=!1)},r[95]||(r[95]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",ki,[!It.value&&Et.value.length>0?(u(),c("div",wi,[v("button",{class:h(["timing-filter-btn",{active:"all"===St.value}]),onClick:r[22]||(r[22]=e=>St.value="all")}," Все ("+m(Et.value.length)+") ",3),v("button",{class:h(["timing-filter-btn",{active:"approved"===St.value}]),onClick:r[23]||(r[23]=e=>St.value="approved")}," Одобренные ("+m(Et.value.filter((e=>"approved"===e.status)).length)+") ",3),v("button",{class:h(["timing-filter-btn",{active:"pending"===St.value}]),onClick:r[24]||(r[24]=e=>St.value="pending")}," На модерации ("+m(Et.value.filter((e=>"pending"===e.status)).length)+") ",3),v("button",{class:h(["timing-filter-btn",{active:"clean_text"===St.value}]),onClick:r[25]||(r[25]=e=>St.value="clean_text")}," Не модерируются ("+m(Et.value.filter((e=>"clean_text"===e.status)).length)+") ",3)])):f("",!0),It.value?(u(),c("div",_i,r[97]||(r[97]=[v("i",{class:"fas fa-spinner fa-spin"},null,-1),v("span",null,"Загрузка всех таймингов...",-1)]))):0===Et.value.length?(u(),c("div",Ci,r[98]||(r[98]=[v("p",null,"Тайминги не найдены",-1)]))):0===Zt.value.length?(u(),c("div",Ei,r[99]||(r[99]=[v("p",null,"Тайминги по выбранному фильтру не найдены",-1)]))):(u(),c("div",Ii,[(u(!0),c(b,null,g(Zt.value,(e=>{var t,a;return u(),c("div",{key:e.id,class:h(["timing-item",{pending:"pending"===e.status,approved:"approved"===e.status,rejected:"rejected"===e.status,"clean-text":"clean_text"===e.status}])},[v("div",Mi,[v("div",Li,[v("span",{class:h(["timing-status",e.status])},m((a=e.status,{pending:"На модерации",approved:"Одобрено",rejected:"Отклонено",clean_text:"Не модерируется"}[a]||a)),3),v("span",zi,m(e.username),1),v("span",ji,m(B(Ce)(e.submitted_at)),1)]),v("div",Si,[z(I,{to:`/movie/${e.kp_id}`,class:"timing-kp-id clickable",title:`Перейти к фильму ${e.kp_id}`},{default:K((()=>[p(" KP: "+m(e.kp_id),1)])),_:2},1032,["to","title"]),null!==(t=B(o).user)&&void 0!==t&&t.is_admin&&"pending"===e.status?(u(),c("div",Ti,["pending"===e.status?(u(),c("button",{key:0,class:"approve-btn",onClick:t=>Vt(e.id),disabled:Mt.value,title:"Одобрить тайминг"},[Lt.value===e.id&&zt.value?(u(),c("i",Ai)):(u(),c("i",Ri))],8,Bi)):f("",!0),"pending"===e.status?(u(),c("button",{key:1,class:"reject-btn",onClick:t=>Yt(e.id),disabled:Mt.value,title:"Отклонить тайминг"},[Lt.value!==e.id||zt.value||jt.value?(u(),c("i",Pi)):(u(),c("i",Ni))],8,Oi)):f("",!0),"pending"===e.status?(u(),c("button",{key:2,class:"clean-text-btn",onClick:t=>Wt(e.id),disabled:Mt.value,title:"Отметить как clean_text"},[Lt.value===e.id&&jt.value?(u(),c("i",Fi)):(u(),c("i",Ui))],8,$i)):f("",!0)])):f("",!0)])]),v("div",Di,[v("pre",qi,m(e.timing_text),1)])],2)})),128))]))])])])):f("",!0),Tt.value?(u(),c("div",Hi,[v("div",Vi,[v("div",Yi,[r[101]||(r[101]=v("h3",null,"Настройки OBS WebSocket",-1)),v("button",{class:"close-modal-btn",onClick:r[28]||(r[28]=e=>Tt.value=!1)},r[100]||(r[100]=[v("i",{class:"fas fa-times"},null,-1)]))]),v("div",Wi,[v("div",Ki,[v("label",Gi,[S(v("input",{type:"checkbox","onUpdate:modelValue":r[29]||(r[29]=e=>At.value=e),onChange:ia},null,544),[[re,At.value]]),r[102]||(r[102]=v("span",null,"Использовать автоблюр в OBS",-1))]),r[103]||(r[103]=v("div",{class:"obs-setting-description"}," Если включено, автоблюр будет применяться через OBS WebSocket вместо внутреннего блюра ",-1))]),At.value?(u(),c("div",Zi,[v("div",Xi,[r[104]||(r[104]=v("label",null,"Хост OBS WebSocket:",-1)),S(v("input",{type:"text","onUpdate:modelValue":r[30]||(r[30]=e=>Rt.value=e),placeholder:"localhost",class:"obs-input"},null,512),[[V,Rt.value]])]),v("div",Qi,[r[105]||(r[105]=v("label",null,"Порт OBS WebSocket:",-1)),S(v("input",{type:"number","onUpdate:modelValue":r[31]||(r[31]=e=>Ot.value=e),placeholder:"4455",class:"obs-input"},null,512),[[V,Ot.value]])]),v("div",Ji,[r[106]||(r[106]=v("label",null,"Пароль (если установлен):",-1)),S(v("input",{type:"password","onUpdate:modelValue":r[32]||(r[32]=e=>Nt.value=e),placeholder:"Оставьте пустым если пароль не установлен",class:"obs-input"},null,512),[[V,Nt.value]])]),Pt.value?(u(),c("div",el,[r[109]||(r[109]=v("label",null,"Выбор фильтра для блюра:",-1)),0===Ut.value.length?(u(),c("div",tl," ⚠️ Фильтры не найдены в OBS. Убедитесь, что в источниках есть фильтры. ")):(u(),c("div",al,[S(v("select",{"onUpdate:modelValue":r[33]||(r[33]=e=>Dt.value=e),onChange:da,class:"obs-filter-select"},[r[107]||(r[107]=v("option",{value:""},"Выберите фильтр",-1)),(u(!0),c(b,null,g(Ut.value,(e=>(u(),c("option",{key:e.id,value:e.id},m(e.sourceName)+" - "+m(e.filterName)+" ("+m(e.sceneName)+") ",9,nl)))),128))],544),[[ie,Dt.value]]),qt.value?(u(),c("div",ol,[v("div",rl,[v("strong",null,m(qt.value.filterName),1),r[108]||(r[108]=p(" в источнике ")),v("strong",null,m(qt.value.sourceName),1)]),v("span",{class:h(["filter-status",{enabled:qt.value.enabled}])}," Статус: "+m(qt.value.enabled?"✅ Включен":"⭕ Отключен"),3)])):f("",!0),v("div",il," 💡 Найдено "+m(Ut.value.length)+" фильтров. Выберите любой для использования в качестве блюра. ",1)]))])):f("",!0),v("div",ll,[v("label",sl,[S(v("input",{type:"checkbox","onUpdate:modelValue":r[34]||(r[34]=e=>Ht.value=e)},null,512),[[re,Ht.value]]),r[110]||(r[110]=v("span",null,"Показывать статус OBS в видео оверлее",-1))]),r[111]||(r[111]=v("div",{class:"obs-setting-description"}," Отображает информацию о выбранном фильтре OBS в видео оверлее ",-1))]),v("div",{class:h(["obs-status",{connected:Pt.value}])},m(Pt.value?"Подключен к OBS":"Не подключен к OBS"),3),v("div",cl,[v("button",{class:"obs-action-btn connect-btn",onClick:la,disabled:Bt.value},[Bt.value?(u(),c("i",ul)):(u(),c("i",vl)),p(" "+m(Pt.value?"Переподключиться":"Подключиться"),1)],8,dl),v("button",{class:"obs-action-btn test-btn",onClick:sa,disabled:!Pt.value||0===Ut.value.length},r[112]||(r[112]=[v("i",{class:"fas fa-eye"},null,-1),p(" Тестировать блюр ")]),8,pl),v("button",{class:"obs-action-btn refresh-btn",onClick:ca,disabled:!Pt.value},r[113]||(r[113]=[v("i",{class:"fas fa-sync"},null,-1),p(" Обновить фильтры ")]),8,ml)])])):f("",!0)])])])):f("",!0)],64)}}};e("default",n(bl,[["__scopeId","data-v-793cb6b0"]]))}}}))}();

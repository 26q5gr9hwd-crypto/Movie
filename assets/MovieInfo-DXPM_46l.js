import{_ as De,v as Ht,c as N,r as f,o as it,A as Me,X as Cn,b as a,j as m,d as e,u as ee,Y as It,F as G,f as ne,t as c,i,n as S,Z as no,z as oo,B as Se,s as at,$ as Ie,G as Dt,a0 as so,a1 as lo,a2 as En,e as Z,w as Vt,p as ae,l as O,a3 as ht,k as Ft,m as Ze,x as Ln,a4 as io,a5 as ao,a6 as ro,a7 as uo,a8 as gn,a9 as co,S as vo,aa as mo,a as Ot,ab as Mt,E as fo,D as q,ac as St,U as $,ad as kn,ae as yn,af as go,ag as ko,O as yo,ah as hn,K as ce,ai as ho,aj as bo,ak as po,al as _o,am as wo,an as Co,ao as Eo,ap as Lo,aq as Mo,ar as So,as as He,at as Io,au as To,av as xo,aw as Ro,ax as No,ay as Po}from"./index-DlZlNxKr.js";import{a as bn,b as pn}from"./icon-imdb-logo-5qtstUwS.js";import{P as _n,M as jo,_ as yt,a as Bo}from"./MovieRating-ZKktdiAq.js";import{M as wn}from"./MovieList-CWnNpZVf.js";import{S as Uo}from"./SpinnerLoading-D0qeAUMs.js";import{u as Ao}from"./player-LDsFfak9.js";import{N as Mn}from"./ToastMessage-C1junMIk.js";import{u as Oo}from"./trailer-DS-9sJc-.js";import{u as Sn}from"./useCommentFormatting-DS4y-Q7C.js";const Vo={key:0,class:"carousel-container"},Fo={class:"carousel-wrapper"},Ho=["onClick"],Do=["src","alt"],qo={class:"video-name"},zo={key:0,class:"video-player"},Wo=["src"],Ko={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(u,{emit:n}){const d=Ht(),o=N(()=>d.isMobile),C=u,b=n,g=f(C.activeVideoIndex),h=f(null),p=f(!1),E=f(!1),k=()=>{if(!h.value)return;const{scrollLeft:I,scrollWidth:L,clientWidth:P}=h.value;p.value=I>0,E.value=I<L-P-1},s=I=>{if(!h.value)return;const L=h.value.querySelector(".carousel-item");if(!L)return;const P=L.clientWidth+16;h.value.scrollBy({left:P*I,behavior:"smooth"})},_=I=>{g.value=I,b("select",C.videos[I])},j=()=>k(),v=f([]),T=async I=>{try{return(await fetch("https://img.youtube.com/vi/".concat(I,"/0.jpg"))).ok}catch(L){return!1}};return it(async()=>{const I=C.videos.map(async P=>await T(P.videoId)?P:null),L=await Promise.all(I);v.value=L.filter(Boolean),k(),window.addEventListener("resize",j)}),Me(()=>C.videos,async I=>{const L=I.map(async z=>await T(z.videoId)?z:null),P=await Promise.all(L);v.value=P.filter(Boolean)}),Me(()=>C.activeVideoIndex,I=>{g.value=I}),Cn(()=>{window.removeEventListener("resize",j)}),(I,L)=>v.value.length?(i(),a("div",Vo,[L[4]||(L[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",Fo,[ee(e("button",{class:"scroll-button left",onClick:L[0]||(L[0]=P=>s(-1))},L[2]||(L[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[It,!o.value&&p.value]]),e("div",{ref_key:"carousel",ref:h,class:"carousel",onScroll:k},[(i(!0),a(G,null,ne(v.value,(P,z)=>(i(),a("div",{key:z,class:"carousel-item",onClick:F=>_(z)},[e("img",{src:"https://img.youtube.com/vi/".concat(P.videoId,"/0.jpg"),alt:P.name},null,8,Do),e("div",qo,c(P.name),1)],8,Ho))),128))],544),ee(e("button",{class:"scroll-button right",onClick:L[1]||(L[1]=P=>s(1))},L[3]||(L[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[It,!o.value&&E.value]])]),g.value!==null?(i(),a("div",zo,[e("iframe",{src:u.videos[g.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,Wo)])):m("",!0)])):m("",!0)}},Go=De(Ko,[["__scopeId","data-v-4a5806b3"]]),Yo={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const u=this.categories.find(n=>n.name===this.activeCategory);return u?u.emojis:[]}},methods:{selectEmoji(u){this.$emit("emoji-selected",u)}}},Zo={class:"emoji-categories"},Qo=["onClick"],Xo={class:"emoji-grid"},Jo=["onClick"];function $o(u,n,d,o,C,b){return d.isVisible?(i(),a("div",{key:0,class:"emoji-picker",onMouseenter:n[1]||(n[1]=g=>u.$emit("mouse-enter")),onMouseleave:n[2]||(n[2]=g=>u.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:n[0]||(n[0]=g=>u.$emit("close"))},n[3]||(n[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",Zo,[(i(!0),a(G,null,ne(C.categories,g=>(i(),a("button",{key:g.name,onClick:h=>C.activeCategory=g.name,class:S([{active:C.activeCategory===g.name},"category-btn"]),type:"button"},c(g.icon),11,Qo))),128))]),e("div",Xo,[(i(!0),a(G,null,ne(b.currentEmojis,g=>(i(),a("button",{key:g,onClick:h=>b.selectEmoji(g),class:"emoji-btn",type:"button"},c(g),9,Jo))),128))])],32)):m("",!0)}const qt=De(Yo,[["render",$o],["__scopeId","data-v-209132f3"]]),es=async u=>{const n=await no();return await u(n)},ts=async u=>{const{data:n}=await es(d=>d.get("/search_emotes/".concat(u)));return n.emotes||[]},ns={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(u,{emit:n}){const d=f(""),o=f([]),C=f(null),b=f(!1),h=oo(async s=>{if(!u.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!s.trim()){o.value=[],b.value=!1;return}b.value=!0;try{o.value=await ts(s)}catch(_){console.error("Error searching images:",_),o.value=[]}finally{b.value=!1}},300),p=()=>{if(!u.currentUser){n("login-required");return}d.value.trim()&&(b.value=!0),h(d.value)},E=s=>{if(!u.currentUser){n("login-required");return}n("image-selected",s),n("close")},k=()=>{setTimeout(()=>{u.isVisible&&n("mouse-leave")},100)};return Me(()=>u.isVisible,s=>{s&&(d.value="",o.value=[],b.value=!1)}),{searchQuery:d,images:o,searchInput:C,isLoading:b,handleSearch:p,selectImage:E,handleInputBlur:k}}},os={key:0,class:"auth-required"},ss={class:"auth-message"},ls={key:1},is={class:"image-picker-header"},as={class:"image-content"},rs={key:0,class:"loading-spinner"},us={key:1,class:"image-grid"},ds=["onClick"],cs=["src","alt"],vs={key:2,class:"no-images"},ms={key:3,class:"no-search"};function fs(u,n,d,o,C,b){return d.isVisible?(i(),a("div",{key:0,class:"image-picker",onMouseenter:n[7]||(n[7]=g=>u.$emit("mouse-enter")),onMouseleave:n[8]||(n[8]=g=>u.$emit("mouse-leave")),onClick:n[9]||(n[9]=at(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:n[0]||(n[0]=g=>u.$emit("close"))},n[10]||(n[10]=[e("i",{class:"fas fa-times"},null,-1)])),d.currentUser?(i(),a("div",ls,[e("div",is,[ee(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":n[2]||(n[2]=g=>o.searchQuery=g),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:n[3]||(n[3]=(...g)=>o.handleSearch&&o.handleSearch(...g)),onClick:n[4]||(n[4]=at(()=>{},["stop"])),onFocus:n[5]||(n[5]=g=>u.$emit("mouse-enter")),onBlur:n[6]||(n[6]=(...g)=>o.handleInputBlur&&o.handleInputBlur(...g))},null,544),[[Se,o.searchQuery]])]),e("div",as,[o.isLoading?(i(),a("div",rs,n[14]||(n[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)]))):o.images.length>0?(i(),a("div",us,[(i(!0),a(G,null,ne(o.images,(g,h)=>(i(),a("div",{key:h,class:"image-item",onClick:p=>o.selectImage(g)},[e("img",{src:g,alt:"Image "+(h+1)},null,8,cs)],8,ds))),128))])):o.searchQuery.trim()?(i(),a("div",vs,n[15]||(n[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)]))):(i(),a("div",ms,n[16]||(n[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])))])])):(i(),a("div",os,[e("div",ss,[n[11]||(n[11]=e("i",{class:"fas fa-lock"},null,-1)),n[12]||(n[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),n[13]||(n[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:n[1]||(n[1]=g=>u.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):m("",!0)}const zt=De(ns,[["render",fs],["__scopeId","data-v-f33eb3f6"]]),gs={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(u,{emit:n}){const d=f(""),o=f(""),C=f(null),b=f(null),g=N(()=>/^https?:\/\/.+/.test(d.value.trim())&&o.value.trim()),h=()=>{n("close"),E()},p=()=>{g.value&&(n("submit",{url:d.value.trim(),title:o.value.trim()}),h())},E=()=>{d.value="",o.value=""},k=s=>{var _;s.key==="Enter"?(s.preventDefault(),g.value?p():s.target===C.value&&d.value.trim()&&((_=b.value)==null||_.focus())):s.key==="Escape"&&h()};return Me(()=>u.isVisible,s=>{s&&(u.selectedText.trim()&&(o.value=u.selectedText.trim()),Ie(()=>{var _;(_=C.value)==null||_.focus()}))}),{linkUrl:d,linkTitle:o,urlInput:C,titleInput:b,isValidLink:g,closeModal:h,submitLink:p,handleKeydown:k}}},ks={class:"link-modal-header"},ys={class:"link-modal-content"},hs={class:"form-group"},bs={class:"form-group"},ps={class:"link-modal-footer"},_s=["disabled"];function ws(u,n,d,o,C,b){return d.isVisible?(i(),a("div",{key:0,class:"link-modal-overlay",onClick:n[8]||(n[8]=(...g)=>o.closeModal&&o.closeModal(...g))},[e("div",{class:"link-modal",onClick:n[7]||(n[7]=at(()=>{},["stop"]))},[e("div",ks,[n[10]||(n[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:n[0]||(n[0]=(...g)=>o.closeModal&&o.closeModal(...g))},n[9]||(n[9]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",ys,[e("div",hs,[n[11]||(n[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),ee(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":n[1]||(n[1]=g=>o.linkUrl=g),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:n[2]||(n[2]=(...g)=>o.handleKeydown&&o.handleKeydown(...g))},null,544),[[Se,o.linkUrl]])]),e("div",bs,[n[12]||(n[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),ee(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":n[3]||(n[3]=g=>o.linkTitle=g),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:n[4]||(n[4]=(...g)=>o.handleKeydown&&o.handleKeydown(...g))},null,544),[[Se,o.linkTitle]])])]),e("div",ps,[e("button",{class:"cancel-button",onClick:n[5]||(n[5]=(...g)=>o.closeModal&&o.closeModal(...g))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!o.isValidLink,onClick:n[6]||(n[6]=(...g)=>o.submitLink&&o.submitLink(...g))},"–î–æ–±–∞–≤–∏—Ç—å",8,_s)])])])):m("",!0)}const Wt=De(gs,[["render",ws],["__scopeId","data-v-a794d83f"]]);function Cs(){const u=f(!1),n=f(!1),d=f(!1),o=()=>{n.value=!0},C=()=>{n.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},b=()=>{d.value=!0,u.value=!0},g=()=>{d.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},h=()=>{u.value=!1};return{showEmojiPicker:u,isEmojiHovered:n,isButtonHovered:d,handleEmojiMouseEnter:o,handleEmojiMouseLeave:C,handleButtonMouseEnter:b,handleButtonMouseLeave:g,closeEmojiPicker:h,insertEmoji:(k,s,_,j)=>{const v=s.value;if(v){const T=v.selectionStart,I=v.selectionEnd,L=_.value.substring(0,T),P=_.value.substring(I),z=L+k+P;j(z),Ie(()=>{v.focus(),v.setSelectionRange(T+k.length,T+k.length),v.style.height&&(v.style.height="auto",v.style.height="".concat(Math.min(v.scrollHeight,200),"px"))})}else j(_.value+k)},handleGlobalClick:k=>{!k.target.closest(".emoji-picker")&&!k.target.closest(".emoji-button-inline")&&h()}}}function Es(){const u=f(!1),n=f(!1),d=f(!1),o=()=>{n.value=!0},C=()=>{n.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},b=()=>{d.value=!0,u.value=!0},g=()=>{d.value=!1,setTimeout(()=>{!n.value&&!d.value&&(u.value=!1)},300)},h=()=>{u.value=!1};return{showImagePicker:u,isImageHovered:n,isButtonHovered:d,handleImageMouseEnter:o,handleImageMouseLeave:C,handleImageButtonMouseEnter:b,handleButtonMouseLeave:g,closeImagePicker:h,insertImage:(k,s,_,j)=>{const v=s.value;if(v){const T=v.selectionStart,I=v.selectionEnd,L="[img]".concat(k,"[/img]"),P=_.value.slice(0,T)+L+_.value.slice(I);j(P),Ie(()=>{v.focus(),v.setSelectionRange(T+L.length,T+L.length),v.style.height&&(v.style.height="auto",v.style.height="".concat(Math.min(v.scrollHeight,200),"px"))})}else{const T="[img]".concat(k,"[/img]");j(_.value+T)}},handleGlobalClick:k=>{!k.target.closest(".image-picker")&&!k.target.closest(".emoji-button-inline")&&h()}}}function Ls(){const u=f(!1),n=f("");return{showLinkModal:u,selectedTextForLink:n,insertLink:(g,h)=>{const p=g.value;if(p){const E=p.selectionStart,k=p.selectionEnd,s=h.value.slice(E,k);n.value=s.trim()||""}u.value=!0},insertLinkFromModal:(g,h,p,E)=>{const k=h.value;if(k){const s=k.selectionStart,_=k.selectionEnd,j="[link=".concat(g.url,"]").concat(g.title,"[/link]"),v=p.value.slice(0,s)+j+p.value.slice(_);E(v),Ie(()=>{k.focus(),k.setSelectionRange(s+j.length,s+j.length),k.style.height&&(k.style.height="auto",k.style.height="".concat(Math.min(k.scrollHeight,200),"px"))})}},closeLinkModal:()=>{u.value=!1},insertSpoiler:(g,h,p)=>{const E=g.value;if(E){const k=E.selectionStart,s=E.selectionEnd,_=h.value.slice(k,s);let j;_.trim()?j="[spoiler]".concat(_,"[/spoiler]"):j="[spoiler][/spoiler]";const v=h.value.slice(0,k)+j+h.value.slice(s);p(v),Ie(()=>{if(E.focus(),_.trim())E.setSelectionRange(k+j.length,k+j.length);else{const T=k+9;E.setSelectionRange(T,T)}E.style.height&&(E.style.height="auto",E.style.height="".concat(Math.min(E.scrollHeight,200),"px"))})}}}}function Ms(){return{autoResize:d=>{const o=d==null?void 0:d.target;o&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))},autoResizeElement:d=>{d&&(d.style.height="auto",d.style.height="".concat(Math.min(d.scrollHeight,200),"px"))}}}function Kt(){const u=Cs(),n=Es(),d=Ls(),{autoResize:o,autoResizeElement:C}=Ms(),b=()=>{u.isButtonHovered.value=!0,n.isButtonHovered.value=!0,u.showEmojiPicker.value=!0,n.showImagePicker.value=!1},g=()=>{u.isButtonHovered.value=!0,n.isButtonHovered.value=!0,n.showImagePicker.value=!0,u.showEmojiPicker.value=!1},h=()=>{u.isButtonHovered.value=!1,n.isButtonHovered.value=!1,setTimeout(()=>{!u.isEmojiHovered.value&&!n.isImageHovered.value&&!u.isButtonHovered.value&&!n.isButtonHovered.value&&(u.showEmojiPicker.value=!1,n.showImagePicker.value=!1)},300)},p=()=>{u.showEmojiPicker.value=!1,n.showImagePicker.value=!1},E=T=>{!T.target.closest(".emoji-picker")&&!T.target.closest(".image-picker")&&!T.target.closest(".emoji-button-inline")&&p()},k=(T,I,L,P)=>{u.insertEmoji(T,I,L,P)},s=(T,I,L,P)=>{n.insertImage(T,I,L,P)},_=(T,I,L)=>{d.insertLink(T,I,L)},j=(T,I,L,P)=>{d.insertLinkFromModal(T,I,L,P)},v=(T,I,L)=>{d.insertSpoiler(T,I,L)};return it(()=>{document.addEventListener("click",E)}),Cn(()=>{document.removeEventListener("click",E)}),{showEmojiPicker:u.showEmojiPicker,handleEmojiMouseEnter:u.handleEmojiMouseEnter,handleEmojiMouseLeave:u.handleEmojiMouseLeave,closeEmojiPicker:u.closeEmojiPicker,showImagePicker:n.showImagePicker,handleImageMouseEnter:n.handleImageMouseEnter,handleImageMouseLeave:n.handleImageMouseLeave,closeImagePicker:n.closeImagePicker,showLinkModal:d.showLinkModal,selectedTextForLink:d.selectedTextForLink,closeLinkModal:d.closeLinkModal,handleButtonMouseEnter:b,handleImageButtonMouseEnter:g,handleButtonMouseLeave:h,closeAllPickers:p,insertEmojiUniversal:k,insertImageUniversal:s,insertLinkUniversal:_,insertLinkFromModalUniversal:j,insertSpoilerUniversal:v,autoResize:o,autoResizeElement:C}}const Ss=u=>u===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":u>=2&&u<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",Is=u=>{if(!u)return"?";const n=u.split(" ");return n.length===1?u.slice(0,2).toUpperCase():(n[0][0]+n[n.length-1][0]).toUpperCase()},Ts={name:"CommentItem",components:{EmojiPicker:qt,ImagePicker:zt,LinkModal:Wt},props:{comment:{type:Object,required:!0,default:()=>({name:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(u,{emit:n}){var pe,_e;const d=Dt(),o=N(()=>{var y;return u.editingCommentId===((y=u.comment)==null?void 0:y.id)}),C=f(((pe=u.comment)==null?void 0:pe.content)||""),b=f(((_e=u.comment)==null?void 0:_e.user_rating)||0),g=f(null),h=f(null),{showEmojiPicker:p,showImagePicker:E,showLinkModal:k,selectedTextForLink:s,handleEmojiMouseEnter:_,handleEmojiMouseLeave:j,handleImageMouseEnter:v,handleImageMouseLeave:T,handleButtonMouseEnter:I,handleImageButtonMouseEnter:L,handleButtonMouseLeave:P,closeEmojiPicker:z,closeImagePicker:F,closeLinkModal:re,insertEmojiUniversal:me,insertImageUniversal:ie,insertLinkUniversal:R,insertLinkFromModalUniversal:ye,insertSpoilerUniversal:Q,autoResize:K}=Kt(),{formatContentWithTruncation:he}=Sn();it(async()=>{var y;if((y=u.comment)!=null&&y.user_avatar){const H=await so();g.value="".concat(H).concat(u.comment.user_avatar)}});const x=N(()=>{var y;return u.currentUser&&((y=u.comment)==null?void 0:y.user_id)===u.currentUser.id}),ve=N(()=>{var y;return u.currentUser&&((y=u.comment)==null?void 0:y.user_id)===u.currentUser.id||u.currentUser&&u.currentUser.is_admin===1}),B=N(()=>{var y,H,xe;return((y=u.comment)==null?void 0:y.updated_at)&&((H=u.comment)==null?void 0:H.updated_at)!==((xe=u.comment)==null?void 0:xe.created_at)}),Y=N(()=>{var y,H;return(y=u.comment)!=null&&y.is_deleted?!1:(((H=u.comment)==null?void 0:H.rating)||0)<=-3}),X=N(()=>Y.value),je=f(!1),Be=N(()=>{var y,H;return(y=u.comment)!=null&&y.is_deleted?null:(((H=u.comment)==null?void 0:H.rating)||0)<=-3?"lowRating":null}),rt=()=>{var y,H;n("start-edit",(y=u.comment)==null?void 0:y.id),C.value=((H=u.comment)==null?void 0:H.content)||"",Ie(()=>{h.value&&(h.value.focus(),K({target:h.value}))})},Te=()=>{var y;n("cancel-edit"),C.value=((y=u.comment)==null?void 0:y.content)||""},Qe=()=>{var y;C.value.trim()&&n("edit",(y=u.comment)==null?void 0:y.id,C.value.trim())},Xe=()=>{var y;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&n("delete",(y=u.comment)==null?void 0:y.id)},ut=y=>{var H,xe;b.value===y?(b.value=0,n("rate",(H=u.comment)==null?void 0:H.id,y)):(b.value=y,n("rate",(xe=u.comment)==null?void 0:xe.id,y))},Je=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),Qe())},Ue=N(()=>{var y;return he((y=u.comment)==null?void 0:y.content)}),$e=()=>{console.log("Avatar load error, falling back to initials"),g.value=null,Ie(()=>{const y=document.querySelector(".avatar-placeholder");y&&(y.style.display="flex")})},be=()=>{d.push("/login")},Re=y=>{me(y,h,C,H=>{C.value=H})},et=y=>{ie(y,h,C,H=>{C.value=H})},qe=()=>{Q(h,C,y=>{C.value=y})},tt=()=>{R(h,C,y=>{C.value=y})},fe=y=>{ye(y,h,C,H=>{C.value=H})},ze=y=>{K(y)};return Me(C,()=>{o.value&&h.value&&Ie(()=>{ze({target:h.value})})}),{isEditing:o,editContent:C,userRating:b,isCommentOwner:x,canDeleteComment:ve,isCommentEdited:B,formatDate:En,formatRelativeTime:lo,startEdit:rt,cancelEdit:Te,saveEdit:Qe,confirmDelete:Xe,rateComment:ut,avatarUrl:g,getInitials:Is,handleEditKeydown:Je,isCommentHidden:X,showHiddenComment:je,hiddenCommentReason:Be,formattedContent:Ue,autoResizeEdit:ze,editTextarea:h,showEmojiPicker:p,showImagePicker:E,insertEmojiEdit:Re,insertImageEdit:et,insertSpoilerEdit:qe,insertLinkEdit:tt,handleEmojiMouseEnter:_,handleEmojiMouseLeave:j,handleImageMouseEnter:v,handleImageMouseLeave:T,closeEmojiPicker:z,closeImagePicker:F,handleButtonMouseEnter:I,handleButtonMouseLeave:P,handleImageButtonMouseEnter:L,handleAvatarError:$e,openLogin:be,showLinkModal:k,selectedTextForLink:s,insertLinkFromModal:fe,closeLinkModal:re}}},xs=["data-comment-id"],Rs={class:"comment-header"},Ns={class:"user-info"},Ps={class:"user-avatar"},js=["src","alt"],Bs={class:"user-details"},Us={class:"username"},As={key:0,class:"user-rating"},Os=["title"],Vs=["title"],Fs={class:"comment-content"},Hs={key:0,class:"hidden-comment-warning"},Ds={key:1},qs={key:0,class:"deleted-comment"},zs={key:1},Ws={key:0,class:"edit-form"},Ks={class:"edit-textarea-container"},Gs={class:"edit-footer"},Ys={class:"edit-actions"},Zs=["disabled"],Qs={class:"character-counter-container"},Xs={key:1,class:"comment-text-container"},Js=["innerHTML"],$s={class:"comment-footer"},el={class:"comment-actions"},tl={class:"rating-buttons"},nl={class:"action-buttons"};function ol(u,n,d,o,C,b){var k,s,_,j,v,T,I,L,P,z,F,re,me,ie,R,ye,Q,K,he;const g=ae("router-link"),h=ae("EmojiPicker"),p=ae("ImagePicker"),E=ae("LinkModal");return i(),a("div",{class:"comment-item","data-comment-id":(k=d.comment)==null?void 0:k.id},[e("div",Rs,[e("div",Ns,[Z(g,{to:{path:"/lists/".concat((s=d.comment)==null?void 0:s.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:Vt(()=>{var x,ve;return[e("div",Ps,[o.avatarUrl?(i(),a("img",{key:0,src:o.avatarUrl,alt:((x=d.comment)==null?void 0:x.name)||"–ê–Ω–æ–Ω–∏–º",onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';",onError:n[0]||(n[0]=(...B)=>o.handleAvatarError&&o.handleAvatarError(...B))},null,40,js)):(i(),a("div",{key:1,class:"avatar-placeholder",style:Ft({display:o.avatarUrl?"none":"flex"})},c(o.getInitials(((ve=d.comment)==null?void 0:ve.name)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",Bs,[Z(g,{to:{path:"/lists/".concat((_=d.comment)==null?void 0:_.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:Vt(()=>{var x;return[e("span",Us,c(((x=d.comment)==null?void 0:x.name)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(j=d.comment)!=null&&j.user_movie_rating?(i(),a("span",As,[n[18]||(n[18]=e("i",{class:"fas fa-star"},null,-1)),O(" "+c(d.comment.user_movie_rating),1)])):m("",!0),e("span",{class:"date",title:o.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((v=d.comment)==null?void 0:v.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(o.formatDate((T=d.comment)==null?void 0:T.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((I=d.comment)==null?void 0:I.created_at))},[O(c(o.formatRelativeTime((L=d.comment)==null?void 0:L.created_at))+" ",1),o.isCommentEdited?(i(),a("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:o.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((P=d.comment)==null?void 0:P.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(o.formatDate((z=d.comment)==null?void 0:z.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((F=d.comment)==null?void 0:F.created_at))},null,8,Vs)):m("",!0)],8,Os)])])]),e("div",Fs,[!((re=d.comment)!=null&&re.is_deleted)&&o.isCommentHidden&&!o.showHiddenComment?(i(),a("div",Hs,[o.hiddenCommentReason==="lowRating"?(i(),a("p",{key:0,class:"warning-text",onClick:n[1]||(n[1]=x=>o.showHiddenComment=!0)},n[19]||(n[19]=[e("i",{class:"fas fa-eye-slash"},null,-1),O(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):m("",!0)])):(i(),a("div",Ds,[(me=d.comment)!=null&&me.is_deleted?(i(),a("div",qs,n[20]||(n[20]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),O(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(i(),a("div",zs,[o.isEditing?(i(),a("div",Ws,[e("div",Ks,[ee(e("textarea",{ref:"editTextarea","onUpdate:modelValue":n[2]||(n[2]=x=>o.editContent=x),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:n[3]||(n[3]=(...x)=>o.handleEditKeydown&&o.handleEditKeydown(...x)),onInput:n[4]||(n[4]=(...x)=>o.autoResizeEdit&&o.autoResizeEdit(...x))},null,544),[[Se,o.editContent]])]),e("div",Gs,[e("div",Ys,[e("button",{class:"cancel-button",onClick:n[5]||(n[5]=(...x)=>o.cancelEdit&&o.cancelEdit(...x))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"save-button",disabled:!o.editContent.trim()||o.editContent.length>1500,onClick:n[6]||(n[6]=(...x)=>o.saveEdit&&o.saveEdit(...x))}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Zs)]),e("div",Qs,[e("div",{class:S(["character-counter-inline",{"near-limit":o.editContent.length>1400,"at-limit":o.editContent.length>=1500}])},c(o.editContent.length)+"/1500 ",3),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showEmojiPicker}]),onMouseenter:n[7]||(n[7]=(...x)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...x)),onMouseleave:n[8]||(n[8]=(...x)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...x))}," üòä ",34),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showImagePicker}]),onMouseenter:n[9]||(n[9]=(...x)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...x)),onMouseleave:n[10]||(n[10]=(...x)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...x))},n[21]||(n[21]=[ht('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-c9b760f4><g id="logo" data-v-c9b760f4><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-c9b760f4></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-c9b760f4></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-c9b760f4></path></g></svg>',1)]),34),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä",class:"emoji-button-inline spoiler-button",onClick:n[11]||(n[11]=(...x)=>o.insertSpoilerEdit&&o.insertSpoilerEdit(...x))},n[22]||(n[22]=[e("i",{class:"fas fa-eye-slash"},null,-1)])),e("button",{type:"button",class:"emoji-button-inline link-button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",onClick:n[12]||(n[12]=(...x)=>o.insertLinkEdit&&o.insertLinkEdit(...x))},n[23]||(n[23]=[e("i",{class:"fas fa-link"},null,-1)])),Z(h,{"is-visible":o.showEmojiPicker,onEmojiSelected:o.insertEmojiEdit,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Z(p,{"is-visible":o.showImagePicker,"current-user":d.currentUser,onImageSelected:o.insertImageEdit,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:o.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),Z(E,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(i(),a("div",Xs,[e("p",{class:"comment-text",innerHTML:o.formattedContent},null,8,Js)]))]))]))]),e("div",$s,[e("div",el,[e("div",tl,[!o.isCommentOwner&&!((ie=d.comment)!=null&&ie.is_deleted)?(i(),a("button",{key:0,class:S(["rating-button",{"rated-up":o.userRating===1}]),onClick:n[13]||(n[13]=x=>o.rateComment(1))},n[24]||(n[24]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):m("",!0),e("span",{class:S(["rating-count",{"rating-positive":o.userRating===1,"rating-negative":o.userRating===-1}])},c(((R=d.comment)==null?void 0:R.rating)||0),3),!o.isCommentOwner&&!((ye=d.comment)!=null&&ye.is_deleted)?(i(),a("button",{key:1,class:S(["rating-button",{"rated-down":o.userRating===-1}]),onClick:n[14]||(n[14]=x=>o.rateComment(-1))},n[25]||(n[25]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):m("",!0)]),e("div",nl,[!d.currentUser||d.currentUser.allow_comments===1?(i(),a("button",{key:0,class:"action-button reply-button",onClick:n[15]||(n[15]=x=>u.$emit("reply",d.comment))},n[26]||(n[26]=[e("i",{class:"fas fa-reply"},null,-1)]))):m("",!0),o.isCommentOwner&&!((Q=d.comment)!=null&&Q.is_deleted)&&!o.isEditing&&((K=d.currentUser)==null?void 0:K.allow_comments)===1?(i(),a("button",{key:1,class:"action-button edit-button",onClick:n[16]||(n[16]=(...x)=>o.startEdit&&o.startEdit(...x))},n[27]||(n[27]=[e("i",{class:"fas fa-edit"},null,-1)]))):m("",!0),o.canDeleteComment&&!((he=d.comment)!=null&&he.is_deleted)?(i(),a("button",{key:2,class:"action-button delete-button",onClick:n[17]||(n[17]=(...x)=>o.confirmDelete&&o.confirmDelete(...x))},n[28]||(n[28]=[e("i",{class:"fas fa-trash"},null,-1)]))):m("",!0)])])])],8,xs)}const sl=De(Ts,[["render",ol],["__scopeId","data-v-c9b760f4"]]),ll={name:"CommentThread",components:{CommentItem:sl,EmojiPicker:qt,ImagePicker:zt,LinkModal:Wt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(u,{emit:n}){const d=f(null),o=f(!0),{showEmojiPicker:C,showImagePicker:b,showLinkModal:g,selectedTextForLink:h,handleEmojiMouseEnter:p,handleEmojiMouseLeave:E,handleImageMouseEnter:k,handleImageMouseLeave:s,handleButtonMouseEnter:_,handleImageButtonMouseEnter:j,handleButtonMouseLeave:v,closeEmojiPicker:T,closeImagePicker:I,closeLinkModal:L,insertEmojiUniversal:P,insertImageUniversal:z,insertLinkUniversal:F,insertLinkFromModalUniversal:re,insertSpoilerUniversal:me}=Kt(),ie=B=>{n("update-reply-content",B.target.value);const Y=B.target;Y&&(Y.style.height="auto",Y.style.height="".concat(Math.min(Y.scrollHeight,200),"px"))},R={get value(){return u.replyContent},set value(B){n("update-reply-content",B)}};return{replyTextarea:d,showEmojiPicker:C,showImagePicker:b,isCollapsed:o,insertEmoji:B=>{P(B,d,R,Y=>{n("update-reply-content",Y)})},insertImage:B=>{z(B,d,R,Y=>{n("update-reply-content",Y)})},insertSpoiler:()=>{me(d,R,B=>{n("update-reply-content",B)})},handleEmojiMouseEnter:p,handleEmojiMouseLeave:E,handleImageMouseEnter:k,handleImageMouseLeave:s,handleButtonMouseEnter:_,handleButtonMouseLeave:v,closeEmojiPicker:T,closeImagePicker:I,handleImageButtonMouseEnter:j,handleReplyInput:ie,toggleCollapsed:()=>{o.value=!o.value},showLinkModal:g,selectedTextForLink:h,insertLink:()=>{F(d,R,B=>{n("update-reply-content",B)})},closeLinkModal:L,insertLinkFromModal:B=>{re(B,d,R,Y=>{n("update-reply-content",Y)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:u}=Sn();return u(this.comment.content)}}},il={class:"comment-thread"},al={key:0,class:"reply-form"},rl={class:"textarea-container"},ul=["value","placeholder","disabled"],dl={class:"reply-footer"},cl={class:"reply-actions"},vl=["disabled"],ml={class:"character-counter-container"},fl=["disabled"],gl={key:1,class:"replies-container"},kl=["title"],yl={class:"replies-count"},hl=["title"],bl={key:0,class:"replies-content"};function pl(u,n,d,o,C,b){const g=ae("CommentItem"),h=ae("EmojiPicker"),p=ae("ImagePicker"),E=ae("LinkModal"),k=ae("CommentThread",!0);return i(),a("div",il,[Z(g,{comment:d.comment,"current-user":d.currentUser,"editing-comment-id":d.editingCommentId,onReply:n[0]||(n[0]=s=>u.$emit("reply",s)),onStartEdit:n[1]||(n[1]=s=>u.$emit("start-edit",s)),onCancelEdit:n[2]||(n[2]=s=>u.$emit("cancel-edit")),onEdit:n[3]||(n[3]=(s,_)=>u.$emit("edit",s,_)),onDelete:n[4]||(n[4]=s=>u.$emit("delete",s)),onRate:n[5]||(n[5]=(s,_)=>u.$emit("rate",s,_))},null,8,["comment","current-user","editing-comment-id"]),d.replyTo&&d.replyTo.id===d.comment.id?(i(),a("div",al,[e("div",rl,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:d.replyContent,placeholder:b.getReplyPlaceholder,disabled:d.currentUser&&d.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:n[6]||(n[6]=(...s)=>o.handleReplyInput&&o.handleReplyInput(...s)),onKeydown:n[7]||(n[7]=s=>u.$emit("reply-keydown",s))},null,40,ul)]),e("div",dl,[e("div",cl,[e("button",{class:"cancel-reply",onClick:n[8]||(n[8]=s=>u.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!d.replyContent.trim()||d.replyContent.length>1500||d.currentUser&&d.currentUser.allow_comments!==1,onClick:n[9]||(n[9]=s=>u.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,vl)]),e("div",ml,[e("div",{class:S(["character-counter-inline",{"near-limit":d.replyContent.length>1400,"at-limit":d.replyContent.length>=1500}])},c(d.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showEmojiPicker}]),onMouseenter:n[10]||(n[10]=(...s)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...s)),onMouseleave:n[11]||(n[11]=(...s)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...s))}," üòä ",34),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showImagePicker}]),onMouseenter:n[12]||(n[12]=(...s)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...s)),onMouseleave:n[13]||(n[13]=(...s)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...s))},n[29]||(n[29]=[ht('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:d.currentUser&&d.currentUser.allow_comments!==1,onClick:n[14]||(n[14]=(...s)=>o.insertSpoiler&&o.insertSpoiler(...s)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},n[30]||(n[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,fl),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:n[15]||(n[15]=(...s)=>o.insertLink&&o.insertLink(...s)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},n[31]||(n[31]=[e("i",{class:"fas fa-link"},null,-1)])),Z(h,{"is-visible":o.showEmojiPicker,onEmojiSelected:o.insertEmoji,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Z(p,{"is-visible":o.showImagePicker,"current-user":d.currentUser,onImageSelected:o.insertImage,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:n[16]||(n[16]=()=>u.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),Z(E,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):m("",!0),d.comment.replies&&d.comment.replies.length>0?(i(),a("div",gl,[e("button",{class:"collapse-toggle",title:o.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:n[17]||(n[17]=(...s)=>o.toggleCollapsed&&o.toggleCollapsed(...s))},[e("span",{class:S(["collapse-icon",{expanded:!o.isCollapsed}])},n[32]||(n[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",yl,c(d.comment.replies.length)+" "+c(d.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,kl),e("div",{class:"vertical-line-clickable",title:o.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:n[18]||(n[18]=(...s)=>o.toggleCollapsed&&o.toggleCollapsed(...s))},[e("div",{class:S(["vertical-line-visual",{collapsed:o.isCollapsed}])},null,2)],8,hl),o.isCollapsed?m("",!0):(i(),a("div",bl,[(i(!0),a(G,null,ne(d.comment.replies,s=>(i(),Ze(k,{key:s.id,comment:s,"current-user":d.currentUser,"reply-to":d.replyTo,"reply-content":d.replyContent,"editing-comment-id":d.editingCommentId,onReply:n[19]||(n[19]=_=>u.$emit("reply",_)),onStartEdit:n[20]||(n[20]=_=>u.$emit("start-edit",_)),onCancelEdit:n[21]||(n[21]=_=>u.$emit("cancel-edit")),onEdit:n[22]||(n[22]=(_,j)=>u.$emit("edit",_,j)),onDelete:n[23]||(n[23]=_=>u.$emit("delete",_)),onRate:n[24]||(n[24]=(_,j)=>u.$emit("rate",_,j)),onSubmitReply:n[25]||(n[25]=_=>u.$emit("submit-reply")),onCancelReply:n[26]||(n[26]=_=>u.$emit("cancel-reply")),onUpdateReplyContent:n[27]||(n[27]=_=>u.$emit("update-reply-content",_)),onReplyKeydown:n[28]||(n[28]=_=>u.$emit("reply-keydown",_))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):m("",!0)])}const _l=De(ll,[["render",pl],["__scopeId","data-v-6c0fc347"]]),wl={name:"Comments",components:{CommentThread:_l,Notification:Mn,EmojiPicker:qt,ImagePicker:zt,LinkModal:Wt},props:{movieId:{type:[String,Number],required:!0}},setup(u){const n=Ln(),d=Dt(),o=Ht(),C=f([]),b=f(""),g=f(null),h=f(""),p=f(null),E=f(n.user),k=f(null),s=f(null),_=f(o.isAutoShowComments),j=f(!1),v=f(3),T=f(o.commentsSortBy),I=f(T.value==="date"?"asc":"desc"),{showEmojiPicker:L,showImagePicker:P,showLinkModal:z,selectedTextForLink:F,handleEmojiMouseEnter:re,handleEmojiMouseLeave:me,handleImageMouseEnter:ie,handleImageMouseLeave:R,handleButtonMouseEnter:ye,handleImageButtonMouseEnter:Q,handleButtonMouseLeave:K,closeEmojiPicker:he,closeImagePicker:x,closeLinkModal:ve,insertEmojiUniversal:B,insertImageUniversal:Y,insertLinkUniversal:X,insertLinkFromModalUniversal:je,insertSpoilerUniversal:Be,autoResize:rt}=Kt(),Te=N(()=>{const M=(U=null)=>{const V=C.value.filter(W=>W.parent_id===U).filter(W=>!W.is_deleted||W.replies&&W.replies.length>0);let oe;return U===null?oe=V.sort((W,ue)=>{if(T.value==="rating"){const J=W.rating||0,ge=ue.rating||0;return J!==ge?I.value==="asc"?J-ge:ge-J:W.id-ue.id}return I.value==="asc"?W.id-ue.id:ue.id-W.id}):oe=V.sort((W,ue)=>W.id-ue.id),oe.map(W=>({...W,replies:M(W.id)}))};return M()}),Qe=N(()=>{const M=U=>U.reduce((V,oe)=>V+1+M(oe.replies||[]),0);return M(Te.value)}),Xe=N(()=>Te.value.slice(0,v.value)),ut=N(()=>Te.value.length>v.value),Je=N(()=>Te.value.length-v.value),Ue=()=>{v.value=Te.value.length},$e=M=>{T.value===M?I.value=I.value==="asc"?"desc":"asc":(T.value=M,I.value=M==="date"?"asc":"desc",o.setCommentsSortBy(M))},be=async()=>{try{const M=await io(u.movieId);C.value=M}catch(M){console.error("Failed to load comments:",M),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},Re=async()=>{if(j.value)return;if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}if(E.value&&E.value.allow_comments!==1){k.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!b.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){k.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(b.value.length>1500){k.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(u.movieId,b.value.trim()),b.value="",await be(),_.value=!0,Ie(()=>{s.value&&(s.value.focus(),s.value.style.height="auto"),setTimeout(()=>{const U=document.querySelectorAll(".comment-item[data-comment-id]");if(U.length>0){const V=Array.from(U).map(oe=>parseInt(oe.getAttribute("data-comment-id"))).filter(oe=>!isNaN(oe));if(V.length>0){const oe=Math.max(...V),W=document.querySelector('[data-comment-id="'.concat(oe,'"]'));W&&W.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(U){console.error("Failed to create comment:",U),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},et=M=>{if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}p.value=null,g.value=M,h.value="",Ie(()=>{const U=document.querySelector(".reply-form");U&&U.scrollIntoView({behavior:"smooth",block:"center"})})},qe=async()=>{if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}if(E.value&&E.value.allow_comments!==1){k.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!h.value.trim()||!g.value)){if(h.value.length>1500){k.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await gn(u.movieId,h.value.trim(),g.value.id);const M=g.value.id;await be(),h.value="",g.value=null,Ie(()=>{setTimeout(()=>{const U=document.querySelector('[data-comment-id="'.concat(M,'"]'));if(U){const V=U.querySelector(".replies-content");if(V){const oe=V.querySelectorAll(".comment-item[data-comment-id]");if(oe.length>0){const W=Array.from(oe).map(ue=>parseInt(ue.getAttribute("data-comment-id"))).filter(ue=>!isNaN(ue));if(W.length>0){const ue=Math.max(...W),J=document.querySelector('[data-comment-id="'.concat(ue,'"]'));J&&J.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(M){console.error("Error submitting reply:",M),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},tt=async(M,U)=>{if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}if(E.value&&E.value.allow_comments!==1){k.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(U.length>1500){k.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await uo(M,U.trim()),await be(),p.value=null}catch(V){console.error("Failed to update comment:",V),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},fe=async M=>{if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}try{await ro(M),await be()}catch(U){console.error("Failed to delete comment:",U),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},ze=async(M,U)=>{if(!n.token){k.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:y});return}try{await ao(M,U),await be()}catch(V){console.error("Failed to rate comment:",V),k.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},pe=M=>{j.value||L.value||M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),Re())},_e=M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),qe())},y=()=>{d.push("/login")},H=M=>{j.value=!0,B(M,s,b,U=>{b.value=U}),setTimeout(()=>{j.value=!1},100)},xe=M=>{Y(M,s,b,U=>{b.value=U})},Tt=()=>{Be(s,b,M=>{b.value=M})},bt=()=>{X(s,b,M=>{b.value=M})},xt=M=>{je(M,s,b,U=>{b.value=U})},dt=N(()=>E.value?E.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Rt=N(()=>E.value?E.value.allow_comments===1:!0),We=M=>{g.value=null,h.value="",p.value=M},pt=()=>{p.value=null};return it(()=>{be()}),{comments:C,groupedComments:Te,displayedComments:Xe,hasMoreComments:ut,remainingCommentsCount:Je,showMoreComments:Ue,sortBy:T,setSortBy:$e,sortDirection:I,newComment:b,replyTo:g,replyContent:h,editingCommentId:p,currentUser:E,notificationRef:k,commentTextarea:s,showComments:_,submitComment:Re,handleReply:et,submitReply:qe,handleEdit:tt,handleDelete:fe,handleRate:ze,handleCommentKeydown:pe,handleReplyKeydown:_e,autoResize:rt,totalCommentsCount:Qe,getCommentWordForm:Ss,showEmojiPicker:L,showImagePicker:P,showLinkModal:z,selectedTextForLink:F,insertEmoji:H,insertImage:xe,handleEmojiMouseEnter:re,handleEmojiMouseLeave:me,handleImageMouseEnter:ie,handleImageMouseLeave:R,closeEmojiPicker:he,closeImagePicker:x,handleButtonMouseLeave:K,handleButtonMouseEnter:ye,handleImageButtonMouseEnter:Q,getCommentPlaceholder:dt,canComment:Rt,handleStartEdit:We,handleCancelEdit:pt,insertSpoiler:Tt,insertLink:bt,insertLinkFromModal:xt,closeLinkModal:ve}}},Cl={class:"comments-section"},El={class:"spoiler-content"},Ll={key:1,class:"comments-container"},Ml={class:"comments-header"},Sl={class:"comments-controls"},Il={class:"textarea-container"},Tl=["placeholder","disabled"],xl={class:"comment-footer"},Rl={class:"comment-actions"},Nl=["disabled"],Pl={class:"character-counter-container"},jl=["disabled"],Bl=["disabled"],Ul=["disabled"],Al={class:"comments-list"},Ol={key:0,class:"show-more-comments"};function Vl(u,n,d,o,C,b){const g=ae("EmojiPicker"),h=ae("ImagePicker"),p=ae("LinkModal"),E=ae("CommentThread"),k=ae("Notification");return i(),a("div",Cl,[o.showComments?(i(),a("div",Ll,[e("div",Ml,[e("div",Sl,[e("button",{class:S(["sort-button",{active:o.sortBy==="date"}]),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ",onClick:n[1]||(n[1]=s=>o.setSortBy("date"))},[n[20]||(n[20]=e("i",{class:"fas fa-clock"},null,-1)),n[21]||(n[21]=O(" –ü–æ –¥–∞—Ç–µ ")),o.sortBy==="date"?(i(),a("i",{key:0,class:S(["fas",o.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):m("",!0)],2),e("button",{class:S(["sort-button",{active:o.sortBy==="rating"}]),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É",onClick:n[2]||(n[2]=s=>o.setSortBy("rating"))},[n[22]||(n[22]=e("i",{class:"fas fa-thumbs-up"},null,-1)),n[23]||(n[23]=O(" –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É ")),o.sortBy==="rating"?(i(),a("i",{key:0,class:S(["fas",o.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):m("",!0)],2)]),e("button",{class:"hide-comments-btn",onClick:n[3]||(n[3]=s=>o.showComments=!1)},n[24]||(n[24]=[e("i",{class:"fas fa-eye-slash"},null,-1),O(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:n[13]||(n[13]=at((...s)=>o.submitComment&&o.submitComment(...s),["prevent"]))},[e("div",Il,[ee(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":n[4]||(n[4]=s=>o.newComment=s),class:"comment-textarea",placeholder:o.getCommentPlaceholder,disabled:o.currentUser&&o.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:n[5]||(n[5]=(...s)=>o.autoResize&&o.autoResize(...s)),onKeydown:n[6]||(n[6]=(...s)=>o.handleCommentKeydown&&o.handleCommentKeydown(...s))},null,40,Tl),[[Se,o.newComment]])]),e("div",xl,[e("div",Rl,[e("button",{class:"submit-button",type:"submit",disabled:!o.newComment.trim()||o.newComment.length>1500||o.currentUser&&o.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,Nl)]),e("div",Pl,[e("div",{class:S(["character-counter-inline",{"near-limit":o.newComment.length>1400,"at-limit":o.newComment.length>=1500}])},c(o.newComment.length)+"/1500 ",3),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showEmojiPicker}]),disabled:o.currentUser&&o.currentUser.allow_comments!==1,onMouseenter:n[7]||(n[7]=(...s)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...s)),onMouseleave:n[8]||(n[8]=(...s)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...s))}," üòä ",42,jl),e("button",{type:"button",class:S(["emoji-button-inline",{active:o.showImagePicker}]),disabled:o.currentUser&&o.currentUser.allow_comments!==1,onMouseenter:n[9]||(n[9]=(...s)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...s)),onMouseleave:n[10]||(n[10]=(...s)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...s))},n[25]||(n[25]=[ht('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-14ea7e4b><g id="logo" data-v-14ea7e4b><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-14ea7e4b></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-14ea7e4b></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-14ea7e4b></path></g></svg>',1)]),42,Bl),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä",class:"emoji-button-inline spoiler-button",disabled:o.currentUser&&o.currentUser.allow_comments!==1,onClick:n[11]||(n[11]=(...s)=>o.insertSpoiler&&o.insertSpoiler(...s))},n[26]||(n[26]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,Ul),e("button",{type:"button",title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",class:"emoji-button-inline link-button",onClick:n[12]||(n[12]=(...s)=>o.insertLink&&o.insertLink(...s))},n[27]||(n[27]=[e("i",{class:"fas fa-link"},null,-1)])),Z(g,{"is-visible":o.showEmojiPicker&&o.canComment,onEmojiSelected:o.insertEmoji,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),Z(h,{"is-visible":o.showImagePicker&&o.canComment,"current-user":o.currentUser,onImageSelected:o.insertImage,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:u.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),Z(p,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",Al,[(i(!0),a(G,null,ne(o.displayedComments,s=>(i(),Ze(E,{key:s.id,comment:s,"current-user":o.currentUser,"reply-to":o.replyTo,"reply-content":o.replyContent,"editing-comment-id":o.editingCommentId,"is-first-comment":!1,onReply:o.handleReply,onStartEdit:o.handleStartEdit,onCancelEdit:o.handleCancelEdit,onEdit:o.handleEdit,onDelete:o.handleDelete,onRate:o.handleRate,onSubmitReply:o.submitReply,onCancelReply:n[14]||(n[14]=_=>o.replyTo=null),onUpdateReplyContent:n[15]||(n[15]=_=>o.replyContent=_),onReplyKeydown:o.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),o.hasMoreComments?(i(),a("div",Ol,[e("button",{class:"show-more-btn",onClick:n[16]||(n[16]=(...s)=>o.showMoreComments&&o.showMoreComments(...s))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+c(o.remainingCommentsCount)+" "+c(o.getCommentWordForm(o.remainingCommentsCount)),1)])):m("",!0)])])):(i(),a("div",{key:0,class:"spoiler-warning",onClick:n[0]||(n[0]=s=>o.showComments=!0)},[e("div",El,[n[17]||(n[17]=e("i",{class:"fas fa-eye-slash"},null,-1)),n[18]||(n[18]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),n[19]||(n[19]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:S(["comments-count",{"no-comments":o.totalCommentsCount===0}])},[o.totalCommentsCount===0?(i(),a(G,{key:0},[O(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(i(),a(G,{key:1},[O(c(o.totalCommentsCount)+" "+c(o.getCommentWordForm(o.totalCommentsCount)),1)],64))],2)])])),Z(k,{ref:"notificationRef"},null,512)])}const Fl=De(wl,[["render",Vl],["__scopeId","data-v-14ea7e4b"]]),Hl={class:"movie-info"},Dl={class:"content"},ql={key:0,class:"content-card"},zl={class:"movie-skeleton"},Wl={class:"movie-skeleton__player"},Kl={key:2,class:"content-card"},Gl={key:3,class:"content-card"},Yl={class:"content-header"},Zl=["src"],Ql={class:"content-title"},Xl={key:0,class:"ratings-links"},Jl={key:1},$l=["href","title"],ei={key:2},ti=["href","title"],ni={key:3},oi=["href","title"],si={key:4},li=["href","title"],ii={key:5},ai=["href"],ri=["title"],ui={key:0,class:"fa-regular fa-face-grin-wink"},di={key:1,class:"fas fa-spinner fa-spin"},ci=["title"],vi=["title"],mi={key:1,class:"mobile-list-dropdown"},fi={class:"mobile-list-content"},gi=["content"],ki=["content"],yi={class:"additional-info"},hi={class:"info-content"},bi={key:0,class:"movie-poster-container desktop-only"},pi=["href"],_i=["src"],wi={class:"details-container"},Ci={class:"info-list"},Ei={key:0},Li={key:1},Mi={key:2},Si={key:3},Ii={key:4},Ti={key:5},xi={key:6},Ri={key:7},Ni={key:8},Pi={key:9,class:"rating-boxes"},ji={key:0,class:"rating-box mpaa"},Bi={key:1,class:"rating-box age"},Ui={class:"content-info"},Ai={key:0,class:"content-description-text"},Oi={key:3,class:"movie-note-display"},Vi={class:"movie-note-content"},Fi={class:"movie-note-footer"},Hi={class:"note-date"},Di={key:4,class:"comments-section"},qi={key:5,class:"staff-section"},zi={class:"staff-categories"},Wi={key:0,class:"staff-category"},Ki={class:"staff-list"},Gi=["href","title"],Yi=["src","alt"],Zi={class:"staff-name"},Qi={key:0,class:"staff-role"},Xi=["href","title"],Ji={key:1,class:"staff-category"},$i={class:"staff-names-container"},ea={class:"staff-names-list"},ta=["href"],na=["href","title"],oa={key:2,class:"staff-category"},sa={class:"staff-names-container"},la={class:"staff-names-list"},ia=["href"],aa=["href","title"],ra={key:6,class:"yt-video-container"},ua={key:7,class:"related-movies"},da=["title"],ca={key:8,class:"related-movies"},va=["title"],ma={key:0,class:"nudity-info-popup"},fa={class:"nudity-info-content"},ga={key:0,class:"nudity-info-loading"},ka={key:1},ya={class:"nudity-info-actions"},ha=["href"],ba={key:1,class:"nudity-info-popup"},pa={class:"nudity-info-content"},_a={class:"timings-text"},wa={key:0,class:"timing-entries"},Ca={class:"timing-content"},Ea={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},La={key:0,class:"pending-badge"},Ma={key:1,class:"clean-text-badge"},Sa={key:2,class:"highly-rated-badge"},Ia={key:3,class:"top-rated-badge"},Ta={class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},xa=["onClick"],Ra=["onClick"],Na=["onClick"],Pa=["onClick"],ja=["onClick"],Ba=["onClick"],Ua={class:"timing-text"},Aa={class:"timing-author"},Oa=["title"],Va={class:"timing-vote-container"},Fa=["onClick","disabled"],Ha={class:"vote-count"},Da=["onClick","disabled"],qa={class:"vote-count"},za={key:0,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},Wa={key:0},Ka={key:1},Ga={key:1},Ya={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Za={style:{margin:"0 0 10px 0",color:"#fff"}},Qa={style:{color:"#fff","font-size":"13px"}},Xa={key:0},Ja={key:1},$a={key:1,class:"overlay-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},er={style:{margin:"0 0 10px 0",color:"#fff"}},tr={style:{color:"#fff","font-size":"13px"}},nr={key:0},or={key:1},sr={class:"nudity-info-actions"},lr={key:2,class:"timing-modal"},ir={class:"timing-modal-content"},ar={class:"timing-modal-header"},rr={class:"timing-submission-form"},ur={key:0,class:"timing-preview"},dr={class:"timing-preview-content"},cr={class:"timing-preview-range"},vr={class:"timing-preview-duration"},mr={class:"timing-form-actions"},fr=["disabled"],gr={key:0,class:"fas fa-spinner fa-spin"},kr={key:1},yr={key:3,class:"timing-modal"},hr={class:"timing-modal-content"},br={class:"timing-submission-form"},pr={class:"timing-form-actions"},_r=["disabled"],wr={key:0,class:"fas fa-spinner fa-spin"},Cr={key:1},Er={key:4,class:"timing-modal note-modal"},Lr={class:"timing-modal-content"},Mr={class:"timing-modal-header"},Sr={class:"timing-submission-form"},Ir={class:"char-counter"},Tr={class:"timing-form-actions note-form-actions"},xr=["disabled"],Rr={key:0,class:"fas fa-spinner fa-spin"},Nr={key:1,class:"fas fa-save"},Pr=["disabled"],jr={key:0,class:"fas fa-spinner fa-spin"},Br={key:1,class:"fas fa-trash"},Ur={class:"modal-header"},Ar={class:"modal-header-controls"},Or={class:"modal-body"},Vr=["disabled"],Fr={key:0,class:"fas fa-spinner fa-spin"},Hr={key:1,class:"fas fa-list"},Dr={class:"top-submitters-list"},qr={class:"submitter-info"},zr={class:"submitter-name"},Wr=["href"],Kr={class:"submitter-count"},Gr={class:"submitter-contribution"},Yr={class:"modal-header"},Zr={class:"modal-body"},Qr={key:0,class:"loading-spinner"},Xr={key:1,class:"no-timings"},Jr={key:2,class:"no-timings"},$r={key:3,class:"all-timings-list"},eu={class:"timing-header"},tu={class:"timing-meta"},nu={class:"timing-author"},ou={class:"timing-date"},su={class:"timing-movie-info"},lu={key:0,class:"admin-controls"},iu=["onClick","disabled"],au={key:0,class:"fas fa-spinner fa-spin"},ru={key:1,class:"fas fa-check"},uu=["onClick","disabled"],du={key:0,class:"fas fa-spinner fa-spin"},cu={key:1,class:"fas fa-times"},vu=["onClick","disabled"],mu={key:0,class:"fas fa-spinner fa-spin"},fu={key:1,class:"fas fa-eye-slash"},gu={class:"timing-content"},ku={class:"timing-text"},yu={key:7,class:"timing-modal obs-modal"},hu={class:"timing-modal-content obs-modal-content"},bu={class:"timing-modal-header"},pu={class:"obs-settings-form"},_u={class:"obs-setting-group"},wu={class:"obs-checkbox-label"},Cu={key:0,class:"obs-connection-settings"},Eu={class:"obs-setting-group"},Lu={class:"obs-setting-group"},Mu={class:"obs-setting-group"},Su={key:0,class:"obs-setting-group"},Iu={key:0,class:"obs-warning"},Tu={key:1,class:"obs-filter-selection"},xu=["value"],Ru={key:0,class:"selected-filter-info"},Nu={class:"filter-details"},Pu={class:"obs-info"},ju={class:"obs-setting-group"},Bu={class:"obs-checkbox-label"},Uu={class:"obs-actions"},Au=["disabled"],Ou={key:0,class:"fas fa-spinner fa-spin"},Vu={key:1,class:"fas fa-plug"},Fu=["disabled"],Hu=["disabled"],Du={__name:"MovieInfo",setup(u){const n=f(!0),d=Ht(),o=Ln(),C=co(),b=Ao(),g=vo(),h=Dt(),p=f(g.params.kp_id),E=f(""),k=f(null),s=f(null),_=mo(),j=Oo(),v=f(null),T=N(()=>j.areTrailersActive),I=f(null),L=f(!1),P=f(!1),z=f(10),F=f(null),re=f(!1),me=f(null),ie=f(!1),R=f(void 0),ye=f(null),Q=f(new Set),K=f(new Set),he=f(!1);f(null);const x=f(!1),ve=f(null),B=f(null),Y=f(!1),X=f(""),je=f(!1),Be=f(!1),rt=N(()=>!R.value||!Array.isArray(R.value)?[]:[...R.value].sort((l,t)=>{const w=l.voteScore||0,A=t.voteScore||0;if(A!==w)return A-w;const se=l.upvotes||0,de=t.upvotes||0;return de!==se?de-se:l.id-t.id})),Te=N(()=>{var l;return((l=s.value)==null?void 0:l.nudity_timings.length)>0}),Qe=N(()=>{var l;return((l=s.value)==null?void 0:l.nudity_timings.length)>0&&d.isStreamerMode&&!d.isMobile}),Xe=N(()=>{var l,t,w,A,se,de,Ce,Ee,Le,te;return((t=(l=s.value)==null?void 0:l.lists)==null?void 0:t.isFavorite)||((A=(w=s.value)==null?void 0:w.lists)==null?void 0:A.isWatching)||((de=(se=s.value)==null?void 0:se.lists)==null?void 0:de.isLater)||((Ee=(Ce=s.value)==null?void 0:Ce.lists)==null?void 0:Ee.isCompleted)||((te=(Le=s.value)==null?void 0:Le.lists)==null?void 0:te.isAbandoned)}),ut=N(()=>d.isCommentsEnabled),Je=()=>{if(s.value){const l=s.value.name_ru||s.value.name_en||s.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=l}},Ue=l=>l?l.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",$e=l=>(l||[]).map(t=>({kp_id:t.film_id,poster:t.poster_url_preview||t.poster_url,title:t.name_ru||t.name_en||t.name_original})),be=l=>{if(typeof l!="number")return;const t=Math.floor(l/60),w=l%60;return"".concat(t," —á. ").concat(w," –º–∏–Ω.")},Re=f(!1),et=f({top:"0px",left:"0px"}),qe=l=>{Re.value=!0,et.value={top:"".concat(l.pageY+10,"px"),left:"".concat(l.pageX-70,"px")}},tt=async()=>{try{const l=[s.value.name_ru||s.value.name_en||s.value.name_original,...s.value.year?[s.value.year]:[],...s.value.film_length?[be(s.value.film_length)]:[]];await navigator.clipboard.writeText(l.join(", ")),v.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l)}},fe=async(l=!0)=>{var t,w,A,se,de,Ce,Ee,Le;try{let te;if(p.value.startsWith("shiki")?te=await ko(p.value):te=await yo(p.value,o.token),Array.isArray(te)&&te.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");s.value=te,p.value.startsWith("shiki")?s.value={...s.value,title:s.value.name_ru||s.value.name_en,name_original:s.value.name_en,short_description:s.value.slogan}:s.value={...s.value,title:s.value.name_ru||s.value.name_en||s.value.name_original,kinopoisk_id:p.value},o.token&&An(),_.setHeaderContent({text:s.value.title,imageUrl:s.value.logo_url}),Je();const le={kp_id:p.value,title:((t=s.value)==null?void 0:t.name_ru)||((w=s.value)==null?void 0:w.name_en)||((A=s.value)==null?void 0:A.name_original),poster:((se=s.value)==null?void 0:se.poster_url)||((de=s.value)==null?void 0:de.cover_url)||((Ce=s.value)==null?void 0:Ce.screenshots[0]),year:(Ee=s.value)==null?void 0:Ee.year,type:(Le=s.value)==null?void 0:Le.type};if(p.value.startsWith("shiki"))if(s.value.screenshots&&s.value.screenshots.length>0){const Pe=Math.floor(Math.random()*s.value.screenshots.length),Ye=s.value.screenshots[Pe];C.updateMoviePoster(Ye)}else le.poster&&C.updateMoviePoster(le.poster);else le.poster&&C.updateMoviePoster(le.poster);if(N(()=>d.isHistoryAllowed).value&&le.kp_id&&le.title&&l)if(o.token)try{await hn(le.kp_id,$.HISTORY)}catch(Pe){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",Pe)}else d.addToHistory({...le})}catch(te){const{message:le,code:Fe}=ce(te);E.value=le,k.value=Fe,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",te)}},ze=N(()=>{var l;return(l=s.value)==null?void 0:l.videos}),pe=N(()=>{var l;return $e((l=s.value)==null?void 0:l.sequels_and_prequels)}),_e=N(()=>{var l;return $e((l=s.value)==null?void 0:l.similars)}),y=()=>{var A;const l=((A=document.querySelector(".related-movies"))==null?void 0:A.clientWidth)||0,w=Math.floor(l/160)||10;z.value=Math.max(1,w)},H=()=>{y()},xe=l=>{if(l.altKey&&l.keyCode===84&&document.querySelector(".player-container")){const w=document.querySelector(".theater-mode-btn");w&&w.click()}},Tt=l=>{l.button===1&&(l.preventDefault(),bt(l))},bt=async l=>{if(F.value!==null){F.value=null,re.value=!1;return}R.value=void 0,me.value=l.currentTarget,F.value="",re.value=!0;try{const t=await ho(s.value.imdb_id);F.value=t.nudity_info}catch(t){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",t),F.value="–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Parents Guide –Ω–∞ IMDb –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."}finally{re.value=!1}},xt=l=>{var t,w;if(F.value=null,R.value!==void 0){R.value=void 0;return}ye.value=l.currentTarget,R.value=((t=s.value)==null?void 0:t.nudity_timings)===null?"":((w=s.value)==null?void 0:w.nudity_timings)||""},dt=()=>{var l,t;F.value=null,R.value=((l=s.value)==null?void 0:l.nudity_timings)===null?"":((t=s.value)==null?void 0:t.nudity_timings)||""},Rt=l=>{var w,A,se,de,Ce,Ee,Le,te,le,Fe,Pe,Ye,gt;return(gt={[$.FAVORITE]:((A=(w=s.value)==null?void 0:w.lists)==null?void 0:A.isFavorite)||!1,[$.HISTORY]:((de=(se=s.value)==null?void 0:se.lists)==null?void 0:de.isHistory)||!1,[$.LATER]:((Ee=(Ce=s.value)==null?void 0:Ce.lists)==null?void 0:Ee.isLater)||!1,[$.COMPLETED]:((te=(Le=s.value)==null?void 0:Le.lists)==null?void 0:te.isCompleted)||!1,[$.ABANDONED]:((Fe=(le=s.value)==null?void 0:le.lists)==null?void 0:Fe.isAbandoned)||!1,[$.WATCHING]:((Ye=(Pe=s.value)==null?void 0:Pe.lists)==null?void 0:Ye.isWatching)||!1}[l])!=null?gt:!1},We=async l=>{if(!o.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>h.push("/login")});return}try{const t={[$.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[$.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[$.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[$.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[$.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[$.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};Rt(l)?(await bo(p.value,l),v.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(t[l]))):(await hn(p.value,l),v.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(t[l]))),await fe(!1),ie.value=!1}catch(t){const{message:w,code:A}=ce(t);v.value.showNotification("".concat(w," ").concat(A))}},pt=l=>{const t=document.querySelector(".mobile-list-dropdown");t&&!t.contains(l.target)&&(ie.value=!1)},M=l=>{const t=document.querySelector(".nudity-info-popup");t&&!t.contains(l.target)&&me.value&&!me.value.contains(l.target)&&(F.value=null)},U=l=>{const t=document.querySelector(".nudity-info-popup");t&&!t.contains(l.target)&&ye.value&&!ye.value.contains(l.target)&&(R.value=void 0)};it(async()=>{await fe(),n.value=!1,document.addEventListener("keydown",xe),window.addEventListener("resize",H),setTimeout(y,100),document.addEventListener("click",pt),document.addEventListener("click",M,!0),document.addEventListener("click",U,!0),window.selectedNudityTimings=Array.from(Q.value),window.overlayNudityTimings=Array.from(K.value)}),Ot(async()=>{_.clearHeaderContent(),document.removeEventListener("keydown",xe),window.removeEventListener("resize",H),document.removeEventListener("click",pt),document.removeEventListener("click",M,!0),document.removeEventListener("click",U,!0),delete window.selectedNudityTimings,delete window.overlayNudityTimings}),Me(()=>g.params.kp_id,async l=>{l&&l!==p.value&&(_.clearHeaderContent(),p.value=l,I.value=null,await fe(),n.value=!1)},{immediate:!0}),Me(s,()=>{Je()},{deep:!0}),Me(F,l=>{l?document.addEventListener("click",M,!0):document.removeEventListener("click",M,!0)},{deep:!0}),Me(R,l=>{l?(document.addEventListener("click",U,!0),Un()):document.removeEventListener("click",U,!0)},{deep:!0}),Me(Q,()=>{window.selectedNudityTimings=Array.from(Q.value)},{deep:!0}),Me(K,()=>{window.overlayNudityTimings=Array.from(K.value)},{deep:!0}),it(()=>{window.selectedNudityTimings=Array.from(Q.value),window.overlayNudityTimings=Array.from(K.value);const l=setInterval(()=>{if(window.obsSources&&Array.isArray(window.obsSources)&&(nn.value=window.obsSources),window.getOBSFiltersInfo){const t=window.getOBSFiltersInfo();t&&Array.isArray(t)&&b.updateObsSettings({filtersFound:t})}},1e3);Ot(()=>{clearInterval(l)})}),Ot(()=>{delete window.selectedNudityTimings,delete window.overlayNudityTimings});const V=l=>{var t,w;return((w=(t=s.value)==null?void 0:t.staff)==null?void 0:w.filter(A=>A.profession_key===l))||[]},oe=async()=>{try{await navigator.clipboard.writeText(F.value),v.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l),v.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{F.value=null}},W=async()=>{if(R.value.length!==0)try{const l=R.value.map(t=>"".concat(t.timing_text," (by @").concat(t.username,")")).join("\n").concat("\nReYohoho\n");await navigator.clipboard.writeText(l),v.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(l){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",l),v.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{R.value=void 0}},ue=()=>{const l=encodeURIComponent(F.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(l),"_blank"),F.value=null},J=f(""),ge=f(!1),Nt=N(()=>{if(!J.value.trim())return[];try{return Mt(J.value,!0)||[]}catch(l){return console.error("Error parsing timing text:",l),[]}}),Pt=N(()=>J.value.trim()),Gt=l=>o.user&&l.user_id&&l.user_id===o.user.id,In=()=>{if(!o.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–∏–Ω–≥–æ–≤',5e3,{onClick:()=>h.push("/login")});return}Ae.value=null,J.value="",_t.value=!0},Tn=l=>{Ae.value=l,J.value=l.timing_text,_t.value=!0},jt=()=>{_t.value=!1,Ae.value=null,J.value=""},xn=async()=>{if(!(!Pt.value||ge.value))try{ge.value=!0,await wo(p.value,J.value),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –¥–æ–±–∞–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),J.value="",jt(),await fe(!1),dt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ge.value=!1}},Rn=async()=>{if(!(!Pt.value||ge.value||!Ae.value))try{ge.value=!0,await _o(Ae.value.id,J.value),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),jt(),await fe(!1),dt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ge.value=!1}},Nn=async l=>{if(confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥?"))try{await Io(l),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ!"),await fe(!1),dt()}catch(t){const{message:w}=ce(t);v.value.showNotification(w,5e3)}},Pn=l=>{wt.value=l,Ke.value="",Bt.value=!0},Yt=()=>{Bt.value=!1,Ke.value="",wt.value=null},jn=async()=>{if(!(!Ke.value.trim()||ct.value||!wt.value))try{ct.value=!0,await Co(wt.value,Ke.value),v.value.showNotification("–ñ–∞–ª–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"),Yt()}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{ct.value=!1}},Zt=async(l,t)=>{if(!o.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è',5e3,{onClick:()=>h.push("/login")});return}if(ve.value!==l)try{ve.value=l;const w=await To(l,t),A=R.value.find(se=>se.id===l);A&&(A.upvotes=w.upvotes,A.downvotes=w.downvotes,A.voteScore=w.vote_score,A.userVote===t?A.userVote=null:A.userVote=t)}catch(w){const{message:A}=ce(w);v.value.showNotification(A,5e3)}finally{ve.value=null}},Bn=l=>l>0?"positive":l<0?"negative":"neutral",Un=async()=>{if(!(!R.value||R.value.length===0))try{for(const l of R.value)try{const t=await Po(l.id);l.upvotes=t.upvotes||0,l.downvotes=t.downvotes||0,l.voteScore=t.vote_score||0,l.userVote=t.user_vote||null}catch(t){l.upvotes=0,l.downvotes=0,l.voteScore=0,l.userVote=null}}catch(l){console.error("Error loading timing votes:",l)}},An=async()=>{if(!(!o.isAuthenticated||!p.value))try{const l=await So(p.value);B.value=l.note,B.value?X.value=B.value.note_text:X.value=""}catch(l){B.value=null,X.value=""}},Qt=()=>{if(!o.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a> –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–æ–∫',5e3,{onClick:()=>h.push("/login")});return}Y.value=!Y.value},On=async()=>{if(!o.token){v.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>h.push("/login")});return}if(!X.value.trim()){v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç–æ–π");return}if(X.value.length>1e4){v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–∞—è (–º–∞–∫—Å–∏–º—É–º 10000 —Å–∏–º–≤–æ–ª–æ–≤)");return}try{je.value=!0;const l=await Eo(p.value,X.value);B.value=l.note,X.value=l.note.note_text,v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞"),Y.value=!1}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{je.value=!1}},Vn=async()=>{if(o.token&&confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∑–∞–º–µ—Ç–∫—É?"))try{Be.value=!0,await Lo(p.value),B.value=null,X.value="",Y.value=!1,v.value.showNotification("–ó–∞–º–µ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∞")}catch(l){const{message:t}=ce(l);v.value.showNotification(t,5e3)}finally{Be.value=!1}},Xt=()=>{B.value?X.value=B.value.note_text:X.value="",Y.value=!1},Fn=async()=>{try{const{submissions:l}=await po();Ct.value=l,Et.value=!0}catch(l){const{message:t}=ce(l);v.value.showNotification(t)}},_t=f(!1),Ae=f(null),Bt=f(!1),Ke=f(""),wt=f(null),ct=f(!1),Ct=f([]),Et=f(!1),vt=f(!1),nt=f([]),ot=f(!1),ke=f(!1),Ne=f(null),Oe=f(!1),Ve=f(!1),Jt=f(!1),mt=f(!1),Lt=N({get:()=>b.obsSettings.enabled,set:l=>b.updateObsSettings({enabled:l})}),$t=N({get:()=>b.obsSettings.host,set:l=>b.updateObsSettings({host:l})}),en=N({get:()=>b.obsSettings.port,set:l=>b.updateObsSettings({port:l})}),tn=N({get:()=>b.obsSettings.password,set:l=>b.updateObsSettings({password:l})}),st=N(()=>b.obsSettings.connected),nn=f([]),ft=N(()=>b.obsSettings.filtersFound),Ge=N({get:()=>b.obsSettings.selectedFilterId,set:l=>b.setObsSelectedFilter(l)}),lt=N(()=>Ge.value?ft.value.find(l=>l.id===Ge.value):null),on=N({get:()=>b.obsSettings.showObsInOverlay,set:l=>b.updateObsSettings({showObsInOverlay:l})}),Hn=async l=>{if(!ke.value)try{ke.value=!0,Ne.value=l,Oe.value=!0,Ve.value=!1,await xo(l);const t=nt.value.find(w=>w.id===l);t&&(t.status="approved"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ–¥–æ–±—Ä–µ–Ω")}catch(t){const{message:w}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(w))}finally{ke.value=!1,Ne.value=null,Oe.value=!1,Ve.value=!1}},Dn=async l=>{if(!ke.value)try{ke.value=!0,Ne.value=l,Oe.value=!1,Ve.value=!1,await Ro(l);const t=nt.value.find(w=>w.id===l);t&&(t.status="rejected"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–∫–ª–æ–Ω–µ–Ω")}catch(t){const{message:w}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(w))}finally{ke.value=!1,Ne.value=null,Oe.value=!1,Ve.value=!1}},qn=async l=>{if(!ke.value)try{ke.value=!0,Ne.value=l,Oe.value=!1,Ve.value=!0,await No(l);const t=nt.value.find(w=>w.id===l);t&&(t.status="clean_text"),v.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ clean_text")}catch(t){const{message:w}=ce(t);v.value.showNotification("–û—à–∏–±–∫–∞: ".concat(w))}finally{ke.value=!1,Ne.value=null,Oe.value=!1,Ve.value=!1}},zn=async()=>{if(!ot.value)try{ot.value=!0,vt.value=!0;const{timings:l}=await Mo();nt.value=l}catch(l){const{message:t}=ce(l);v.value.showNotification(t),vt.value=!1}finally{ot.value=!1}},Wn=(l,t)=>{const w=[2,0,1,1,1,2];return t[l%100>4&&l%100<20?2:w[Math.min(l%10,5)]]},Kn=l=>{if(!Ct.value.length)return 0;const t=Math.max(...Ct.value.map(w=>w.approved_submissions_count));return l/t*100},sn=N(()=>nt.value),we=f({});function Gn(l){if(we.value[l.id])we.value={...we.value,[l.id]:!1};else{const t=Mt(l.timing_text);we.value={...we.value,[l.id]:t}}}const ln=N(()=>!!window.electronAPI);function Yn(l){if(!ln.value){v.value?v.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}an(l)}function Zn(l){if(!ln.value){v.value?v.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}an(l)}const an=l=>{K.value.has(l)?K.value.delete(l):K.value.add(l)};function Qn(){he.value=!he.value}function Xn(){x.value=!x.value}function Ut(){const l=[];if(R.value&&Array.isArray(R.value)){for(const t of R.value)if(Q.value.has(t.id)){const w=Mt(t.timing_text);w&&w.length>0&&l.push(...w)}}return l}function At(){const l=[];if(R.value&&Array.isArray(R.value)&&R.value.length>0){for(const t of R.value)if(K.value.has(t.id)){const w=Mt(t.timing_text);w&&w.length>0&&l.push(...w)}}return l}const Jn=()=>{Lt.value&&rn()},rn=async()=>{var l,t,w;if(!mt.value){mt.value=!0;try{window.connectToOBS?(await window.connectToOBS(),setTimeout(()=>{window.obsSources&&(nn.value=window.obsSources)},1e3),(l=v.value)==null||l.showNotification("–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ OBS...")):(t=v.value)==null||t.showNotification("–ü–ª–µ–µ—Ä –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω")}catch(A){console.error("Error connecting to OBS:",A),(w=v.value)==null||w.showNotification("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OBS")}finally{mt.value=!1}}},$n=()=>{var l,t;if(!Ge.value){(l=v.value)==null||l.showNotification("–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è");return}window.testOBSBlur?window.testOBSBlur(Ge.value):(t=v.value)==null||t.showNotification("OBS —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")},eo=()=>{var l,t;window.refreshOBSFilters?(window.refreshOBSFilters(),(l=v.value)==null||l.showNotification("–ü–æ–∏—Å–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤...")):(t=v.value)==null||t.showNotification("OBS —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã")},to=()=>{var l,t;Ge.value&&((t=v.value)==null||t.showNotification("–í—ã–±—Ä–∞–Ω —Ñ–∏–ª—å—Ç—Ä: ".concat((l=lt.value)==null?void 0:l.sourceName)))};return(l,t)=>{var A,se,de,Ce,Ee,Le,te,le,Fe,Pe,Ye,gt,un,dn,cn,vn,mn,fn;const w=ae("router-link");return i(),a(G,null,[e("div",Hl,[e("div",Dl,[(n.value||!s.value)&&!E.value?(i(),a("div",ql,[e("div",zl,[t[30]||(t[30]=ht('<div class="movie-skeleton__header" data-v-555a2b94><div class="movie-skeleton__title" data-v-555a2b94></div></div><div class="movie-skeleton__ratings" data-v-555a2b94><div class="movie-skeleton__rating-item" data-v-555a2b94></div><div class="movie-skeleton__rating-item" data-v-555a2b94></div><div class="movie-skeleton__rating-item" data-v-555a2b94></div></div>',2)),e("div",Wl,[Z(Uo)]),t[31]||(t[31]=ht('<div class="movie-skeleton__additional-info" data-v-555a2b94><div class="movie-skeleton__section-title" data-v-555a2b94></div><div class="movie-skeleton__info-list" data-v-555a2b94><div class="movie-skeleton__info-item" data-v-555a2b94></div><div class="movie-skeleton__info-item" data-v-555a2b94></div><div class="movie-skeleton__info-item" data-v-555a2b94></div><div class="movie-skeleton__info-item" data-v-555a2b94></div><div class="movie-skeleton__info-item" data-v-555a2b94></div></div></div><div class="movie-skeleton__description" data-v-555a2b94><div class="movie-skeleton__description-line" data-v-555a2b94></div><div class="movie-skeleton__description-line" data-v-555a2b94></div><div class="movie-skeleton__description-line" data-v-555a2b94></div><div class="movie-skeleton__description-line" data-v-555a2b94></div></div>',2))])])):m("",!0),E.value?(i(),Ze(fo,{key:1,message:E.value,code:k.value},null,8,["message","code"])):m("",!0),E.value?(i(),a("div",Kl,[(i(),Ze(_n,{key:p.value,"kp-id":p.value,"movie-info":s.value,"onUpdate:movieInfo":fe},null,8,["kp-id","movie-info"]))])):m("",!0),s.value&&!n.value?(i(),a("div",Gl,[e("div",Yl,[s.value.logo_url?(i(),a("div",{key:0,class:"content-logo",onMousemove:qe,onMouseleave:t[0]||(t[0]=r=>Re.value=!1),onClick:tt},[e("img",{src:s.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,Zl)],32)):(i(),a("div",{key:1,onMousemove:qe,onMouseleave:t[1]||(t[1]=r=>Re.value=!1),onClick:tt},[e("h1",Ql,c(s.value.title),1)],32)),ee(e("div",{class:"title-copy-tooltip",style:Ft(et.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[It,Re.value]])]),s.value.kinopoisk_id||s.value.title||s.value.imdb_id||s.value.rating_imdb||s.value.shikimori_id?(i(),a("div",Xl,[s.value.kinopoisk_id?(i(),Ze(jo,{key:s.value.kinopoisk_id,"kp-id":s.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):m("",!0),s.value.kinopoisk_id?(i(),a("div",Jl,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(s.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:s.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(s.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[32]||(t[32]=e("img",{src:bn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:S(["rating-value",q(St)(s.value.rating_kinopoisk)])},c(s.value.rating_kinopoisk?s.value.rating_kinopoisk:"‚Äî"),3),t[33]||(t[33]=e("img",{src:yt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,$l)])):m("",!0),!s.value.kinopoisk_id&&s.value.title?(i(),a("div",ei,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(s.value.title+(s.value.year?" "+s.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:s.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(s.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[34]||(t[34]=e("img",{src:bn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:S(["rating-value",q(St)(s.value.rating_kinopoisk)])},c(s.value.rating_kinopoisk?s.value.rating_kinopoisk:"‚Äî"),3),t[35]||(t[35]=e("img",{src:yt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,ti)])):m("",!0),s.value.imdb_id?(i(),a("div",ni,[e("a",{href:"https://www.imdb.com/title/".concat(s.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:s.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(s.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[36]||(t[36]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:S(["rating-value",q(St)(s.value.rating_imdb)])},c(s.value.rating_imdb?s.value.rating_imdb:"‚Äî"),3),t[37]||(t[37]=e("img",{src:yt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,oi)])):m("",!0),!s.value.imdb_id&&s.value.title?(i(),a("div",si,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(s.value.title+(s.value.year?" "+s.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:s.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(Ue(s.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[t[38]||(t[38]=e("img",{src:pn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:S(["rating-value",q(St)(s.value.rating_imdb)])},c(s.value.rating_imdb?s.value.rating_imdb:"‚Äî"),3),t[39]||(t[39]=e("img",{src:yt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,li)])):m("",!0),s.value.shikimori_id?(i(),a("div",ii,[e("a",{href:"https://shikimori.one/animes/".concat(s.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},t[40]||(t[40]=[e("img",{src:Bo,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:yt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,ai)])):m("",!0),s.value.imdb_id?(i(),a("button",{key:6,class:"nudity-info-btn parents-guide-btn",onClick:t[2]||(t[2]=r=>bt(r)),onMousedown:t[3]||(t[3]=r=>Tt(r)),title:F.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å Parents Guide –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö"},[t[41]||(t[41]=e("span",{class:"desktop-text"},"Parents Guide",-1)),t[42]||(t[42]=e("span",{class:"mobile-text"},"PG",-1)),re.value?(i(),a("i",di)):(i(),a("i",ui))],40,ri)):m("",!0),e("button",{class:"nudity-info-btn",onClick:t[4]||(t[4]=r=>xt(r)),title:R.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω 18+(–¥–ª—è —Ç–≤–∏—á–∞, –º–∏–≥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)"},[e("i",{class:S(["fa-regular fa-clock",{"text-red":Te.value,"text-red-blink":Qe.value}])},null,2)],8,ci),q(o).token?(i(),a("button",{key:7,class:S(["nudity-info-btn note-btn",{"has-note":B.value}]),onClick:Qt,title:B.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É":"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É"},t[43]||(t[43]=[e("i",{class:"fa-regular fa-note-sticky"},null,-1)]),10,vi)):m("",!0)])):m("",!0),(i(),Ze(_n,{key:p.value,"kp-id":p.value,"movie-info":s.value,"onUpdate:movieInfo":fe},null,8,["kp-id","movie-info"])),q(d).isMobile?(i(),a("div",mi,[e("button",{class:S(["mobile-list-toggle",{}]),onClick:t[5]||(t[5]=r=>ie.value=!ie.value)},[e("span",{class:S(["material-icons",{active:Xe.value}])},c(Xe.value?"bookmark_added":"bookmark_border"),3),t[44]||(t[44]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:S(["material-icons dropdown-arrow",{expanded:ie.value}])},"expand_more",2)]),ee(e("div",fi,[e("button",{class:S(["mobile-list-btn",{}]),onClick:t[6]||(t[6]=r=>We(q($).FAVORITE))},[e("span",{class:S(["material-icons",{active:(se=(A=s.value)==null?void 0:A.lists)==null?void 0:se.isFavorite}])},c((Ce=(de=s.value)==null?void 0:de.lists)!=null&&Ce.isFavorite?"favorite":"favorite_border"),3),t[45]||(t[45]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:S(["mobile-list-btn",{}]),onClick:t[7]||(t[7]=r=>We(q($).WATCHING))},[e("span",{class:S(["material-icons",{active:(Le=(Ee=s.value)==null?void 0:Ee.lists)==null?void 0:Le.isWatching}])},c((le=(te=s.value)==null?void 0:te.lists)!=null&&le.isWatching?"visibility":"visibility_off"),3),t[46]||(t[46]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:S(["mobile-list-btn",{}]),onClick:t[8]||(t[8]=r=>We(q($).LATER))},[e("span",{class:S(["material-icons",{active:(Pe=(Fe=s.value)==null?void 0:Fe.lists)==null?void 0:Pe.isLater}])},"watch_later",2),t[47]||(t[47]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:S(["mobile-list-btn",{}]),onClick:t[9]||(t[9]=r=>We(q($).COMPLETED))},[e("span",{class:S(["material-icons",{active:(gt=(Ye=s.value)==null?void 0:Ye.lists)==null?void 0:gt.isCompleted}])},c((dn=(un=s.value)==null?void 0:un.lists)!=null&&dn.isCompleted?"check_circle":"check_circle_outline"),3),t[48]||(t[48]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:S(["mobile-list-btn",{}]),onClick:t[10]||(t[10]=r=>We(q($).ABANDONED))},[e("span",{class:S(["material-icons",{active:(vn=(cn=s.value)==null?void 0:cn.lists)==null?void 0:vn.isAbandoned}])},"not_interested",2),t[49]||(t[49]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[It,ie.value]])])):m("",!0),e("meta",{name:"title-and-year",content:s.value.type==="FILM"&&s.value.year?"".concat(s.value.title," (").concat(s.value.year,")"):s.value.title},null,8,gi),s.value.name_original?(i(),a("meta",{key:2,name:"original-title",content:s.value.name_original},null,8,ki)):m("",!0),e("div",yi,[t[60]||(t[60]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",hi,[s.value.poster_url?(i(),a("div",bi,[e("a",{href:s.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:s.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,_i)],8,pi)])):m("",!0),e("div",wi,[e("ul",Ci,[s.value.type&&q(kn)[s.value.type]?(i(),a("li",Ei,[t[50]||(t[50]=e("strong",null,"–¢–∏–ø:",-1)),O(" "+c(q(kn)[s.value.type]),1)])):m("",!0),s.value.year?(i(),a("li",Li,[t[51]||(t[51]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),O(" "+c(s.value.year),1)])):m("",!0),s.value.title?(i(),a("li",Mi,[t[52]||(t[52]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),O(" "+c(s.value.title),1)])):m("",!0),s.value.name_original?(i(),a("li",Si,[t[53]||(t[53]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),O(" "+c(s.value.name_original),1)])):m("",!0),s.value.slogan?(i(),a("li",Ii,[t[54]||(t[54]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),O(" "+c(s.value.slogan),1)])):m("",!0),s.value.production_companies?(i(),a("li",Ti,[t[55]||(t[55]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),O(" "+c(s.value.production_companies),1)])):m("",!0),(mn=s.value.countries)!=null&&mn.length?(i(),a("li",xi,[t[56]||(t[56]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),O(" "+c(s.value.countries.map(r=>r.country).join(", ")),1)])):m("",!0),(fn=s.value.genres)!=null&&fn.length?(i(),a("li",Ri,[t[57]||(t[57]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),O(" "+c(s.value.genres.map(r=>r.genre).join(", ")),1)])):m("",!0),s.value.film_length?(i(),a("li",Ni,[t[58]||(t[58]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),O(" "+c(be(s.value.film_length)),1)])):m("",!0),s.value.rating_mpaa||s.value.rating_age_limits?(i(),a("li",Pi,[s.value.rating_mpaa?(i(),a("div",ji,[t[59]||(t[59]=e("strong",null,"MPAA",-1)),e("span",null,c(s.value.rating_mpaa.toUpperCase()),1)])):m("",!0),s.value.rating_age_limits?(i(),a("div",Bi,[e("strong",null,c(s.value.rating_age_limits.replace("age",""))+"+",1)])):m("",!0)])):m("",!0)]),e("div",Ui,[s.value.description?(i(),a("p",Ai,c(s.value.description),1)):m("",!0)])])])]),B.value&&q(o).token?(i(),a("div",Oi,[e("div",{class:"movie-note-header"},[t[62]||(t[62]=e("div",{class:"movie-note-title"},[e("i",{class:"fa-solid fa-note-sticky"}),e("h3",null,"–ú–æ—è –∑–∞–º–µ—Ç–∫–∞")],-1)),e("div",{class:"movie-note-actions"},[e("button",{class:"note-edit-btn",onClick:Qt,title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"},t[61]||(t[61]=[e("i",{class:"fas fa-edit"},null,-1)]))])]),e("div",Vi,c(B.value.note_text),1),e("div",Fi,[e("span",Hi,[t[63]||(t[63]=e("i",{class:"far fa-calendar"},null,-1)),O(" –û–±–Ω–æ–≤–ª–µ–Ω–æ: "+c(new Date(B.value.updated_at).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)])])])):m("",!0),ut.value?(i(),a("div",Di,[(i(),Ze(Fl,{"movie-id":p.value,key:p.value},null,8,["movie-id"]))])):m("",!0),s.value.staff?(i(),a("div",qi,[e("div",zi,[V("ACTOR").length?(i(),a("div",Wi,[t[64]||(t[64]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",Ki,[(i(!0),a(G,null,ne(V("ACTOR").slice(0,12),r=>(i(),a("div",{key:r.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:r.description||""},[e("img",{src:r.poster_url,alt:r.name_ru,class:"staff-photo"},null,8,Yi),e("span",Zi,c(r.name_ru||r.name_en),1),r.description?(i(),a("span",Qi,c(r.description),1)):m("",!0)],8,Gi)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(p.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(V("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+c(V("ACTOR").length-12),9,Xi)])])):m("",!0),V("DIRECTOR").length?(i(),a("div",Ji,[t[65]||(t[65]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",$i,[e("div",ea,[(i(!0),a(G,null,ne(V("DIRECTOR").slice(0,5),r=>(i(),a("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},c(r.name_ru||r.name_en),9,ta))),128)),V("DIRECTOR").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(p.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(V("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+c(V("DIRECTOR").length-5),9,na)):m("",!0)])])])):m("",!0),V("PRODUCER").length?(i(),a("div",oa,[t[66]||(t[66]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",sa,[e("div",la,[(i(!0),a(G,null,ne(V("PRODUCER").slice(0,5),r=>(i(),a("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},c(r.name_ru||r.name_en),9,ia))),128)),V("PRODUCER").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(p.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(V("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+c(V("PRODUCER").length-5),9,aa)):m("",!0)])])])):m("",!0)])])):m("",!0),ze.value.length&&T.value?(i(),a("div",ra,[Z(Go,{videos:ze.value,"active-video-index":I.value,onSelect:l.playTrailer},null,8,["videos","active-video-index","onSelect"])])):m("",!0),pe.value.length?(i(),a("div",ua,[t[67]||(t[67]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),Z(q(wn),{"movies-list":L.value?pe.value:pe.value.slice(0,z.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),pe.value.length>z.value?(i(),a("a",{key:0,class:"expand-circle-button",onClick:t[11]||(t[11]=r=>L.value=!L.value),title:"".concat(L.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(pe.value.length,")")},c(L.value?"‚àí":"+".concat(pe.value.length-z.value)),9,da)):m("",!0)])):m("",!0),_e.value.length?(i(),a("div",ca,[t[68]||(t[68]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),Z(q(wn),{"movies-list":P.value?_e.value:_e.value.slice(0,z.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),_e.value.length>z.value?(i(),a("a",{key:0,class:"expand-circle-button",onClick:t[12]||(t[12]=r=>P.value=!P.value),title:"".concat(P.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(_e.value.length,")")},c(P.value?"‚àí":"+".concat(_e.value.length-z.value)),9,va)):m("",!0)])):m("",!0)])):m("",!0)])]),Z(Mn,{ref_key:"notificationRef",ref:v},null,512),F.value!==null?(i(),a("div",ma,[e("div",fa,[re.value?(i(),a("div",ga,t[69]||(t[69]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...",-1)]))):(i(),a("div",ka,c(F.value),1))]),e("div",ya,[e("a",{href:"https://www.imdb.com/title/".concat(s.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},t[70]||(t[70]=[e("i",{class:"fas fa-external-link-alt"},null,-1),e("span",null,"Parents Guide",-1)]),8,ha),e("button",{class:"nudity-info-button",onClick:oe},t[71]||(t[71]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])),e("button",{class:"nudity-info-button",onClick:ue},t[72]||(t[72]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)]))])])):m("",!0),R.value!==void 0?(i(),a("div",ba,[e("div",pa,[e("div",{class:"acknowledgment-table"},[t[75]||(t[75]=e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-heart"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏")],-1)),e("div",{class:"acknowledgment-content"},[t[74]||(t[74]=e("div",{class:"acknowledgment-row"},[e("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[e("i",{class:"fa-brands fa-twitch"}),e("span",null,"TanyaBelkova")]),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –æ—Å–Ω–æ–≤—É –±–∞–∑—ã —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)),e("div",{class:"acknowledgment-row clickable",onClick:Fn},t[73]||(t[73]=[e("div",{class:"community-link"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–°–æ–æ–±—â–µ—Å—Ç–≤–æ")],-1),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)]))])]),e("div",{class:S(["timings-content",{"no-border":!R.value}])},[t[91]||(t[91]=e("div",{class:"timings-warning"},[e("i",{class:"fas fa-exclamation-triangle"}),e("span",null,"–¢–∞–π–º–∏–Ω–≥–∏ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º")],-1)),e("div",_a,[R.value.length>0?(i(),a("div",wa,[(i(!0),a(G,null,ne(rt.value,r=>(i(),a("div",{key:r.id,class:S(["timing-entry",{pending:r.status==="pending","clean-text":r.status==="clean_text",selected:Q.value.has(r.id),"top-rated":(r.voteScore||0)>=5,"highly-rated":(r.voteScore||0)>=10}])},[e("div",Ca,[e("div",Ea,[r.status==="pending"?(i(),a("div",La,"–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏")):m("",!0),r.status==="clean_text"?(i(),a("div",Ma," –¢–∞–π–º–∏–Ω–≥–∏ —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è, –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ä—è–π—Ç–µ—Å—å —Å ParentsGuide ")):m("",!0),(r.voteScore||0)>=10?(i(),a("div",Sa,t[76]||(t[76]=[e("i",{class:"fas fa-star"},null,-1),O(" –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º ")]))):(r.voteScore||0)>=5?(i(),a("div",Ia,t[77]||(t[77]=[e("i",{class:"fas fa-thumbs-up"},null,-1),O(" –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ")]))):m("",!0)]),e("div",Ta,[e("button",{class:"nudity-info-button",onClick:D=>Gn(r)},c(we.value[r.id]?"–°–∫—Ä—ã—Ç—å –ø–∞—Ä—Å–µ—Ä":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä—Å–µ—Ä"),9,xa),K.value.has(r.id)?(i(),a("button",{key:0,class:"nudity-info-button overlay-button",onClick:D=>Zn(r.id),title:"–£–¥–∞–ª–∏—Ç—å –∏–∑ –æ–≤–µ—Ä–ª–µ—è"},t[78]||(t[78]=[e("i",{class:"fas fa-eye-slash"},null,-1),e("span",null,"–£–¥–∞–ª–∏—Ç—å –∏–∑ –æ–≤–µ—Ä–ª–µ—è",-1)]),8,Ra)):(i(),a("button",{key:1,class:"nudity-info-button overlay-button",onClick:D=>Yn(r.id),title:"–î–æ–±–∞–≤–∏—Ç—å –≤ –æ–≤–µ—Ä–ª–µ–π"},t[79]||(t[79]=[e("i",{class:"fas fa-eye"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å –≤ –æ–≤–µ—Ä–ª–µ–π",-1)]),8,Na)),Gt(r)?(i(),a(G,{key:2},[e("button",{class:"nudity-info-button edit-button",onClick:D=>Tn(r),title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥"},t[80]||(t[80]=[e("i",{class:"fas fa-edit"},null,-1),e("span",null,"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å",-1)]),8,Pa),e("button",{class:"nudity-info-button delete-button",onClick:D=>Nn(r.id),title:"–£–¥–∞–ª–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"},t[81]||(t[81]=[e("i",{class:"fas fa-trash"},null,-1),e("span",null,"–£–¥–∞–ª–∏—Ç—å",-1)]),8,ja)],64)):m("",!0),Gt(r)?m("",!0):(i(),a("button",{key:3,class:"nudity-info-button report-button",onClick:D=>Pn(r.id),title:"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–∏–Ω–≥"},t[82]||(t[82]=[e("i",{class:"fas fa-flag"},null,-1),e("span",null,"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è",-1)]),8,Ba))]),e("div",{class:S(["timing-hover-container",{blurred:r.status==="pending"}])},[e("span",Ua,c(r.timing_text),1),t[83]||(t[83]=e("br",null,null,-1)),e("span",Aa,[O(" by "+c(r.username)+" ",1),r.user_id&&r.user_id!==0&&r.user_timing_count>0?(i(),a("span",{key:0,class:"timing-count",title:"–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (".concat(r.user_timing_count," —Ç–∞–π–º–∏–Ω–≥–æ–≤)")}," ("+c(r.user_timing_count)+") ",9,Oa)):m("",!0)])],2),e("div",Va,[e("button",{class:S(["vote-button upvote-button",{active:r.userVote==="upvote"}]),onClick:D=>Zt(r.id,"upvote"),disabled:ve.value===r.id,title:"–≠—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥ –ø–æ–ª–µ–∑–µ–Ω –∏ —Ç–æ—á–µ–Ω"},[t[84]||(t[84]=e("i",{class:"fas fa-arrow-up"},null,-1)),e("span",Ha,c(r.upvotes||0),1)],10,Fa),e("span",{class:S(["vote-score",Bn(r.voteScore||0)])},c(r.voteScore||0),3),e("button",{class:S(["vote-button downvote-button",{active:r.userVote==="downvote"}]),onClick:D=>Zt(r.id,"downvote"),disabled:ve.value===r.id,title:"–≠—Ç–æ—Ç —Ç–∞–π–º–∏–Ω–≥ –Ω–µ—Ç–æ—á–µ–Ω –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω"},[t[85]||(t[85]=e("i",{class:"fas fa-arrow-down"},null,-1)),e("span",qa,c(r.downvotes||0),1)],10,Da)]),we.value[r.id]&&Array.isArray(we.value[r.id])?(i(),a("div",za,[t[86]||(t[86]=e("b",null,"–ü–∞—Ä—Å–µ—Ä:",-1)),we.value[r.id].length===0?(i(),a("span",Wa,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å")):(i(),a("span",Ka,[(i(!0),a(G,null,ne(we.value[r.id],(D,kt)=>(i(),a("span",{key:kt}," ["+c(q(He)(D[0]))+" - "+c(q(He)(D[1]))+"]"+c(kt<we.value[r.id].length-1?", ":""),1))),128))]))])):m("",!0)])],2))),128))])):(i(),a("div",Ga,c("–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")))]),he.value&&Q.value.size>0?(i(),a("div",Ya,[e("h4",Za," –û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+c(Q.value.size)+" —Ç–∞–π–º–∏–Ω–≥–æ–≤): ",1),e("div",Qa,[Ut().length===0?(i(),a("span",Xa,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏")):(i(),a("span",Ja,[(i(!0),a(G,null,ne(Ut(),(r,D)=>(i(),a("span",{key:D}," ["+c(q(He)(r[0]))+" - "+c(q(He)(r[1]))+"]"+c(D<Ut().length-1?", ":""),1))),128))]))])])):m("",!0),x.value&&K.value.size>0?(i(),a("div",$a,[e("h4",er," –ü–∞—Ä—Å–µ—Ä –æ–≤–µ—Ä–ª–µ—è ("+c(K.value.size)+" —Ç–∞–π–º–∏–Ω–≥–æ–≤): ",1),e("div",tr,[At().length===0?(i(),a("span",nr,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏")):(i(),a("span",or,[(i(!0),a(G,null,ne(At(),(r,D)=>(i(),a("span",{key:D}," ["+c(q(He)(r[0]))+" - "+c(q(He)(r[1]))+"]"+c(D<At().length-1?", ":""),1))),128))]))])])):m("",!0),e("div",sr,[R.value.length>0?(i(),a("button",{key:0,class:"nudity-info-button",onClick:W},t[87]||(t[87]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",-1)]))):m("",!0),Q.value.size>0?(i(),a("button",{key:1,class:"nudity-info-button",onClick:Qn},[t[88]||(t[88]=e("i",{class:"fas fa-eye"},null,-1)),e("span",null,"–û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+c(Q.value.size)+")",1)])):m("",!0),K.value.size>0?(i(),a("button",{key:2,class:"nudity-info-button",onClick:Xn},[t[89]||(t[89]=e("i",{class:"fas fa-layer-group"},null,-1)),e("span",null,"–ü–∞—Ä—Å–µ—Ä –æ–≤–µ—Ä–ª–µ—è ("+c(K.value.size)+")",1)])):m("",!0),e("button",{class:"nudity-info-button",onClick:In},t[90]||(t[90]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å/–¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)]))])],2)])])):m("",!0),_t.value?(i(),a("div",lr,[e("div",ir,[e("div",ar,[e("h3",null,c(Ae.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥":"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"),1),e("button",{class:"close-modal-btn",onClick:jt},t[92]||(t[92]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",rr,[ee(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=r=>J.value=r),placeholder:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞(–≤ [] —Å–∫–æ–±–∫–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä [01:36] –∏–ª–∏ [01:36:55]), –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—Ä–∏–ª–∞–≥–∞–µ—Ç–µ —Ç–∞–π–º–∏–Ω–≥\n–¢–∫ –∂–µ –¥–ª—è –∞–≤—Ç–æ–±–ª—é—Ä–∞ –ø—Ä–æ—à—É –≤—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –¥–∏–∞–ø–æ–∑–æ–Ω, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä 00:12:31-00:13:04 - —Ç–µ–∫—Å—Ç, –∞ –Ω–µ 00:12:31\n–î–ª—è —Å–µ—Ä–∏–∞–ª–æ–≤ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω –∏ –Ω–æ–º–µ—Ä —ç–ø–∏–∑–æ–¥–∞\n",class:"timing-textarea"},null,512),[[Se,J.value]]),Nt.value&&Nt.value.length>0?(i(),a("div",ur,[t[93]||(t[93]=e("div",{class:"timing-preview-header"},[e("i",{class:"fas fa-eye"}),e("span",null,"–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Ä—Å–µ—Ä–∞")],-1)),e("div",dr,[(i(!0),a(G,null,ne(Nt.value,(r,D)=>(i(),a("div",{key:D,class:"timing-preview-item"},[e("span",cr,c(q(He)(r[0]))+" - "+c(q(He)(r[1])),1),e("span",vr," ("+c(Math.round(r[1]-r[0]))+"—Å) ",1)]))),128))])])):m("",!0),e("div",mr,[e("button",{class:"submit-timing-btn",onClick:t[14]||(t[14]=r=>Ae.value?Rn():xn()),disabled:!Pt.value||ge.value},[ge.value?(i(),a("i",gr)):(i(),a("span",kr,c(Ae.value?"–û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥":"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"),1))],8,fr)])])])])):m("",!0),Bt.value?(i(),a("div",yr,[e("div",hr,[e("div",{class:"timing-modal-header"},[t[95]||(t[95]=e("h3",null,"–ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:Yt},t[94]||(t[94]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",br,[ee(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=r=>Ke.value=r),placeholder:"–û–ø–∏—à–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –∂–∞–ª–æ–±—ã...",class:"timing-textarea",rows:"4"},null,512),[[Se,Ke.value]]),e("div",pr,[e("button",{class:"submit-timing-btn",onClick:jn,disabled:!Ke.value.trim()||ct.value},[ct.value?(i(),a("i",wr)):(i(),a("span",Cr,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É"))],8,_r)])])])])):m("",!0),Y.value?(i(),a("div",Er,[e("div",Lr,[e("div",Mr,[e("h3",null,[t[96]||(t[96]=e("i",{class:"fa-regular fa-note-sticky"},null,-1)),O(" "+c(B.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–º–µ—Ç–∫—É":"–ù–æ–≤–∞—è –∑–∞–º–µ—Ç–∫–∞"),1)]),e("button",{class:"close-modal-btn",onClick:Xt},t[97]||(t[97]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Sr,[t[100]||(t[100]=e("div",{class:"note-info"},[e("i",{class:"fas fa-info-circle"}),e("span",null,"–õ–∏—á–Ω–∞—è –∑–∞–º–µ—Ç–∫–∞ –æ —Ñ–∏–ª—å–º–µ, –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –≤–∞–º")],-1)),ee(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=r=>X.value=r),placeholder:"–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –∑–∞–º–µ—Ç–∫—É –æ —Ñ–∏–ª—å–º–µ...",class:"timing-textarea note-textarea",rows:"10",maxlength:"10000"},null,512),[[Se,X.value]]),e("div",Ir,c(X.value.length)+" / 10000 —Å–∏–º–≤–æ–ª–æ–≤",1),e("div",Tr,[e("button",{class:"submit-timing-btn",onClick:On,disabled:!X.value.trim()||je.value},[je.value?(i(),a("i",Rr)):(i(),a("i",Nr)),e("span",null,c(B.value?"–û–±–Ω–æ–≤–∏—Ç—å":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),1)],8,xr),B.value?(i(),a("button",{key:0,class:"delete-note-btn",onClick:Vn,disabled:Be.value},[Be.value?(i(),a("i",jr)):(i(),a("i",Br)),t[98]||(t[98]=e("span",null,"–£–¥–∞–ª–∏—Ç—å",-1))],8,Pr)):m("",!0),e("button",{class:"cancel-note-btn",onClick:Xt},t[99]||(t[99]=[e("i",{class:"fas fa-times"},null,-1),e("span",null,"–û—Ç–º–µ–Ω–∞",-1)]))])])])])):m("",!0),Et.value?(i(),a("div",{key:5,class:"modal-overlay",onClick:t[19]||(t[19]=r=>Et.value=!1)},[e("div",{class:"modal-content",onClick:t[18]||(t[18]=at(()=>{},["stop"]))},[e("div",Ur,[t[102]||(t[102]=e("h3",null,[O(" –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤ "),e("span",{class:"hint-text"},[O("(–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∏–º/—Å–æ—Ü—Å–µ—Ç–∏? –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ "),e("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"—Ç–µ–ª–µ–≥—Ä–∞–º"),O(")")])],-1)),e("div",Ar,[e("button",{class:"close-modal-btn",onClick:t[17]||(t[17]=r=>Et.value=!1)},t[101]||(t[101]=[e("i",{class:"fas fa-times"},null,-1)]))])]),e("div",Or,[e("button",{class:"show-all-timings-btn",onClick:zn,disabled:ot.value},[ot.value?(i(),a("i",Fr)):(i(),a("i",Hr)),t[103]||(t[103]=e("span",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1))],8,Vr),e("div",Dr,[(i(!0),a(G,null,ne(Ct.value,(r,D)=>(i(),a("div",{key:r.username,class:"top-submitter-item"},[e("div",{class:S(["submitter-rank",{gold:D===0,silver:D===1,bronze:D===2}])},c(D+1),3),e("div",qr,[e("div",zr,[r.stream_link?(i(),a("a",{key:0,href:r.stream_link,target:"_blank",rel:"noopener noreferrer"},[O(c(r.username)+" ",1),t[104]||(t[104]=e("i",{class:"fa-brands fa-twitch"},null,-1))],8,Wr)):(i(),a(G,{key:1},[O(c(r.username),1)],64))]),e("div",Kr,c(r.approved_submissions_count)+" "+c(Wn(r.approved_submissions_count,["—Ñ–∏–ª—å–º","—Ñ–∏–ª—å–º–∞","—Ñ–∏–ª—å–º–æ–≤"])),1)]),e("div",Gr,[e("div",{class:"contribution-bar",style:Ft({width:Kn(r.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):m("",!0),vt.value?(i(),a("div",{key:6,class:"modal-overlay",onClick:t[22]||(t[22]=r=>vt.value=!1)},[e("div",{class:"modal-content all-timings-modal",onClick:t[21]||(t[21]=at(()=>{},["stop"]))},[e("div",Yr,[t[106]||(t[106]=e("h3",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1)),e("button",{class:"close-modal-btn",onClick:t[20]||(t[20]=r=>vt.value=!1)},t[105]||(t[105]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Zr,[ot.value?(i(),a("div",Qr,t[107]||(t[107]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ç–∞–π–º–∏–Ω–≥–æ–≤...",-1)]))):nt.value.length===0?(i(),a("div",Xr,t[108]||(t[108]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)]))):sn.value.length===0?(i(),a("div",Jr,t[109]||(t[109]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)]))):(i(),a("div",$r,[(i(!0),a(G,null,ne(sn.value,r=>{var D;return i(),a("div",{key:r.id,class:"timing-item"},[e("div",eu,[e("div",tu,[e("span",nu,c(r.username),1),e("span",ou,c(q(En)(r.submitted_at)),1)]),e("div",su,[Z(w,{to:"/movie/".concat(r.kp_id),class:"timing-kp-id clickable",title:"–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∏–ª—å–º—É ".concat(r.kp_id)},{default:Vt(()=>[O(" KP: "+c(r.kp_id),1)]),_:2},1032,["to","title"]),(D=q(o).user)!=null&&D.is_admin&&r.status==="pending"?(i(),a("div",lu,[r.status==="pending"?(i(),a("button",{key:0,class:"approve-btn",onClick:kt=>Hn(r.id),disabled:ke.value,title:"–û–¥–æ–±—Ä–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"},[Ne.value===r.id&&Oe.value?(i(),a("i",au)):(i(),a("i",ru))],8,iu)):m("",!0),r.status==="pending"?(i(),a("button",{key:1,class:"reject-btn",onClick:kt=>Dn(r.id),disabled:ke.value,title:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"},[Ne.value===r.id&&!Oe.value&&!Ve.value?(i(),a("i",du)):(i(),a("i",cu))],8,uu)):m("",!0),r.status==="pending"?(i(),a("button",{key:2,class:"clean-text-btn",onClick:kt=>qn(r.id),disabled:ke.value,title:"–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ clean_text"},[Ne.value===r.id&&Ve.value?(i(),a("i",mu)):(i(),a("i",fu))],8,vu)):m("",!0)])):m("",!0)])]),e("div",gu,[e("pre",ku,c(r.timing_text),1)])])}),128))]))])])])):m("",!0),Jt.value?(i(),a("div",yu,[e("div",hu,[e("div",bu,[t[111]||(t[111]=e("h3",null,"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ OBS WebSocket",-1)),e("button",{class:"close-modal-btn",onClick:t[23]||(t[23]=r=>Jt.value=!1)},t[110]||(t[110]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",pu,[e("div",_u,[e("label",wu,[ee(e("input",{type:"checkbox","onUpdate:modelValue":t[24]||(t[24]=r=>Lt.value=r),onChange:Jn},null,544),[[yn,Lt.value]]),t[112]||(t[112]=e("span",null,"–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–±–ª—é—Ä –≤ OBS",-1))]),t[113]||(t[113]=e("div",{class:"obs-setting-description"}," –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –∞–≤—Ç–æ–±–ª—é—Ä –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è —á–µ—Ä–µ–∑ OBS WebSocket –≤–º–µ—Å—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –±–ª—é—Ä–∞ ",-1))]),Lt.value?(i(),a("div",Cu,[e("div",Eu,[t[114]||(t[114]=e("label",null,"–•–æ—Å—Ç OBS WebSocket:",-1)),ee(e("input",{type:"text","onUpdate:modelValue":t[25]||(t[25]=r=>$t.value=r),placeholder:"localhost",class:"obs-input"},null,512),[[Se,$t.value]])]),e("div",Lu,[t[115]||(t[115]=e("label",null,"–ü–æ—Ä—Ç OBS WebSocket:",-1)),ee(e("input",{type:"number","onUpdate:modelValue":t[26]||(t[26]=r=>en.value=r),placeholder:"4455",class:"obs-input"},null,512),[[Se,en.value]])]),e("div",Mu,[t[116]||(t[116]=e("label",null,"–ü–∞—Ä–æ–ª—å (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):",-1)),ee(e("input",{type:"password","onUpdate:modelValue":t[27]||(t[27]=r=>tn.value=r),placeholder:"–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",class:"obs-input"},null,512),[[Se,tn.value]])]),st.value?(i(),a("div",Su,[t[119]||(t[119]=e("label",null,"–í—ã–±–æ—Ä —Ñ–∏–ª—å—Ç—Ä–∞ –¥–ª—è –±–ª—é—Ä–∞:",-1)),ft.value.length===0?(i(),a("div",Iu," ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ OBS. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –µ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã. ")):(i(),a("div",Tu,[ee(e("select",{"onUpdate:modelValue":t[28]||(t[28]=r=>Ge.value=r),onChange:to,class:"obs-filter-select"},[t[117]||(t[117]=e("option",{value:""},"–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä",-1)),(i(!0),a(G,null,ne(ft.value,r=>(i(),a("option",{key:r.id,value:r.id},c(r.sourceName)+" - "+c(r.filterName)+" ("+c(r.sceneName)+") ",9,xu))),128))],544),[[go,Ge.value]]),lt.value?(i(),a("div",Ru,[e("div",Nu,[e("strong",null,c(lt.value.filterName),1),t[118]||(t[118]=O(" –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ ")),e("strong",null,c(lt.value.sourceName),1)]),e("span",{class:S(["filter-status",{enabled:lt.value.enabled}])}," –°—Ç–∞—Ç—É—Å: "+c(lt.value.enabled?"‚úÖ –í–∫–ª—é—á–µ–Ω":"‚≠ï –û—Ç–∫–ª—é—á–µ–Ω"),3)])):m("",!0),e("div",Pu," üí° –ù–∞–π–¥–µ–Ω–æ "+c(ft.value.length)+" —Ñ–∏–ª—å—Ç—Ä–æ–≤. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∏–ª—å—Ç—Ä –±–ª—é—Ä–∞. ",1)]))])):m("",!0),e("div",ju,[e("label",Bu,[ee(e("input",{type:"checkbox","onUpdate:modelValue":t[29]||(t[29]=r=>on.value=r)},null,512),[[yn,on.value]]),t[120]||(t[120]=e("span",null,"–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å OBS –≤ –≤–∏–¥–µ–æ –æ–≤–µ—Ä–ª–µ–µ",-1))])]),e("div",{class:S(["obs-status",{connected:st.value}])},c(st.value?"–ü–æ–¥–∫–ª—é—á–µ–Ω –∫ OBS":"–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ OBS"),3),e("div",Uu,[e("button",{class:"obs-action-btn connect-btn",onClick:rn,disabled:mt.value},[mt.value?(i(),a("i",Ou)):(i(),a("i",Vu)),O(" "+c(st.value?"–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è":"–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è"),1)],8,Au),e("button",{class:"obs-action-btn test-btn",onClick:$n,disabled:!st.value||ft.value.length===0},t[121]||(t[121]=[e("i",{class:"fas fa-eye"},null,-1),O(" –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª—é—Ä ")]),8,Fu),e("button",{class:"obs-action-btn refresh-btn",onClick:eo,disabled:!st.value},t[122]||(t[122]=[e("i",{class:"fas fa-sync"},null,-1),O(" –û–±–Ω–æ–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã ")]),8,Hu)])])):m("",!0)])])])):m("",!0)],64)}}},Ju=De(Du,[["__scopeId","data-v-555a2b94"]]);export{Ju as default};

!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(t,a,n){return(a=function(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,a||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i=function(){return a};var t,a={},n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},s=l.iterator||"@@iterator",d=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(t){u=function(e,t,a){return e[t]=a}}function v(e,t,a,n){var o=t&&t.prototype instanceof x?t:x,i=Object.create(o.prototype),l=new P(n||[]);return r(i,"_invoke",{value:z(e,a,l)}),i}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}a.wrap=v;var p="suspendedStart",f="suspendedYield",g="executing",b="completed",h={};function x(){}function k(){}function y(){}var w={};u(w,s,(function(){return this}));var _=Object.getPrototypeOf,C=_&&_(_(B([])));C&&C!==n&&o.call(C,s)&&(w=C);var E=y.prototype=x.prototype=Object.create(w);function j(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(t,a){function n(r,i,l,s){var d=m(t[r],t,i);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==e(u)&&o.call(u,"__await")?a.resolve(u.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):a.resolve(u).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(d.arg)}var i;r(this,"_invoke",{value:function(e,t){function o(){return new a((function(a,o){n(e,t,a,o)}))}return i=i?i.then(o,o):o()}})}function z(e,a,n){var o=p;return function(r,i){if(o===g)throw Error("Generator is already running");if(o===b){if("throw"===r)throw i;return{value:t,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var s=M(l,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var d=m(e,a,n);if("normal"===d.type){if(o=n.done?b:f,d.arg===h)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=b,n.method="throw",n.arg=d.arg)}}}function M(e,a){var n=a.method,o=e.iterator[n];if(o===t)return a.delegate=null,"throw"===n&&e.iterator.return&&(a.method="return",a.arg=t,M(e,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var r=m(o,e.iterator,a.arg);if("throw"===r.type)return a.method="throw",a.arg=r.arg,a.delegate=null,h;var i=r.arg;return i?i.done?(a[e.resultName]=i.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,h):i:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function B(a){if(a||""===a){var n=a[s];if(n)return n.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var r=-1,i=function e(){for(;++r<a.length;)if(o.call(a,r))return e.value=a[r],e.done=!1,e;return e.value=t,e.done=!0,e};return i.next=i}}throw new TypeError(e(a)+" is not iterable")}return k.prototype=y,r(E,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:k,configurable:!0}),k.displayName=u(y,c,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},a.awrap=function(e){return{__await:e}},j(L.prototype),u(L.prototype,d,(function(){return this})),a.AsyncIterator=L,a.async=function(e,t,n,o,r){void 0===r&&(r=Promise);var i=new L(v(e,t,n,o),r);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(E),u(E,c,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},a.values=B,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var a in this)"t"===a.charAt(0)&&o.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(n,o){return l.type="throw",l.arg=e,a.next=n,o&&(a.method="next",a.arg=t),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),d=o.call(i,"finallyLoc");if(s&&d){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),S(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var o=n.arg;S(a)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,a,n){return this.delegate={iterator:B(e),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=t),h}},a}function l(e,t,a,n,o,r,i){try{var l=e[r](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(n,o){var r=e.apply(t,a);function i(e){l(r,n,o,i,s,"next",e)}function s(e){l(r,n,o,i,s,"throw",e)}i(void 0)}))}}System.register(["./index-legacy-CKH8BJoS.js","./icon-imdb-logo-legacy-CT5vGaX7.js","./MovieRating-legacy-DyHQy_yQ.js","./dateUtils-legacy-D3p-QGch.js","./MovieList-legacy-Cc9sJFlQ.js","./SpinnerLoading-legacy-B1YSWKog.js","./player-legacy-DD53nZcr.js","./ToastMessage-legacy-CEGoDBiF.js","./trailer-legacy-C5QAZcvl.js","./useCommentFormatting-legacy-CUqUKXZs.js","./BaseModal-legacy-BF8GMkby.js"],(function(e,a){"use strict";var n,r,l,d,c,u,v,m,p,f,g,b,h,x,k,y,w,_,C,E,j,L,z,M,I,S,P,B,R,T,U,O,$,N,A,H,F,D,V,q,Y,K,W,G,Z,Q,X,J,ee,te,ae,ne,oe,re,ie,le,se,de,ce,ue,ve,me,pe,fe,ge,be,he,xe,ke,ye,we,_e,Ce,Ee,je,Le,ze,Me,Ie,Se;return{setters:[e=>{n=e._,r=e.u,l=e.c,d=e.r,c=e.o,u=e.x,v=e.S,m=e.b,p=e.h,f=e.d,g=e.p,b=e.V,h=e.O,x=e.P,k=e.t,y=e.f,w=e.n,_=e.W,C=e.v,E=e.y,j=e.l,L=e.X,z=e.B,M=e.Y,I=e.e,S=e.w,P=e.j,B=e.m,R=e.Z,T=e.$,U=e.i,O=e.q,$=e.a0,N=e.a1,A=e.a2,H=e.a3,F=e.a4,D=e.a5,V=e.N,q=e.a6,Y=e.a,K=e.E,W=e.A,G=e.a7,Z=e.U,Q=e.a8,X=e.a9,J=e.aa,ee=e.ab,te=e.ac,ae=e.ad,ne=e.G,oe=e.ae,re=e.af,ie=e.ag,le=e.ah,se=e.ai,de=e.aj,ce=e.ak,ue=e.al,ve=e.am,me=e.an,pe=e.ao},e=>{fe=e.a,ge=e.b},e=>{be=e.P,he=e.M,xe=e._,ke=e.a},e=>{ye=e.f,we=e.a,_e=e.p,Ce=e.b},e=>{Ee=e.M},e=>{je=e.S},e=>{Le=e.u},e=>{ze=e.N},e=>{Me=e.u},e=>{Ie=e.u},e=>{Se=e.B}],execute:function(){var a=document.createElement("style");a.textContent='@charset "UTF-8";.carousel-container[data-v-4a5806b3]{margin:2rem 0;padding:0}.carousel-wrapper[data-v-4a5806b3]{position:relative;overflow:hidden}.carousel[data-v-4a5806b3]{display:flex;gap:16px;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;padding:8px 0;user-select:none}.carousel[data-v-4a5806b3]::-webkit-scrollbar{width:5px;height:5px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-track{background:transparent;border-radius:10px}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb{background:#494949;border-radius:10px;border:0}.carousel[data-v-4a5806b3]::-webkit-scrollbar-thumb:hover{background:#555}.scroll-button[data-v-4a5806b3]{position:absolute;top:0;bottom:0;width:50px;border:none;background:rgba(0,0,0,.5);color:#fff;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;transition:opacity .3s;opacity:0;pointer-events:none}.carousel-wrapper:hover .scroll-button[data-v-4a5806b3]{opacity:1;pointer-events:auto}.scroll-button[data-v-4a5806b3]:hover{background:rgba(0,0,0,.7)}.scroll-button.left[data-v-4a5806b3]{left:0}.scroll-button.right[data-v-4a5806b3]{right:0}.carousel-item[data-v-4a5806b3]{flex:0 0 auto;scroll-snap-align:start;width:260px;background:#161616;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:transform .3s ease,box-shadow .3s ease;cursor:pointer;overflow:hidden}.carousel-item[data-v-4a5806b3]:hover{transform:translateY(-5px);box-shadow:0 8px 16px rgba(0,0,0,.3),0 0 20px var(--accent-semi-transparent)}.carousel-item img[data-v-4a5806b3]{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;border-top-left-radius:12px;border-top-right-radius:12px}.video-name[data-v-4a5806b3]{padding:12px;background:#202020;color:#fff;font-size:14px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-bottom-left-radius:12px;border-bottom-right-radius:12px}.video-player[data-v-4a5806b3]{max-width:1200px;width:100%;aspect-ratio:16/9;margin:20px auto 0;box-shadow:0 4px 12px rgba(0,0,0,.3);border-radius:8px;overflow:hidden}.video-player iframe[data-v-4a5806b3]{width:100%;height:100%;border:none}.emoji-picker[data-v-209132f3]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:280px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-209132f3]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-209132f3]:hover{color:#fff}.mobile-only[data-v-209132f3]{display:none}@media (max-width: 768px){.mobile-only[data-v-209132f3]{display:block}.emoji-picker[data-v-209132f3]{width:260px;padding-top:2rem}}.emoji-categories[data-v-209132f3]{display:flex;gap:.25rem;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.category-btn[data-v-209132f3]{background:none;border:none;font-size:1.2rem;padding:.5rem;border-radius:.375rem;cursor:pointer;transition:background-color .2s}.category-btn[data-v-209132f3]:hover{background:rgba(255,255,255,.1)}.category-btn.active[data-v-209132f3]{background:rgba(76,175,80,.2)}.emoji-grid[data-v-209132f3]{display:grid;grid-template-columns:repeat(8,1fr);gap:.25rem;max-height:200px;overflow-y:auto}.emoji-btn[data-v-209132f3]{background:none;border:none;font-size:1.25rem;padding:.5rem;border-radius:.25rem;cursor:pointer;transition:background-color .2s;display:flex;align-items:center;justify-content:center}.emoji-btn[data-v-209132f3]:hover{background:rgba(255,255,255,.1)}.emoji-grid[data-v-209132f3]::-webkit-scrollbar{width:4px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-track{background:#333;border-radius:2px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.emoji-grid[data-v-209132f3]::-webkit-scrollbar-thumb:hover{background:#777}.image-picker[data-v-f33eb3f6]{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#2a2a2a;border:1px solid #444;border-radius:.5rem;padding:.75rem;z-index:99999;width:320px;box-shadow:0 4px 20px rgba(0,0,0,.3);margin-bottom:.5rem}.close-btn[data-v-f33eb3f6]{position:absolute;top:.5rem;right:.5rem;background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:.875rem;transition:color .2s;z-index:10000}.close-btn[data-v-f33eb3f6]:hover{color:#fff}.mobile-only[data-v-f33eb3f6]{display:none}@media (max-width: 768px){.mobile-only[data-v-f33eb3f6]{display:block}.image-picker[data-v-f33eb3f6]{width:300px;padding-top:2rem}}.auth-required[data-v-f33eb3f6]{min-height:240px;display:flex;align-items:center;justify-content:center}.auth-message[data-v-f33eb3f6]{text-align:center;color:#999;padding:2rem 1rem}.auth-message i[data-v-f33eb3f6]{font-size:2rem;color:#666;margin-bottom:1rem}.auth-message h3[data-v-f33eb3f6]{color:#fff;margin:0 0 .5rem;font-size:1.1rem}.auth-message p[data-v-f33eb3f6]{margin:0 0 1.5rem;font-size:.9rem;line-height:1.4}.login-button[data-v-f33eb3f6]{background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;padding:.5rem 1.5rem;font-size:.9rem;cursor:pointer;transition:background-color .2s}.login-button[data-v-f33eb3f6]:hover{background:var(--accent-hover)}.image-picker-header[data-v-f33eb3f6]{margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid #444}.image-search-input[data-v-f33eb3f6]{width:100%;padding:.5rem;background:#1a1a1a;border:1px solid #444;border-radius:.375rem;color:#fff;font-size:.9rem;box-sizing:border-box}.image-search-input[data-v-f33eb3f6]:focus{outline:none;border-color:var(--accent-color)}.image-search-input[data-v-f33eb3f6]::placeholder{color:#999}.image-content[data-v-f33eb3f6]{min-height:240px;display:flex;flex-direction:column}.loading-spinner[data-v-f33eb3f6]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:240px;color:#999}.spinner[data-v-f33eb3f6]{width:32px;height:32px;border:3px solid #444;border-top:3px solid var(--accent-color);border-radius:50%;animation:spin-f33eb3f6 1s linear infinite;margin-bottom:1rem}@keyframes spin-f33eb3f6{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-spinner p[data-v-f33eb3f6]{font-size:.9rem;margin:0}.image-grid[data-v-f33eb3f6]{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem;max-height:240px;overflow-y:auto}.image-item[data-v-f33eb3f6]{min-height:60px;max-height:80px;cursor:pointer;border-radius:.375rem;overflow:hidden;transition:all .2s ease;border:2px solid transparent;display:flex;align-items:center;justify-content:center;background:#1a1a1a}.image-item[data-v-f33eb3f6]:hover{transform:scale(1.05);border-color:var(--accent-semi-transparent);background:#333}.image-item img[data-v-f33eb3f6]{max-width:100%;max-height:100%;object-fit:contain;display:block}.no-images[data-v-f33eb3f6],.no-search[data-v-f33eb3f6]{display:flex;align-items:center;justify-content:center;min-height:240px;text-align:center;color:#999;font-size:.9rem}.no-search[data-v-f33eb3f6]{color:#666}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar{width:4px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-track{background:#333;border-radius:2px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-thumb{background:#666;border-radius:2px}.image-grid[data-v-f33eb3f6]::-webkit-scrollbar-thumb:hover{background:#777}.link-modal-overlay[data-v-a794d83f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.link-modal[data-v-a794d83f]{background:#2a2a2a;border-radius:.5rem;min-width:400px;max-width:500px;width:100%;box-shadow:0 10px 25px rgba(0,0,0,.5);border:1px solid #444}.link-modal-header[data-v-a794d83f]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;border-bottom:1px solid #444}.link-modal-header h3[data-v-a794d83f]{margin:0;color:#fff;font-size:1.1rem}.close-button[data-v-a794d83f]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;font-size:1.2rem;display:flex;align-items:center;justify-content:center;transition:color .2s}.close-button[data-v-a794d83f]:hover{color:#fff}.link-modal-content[data-v-a794d83f]{padding:1.5rem}.form-group[data-v-a794d83f]{margin-bottom:1rem}.form-group[data-v-a794d83f]:last-child{margin-bottom:0}.form-group label[data-v-a794d83f]{display:block;margin-bottom:.5rem;color:#fff;font-size:.9rem;font-weight:500}.link-input[data-v-a794d83f]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;font-size:.9rem;box-sizing:border-box;transition:border-color .2s}.link-input[data-v-a794d83f]:focus{outline:none;border-color:var(--accent-color)}.link-input[data-v-a794d83f]::placeholder{color:#999}.link-modal-footer[data-v-a794d83f]{display:flex;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #444}.cancel-button[data-v-a794d83f]{padding:.5rem 1rem;background:none;border:1px solid #666;border-radius:.375rem;color:#999;cursor:pointer;font-size:.9rem;transition:all .2s}.cancel-button[data-v-a794d83f]:hover{background:#333;color:#fff;border-color:#777}.submit-button[data-v-a794d83f]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.375rem;cursor:pointer;font-size:.9rem;transition:background-color .2s}.submit-button[data-v-a794d83f]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-a794d83f]:disabled{background:#666;cursor:not-allowed;opacity:.6}@media (max-width: 480px){.link-modal[data-v-a794d83f]{min-width:auto;margin:1rem}.link-modal-header[data-v-a794d83f],.link-modal-content[data-v-a794d83f],.link-modal-footer[data-v-a794d83f]{padding:1rem}}.comment-item[data-v-c9b760f4]{background:#2a2a2a;border-radius:.5rem;padding:1rem;margin-bottom:1rem;transition:all .2s ease-in-out;max-width:100%;overflow:visible;word-wrap:break-word}.comment-item[data-v-c9b760f4]:hover{box-shadow:0 3px 6px rgba(0,0,0,.15)}.comment-header[data-v-c9b760f4]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.5rem}.user-info[data-v-c9b760f4]{display:flex;align-items:center;gap:.5rem}.user-avatar-link[data-v-c9b760f4]{text-decoration:none;color:inherit;display:block}.user-avatar-link:hover .user-avatar[data-v-c9b760f4]{transform:scale(1.05);box-shadow:0 0 10px rgba(74,144,226,.3)}.user-avatar[data-v-c9b760f4]{width:2rem;height:2rem;border-radius:50%;overflow:hidden;background-color:var(--accent-color);display:flex;align-items:center;justify-content:center;transition:all .2s ease;flex-shrink:0}.user-avatar img[data-v-c9b760f4]{width:100%;height:100%;object-fit:cover}.avatar-placeholder[data-v-c9b760f4]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;font-size:.75rem;color:#fff;background-color:var(--accent-color);font-weight:600}.username[data-v-c9b760f4]{font-weight:600;color:#fff;font-size:.9rem}.date[data-v-c9b760f4]{font-size:.8rem;color:#999;margin-left:.375rem;display:inline-flex;align-items:center;gap:.25rem}.edit-icon[data-v-c9b760f4]{font-size:.7rem;color:#666;vertical-align:baseline;position:relative;top:.02em}.edited-indicator[data-v-c9b760f4]{font-style:italic;color:#777}.comment-content[data-v-c9b760f4]{margin-bottom:.75rem;width:100%;box-sizing:border-box;overflow:visible;word-wrap:break-word}.comment-text[data-v-c9b760f4]{color:#fff;line-height:1.5;font-size:.9rem;margin:0;word-wrap:break-word;word-break:break-word;overflow-wrap:anywhere;width:100%;max-width:100%;white-space:pre-wrap;padding:.2em 0}.comment-text[data-v-c9b760f4] img.inline-emoji{display:inline-block;vertical-align:middle;height:2em;width:auto;margin:0 .3em;max-height:32px}.edit-form[data-v-c9b760f4]{position:relative;margin-bottom:.5rem;width:100%;box-sizing:border-box;overflow:visible;z-index:5}.edit-textarea-container[data-v-c9b760f4]{position:relative;width:100%;overflow:visible}.edit-textarea[data-v-c9b760f4]{width:100%;padding:.5rem;border:1px solid #444;border-radius:.375rem;background:#333;color:#fff;resize:none;font-size:.9rem;box-sizing:border-box;margin:0;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease}.edit-textarea[data-v-c9b760f4]:focus{outline:none;border-color:var(--accent-color)}.edit-footer[data-v-c9b760f4]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.edit-actions[data-v-c9b760f4]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-c9b760f4]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s;display:flex;align-items:center;justify-content:center}.emoji-button-inline[data-v-c9b760f4]:hover{color:#fff}.emoji-button-inline.active[data-v-c9b760f4]{color:var(--accent-color)}.character-counter-container[data-v-c9b760f4]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-c9b760f4]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-c9b760f4]{color:gold}.character-counter-inline.at-limit[data-v-c9b760f4]{color:var(--error-color)}.cancel-button[data-v-c9b760f4]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-button[data-v-c9b760f4]:hover{color:#fff}.save-button[data-v-c9b760f4]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.save-button[data-v-c9b760f4]:hover:not(:disabled){background:var(--accent-hover)}.save-button[data-v-c9b760f4]:disabled{background:#666;cursor:not-allowed}.comment-footer[data-v-c9b760f4]{display:flex;align-items:center;justify-content:flex-start}.comment-actions[data-v-c9b760f4]{display:flex;align-items:center;gap:.75rem}.rating-buttons[data-v-c9b760f4]{display:flex;align-items:center;gap:.5rem}.rating-button[data-v-c9b760f4]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem}.rating-button[data-v-c9b760f4]:hover{color:#fff}.rating-button.rated-up[data-v-c9b760f4]{color:var(--accent-color)}.rating-button.rated-down[data-v-c9b760f4]{color:var(--error-color)}.rating-button.disabled[data-v-c9b760f4]{opacity:.5;cursor:not-allowed}.rating-button[data-v-c9b760f4]:disabled{pointer-events:none}.rating-count[data-v-c9b760f4]{color:#999;font-size:.8rem;font-weight:500;min-width:1.5rem;text-align:center;display:flex;align-items:center;justify-content:center;line-height:1;transition:color .2s ease}.rating-count.rating-positive[data-v-c9b760f4]{color:var(--accent-color)}.rating-count.rating-negative[data-v-c9b760f4]{color:var(--error-color)}.action-buttons[data-v-c9b760f4]{display:flex;align-items:center;gap:.5rem}.action-button[data-v-c9b760f4]{background:none;border:none;color:#999;cursor:pointer;padding:.25rem;transition:color .2s;font-size:.8rem;display:flex;align-items:center;justify-content:center}.action-button[data-v-c9b760f4]:hover{color:#fff}.reply-button[data-v-c9b760f4]{background:none;border:none;color:#999}.reply-button[data-v-c9b760f4]:hover,.edit-button[data-v-c9b760f4]:hover{color:var(--accent-color)}.delete-button[data-v-c9b760f4]:hover{color:var(--error-color)}.username-link[data-v-c9b760f4]{text-decoration:none;color:inherit;transition:color .2s}.username-link[data-v-c9b760f4]:hover{color:#4a90e2}.hidden-comment-warning[data-v-c9b760f4]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:6px;margin-bottom:.375rem;overflow:hidden;position:relative}.warning-text[data-v-c9b760f4]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#d7dadc;cursor:pointer;font-size:.75rem;font-weight:500;transition:all .2s ease;border:none;background:none;width:100%;text-align:center;position:relative}.warning-text[data-v-c9b760f4]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .2s ease}.warning-text i[data-v-c9b760f4]{font-size:12px;color:#878a8c;transition:all .2s ease}.warning-text[data-v-c9b760f4]:hover{background:linear-gradient(135deg,#272729,#343536);color:#fff;transform:translateY(-.5px);box-shadow:0 1px 4px rgba(0,0,0,.3)}.warning-text[data-v-c9b760f4]:hover:before{opacity:1}.warning-text:hover i[data-v-c9b760f4]{color:#ff6b35;transform:scale(1.05)}.warning-text[data-v-c9b760f4]:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.4)}.deleted-comment[data-v-c9b760f4]{background:#1a1a1b;border:1px solid #343536;border-radius:6px;margin-bottom:.375rem}.deleted-message[data-v-c9b760f4]{display:flex;align-items:center;justify-content:center;gap:6px;padding:8px 12px;margin:0;color:#878a8c;font-size:.75rem;font-style:italic;text-align:center}.deleted-message i[data-v-c9b760f4]{font-size:12px;color:#878a8c}.comment-text-container[data-v-c9b760f4]{position:relative;max-width:100%;overflow:hidden;word-wrap:break-word}.expand-button[data-v-c9b760f4]{background:none;border:none;color:var(--accent-color);cursor:pointer;padding:.25rem 0;font:inherit;outline:inherit;font-size:.875rem;margin-top:.5rem;transition:color .2s ease}.expand-button[data-v-c9b760f4]:hover{color:var(--accent-hover);text-decoration:underline}@keyframes spoiler-shimmer-c9b760f4{0%{background-position:-200% 0}to{background-position:200% 0}}.seven-tv-icon[data-v-c9b760f4]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-c9b760f4] .spoiler-text{background-color:#333;color:transparent;cursor:pointer;padding:.2em .6em;margin:.2em 0;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;min-width:60px;min-height:1.5em;text-align:center;overflow:hidden;line-height:1.5;font-size:.9rem;vertical-align:middle}[data-v-c9b760f4] .spoiler-text:not(.revealed){background-image:linear-gradient(110deg,transparent 25%,rgba(255,255,255,.05) 40%,rgba(255,255,255,.05) 60%,transparent 75%);background-size:200% 100%;background-repeat:no-repeat;animation:spoiler-shimmer-c9b760f4 3s linear infinite;color:transparent}[data-v-c9b760f4] .spoiler-text:not(.revealed) .spoiler-hidden-content{display:none}[data-v-c9b760f4] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-c9b760f4] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;min-height:auto;text-align:left;padding:0;margin:0;animation:none;display:inline;line-height:inherit;font-size:inherit;vertical-align:baseline}[data-v-c9b760f4] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-c9b760f4]{color:#999}.spoiler-button[data-v-c9b760f4]:hover{color:var(--accent-hover)}.spoiler-button[data-v-c9b760f4]:disabled{opacity:.5;cursor:not-allowed}.user-details[data-v-c9b760f4]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.user-rating[data-v-c9b760f4]{display:flex;align-items:center;gap:.25rem;color:gold;font-size:.8rem;font-weight:500}.user-rating i[data-v-c9b760f4]{font-size:.75rem}.link-button[data-v-c9b760f4]{color:#999}.link-button[data-v-c9b760f4]:hover{color:var(--accent-hover)}.link-button[data-v-c9b760f4]:disabled{opacity:.5;cursor:not-allowed}[data-v-c9b760f4] .comment-link{color:#4a90e2;text-decoration:none;transition:color .2s ease;border-bottom:1px solid transparent}[data-v-c9b760f4] .comment-link:hover{color:#66a3e0;border-bottom-color:#66a3e0;text-decoration:none}[data-v-c9b760f4] .comment-link:visited{color:#8a7ca8}[data-v-c9b760f4] .comment-link:visited:hover{color:#a393c2;border-bottom-color:#a393c2}@media (max-width: 768px){.edit-footer[data-v-c9b760f4]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-c9b760f4]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.edit-actions[data-v-c9b760f4]{justify-content:flex-start}.character-counter-inline[data-v-c9b760f4]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-c9b760f4]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media (max-width: 480px){.character-counter-container[data-v-c9b760f4]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-c9b760f4]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-c9b760f4]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.save-button[data-v-c9b760f4]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:90px}.cancel-button[data-v-c9b760f4]{min-height:44px;padding:.5rem 1rem;min-width:70px}.edit-form[data-v-c9b760f4]{margin-bottom:1rem}.edit-textarea[data-v-c9b760f4]{font-size:16px}}@media (max-width: 360px){.emoji-button-inline[data-v-c9b760f4]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-c9b760f4]{font-size:.65rem}}.upvote-button.voted[data-v-c9b760f4]{color:var(--accent-color);background:var(--accent-transparent)}.downvote-button.voted[data-v-c9b760f4]{color:var(--error-color);background:rgba(231,112,85,.1)}.comment-thread[data-v-6c0fc347]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-6c0fc347]{margin-left:1rem;margin-right:1rem;display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);position:relative;border-left:3px solid var(--accent-transparent);padding-left:1rem;margin-top:.5rem;overflow:visible}.reply-form[data-v-6c0fc347]{margin-left:1rem;margin-right:1rem;margin-top:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:3px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible;position:relative;z-index:5}.reply-footer[data-v-6c0fc347]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:10}.reply-actions[data-v-6c0fc347]{display:flex;gap:.5rem;position:relative;overflow:visible}.character-counter-container[data-v-6c0fc347]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:15;overflow:visible}.character-counter-inline[data-v-6c0fc347]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-6c0fc347]{color:gold}.character-counter-inline.at-limit[data-v-6c0fc347]{color:red}.cancel-reply[data-v-6c0fc347]{padding:.25rem .5rem;color:#999;background:none;border:none;cursor:pointer;font-size:.8rem}.cancel-reply[data-v-6c0fc347]:hover{color:#fff}.submit-button[data-v-6c0fc347]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;font-size:.8rem}.submit-button[data-v-6c0fc347]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-6c0fc347]:disabled{background:#666;cursor:not-allowed}.textarea-container[data-v-6c0fc347]{position:relative;overflow:visible}.comment-textarea[data-v-6c0fc347]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-6c0fc347]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-6c0fc347]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.emoji-button-inline[data-v-6c0fc347]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s}.emoji-button-inline[data-v-6c0fc347]:hover{color:#fff}.emoji-button-inline.active[data-v-6c0fc347]{color:var(--accent-color)}.emoji-button-inline[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.collapse-toggle[data-v-6c0fc347]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid var(--accent-transparent);border-radius:.5rem;padding:.5rem .75rem;margin:.5rem 0;color:#999;cursor:pointer;transition:all .2s ease;font-size:.85rem;min-width:fit-content;position:relative;left:0;z-index:2}.collapse-toggle[data-v-6c0fc347]:hover{background:var(--accent-transparent);border-color:var(--accent-semi-transparent);color:#fff;transform:translateY(-1px)}.collapse-icon[data-v-6c0fc347]{display:flex;align-items:center;justify-content:center;transition:transform .3s ease;color:var(--accent-color)}.collapse-icon.expanded[data-v-6c0fc347]{transform:rotate(180deg)}.replies-count[data-v-6c0fc347]{font-size:.85rem;font-weight:500;color:inherit;user-select:none}.replies-content[data-v-6c0fc347]{display:flex;flex-direction:column;gap:1rem;padding-top:1rem;margin-left:0;width:100%;overflow:visible}.vertical-line-clickable[data-v-6c0fc347]{position:absolute;left:-8px;top:0;width:16px;height:100%;cursor:pointer;z-index:1;transition:all .2s ease}.vertical-line-clickable[data-v-6c0fc347]:hover{background:var(--accent-transparent)}.vertical-line-visual[data-v-6c0fc347]{position:absolute;left:50%;top:0;width:3px;height:100%;background:var(--accent-transparent);transform:translate(-50%);transition:all .2s ease}.vertical-line-clickable:hover .vertical-line-visual[data-v-6c0fc347]{background:var(--accent-semi-transparent);width:4px}.vertical-line-visual.collapsed[data-v-6c0fc347]{background:var(--accent-semi-transparent)}.comment-content[data-v-6c0fc347]{white-space:pre-wrap;word-break:break-word;line-height:1.5;color:#fff}.comment-content[data-v-6c0fc347] img.inline-emoji{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}.seven-tv-icon[data-v-6c0fc347]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}[data-v-6c0fc347] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-6c0fc347] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-6c0fc347] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-6c0fc347] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-6c0fc347] .spoiler-text.revealed:before{display:none}.spoiler-button[data-v-6c0fc347]{color:#999}.spoiler-button[data-v-6c0fc347]:hover{color:var(--accent-hover)}.spoiler-button[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-6c0fc347]{color:#999}.link-button[data-v-6c0fc347]:hover{color:var(--accent-hover)}.link-button[data-v-6c0fc347]:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 768px){.reply-footer[data-v-6c0fc347]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-6c0fc347]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.reply-actions[data-v-6c0fc347]{justify-content:flex-start}.character-counter-inline[data-v-6c0fc347]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-6c0fc347]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center}}@media (max-width: 480px){.character-counter-container[data-v-6c0fc347]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-6c0fc347]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-6c0fc347]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-6c0fc347]{min-height:44px;padding:.5rem 1rem;width:auto;min-width:80px}.cancel-reply[data-v-6c0fc347]{min-height:44px;padding:.5rem 1rem;min-width:60px}.reply-form[data-v-6c0fc347]{margin-bottom:1rem}.comment-textarea[data-v-6c0fc347]{font-size:16px}}@media (max-width: 360px){.emoji-button-inline[data-v-6c0fc347]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-6c0fc347]{font-size:.65rem}}.comments-section[data-v-14ea7e4b]{margin:0;padding:20px 0;overflow:visible}.comments-title[data-v-14ea7e4b]{font-size:1.4rem;font-weight:700;margin-bottom:1rem;color:#fff}.comment-form[data-v-14ea7e4b]{margin-bottom:1.25rem;width:100%;overflow:visible;position:relative;z-index:1}.textarea-container[data-v-14ea7e4b]{position:relative;width:100%;overflow:visible}.comment-textarea[data-v-14ea7e4b]{width:100%;padding:.75rem;border:1px solid #444;border-radius:.5rem;background:#2a2a2a;color:#fff;resize:none;box-sizing:border-box;min-height:3rem;max-height:200px;overflow-y:auto;overflow-x:hidden;line-height:1.5;transition:height .1s ease;font-size:.9rem}.comment-textarea[data-v-14ea7e4b]:focus{outline:none;border-color:var(--accent-color)}.comment-textarea[data-v-14ea7e4b]:disabled{background:#1a1a1a;color:#666;cursor:not-allowed;border-color:#333}.submit-button[data-v-14ea7e4b]{padding:.25rem .5rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:background-color .2s;font-size:.8rem}.submit-button[data-v-14ea7e4b]:hover:not(:disabled){background:var(--accent-hover)}.submit-button[data-v-14ea7e4b]:disabled{background:#666;cursor:not-allowed}.comments-list[data-v-14ea7e4b],.comment-group[data-v-14ea7e4b]{display:flex;flex-direction:column;gap:1rem;width:100%;overflow:visible}.replies-container[data-v-14ea7e4b]{margin-left:2rem;margin-right:1rem;padding-left:1rem;border-left:2px solid var(--accent-transparent);display:flex;flex-direction:column;gap:1rem;width:calc(100% - 3rem);overflow:visible}.reply-form[data-v-14ea7e4b]{margin-left:2rem;margin-right:1rem;padding:1rem;background:#2a2a2a;border-radius:.5rem;border-left:2px solid var(--accent-semi-transparent);width:calc(100% - 3rem);overflow:visible}.reply-form.nested[data-v-14ea7e4b]{margin-left:0;background:#333;border-left:none;width:100%;overflow:visible}.reply-header[data-v-14ea7e4b]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.85rem}.cancel-reply[data-v-14ea7e4b]{color:#999;background:none;border:none;cursor:pointer;padding:.25rem .5rem;font-size:.85rem}.cancel-reply[data-v-14ea7e4b]:hover{color:#fff}.auth-link[data-v-14ea7e4b]{color:var(--accent-color);cursor:pointer;text-decoration:underline;transition:color .2s ease}.auth-link[data-v-14ea7e4b]:hover{color:var(--accent-hover)}.spoiler-warning[data-v-14ea7e4b]{background:linear-gradient(135deg,#1a1a1b,#2d2d2e);border:1px solid #343536;border-radius:8px;padding:1rem 1.5rem;margin-bottom:1rem;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.spoiler-warning[data-v-14ea7e4b]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent 49%,rgba(255,255,255,.03) 50%,transparent 51%);opacity:0;transition:opacity .3s ease}.spoiler-warning[data-v-14ea7e4b]:hover{transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,0,0,.2);border-color:var(--accent-color)}.spoiler-warning[data-v-14ea7e4b]:hover:before{opacity:1}.spoiler-content[data-v-14ea7e4b]{display:flex;flex-direction:column;align-items:center;text-align:center;position:relative;z-index:1;gap:.5rem}.spoiler-content i[data-v-14ea7e4b]{font-size:1.5rem;color:var(--accent-color);margin-bottom:.25rem;transition:all .3s ease}.spoiler-warning:hover .spoiler-content i[data-v-14ea7e4b]{transform:scale(1.05);color:var(--accent-hover)}.spoiler-content h3[data-v-14ea7e4b]{font-size:1rem;font-weight:600;color:#fff;margin:0}.spoiler-content p[data-v-14ea7e4b]{font-size:.875rem;color:#999;margin:0;line-height:1.4}.comments-count[data-v-14ea7e4b]{background:var(--accent-transparent);color:var(--accent-color);padding:.25rem .75rem;border-radius:15px;font-size:.75rem;font-weight:500;border:1px solid var(--accent-semi-transparent);transition:all .3s ease}.comments-count.no-comments[data-v-14ea7e4b]{background:rgba(128,128,128,.2);color:gray;border:1px solid rgba(128,128,128,.3)}.spoiler-warning:hover .comments-count.no-comments[data-v-14ea7e4b]{background:rgba(128,128,128,.3);border-color:rgba(128,128,128,.5);color:#999}.comments-container[data-v-14ea7e4b]{margin-bottom:1rem;overflow:visible}.comments-header[data-v-14ea7e4b]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;gap:1rem}.comments-header h3[data-v-14ea7e4b]{margin:0;color:#fff;font-size:1.1rem}.comments-controls[data-v-14ea7e4b]{display:flex;align-items:center;gap:.5rem}.sort-button[data-v-14ea7e4b]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease;position:relative}.sort-button[data-v-14ea7e4b]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);color:var(--accent-color);transform:translateY(-1px)}.sort-button i[data-v-14ea7e4b]{opacity:.8;transition:opacity .2s ease}.sort-button:hover i[data-v-14ea7e4b]{opacity:1}.sort-button.active[data-v-14ea7e4b]{background:var(--accent-color);border-color:var(--accent-color);color:#fff}.sort-button.active[data-v-14ea7e4b]:hover{background:var(--accent-hover);border-color:var(--accent-hover);color:#fff}.hide-comments-btn[data-v-14ea7e4b]{display:flex;align-items:center;gap:.5rem;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:6px;padding:.5rem 1rem;cursor:pointer;color:#999;font-size:.85rem;transition:all .2s ease}.hide-comments-btn[data-v-14ea7e4b]:hover{background:rgba(255,255,255,.1);border-color:rgba(255,255,255,.2);color:#fff;transform:translateY(-1px)}.character-counter-container[data-v-14ea7e4b]{display:flex;align-items:center;gap:.5rem;position:relative;z-index:10;overflow:visible}.character-counter-inline[data-v-14ea7e4b]{font-size:.75rem;color:#999;background:rgba(0,0,0,.7);padding:.25rem .5rem;border-radius:4px}.character-counter-inline.near-limit[data-v-14ea7e4b]{color:gold}.character-counter-inline.at-limit[data-v-14ea7e4b]{color:red}.comment-footer[data-v-14ea7e4b]{display:flex;justify-content:flex-start;align-items:center;margin-top:.5rem;gap:1rem;overflow:visible;position:relative;z-index:5}.comment-actions[data-v-14ea7e4b]{display:flex;gap:.5rem;position:relative;overflow:visible}.emoji-button-inline[data-v-14ea7e4b]{padding:.25rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#999;transition:color .2s ease;margin-left:.25rem}.emoji-button-inline[data-v-14ea7e4b]:hover{color:#fff}.emoji-button-inline.active[data-v-14ea7e4b]{color:var(--accent-color)}.emoji-button-inline[data-v-14ea7e4b]:disabled{opacity:.5;cursor:not-allowed;pointer-events:none}.comment-form-header[data-v-14ea7e4b]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid #444}.comment-form-header h3[data-v-14ea7e4b]{margin:0;color:#fff;font-size:1.1rem}.seven-tv-icon[data-v-14ea7e4b]{height:1.2em;width:auto;vertical-align:middle;fill:currentColor}.inline-emoji[data-v-14ea7e4b]{display:inline-block;vertical-align:middle;height:1.2em;width:auto;margin:0 .1em}[data-v-14ea7e4b] .spoiler-text{background:rgba(64,64,64,.8);color:transparent;cursor:pointer;padding:.2em .6em;border-radius:4px;transition:all .3s ease;user-select:none;position:relative;display:inline-block;min-width:60px;text-align:center}[data-v-14ea7e4b] .spoiler-text:hover{background:rgba(64,64,64,.9)}[data-v-14ea7e4b] .spoiler-text:before{content:"спойлер";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#999;font-size:.85em;white-space:nowrap;pointer-events:none;font-weight:500}[data-v-14ea7e4b] .spoiler-text a{color:transparent!important;text-decoration:none!important;border-bottom:none!important;pointer-events:none!important}[data-v-14ea7e4b] .spoiler-text.revealed{background:transparent;color:inherit;user-select:text;min-width:auto;text-align:left;padding:0}[data-v-14ea7e4b] .spoiler-text.revealed:before{display:none}[data-v-14ea7e4b] .spoiler-text.revealed a{color:#4a90e2!important;text-decoration:none!important;border-bottom:1px solid transparent!important;transition:color .2s ease,border-bottom-color .2s ease!important;pointer-events:auto!important}[data-v-14ea7e4b] .spoiler-text.revealed a:hover{color:#66a3e0!important;border-bottom-color:#66a3e0!important}[data-v-14ea7e4b] .spoiler-text.revealed a:visited{color:#8a7ca8!important}[data-v-14ea7e4b] .spoiler-text.revealed a:visited:hover{color:#a393c2!important;border-bottom-color:#a393c2!important}.spoiler-button[data-v-14ea7e4b]{color:#999}.spoiler-button[data-v-14ea7e4b]:hover{color:var(--accent-hover)}.spoiler-button[data-v-14ea7e4b]:disabled{opacity:.5;cursor:not-allowed}.link-button[data-v-14ea7e4b]{color:#999}.link-button[data-v-14ea7e4b]:hover{color:var(--accent-hover)}.link-button[data-v-14ea7e4b]:disabled{opacity:.5;cursor:not-allowed}.show-more-comments[data-v-14ea7e4b]{text-align:center;margin-top:1rem}.show-more-btn[data-v-14ea7e4b]{padding:.5rem 1rem;background:var(--accent-color);color:#fff;border:none;border-radius:.25rem;cursor:pointer;transition:all .3s ease;font-size:.8rem;border:1px solid var(--accent-semi-transparent)}.show-more-btn[data-v-14ea7e4b]:hover:not(:disabled){background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 2px 8px var(--accent-transparent)}.show-more-btn[data-v-14ea7e4b]:disabled{background:#666;cursor:not-allowed;border-color:rgba(128,128,128,.3)}@media (max-width: 768px){.comments-header[data-v-14ea7e4b]{flex-direction:column;align-items:stretch;gap:.5rem}.comments-controls[data-v-14ea7e4b]{justify-content:center;order:2}.sort-button[data-v-14ea7e4b]{flex:1;justify-content:center;min-height:44px}.hide-comments-btn[data-v-14ea7e4b]{order:1;align-self:flex-end;min-height:44px}.comment-footer[data-v-14ea7e4b]{flex-direction:column;align-items:stretch;gap:.75rem}.character-counter-container[data-v-14ea7e4b]{flex-wrap:wrap;justify-content:space-between;gap:.5rem}.comment-actions[data-v-14ea7e4b]{justify-content:flex-start}.character-counter-inline[data-v-14ea7e4b]{order:-1;margin-right:auto;margin-bottom:.25rem}.emoji-button-inline[data-v-14ea7e4b]{flex-shrink:0;padding:.375rem .5rem;min-width:44px;height:44px;display:flex;align-items:center;justify-content:center;margin-left:0}}@media (max-width: 480px){.character-counter-container[data-v-14ea7e4b]{justify-content:flex-start;gap:.25rem}.emoji-button-inline[data-v-14ea7e4b]{padding:.25rem .375rem;min-width:40px;height:40px;font-size:.9rem}.character-counter-inline[data-v-14ea7e4b]{font-size:.7rem;padding:.2rem .4rem;width:100%;text-align:center}.submit-button[data-v-14ea7e4b]{min-height:44px;padding:.5rem 1rem;width:100%}.comment-form[data-v-14ea7e4b]{margin-bottom:1rem}.comment-textarea[data-v-14ea7e4b]{font-size:16px}}@media (max-width: 360px){.sort-button[data-v-14ea7e4b],.hide-comments-btn[data-v-14ea7e4b]{font-size:.8rem;padding:.4rem .8rem}.emoji-button-inline[data-v-14ea7e4b]{min-width:36px;height:36px;padding:.2rem .3rem;font-size:.8rem}.character-counter-inline[data-v-14ea7e4b]{font-size:.65rem}}.comment-preview[data-v-14ea7e4b]{background:rgba(255,255,255,.05);border-radius:6px;padding:8px;margin-bottom:6px;border-left:2px solid var(--accent-color);cursor:pointer;transition:all .2s ease}.reply-btn[data-v-14ea7e4b]{background:var(--accent-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.content[data-v-00e397a8]{min-height:100vh}.content-card[data-v-00e397a8]{overflow:hidden;padding:20px;color:#e0e0e0}.content-header[data-v-00e397a8]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;flex-wrap:wrap;height:auto;min-height:80px}.content-logo[data-v-00e397a8]{max-height:80px;height:80px;width:auto;object-fit:contain;max-width:100%;transition:all .3s ease;cursor:pointer;padding:10px 0 30px}.content-logo[data-v-00e397a8]:hover{filter:drop-shadow(0 0 10px var(--accent-color))}.content-title-container[data-v-00e397a8]{display:flex;align-items:center;gap:20px;width:100%;justify-content:center}.movie-poster-thumbnail[data-v-00e397a8]{width:60px;height:90px;flex-shrink:0;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-thumbnail[data-v-00e397a8]:hover{transform:scale(1.05)}.movie-poster-thumbnail img[data-v-00e397a8]{width:100%;height:100%;object-fit:cover}.content-title[data-v-00e397a8]{font-size:55px;margin:0;line-height:1;display:flex;align-items:center;justify-content:center;width:100%;text-align:center;white-space:normal;word-break:break-word;overflow-wrap:anywhere;transition:all .3s ease;cursor:pointer}.content-title[data-v-00e397a8]:hover{text-shadow:0 0 20px var(--accent-color);color:var(--accent-color)}.content-subtitle[data-v-00e397a8]{font-size:20px;color:#bbb}.ratings-links[data-v-00e397a8]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.rating-link[data-v-00e397a8]{display:inline-flex;align-items:center;color:#fff;text-decoration:none;font-weight:700;background:rgba(0,0,0,.7);padding:5px 10px;border-radius:5px;gap:5px;transition:all .2s ease;vertical-align:middle}.rating-link[data-v-00e397a8]:hover{background:rgba(255,255,255,.1);border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.rating-logo[data-v-00e397a8]{width:20px;height:20px;margin-right:5px}.external-link-icon[data-v-00e397a8]{width:20px;height:auto;margin-left:5px}.additional-info[data-v-00e397a8]{border-radius:8px;margin-bottom:20px;font-size:16px}.additional-info-title[data-v-00e397a8]{margin:15px 0;text-align:left;color:#fff}.info-content[data-v-00e397a8]{display:flex;gap:15px;align-items:flex-start}.movie-poster-container[data-v-00e397a8]{flex-shrink:0;width:200px;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.3);transition:transform .2s ease}.movie-poster-container[data-v-00e397a8]:hover{transform:scale(1.02);box-shadow:0 6px 20px var(--accent-semi-transparent)}.movie-poster[data-v-00e397a8]{width:100%;height:auto;display:block}.details-container[data-v-00e397a8]{flex:1;min-width:0}.info-list[data-v-00e397a8]{list-style:none;padding:0;margin:0}.info-list li[data-v-00e397a8]{margin-bottom:8px}.content-info[data-v-00e397a8]{font-size:16px;line-height:1.6;color:#ccc;margin-top:20px}.content-description-text[data-v-00e397a8]{margin:0;white-space:pre-wrap}.error-message[data-v-00e397a8]{color:var(--accent-color);text-align:center;padding:20px;font-size:1.2rem;border:1px solid var(--accent-color);border-radius:5px;margin:20px auto;max-width:500px;background:var(--accent-transparent)}.related-movies[data-v-00e397a8]{margin-top:30px;position:relative}.related-movies h2[data-v-00e397a8]{color:#fff;margin-bottom:15px}.title-copy-tooltip[data-v-00e397a8]{position:absolute;background-color:#333;color:#fff;padding:5px 10px;border-radius:5px;font-size:14px;white-space:nowrap;pointer-events:none}@media (max-width: 600px){.content-card[data-v-00e397a8]{padding:0 2px}.content-header[data-v-00e397a8],.content-logo[data-v-00e397a8],.content-title[data-v-00e397a8]{display:none}.content-subtitle[data-v-00e397a8]{font-size:16px}.ratings-links[data-v-00e397a8]{margin:5px 0;gap:8px;flex-wrap:wrap}.rating-link[data-v-00e397a8]{padding:3px 6px;font-size:14px}.rating-logo[data-v-00e397a8]{width:16px;height:16px;margin-right:3px}.external-link-icon[data-v-00e397a8]{width:16px;margin-left:3px}.additional-info-title[data-v-00e397a8]{font-size:20px}.info-content[data-v-00e397a8]{flex-direction:column;align-items:center}.content-title-container[data-v-00e397a8]{flex-direction:column;gap:10px}.movie-poster-thumbnail[data-v-00e397a8]{width:50px;height:75px}}.controls[data-v-00e397a8]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:40px;border-radius:10px}.controls button[data-v-00e397a8]{display:flex;align-items:center;justify-content:center;background-color:#444;color:#fff;border:none;padding:12px;font-size:18px;border-radius:8px;cursor:pointer;transition:background-color .3s ease,transform .2s ease,box-shadow .3s ease;z-index:4;width:50px;height:50px}.controls button[data-v-00e397a8]:hover{background-color:var(--accent-color);transform:translateY(-3px);box-shadow:0 4px 10px var(--accent-semi-transparent)}.controls button[data-v-00e397a8]:active{transform:translateY(0);box-shadow:none}.controls button.active[data-v-00e397a8]{background-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.material-icons[data-v-00e397a8]{font-size:24px}.tooltip-container[data-v-00e397a8]{position:relative;display:inline-block}.custom-tooltip[data-v-00e397a8]{position:absolute;top:100%;left:50%;transform:translate(-50%);background-color:#333;color:#fff;padding:5px;border-radius:4px;font-size:16px;white-space:nowrap;margin-top:8px;pointer-events:none;text-align:center}.advanced-tooltip[data-v-00e397a8]{white-space:normal;padding:15px;display:flex;flex-direction:column;align-items:center;gap:10px;top:calc(100% + 5px);pointer-events:all;text-align:center}.tooltip-title[data-v-00e397a8]{font-size:16px;text-align:center}.movie-skeleton[data-v-00e397a8]{padding:0 20px 20px;color:#e0e0e0}.movie-skeleton__header[data-v-00e397a8]{height:80px;width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px}.movie-skeleton__logo[data-v-00e397a8]{width:200px;height:80px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:8px}.movie-skeleton__title[data-v-00e397a8]{width:30%;height:40px;background:linear-gradient(90deg,rgba(40,40,40,.8),rgba(60,60,60,.8),rgba(40,40,40,.8));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:12px;margin:0 auto;box-shadow:0 2px 8px rgba(0,0,0,.15);position:relative;overflow:hidden}.movie-skeleton__title[data-v-00e397a8]:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.05) 50%,transparent 100%);animation:shine-00e397a8 1.5s infinite}@keyframes shine-00e397a8{0%{transform:translate(-100%)}to{transform:translate(100%)}}.movie-skeleton__ratings[data-v-00e397a8]{display:flex;justify-content:center;align-items:center;gap:20px;margin:15px 0}.movie-skeleton__rating-item[data-v-00e397a8]{width:120px;height:30px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:8px}.movie-skeleton__player[data-v-00e397a8]{width:60%;height:500px;background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:12px;margin:20px auto;box-shadow:0 4px 12px rgba(0,0,0,.2);position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}.movie-skeleton__player[data-v-00e397a8]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:4px solid rgba(255,255,255,.1);border-top:4px solid rgba(255,255,255,.5);border-radius:50%;animation:spin-00e397a8 1s linear infinite}@keyframes spin-00e397a8{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(360deg)}}.movie-skeleton__additional-info[data-v-00e397a8]{margin:20px 0}.movie-skeleton__section-title[data-v-00e397a8]{width:150px;height:24px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:8px;margin-bottom:15px}.movie-skeleton__info-list[data-v-00e397a8]{display:flex;flex-direction:column;gap:10px}.movie-skeleton__info-item[data-v-00e397a8]{width:100%;height:20px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:8px}.movie-skeleton__description[data-v-00e397a8]{margin:20px 0}.movie-skeleton__description-line[data-v-00e397a8]{width:100%;height:16px;background:linear-gradient(90deg,rgba(30,30,30,.9),rgba(50,50,50,.9),rgba(30,30,30,.9));background-size:200% 100%;animation:shimmer-00e397a8 2s infinite linear;border-radius:8px;margin-bottom:10px}.movie-skeleton__description-line[data-v-00e397a8]:nth-child(2){width:90%}.movie-skeleton__description-line[data-v-00e397a8]:nth-child(3){width:95%}.movie-skeleton__description-line[data-v-00e397a8]:nth-child(4){width:85%}@keyframes shimmer-00e397a8{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width: 600px){.movie-skeleton[data-v-00e397a8]{padding:10px}.movie-skeleton__header[data-v-00e397a8]{height:60px}.movie-skeleton__logo[data-v-00e397a8]{width:150px;height:60px}.movie-skeleton__title[data-v-00e397a8]{width:70%;height:30px}.movie-skeleton__player[data-v-00e397a8]{height:250px}.movie-skeleton__rating-item[data-v-00e397a8]{width:80px;height:25px}.movie-skeleton__control-btn[data-v-00e397a8]{width:40px;height:40px}}.staff-section[data-v-00e397a8]{border-radius:8px}.staff-categories[data-v-00e397a8]{display:flex;flex-direction:column;gap:20px}.staff-category h3[data-v-00e397a8]{color:#fff;margin-bottom:10px;font-size:18px}.staff-list[data-v-00e397a8]{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px;align-items:start;margin-bottom:10px}.staff-item[data-v-00e397a8]{display:flex;flex-direction:column;align-items:center;text-align:center;height:100%}.staff-link[data-v-00e397a8]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;transition:transform .2s;height:100%}.staff-link[data-v-00e397a8]:hover{transform:translateY(-3px);filter:drop-shadow(0 4px 8px var(--accent-semi-transparent))}.staff-photo[data-v-00e397a8]{width:80px;height:80px;border-radius:50%;object-fit:cover;margin-bottom:8px;border:2px solid rgba(255,255,255,.1);flex-shrink:0;transition:all .2s ease}.staff-link:hover .staff-photo[data-v-00e397a8]{border-color:var(--accent-color);box-shadow:0 0 12px var(--accent-semi-transparent)}.staff-name[data-v-00e397a8]{font-size:14px;color:#fff;margin-bottom:4px;min-height:2.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}.staff-role[data-v-00e397a8]{font-size:12px;color:#aaa;min-height:1.8em;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 4px}@media (max-width: 600px){.staff-list[data-v-00e397a8]{grid-template-columns:repeat(auto-fill,minmax(100px,1fr))}.staff-photo[data-v-00e397a8]{width:60px;height:60px}.staff-name[data-v-00e397a8]{font-size:12px;min-height:2.4em}.staff-role[data-v-00e397a8]{font-size:10px;min-height:1.6em}}.show-all-link[data-v-00e397a8]{display:inline-block;color:#aaa;text-decoration:none;margin-top:10px;cursor:pointer;transition:color .2s}.show-all-link[data-v-00e397a8]:hover{color:#fff;text-decoration:underline}.expand-actors-circle-button[data-v-00e397a8]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.expand-circle-button[data-v-00e397a8]{position:absolute;top:0;right:15px;width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:20px;text-decoration:none}.expand-circle-button[data-v-00e397a8]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media (max-width: 600px){.expand-circle-button[data-v-00e397a8]{width:35px;height:35px;font-size:16px}}.show-more-btn[data-v-00e397a8]{display:block;margin:15px auto;padding:8px 16px;background:#3a3a3a;color:#fff;border:1px solid #505050;border-radius:4px;cursor:pointer;transition:all .2s ease}.show-more-btn[data-v-00e397a8]:hover{background:var(--accent-color);border-color:var(--accent-color);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-more-btn[data-v-00e397a8]:active{background:var(--accent-color);border-color:var(--accent-color)}.nudity-info-btn[data-v-00e397a8]{position:relative;background:none;border:none;padding:0;cursor:pointer;color:inherit;font:inherit;display:flex;align-items:center;gap:5px}.nudity-info-btn:hover i[data-v-00e397a8]{color:var(--accent-color)}.nudity-info-btn[data-v-00e397a8]:hover,.parents-guide-btn[data-v-00e397a8]:hover{background:rgba(255,255,255,.1)!important;border-color:var(--accent-color)!important;box-shadow:0 0 10px var(--accent-semi-transparent)!important}.parents-guide-btn[data-v-00e397a8]{background:rgba(0,0,0,.7);border:none;cursor:pointer;transition:all .2s ease}.parents-guide-btn i[data-v-00e397a8]{margin-left:5px}.nudity-info-btn i[data-v-00e397a8]{font-size:20px;color:#fff}.nudity-info-btn .fa-spinner[data-v-00e397a8]{color:#fff}.nudity-info-popup[data-v-00e397a8]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.95);border:1px solid #333;border-radius:8px;padding:20px;min-width:900px;max-width:1500px;z-index:1000;box-shadow:0 4px 12px rgba(0,0,0,.3)}.nudity-info-content[data-v-00e397a8]{color:#fff;font-size:14px;line-height:1.5;white-space:pre-wrap;margin-bottom:15px;max-height:80vh;overflow-y:auto}.nudity-info-loading[data-v-00e397a8]{display:flex;align-items:center;gap:10px;justify-content:center;padding:20px;color:#fff}.nudity-info-loading i[data-v-00e397a8]{font-size:20px;color:var(--accent-color)}.nudity-info-actions[data-v-00e397a8]{display:flex;gap:10px;justify-content:flex-start;margin-top:10px}.nudity-info-button[data-v-00e397a8]{display:flex;align-items:center;gap:5px;padding:8px 12px;background:rgba(255,255,255,.1);border:none;border-radius:4px;color:#fff;font-size:14px;cursor:pointer;transition:all .2s ease;pointer-events:all}.nudity-info-button[data-v-00e397a8]:hover{background:var(--accent-color);transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.nudity-info-button i[data-v-00e397a8]{font-size:16px}@media (max-width: 600px){.nudity-info-popup[data-v-00e397a8]{min-width:300px;max-width:95vw;margin:0 10px}}.staff-names-container[data-v-00e397a8]{display:flex;align-items:flex-start;gap:15px;margin-bottom:15px;width:100%}.staff-names-list[data-v-00e397a8]{display:flex;flex-wrap:wrap;gap:10px;flex:1;min-width:0;align-items:center}.staff-name-link[data-v-00e397a8]{color:#fff;text-decoration:none;padding:5px 10px;background:rgba(255,255,255,.1);border-radius:4px;transition:all .2s ease;white-space:nowrap;flex-shrink:0}.staff-name-link[data-v-00e397a8]:hover{background:var(--accent-color);color:#fff;transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.staff-list .expand-actors-circle-button[data-v-00e397a8]{width:80px;height:80px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:24px;text-decoration:none;flex-shrink:0}.staff-list .expand-actors-circle-button[data-v-00e397a8]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}.staff-names-list .expand-actors-circle-button[data-v-00e397a8]{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,.1);border:none;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff;font-size:16px;text-decoration:none;flex-shrink:0}.staff-names-list .expand-actors-circle-button[data-v-00e397a8]:hover{background:var(--accent-color);transform:scale(1.05);box-shadow:0 4px 12px var(--accent-semi-transparent)}@media (max-width: 600px){.staff-names-container[data-v-00e397a8]{flex-direction:row;align-items:flex-start;gap:10px}.staff-names-list[data-v-00e397a8]{width:auto;flex:1}.staff-name-link[data-v-00e397a8]{font-size:14px;padding:4px 8px}.staff-list .expand-actors-circle-button[data-v-00e397a8]{width:60px;height:60px;font-size:20px}.staff-names-list .expand-actors-circle-button[data-v-00e397a8]{width:35px;height:35px;font-size:14px}}.related-movies-list[data-v-00e397a8] .grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-00e397a8] .grid.card-size-small{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}.related-movies-list[data-v-00e397a8] .grid.card-size-medium{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}.related-movies-list[data-v-00e397a8] .grid.card-size-large{grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:16px}@media (max-width: 620px){.related-movies-list[data-v-00e397a8] .grid{grid-template-columns:1fr}}@media (max-width: 768px){.info-content[data-v-00e397a8]{flex-direction:column;align-items:flex-start}.desktop-only[data-v-00e397a8]{display:none}}.rating-value.low[data-v-00e397a8]{color:#ff6b6b!important}.rating-value.medium[data-v-00e397a8]{color:#ffd93d!important}.rating-value.high[data-v-00e397a8]{color:#51cf66!important}.desktop-text[data-v-00e397a8]{display:inline}.mobile-text[data-v-00e397a8]{display:none}@media (max-width: 600px){.desktop-text[data-v-00e397a8]{display:none}.mobile-text[data-v-00e397a8]{display:inline}}.mobile-list-dropdown[data-v-00e397a8]{position:relative;margin:15px 0}.mobile-list-toggle[data-v-00e397a8]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left}.mobile-list-toggle[data-v-00e397a8]:active{transform:scale(.98)}.mobile-list-toggle .material-icons[data-v-00e397a8]{font-size:24px}.mobile-list-toggle.active[data-v-00e397a8]{background:transparent;box-shadow:none}.mobile-list-toggle[data-v-00e397a8]:not(.active):hover{background:rgba(255,255,255,.2)}.mobile-list-toggle .button-label[data-v-00e397a8]{flex:1}.mobile-list-toggle .material-icons.active[data-v-00e397a8]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.mobile-list-content[data-v-00e397a8]{position:absolute;top:calc(100% + 5px);left:0;width:100%;background:rgba(0,0,0,.95);border-radius:8px;padding:10px;z-index:1000;box-shadow:0 4px 15px rgba(0,0,0,.3);transform-origin:top center;animation:dropdownSlide-00e397a8 .2s ease;border:1px solid rgba(255,255,255,.1)}@keyframes dropdownSlide-00e397a8{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.mobile-list-btn[data-v-00e397a8]{display:flex;align-items:center;gap:10px;background:transparent;border:none;padding:12px 15px;border-radius:8px;color:#fff;font-size:16px;cursor:pointer;transition:all .2s ease;width:100%;text-align:left;margin-bottom:5px}.mobile-list-btn[data-v-00e397a8]:last-child{margin-bottom:0}.mobile-list-btn[data-v-00e397a8]:active{transform:scale(.98)}.mobile-list-btn .material-icons[data-v-00e397a8]{font-size:24px}.mobile-list-btn.active[data-v-00e397a8]{background:transparent;box-shadow:none}.mobile-list-btn .material-icons.active[data-v-00e397a8]{color:var(--accent-color);text-shadow:0 0 8px var(--accent-semi-transparent)}.dropdown-arrow[data-v-00e397a8]{transition:transform .2s ease}.dropdown-arrow.expanded[data-v-00e397a8]{transform:rotate(180deg)}.rating-boxes[data-v-00e397a8]{display:flex;gap:10px;margin:10px 0}.rating-box[data-v-00e397a8]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:4px;font-weight:700;gap:5px}.rating-box.mpaa[data-v-00e397a8]{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2)}.rating-box.mpaa span[data-v-00e397a8]{font-size:.9em}.rating-box.age[data-v-00e397a8]{background:rgba(255,0,0,.1);border:1px solid rgba(255,0,0,.3)}.rating-box strong[data-v-00e397a8]{font-size:.9em;opacity:.8}.rating-box span[data-v-00e397a8]{font-size:1.1em}@media (max-width: 600px){.rating-boxes[data-v-00e397a8]{flex-wrap:wrap}.rating-box[data-v-00e397a8]{font-size:14px;padding:3px 6px}}.text-red[data-v-00e397a8]{color:#f44!important}.text-red-blink[data-v-00e397a8]{color:#f44!important;animation:blink-red-streamer-00e397a8 .8s ease-in-out infinite}@keyframes blink-red-streamer-00e397a8{0%,to{color:#f44;text-shadow:0 0 15px #ff4444,0 0 25px #ff4444;transform:scale(1)}50%{color:#f88;text-shadow:0 0 20px #ff4444,0 0 35px #ff4444,0 0 45px #ff4444;transform:scale(1.15)}}.acknowledgment-row[data-v-00e397a8]{display:flex;align-items:center;gap:8px;padding:2px 0}.acknowledgment-row.clickable[data-v-00e397a8]{cursor:pointer;transition:all .2s ease}.acknowledgment-row.clickable[data-v-00e397a8]:hover{transform:translate(4px)}.community-link[data-v-00e397a8]{display:flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.community-link i[data-v-00e397a8]{font-size:20px}.twitch-link[data-v-00e397a8]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;text-decoration:none;font-weight:500;transition:all .2s ease}.acknowledgment-text[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:13px}@media (max-width: 600px){.acknowledgment-row[data-v-00e397a8]{flex-direction:column;align-items:flex-start;gap:4px;padding:8px 0}.acknowledgment-text[data-v-00e397a8]{font-size:12px}.twitch-link[data-v-00e397a8],.community-link[data-v-00e397a8]{font-size:14px}.twitch-link i[data-v-00e397a8],.community-link i[data-v-00e397a8]{font-size:16px}}.timings-content[data-v-00e397a8]{border-top:1px solid rgba(255,255,255,.1);padding-top:15px;display:flex;flex-direction:column;gap:15px}.timings-warning[data-v-00e397a8]{background:rgba(255,193,7,.1);border:1px solid rgba(255,193,7,.3);border-radius:8px;padding:12px;display:flex;align-items:center;gap:8px;color:#ffc107;font-weight:500;margin-bottom:10px}.timings-warning i[data-v-00e397a8]{font-size:16px}.verified-icon[data-v-00e397a8]{color:#28a745;margin-left:4px;font-size:12px}.edit-button[data-v-00e397a8]{background:rgba(40,167,69,.1)!important;border:1px solid rgba(40,167,69,.3)!important}.edit-button[data-v-00e397a8]:hover{background:rgba(40,167,69,.2)!important}.delete-button[data-v-00e397a8]{background:rgba(220,53,69,.1)!important;border:1px solid rgba(220,53,69,.3)!important}.delete-button[data-v-00e397a8]:hover{background:rgba(220,53,69,.2)!important}.report-button[data-v-00e397a8]{background:rgba(255,193,7,.1)!important;border:1px solid rgba(255,193,7,.3)!important}.report-button[data-v-00e397a8]:hover{background:rgba(255,193,7,.2)!important}.timings-content.no-border[data-v-00e397a8]{border-top:none;padding-top:0}.timings-text[data-v-00e397a8]{white-space:pre-wrap;margin-bottom:10px}.nudity-info-actions[data-v-00e397a8],.timing-form-actions[data-v-00e397a8]{display:flex;gap:10px;justify-content:flex-start}.timing-form-actions[data-v-00e397a8]{padding:0}.timing-submission-form[data-v-00e397a8],.timing-login-prompt[data-v-00e397a8]{margin-top:15px;border-top:1px solid rgba(255,255,255,.1);padding-top:15px}.timing-submission-form[data-v-00e397a8]{display:flex;flex-direction:column;gap:15px;padding-right:20px}.timing-login-prompt[data-v-00e397a8]{text-align:center}.timing-input[data-v-00e397a8],.timing-textarea[data-v-00e397a8]{width:100%;background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1);border-radius:4px;color:#fff;padding:8px 12px;font-size:14px;transition:all .2s ease}.timing-input[data-v-00e397a8]:focus,.timing-textarea[data-v-00e397a8]:focus{outline:none;border-color:var(--accent-color);box-shadow:0 0 10px var(--accent-semi-transparent)}.timing-textarea[data-v-00e397a8]{min-height:200px;max-height:400px;padding:10px 12px;resize:vertical;overflow-y:auto}.submit-timing-btn[data-v-00e397a8],.close-modal-btn[data-v-00e397a8]{background:var(--accent-color);color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;transition:all .2s ease}.submit-timing-btn[data-v-00e397a8]{padding:8px 16px;display:flex;align-items:center;gap:8px}.submit-timing-btn[data-v-00e397a8]:not(:disabled):hover{transform:translateY(-2px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.submit-timing-btn[data-v-00e397a8]:disabled{opacity:.6;cursor:not-allowed}.close-modal-btn[data-v-00e397a8]{background:none;font-size:20px;padding:5px}.close-modal-btn[data-v-00e397a8]:hover{color:var(--accent-color);transform:scale(1.1)}.login-link[data-v-00e397a8],.twitch-link[data-v-00e397a8]{color:var(--accent-color);text-decoration:none;cursor:pointer;transition:all .2s ease}.login-link[data-v-00e397a8]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.twitch-link[data-v-00e397a8]{display:inline-flex;align-items:center;gap:8px;color:#9146ff;font-weight:500}.twitch-link[data-v-00e397a8]:hover{color:#a970ff;transform:translate(4px)}.twitch-link i[data-v-00e397a8]{font-size:20px}.timing-modal[data-v-00e397a8]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);display:flex;justify-content:center;align-items:center;z-index:1000}.timing-modal-content[data-v-00e397a8]{background:#1a1a1a;border-radius:8px;padding:20px;width:90%;max-width:500px;max-height:90vh;position:relative;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 20px rgba(0,0,0,.4);overflow-y:auto}.timing-modal-header[data-v-00e397a8]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.timing-modal-header h3[data-v-00e397a8]{margin:0;color:#fff;font-size:18px}.text-green[data-v-00e397a8]{color:#51cf66!important}.clickable-acknowledgment[data-v-00e397a8]{cursor:pointer;transition:background-color .2s ease}.clickable-acknowledgment[data-v-00e397a8]:hover{background-color:rgba(255,255,255,.1)}.acknowledgment-table[data-v-00e397a8]{background:rgba(255,255,255,.05);border-radius:8px;margin-bottom:15px;overflow:hidden;border:1px solid rgba(255,255,255,.1)}.acknowledgment-header[data-v-00e397a8]{background:rgba(145,70,255,.15);padding:10px 15px;display:flex;align-items:center;gap:8px;font-weight:500;color:#fff;border-bottom:1px solid rgba(145,70,255,.2)}.acknowledgment-header i[data-v-00e397a8]{color:#ff66ab}.acknowledgment-content[data-v-00e397a8]{padding:15px;display:flex;flex-direction:column;gap:8px}.acknowledgment-text[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:13px;margin-top:4px}@media (max-width: 600px){.timing-modal-content[data-v-00e397a8]{width:95%;padding:15px}.timing-modal-header h3[data-v-00e397a8]{font-size:16px}.timing-input[data-v-00e397a8],.timing-textarea[data-v-00e397a8]{font-size:13px}.timing-textarea[data-v-00e397a8]{min-height:60px}.submit-timing-btn[data-v-00e397a8]{padding:6px 12px;font-size:13px}.timing-submission-form[data-v-00e397a8]{padding-right:15px;padding-left:15px}}.top-submitters[data-v-00e397a8]{padding:10px 0}.top-submitters h3[data-v-00e397a8]{margin:0 0 15px;color:#fff;font-size:18px;text-align:center}.top-submitters-list[data-v-00e397a8]{display:flex;flex-direction:column;gap:10px}.top-submitter-item[data-v-00e397a8]{display:flex;align-items:center;gap:15px;padding:8px;background:rgba(255,255,255,.05);border-radius:6px;transition:all .2s ease}.top-submitter-item[data-v-00e397a8]:hover{background:rgba(255,255,255,.1);transform:translate(5px)}.submitter-rank[data-v-00e397a8]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:14px}.submitter-info[data-v-00e397a8]{flex:1}.submitter-count[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:13px;margin-top:2px}.modal-overlay[data-v-00e397a8]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.85);display:flex;justify-content:center;align-items:center;z-index:1000;backdrop-filter:blur(5px)}.modal-content[data-v-00e397a8]{background:#1a1a1a;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;position:relative;border:1px solid rgba(255,255,255,.1);animation:modalSlideIn-00e397a8 .3s ease}@keyframes modalSlideIn-00e397a8{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.modal-header[data-v-00e397a8]{padding:20px;border-bottom:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center}.modal-header h3[data-v-00e397a8]{margin:0;font-size:24px;color:#fff}.modal-body[data-v-00e397a8]{padding:20px}.top-submitters-list[data-v-00e397a8]{display:flex;flex-direction:column;gap:15px}.top-submitter-item[data-v-00e397a8]{display:flex;align-items:center;gap:15px;padding:15px;background:rgba(255,255,255,.05);border-radius:10px;transition:all .2s ease;position:relative;overflow:hidden}.top-submitter-item[data-v-00e397a8]:hover{transform:translate(5px);background:rgba(255,255,255,.08)}.submitter-rank[data-v-00e397a8]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--accent-color);color:#fff;border-radius:50%;font-weight:700;font-size:16px;flex-shrink:0}.submitter-rank.gold[data-v-00e397a8]{background:linear-gradient(45deg,gold,orange);box-shadow:0 0 15px rgba(255,215,0,.5)}.submitter-rank.silver[data-v-00e397a8]{background:linear-gradient(45deg,silver,#a9a9a9);box-shadow:0 0 15px rgba(192,192,192,.5)}.submitter-rank.bronze[data-v-00e397a8]{background:linear-gradient(45deg,#cd7f32,#8b4513);box-shadow:0 0 15px rgba(205,127,50,.5)}.submitter-info[data-v-00e397a8]{flex:1;min-width:0}.submitter-name[data-v-00e397a8]{color:#fff;font-weight:500;font-size:16px;margin-bottom:4px}.submitter-name a[data-v-00e397a8]{color:#9146ff;text-decoration:none;transition:all .2s ease}.submitter-name a[data-v-00e397a8]:hover{color:#a970ff;text-decoration:underline}.submitter-name a i[data-v-00e397a8]{margin-left:5px;font-size:14px}@media (max-width: 600px){.submitter-name a i[data-v-00e397a8]{font-size:12px}}.submitter-count[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:14px}.submitter-contribution[data-v-00e397a8]{position:absolute;left:0;bottom:0;width:100%;height:3px;background:rgba(255,255,255,.1)}.contribution-bar[data-v-00e397a8]{height:100%;background:var(--accent-color);transition:width 1s ease}@media (max-width: 600px){.modal-content[data-v-00e397a8]{width:95%;margin:10px}.modal-header h3[data-v-00e397a8]{font-size:20px}.submitter-rank[data-v-00e397a8]{width:28px;height:28px;font-size:14px}.submitter-name[data-v-00e397a8]{font-size:14px}.submitter-count[data-v-00e397a8]{font-size:12px}}.timing-entries[data-v-00e397a8]{display:flex;flex-direction:column;gap:8px}.timing-entry[data-v-00e397a8]{padding:8px;background:rgba(255,255,255,.05);border-radius:4px}.timing-content[data-v-00e397a8]{display:flex;flex-direction:column;gap:4px}.timing-text[data-v-00e397a8]{font-family:monospace;color:#fff;font-size:1.1em}.timing-entry.pending[data-v-00e397a8],.timing-entry.clean-text[data-v-00e397a8]{background:rgba(255,165,0,.1);border:1px solid rgba(255,165,0,.2)}.pending-badge[data-v-00e397a8],.clean-text-badge[data-v-00e397a8]{display:inline-block;background:rgba(255,165,0,.2);color:orange;padding:2px 6px;border-radius:4px;font-size:.8em;margin-bottom:4px}.timing-hover-container.blurred[data-v-00e397a8]{filter:blur(4px)}.timing-hover-container.blurred[data-v-00e397a8]:hover{filter:blur(0);transition:filter .3s ease}.hint-text[data-v-00e397a8]{font-size:.8em;color:rgba(255,255,255,.7);font-weight:400}.hint-text a[data-v-00e397a8]{color:var(--accent-color);text-decoration:none;transition:all .2s ease}.hint-text a[data-v-00e397a8]:hover{text-decoration:underline;text-shadow:0 0 8px var(--accent-semi-transparent)}.modal-header-controls[data-v-00e397a8]{display:flex;align-items:center;gap:10px}.show-all-timings-btn[data-v-00e397a8]{display:flex;align-items:center;gap:8px;padding:8px 12px;background:var(--accent-color);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s ease;margin-bottom:20px;width:fit-content}.show-all-timings-btn[data-v-00e397a8]:hover:not(:disabled){background:var(--accent-color-dark, #7a4cb8);transform:translateY(-1px);box-shadow:0 4px 8px var(--accent-semi-transparent)}.show-all-timings-btn[data-v-00e397a8]:disabled{opacity:.6;cursor:not-allowed;transform:none}.all-timings-modal[data-v-00e397a8]{max-width:800px;width:95%;max-height:90vh}.all-timings-modal .modal-body[data-v-00e397a8]{max-height:70vh;overflow-y:auto;padding:20px}.loading-spinner[data-v-00e397a8]{display:flex;flex-direction:column;align-items:center;gap:15px;padding:40px;color:#fff}.loading-spinner i[data-v-00e397a8]{font-size:24px;color:var(--accent-color)}.no-timings[data-v-00e397a8]{text-align:center;padding:40px;color:rgba(255,255,255,.7)}.all-timings-list[data-v-00e397a8]{display:flex;flex-direction:column;gap:15px}.timing-item[data-v-00e397a8]{background:rgba(255,255,255,.05);border-radius:8px;border:1px solid rgba(255,255,255,.1);overflow:hidden;transition:all .2s ease}.timing-item[data-v-00e397a8]:hover{background:rgba(255,255,255,.08);transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.all-timings-list .timing-item .timing-content[data-v-00e397a8]{padding:15px}.timing-header[data-v-00e397a8]{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:rgba(255,255,255,.03);border-bottom:1px solid rgba(255,255,255,.1)}.timing-meta[data-v-00e397a8]{display:flex;align-items:center;gap:12px;flex-wrap:wrap}.timing-date[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:13px}.timing-movie-info[data-v-00e397a8]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.timing-kp-id[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:13px;font-family:monospace;background:rgba(255,255,255,.1);padding:2px 6px;border-radius:3px;text-decoration:none;transition:all .2s ease}.timing-kp-id.clickable[data-v-00e397a8]:hover{color:var(--accent-color);background:rgba(var(--accent-color-rgb),.2);transform:translateY(-1px);text-decoration:none}@media (max-width: 768px){.modal-header-controls[data-v-00e397a8]{flex-direction:column;align-items:stretch;gap:8px}.show-all-timings-btn[data-v-00e397a8]{justify-content:center}.all-timings-modal[data-v-00e397a8]{width:95%;margin:10px}.timing-header[data-v-00e397a8]{flex-direction:column;align-items:stretch;gap:8px}.timing-meta[data-v-00e397a8]{justify-content:space-between}.timing-movie-info[data-v-00e397a8]{justify-content:flex-end}}.admin-controls[data-v-00e397a8]{display:flex;align-items:center;gap:8px;margin-left:auto}.approve-btn[data-v-00e397a8],.reject-btn[data-v-00e397a8],.clean-text-btn[data-v-00e397a8]{width:32px;height:32px;border:none;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.approve-btn[data-v-00e397a8]{background:rgba(81,207,102,.2);color:#51cf66;border:1px solid rgba(81,207,102,.3)}.approve-btn[data-v-00e397a8]:hover:not(:disabled){background:rgba(81,207,102,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(81,207,102,.3)}.reject-btn[data-v-00e397a8]{background:rgba(255,107,107,.2);color:#ff6b6b;border:1px solid rgba(255,107,107,.3)}.reject-btn[data-v-00e397a8]:hover:not(:disabled){background:rgba(255,107,107,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,107,107,.3)}.approve-btn[data-v-00e397a8]:disabled,.reject-btn[data-v-00e397a8]:disabled{opacity:.6;cursor:not-allowed;transform:none}.clean-text-btn[data-v-00e397a8]{background:rgba(255,165,0,.2);color:orange;border:1px solid rgba(255,165,0,.3)}.clean-text-btn[data-v-00e397a8]:hover:not(:disabled){background:rgba(255,165,0,.3);transform:scale(1.1);box-shadow:0 4px 8px rgba(255,165,0,.3)}.clean-text-btn[data-v-00e397a8]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (max-width: 600px){.admin-controls[data-v-00e397a8]{margin-left:0;margin-top:8px}.approve-btn[data-v-00e397a8],.reject-btn[data-v-00e397a8],.clean-text-btn[data-v-00e397a8]{width:28px;height:28px;font-size:12px}}.timing-preview[data-v-00e397a8]{background:rgba(0,0,0,.2);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:12px;margin-top:10px}.timing-preview-header[data-v-00e397a8]{display:flex;align-items:center;gap:8px;margin-bottom:8px;color:rgba(255,255,255,.8);font-size:14px;font-weight:500}.timing-preview-header i[data-v-00e397a8]{color:var(--accent-color)}.timing-preview-content[data-v-00e397a8]{display:flex;flex-direction:column;gap:4px}.timing-preview-item[data-v-00e397a8]{display:flex;align-items:center;gap:8px;padding:6px 8px;background:rgba(255,255,255,.05);border-radius:4px;font-size:13px}.timing-preview-range[data-v-00e397a8]{color:#fff;font-weight:500;font-family:Courier New,monospace}.timing-preview-duration[data-v-00e397a8]{color:rgba(255,255,255,.6);font-size:12px}.overlay-button[data-v-00e397a8]{background:rgba(255,255,255,.1)!important;border:none!important}.overlay-button[data-v-00e397a8]:hover{background:var(--accent-color)!important;transform:translateY(-2px)!important;box-shadow:0 4px 8px var(--accent-semi-transparent)!important}.obs-button[data-v-00e397a8]{background:linear-gradient(135deg,#ff6b35,#f7931e)!important;color:#fff!important}.obs-button[data-v-00e397a8]:hover{background:linear-gradient(135deg,#e55a2b,#e68900)!important;transform:translateY(-1px);box-shadow:0 4px 12px rgba(255,107,53,.4)}.obs-modal[data-v-00e397a8]{z-index:10001}.obs-modal-content[data-v-00e397a8]{max-width:600px;width:90%;max-height:85vh;overflow-y:auto;padding:15px;box-sizing:border-box}.obs-settings-form[data-v-00e397a8]{display:flex;flex-direction:column;gap:15px;padding:0}.obs-setting-group[data-v-00e397a8]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px}.obs-setting-group[data-v-00e397a8]:last-child{margin-bottom:0}.obs-checkbox-label[data-v-00e397a8]{display:flex;align-items:center;gap:12px;cursor:pointer;font-size:16px;font-weight:500;color:#fff}.obs-checkbox-label input[type=checkbox][data-v-00e397a8]{width:18px;height:18px;accent-color:#ff6b35}.obs-setting-description[data-v-00e397a8]{font-size:13px;color:rgba(255,255,255,.7);margin-top:6px;line-height:1.3}.obs-connection-settings[data-v-00e397a8]{background:rgba(255,255,255,.05);border-radius:12px;padding:15px;border:1px solid rgba(255,255,255,.1);overflow:hidden}.obs-setting-group label[data-v-00e397a8]{color:#fff;font-size:14px;font-weight:500;margin-bottom:6px}.obs-input[data-v-00e397a8],.obs-select[data-v-00e397a8]{width:100%;padding:8px 10px;border:1px solid rgba(255,255,255,.2);border-radius:6px;background:rgba(255,255,255,.1);color:#fff;font-size:14px;transition:all .3s ease;margin-bottom:6px;box-sizing:border-box}.obs-input[data-v-00e397a8]:focus,.obs-select[data-v-00e397a8]:focus{outline:none;border-color:#ff6b35;box-shadow:0 0 0 2px rgba(255,107,53,.2)}.obs-range[data-v-00e397a8]{width:100%;height:6px;border-radius:3px;background:rgba(255,255,255,.2);outline:none;accent-color:#ff6b35}.obs-status[data-v-00e397a8]{padding:12px 16px;border-radius:8px;text-align:center;font-weight:500;background:rgba(244,67,54,.2);color:#f44336;border:1px solid rgba(244,67,54,.3)}.obs-status.connected[data-v-00e397a8]{background:rgba(76,175,80,.2);color:#4caf50;border:1px solid rgba(76,175,80,.3)}.obs-actions[data-v-00e397a8]{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}.obs-action-btn[data-v-00e397a8]{display:flex;align-items:center;gap:8px;padding:8px 14px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;flex:1;min-width:140px;justify-content:center}.obs-action-btn[data-v-00e397a8]:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.connect-btn[data-v-00e397a8]{background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:#fff}.connect-btn[data-v-00e397a8]:hover:not(:disabled){background:linear-gradient(135deg,#8e24aa,#6a1b9a);transform:translateY(-1px)}.test-btn[data-v-00e397a8]{background:linear-gradient(135deg,#2196f3,#0b7dda);color:#fff}.test-btn[data-v-00e397a8]:hover:not(:disabled){background:linear-gradient(135deg,#1976d2,#0b6cb7);transform:translateY(-1px)}.refresh-btn[data-v-00e397a8]{background:linear-gradient(135deg,#ff9800,#e68900);color:#fff}.refresh-btn[data-v-00e397a8]:hover:not(:disabled){background:linear-gradient(135deg,#f57c00,#bf6900);transform:translateY(-1px)}.obs-warning[data-v-00e397a8]{padding:12px;background:rgba(255,152,0,.2);color:#ff9800;border:1px solid rgba(255,152,0,.3);border-radius:6px;font-size:14px;line-height:1.4}.obs-filters-list[data-v-00e397a8]{display:flex;flex-direction:column;gap:8px}.obs-filter-selection[data-v-00e397a8]{display:flex;flex-direction:column;gap:12px}.obs-filter-select[data-v-00e397a8]{padding:10px 12px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.2);border-radius:6px;color:#fff;font-size:14px;outline:none;transition:all .3s ease}.obs-filter-select[data-v-00e397a8]:focus{border-color:var(--accent-color);box-shadow:0 0 5px var(--accent-semi-transparent)}.obs-filter-select option[data-v-00e397a8]{background:#2a2a2a;color:#fff}.selected-filter-info[data-v-00e397a8]{padding:12px;background:rgba(255,255,255,.05);border-radius:6px;display:flex;flex-direction:column;gap:8px}.filter-details[data-v-00e397a8]{font-size:14px;color:#fff;text-align:center}.filter-status[data-v-00e397a8]{font-size:13px;color:#f44336;font-weight:500;text-align:center}.filter-status.enabled[data-v-00e397a8]{color:#4caf50}.obs-info[data-v-00e397a8]{padding:10px 12px;background:rgba(76,175,80,.1);border:1px solid rgba(76,175,80,.3);border-radius:6px;color:#4caf50;font-size:13px;text-align:center}@media (max-width: 600px){.timing-actions-row[data-v-00e397a8],.obs-button[data-v-00e397a8]{display:none!important}.obs-actions[data-v-00e397a8]{flex-direction:column}.obs-action-btn[data-v-00e397a8]{min-width:unset}}.timing-author[data-v-00e397a8]{color:rgba(255,255,255,.7);font-size:.85em;font-style:italic}.timing-count[data-v-00e397a8]{color:var(--accent-color);font-weight:500;font-style:normal;margin-left:4px}\n/*$vite$:1*/',document.head.appendChild(a);var Pe={key:0,class:"carousel-container"},Be={class:"carousel-wrapper"},Re=["onClick"],Te=["src","alt"],Ue={class:"video-name"},Oe={key:0,class:"video-player"},$e=["src"],Ne={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(e,t){var a=t.emit,n=r(),o=l((()=>n.isMobile)),w=e,_=a,C=d(w.activeVideoIndex),E=d(null),j=d(!1),L=d(!1),z=()=>{if(E.value){var e=E.value,t=e.scrollLeft,a=e.scrollWidth,n=e.clientWidth;j.value=t>0,L.value=t<a-n-1}},M=e=>{if(E.value){var t=E.value.querySelector(".carousel-item");if(t){var a=t.clientWidth+16;E.value.scrollBy({left:a*e,behavior:"smooth"})}}},I=()=>z(),S=d([]),P=function(){var e=s(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(`https://img.youtube.com/vi/${t}/0.jpg`);case 3:return a=e.sent,e.abrupt("return",a.ok);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return c(s(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.videos.map(function(){var e=s(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.videoId);case 2:return a=e.sent,e.abrupt("return",a?t:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(t);case 3:a=e.sent,S.value=a.filter(Boolean),z(),window.addEventListener("resize",I);case 7:case"end":return e.stop()}}),e)})))),u((()=>w.videos),function(){var e=s(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map(function(){var e=s(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t.videoId);case 2:return a=e.sent,e.abrupt("return",a?t:null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(a);case 3:n=e.sent,S.value=n.filter(Boolean);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u((()=>w.activeVideoIndex),(e=>{C.value=e})),v((()=>{window.removeEventListener("resize",I)})),(t,a)=>S.value.length?(y(),m("div",Pe,[a[4]||(a[4]=f("h2",null,"Трейлеры (YouTube)",-1)),f("div",Be,[g(f("button",{class:"scroll-button left",onClick:a[0]||(a[0]=e=>M(-1))},a[2]||(a[2]=[f("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[b,!o.value&&j.value]]),f("div",{ref_key:"carousel",ref:E,class:"carousel",onScroll:z},[(y(!0),m(h,null,x(S.value,((e,t)=>(y(),m("div",{key:t,class:"carousel-item",onClick:e=>(e=>{C.value=e,_("select",w.videos[e])})(t)},[f("img",{src:`https://img.youtube.com/vi/${e.videoId}/0.jpg`,alt:e.name},null,8,Te),f("div",Ue,k(e.name),1)],8,Re)))),128))],544),g(f("button",{class:"scroll-button right",onClick:a[1]||(a[1]=e=>M(1))},a[3]||(a[3]=[f("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[b,!o.value&&L.value]])]),null!==C.value?(y(),m("div",Oe,[f("iframe",{src:e.videos[C.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,$e)])):p("",!0)])):p("",!0)}},Ae=n(Ne,[["__scopeId","data-v-4a5806b3"]]),He={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data:()=>({activeCategory:"smileys",categories:[{name:"smileys",icon:"😀",emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","🥰","😘","😗","😙","😚","😋","😛","😝","😜","🤪","🤨","🧐","🤓","😎","🤩","🥳"]},{name:"emotions",icon:"😢",emojis:["😥","😢","😭","😤","😠","😡","🤬","🤯","😳","🥵","🥶","😱","😨","😰","😥","😓","🤗","🤔","🤭","🤫","🤥","😶","😐","😑","😬","🙄","😯","😦","😧","😮","😲"]},{name:"gestures",icon:"👍",emojis:["👍","👎","👌","🤌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👏","🙌","👐","🤲","🤝","🙏","✍️","💪","🦾","🦿","🦵","🦶","👂","🦻","👃"]},{name:"hearts",icon:"❤️",emojis:["❤️","🧡","💛","💚","💙","💜","🤎","🖤","🤍","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","♥️","💯","💢","💥","💫","💦","💨","🕳️","💣","💬","👁️‍🗨️","🗨️"]},{name:"objects",icon:"🎉",emojis:["🎉","🎊","🎈","🎁","🎀","🎂","🍰","🧁","🍭","🍬","🍫","🍩","🍪","🍕","🍔","🍟","🌭","🥪","🌮","🌯","🥙","🥚","🍳","🥘","🍲","🥗","🍿","🧈","🧀","🥨","🥯"]}]}),computed:{currentEmojis(){var e=this.categories.find((e=>e.name===this.activeCategory));return e?e.emojis:[]}},methods:{selectEmoji(e){this.$emit("emoji-selected",e)}}},Fe={class:"emoji-categories"},De=["onClick"],Ve={class:"emoji-grid"},qe=["onClick"];var Ye=n(He,[["render",function(e,t,a,n,o,r){return a.isVisible?(y(),m("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=t=>e.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=t=>e.$emit("mouse-leave"))},[f("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[3]||(t[3]=[f("i",{class:"fas fa-times"},null,-1)])),f("div",Fe,[(y(!0),m(h,null,x(o.categories,(e=>(y(),m("button",{key:e.name,onClick:t=>o.activeCategory=e.name,class:w([{active:o.activeCategory===e.name},"category-btn"]),type:"button"},k(e.icon),11,De)))),128))]),f("div",Ve,[(y(!0),m(h,null,x(r.currentEmojis,(e=>(y(),m("button",{key:e,onClick:t=>r.selectEmoji(e),class:"emoji-btn",type:"button"},k(e),9,qe)))),128))])],32)):p("",!0)}],["__scopeId","data-v-209132f3"]]),Ke=function(){var e=s(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return a=e.sent,e.next=5,t(a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=s(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke((e=>e.get(`/search_emotes/${t}`)));case 2:return a=e.sent,n=a.data,e.abrupt("return",n.emotes||[]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(e,t){var a=t.emit,n=d(""),o=d([]),r=d(null),l=d(!1),c=function(){var t=s(i().mark((function t(a){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currentUser){t.next=3;break}return console.warn("Попытка поиска изображений без авторизации"),t.abrupt("return");case 3:if(a.trim()){t.next=7;break}return o.value=[],l.value=!1,t.abrupt("return");case 7:return l.value=!0,t.prev=8,t.next=11,We(a);case 11:o.value=t.sent,t.next=18;break;case 14:t.prev=14,t.t0=t.catch(8),console.error("Error searching images:",t.t0),o.value=[];case 18:return t.prev=18,l.value=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[8,14,18,21]])})));return function(e){return t.apply(this,arguments)}}(),v=C(c,300);return u((()=>e.isVisible),(e=>{e&&(n.value="",o.value=[],l.value=!1)})),{searchQuery:n,images:o,searchInput:r,isLoading:l,handleSearch:()=>{e.currentUser?(n.value.trim()&&(l.value=!0),v(n.value)):a("login-required")},selectImage:t=>{e.currentUser?(a("image-selected",t),a("close")):a("login-required")},handleInputBlur:()=>{setTimeout((()=>{e.isVisible&&a("mouse-leave")}),100)}}}},Ze={key:0,class:"auth-required"},Qe={class:"auth-message"},Xe={key:1},Je={class:"image-picker-header"},et={class:"image-content"},tt={key:0,class:"loading-spinner"},at={key:1,class:"image-grid"},nt=["onClick"],ot=["src","alt"],rt={key:2,class:"no-images"},it={key:3,class:"no-search"};var lt=n(Ge,[["render",function(e,t,a,n,o,r){return a.isVisible?(y(),m("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=t=>e.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=t=>e.$emit("mouse-leave")),onClick:t[9]||(t[9]=j((()=>{}),["stop"]))},[f("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=t=>e.$emit("close"))},t[10]||(t[10]=[f("i",{class:"fas fa-times"},null,-1)])),a.currentUser?(y(),m("div",Xe,[f("div",Je,[g(f("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>n.searchQuery=e),placeholder:"Введите название смайла 7tv",class:"image-search-input",onInput:t[3]||(t[3]=function(){return n.handleSearch&&n.handleSearch(...arguments)}),onClick:t[4]||(t[4]=j((()=>{}),["stop"])),onFocus:t[5]||(t[5]=t=>e.$emit("mouse-enter")),onBlur:t[6]||(t[6]=function(){return n.handleInputBlur&&n.handleInputBlur(...arguments)})},null,544),[[E,n.searchQuery]])]),f("div",et,[n.isLoading?(y(),m("div",tt,t[14]||(t[14]=[f("div",{class:"spinner"},null,-1),f("p",null,"Поиск изображений...",-1)]))):n.images.length>0?(y(),m("div",at,[(y(!0),m(h,null,x(n.images,((e,t)=>(y(),m("div",{key:t,class:"image-item",onClick:t=>n.selectImage(e)},[f("img",{src:e,alt:"Image "+(t+1)},null,8,ot)],8,nt)))),128))])):n.searchQuery.trim()?(y(),m("div",rt,t[15]||(t[15]=[f("p",null,"Нет результатов",-1)]))):(y(),m("div",it,t[16]||(t[16]=[f("p",null,"Введите запрос для поиска",-1)])))])])):(y(),m("div",Ze,[f("div",Qe,[t[11]||(t[11]=f("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=f("h3",null,"Требуется авторизация",-1)),t[13]||(t[13]=f("p",null,"Для поиска изображений необходимо войти в аккаунт",-1)),f("button",{class:"login-button",onClick:t[1]||(t[1]=t=>e.$emit("login-required"))},"Войти")])]))],32)):p("",!0)}],["__scopeId","data-v-f33eb3f6"]]),st={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(e,t){var a=t.emit,n=d(""),o=d(""),r=d(null),i=d(null),s=l((()=>/^https?:\/\/.+/.test(n.value.trim())&&o.value.trim())),c=()=>{a("close"),m()},v=()=>{s.value&&(a("submit",{url:n.value.trim(),title:o.value.trim()}),c())},m=()=>{n.value="",o.value=""};return u((()=>e.isVisible),(t=>{t&&(e.selectedText.trim()&&(o.value=e.selectedText.trim()),L((()=>{var e;null===(e=r.value)||void 0===e||e.focus()})))})),{linkUrl:n,linkTitle:o,urlInput:r,titleInput:i,isValidLink:s,closeModal:c,submitLink:v,handleKeydown:e=>{if("Enter"===e.key){if(e.preventDefault(),s.value)v();else if(e.target===r.value&&n.value.trim()){var t;null===(t=i.value)||void 0===t||t.focus()}}else"Escape"===e.key&&c()}}}},dt={class:"link-modal-header"},ct={class:"link-modal-content"},ut={class:"form-group"},vt={class:"form-group"},mt={class:"link-modal-footer"},pt=["disabled"];var ft=n(st,[["render",function(e,t,a,n,o,r){return a.isVisible?(y(),m("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=function(){return n.closeModal&&n.closeModal(...arguments)})},[f("div",{class:"link-modal",onClick:t[7]||(t[7]=j((()=>{}),["stop"]))},[f("div",dt,[t[10]||(t[10]=f("h3",null,"Добавить ссылку",-1)),f("button",{class:"close-button",onClick:t[0]||(t[0]=function(){return n.closeModal&&n.closeModal(...arguments)})},t[9]||(t[9]=[f("i",{class:"fas fa-times"},null,-1)]))]),f("div",ct,[f("div",ut,[t[11]||(t[11]=f("label",{for:"link-url"},"URL ссылки:",-1)),g(f("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=e=>n.linkUrl=e),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[E,n.linkUrl]])]),f("div",vt,[t[12]||(t[12]=f("label",{for:"link-title"},"Название ссылки:",-1)),g(f("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=e=>n.linkTitle=e),type:"text",placeholder:"Название для отображения",class:"link-input",onKeydown:t[4]||(t[4]=function(){return n.handleKeydown&&n.handleKeydown(...arguments)})},null,544),[[E,n.linkTitle]])])]),f("div",mt,[f("button",{class:"cancel-button",onClick:t[5]||(t[5]=function(){return n.closeModal&&n.closeModal(...arguments)})},"Отмена"),f("button",{class:"submit-button",disabled:!n.isValidLink,onClick:t[6]||(t[6]=function(){return n.submitLink&&n.submitLink(...arguments)})},"Добавить",8,pt)])])])):p("",!0)}],["__scopeId","data-v-a794d83f"]]);function gt(){var e,t,a,n,o,r,i=(e=d(!1),t=d(!1),a=d(!1),n=()=>{e.value=!1},{showEmojiPicker:e,isEmojiHovered:t,isButtonHovered:a,handleEmojiMouseEnter:()=>{t.value=!0},handleEmojiMouseLeave:()=>{t.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},handleButtonMouseEnter:()=>{a.value=!0,e.value=!0},handleButtonMouseLeave:()=>{a.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},closeEmojiPicker:n,insertEmoji:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=a.value.substring(0,r),s=a.value.substring(i);n(l+e+s),L((()=>{o.focus(),o.setSelectionRange(r+e.length,r+e.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}else n(a.value+e)},handleGlobalClick:e=>{e.target.closest(".emoji-picker")||e.target.closest(".emoji-button-inline")||n()}}),l=function(){var e=d(!1),t=d(!1),a=d(!1),n=()=>{e.value=!1};return{showImagePicker:e,isImageHovered:t,isButtonHovered:a,handleImageMouseEnter:()=>{t.value=!0},handleImageMouseLeave:()=>{t.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},handleImageButtonMouseEnter:()=>{a.value=!0,e.value=!0},handleButtonMouseLeave:()=>{a.value=!1,setTimeout((()=>{t.value||a.value||(e.value=!1)}),300)},closeImagePicker:n,insertImage:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=`[img]${e}[/img]`;n(a.value.slice(0,r)+l+a.value.slice(i)),L((()=>{o.focus(),o.setSelectionRange(r+l.length,r+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}else{var s=`[img]${e}[/img]`;n(a.value+s)}},handleGlobalClick:e=>{e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||n()}}}(),s=(o=d(!1),r=d(""),{showLinkModal:o,selectedTextForLink:r,insertLink:(e,t)=>{var a=e.value;if(a){var n=a.selectionStart,i=a.selectionEnd,l=t.value.slice(n,i);r.value=l.trim()||""}o.value=!0},insertLinkFromModal:(e,t,a,n)=>{var o=t.value;if(o){var r=o.selectionStart,i=o.selectionEnd,l=`[link=${e.url}]${e.title}[/link]`;n(a.value.slice(0,r)+l+a.value.slice(i)),L((()=>{o.focus(),o.setSelectionRange(r+l.length,r+l.length),o.style.height&&(o.style.height="auto",o.style.height=`${Math.min(o.scrollHeight,200)}px`)}))}},closeLinkModal:()=>{o.value=!1},insertSpoiler:(e,t,a)=>{var n=e.value;if(n){var o,r=n.selectionStart,i=n.selectionEnd,l=t.value.slice(r,i);o=l.trim()?`[spoiler]${l}[/spoiler]`:"[spoiler][/spoiler]",a(t.value.slice(0,r)+o+t.value.slice(i)),L((()=>{if(n.focus(),l.trim())n.setSelectionRange(r+o.length,r+o.length);else{var e=r+9;n.setSelectionRange(e,e)}n.style.height&&(n.style.height="auto",n.style.height=`${Math.min(n.scrollHeight,200)}px`)}))}}}),u={autoResize:e=>{var t=null==e?void 0:e.target;t&&(t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,200)}px`)},autoResizeElement:e=>{e&&(e.style.height="auto",e.style.height=`${Math.min(e.scrollHeight,200)}px`)}},m=u.autoResize,p=u.autoResizeElement,f=()=>{i.showEmojiPicker.value=!1,l.showImagePicker.value=!1},g=e=>{e.target.closest(".emoji-picker")||e.target.closest(".image-picker")||e.target.closest(".emoji-button-inline")||f()};return c((()=>{document.addEventListener("click",g)})),v((()=>{document.removeEventListener("click",g)})),{showEmojiPicker:i.showEmojiPicker,handleEmojiMouseEnter:i.handleEmojiMouseEnter,handleEmojiMouseLeave:i.handleEmojiMouseLeave,closeEmojiPicker:i.closeEmojiPicker,showImagePicker:l.showImagePicker,handleImageMouseEnter:l.handleImageMouseEnter,handleImageMouseLeave:l.handleImageMouseLeave,closeImagePicker:l.closeImagePicker,showLinkModal:s.showLinkModal,selectedTextForLink:s.selectedTextForLink,closeLinkModal:s.closeLinkModal,handleButtonMouseEnter:()=>{i.isButtonHovered.value=!0,l.isButtonHovered.value=!0,i.showEmojiPicker.value=!0,l.showImagePicker.value=!1},handleImageButtonMouseEnter:()=>{i.isButtonHovered.value=!0,l.isButtonHovered.value=!0,l.showImagePicker.value=!0,i.showEmojiPicker.value=!1},handleButtonMouseLeave:()=>{i.isButtonHovered.value=!1,l.isButtonHovered.value=!1,setTimeout((()=>{i.isEmojiHovered.value||l.isImageHovered.value||i.isButtonHovered.value||l.isButtonHovered.value||(i.showEmojiPicker.value=!1,l.showImagePicker.value=!1)}),300)},closeAllPickers:f,insertEmojiUniversal:(e,t,a,n)=>{i.insertEmoji(e,t,a,n)},insertImageUniversal:(e,t,a,n)=>{l.insertImage(e,t,a,n)},insertLinkUniversal:(e,t,a)=>{s.insertLink(e,t,a)},insertLinkFromModalUniversal:(e,t,a,n)=>{s.insertLinkFromModal(e,t,a,n)},insertSpoilerUniversal:(e,t,a)=>{s.insertSpoiler(e,t,a)},autoResize:m,autoResizeElement:p}}var bt=e=>1===e?"комментарий":e>=2&&e<=4?"комментария":"комментариев",ht=e=>{if(!e)return"?";var t=e.split(" ");return 1===t.length?e.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},xt=["data-comment-id"],kt={class:"comment-header"},yt={class:"user-info"},wt={class:"user-avatar"},_t=["src","alt"],Ct={class:"user-details"},Et={class:"username"},jt={key:0,class:"user-rating"},Lt=["title"],zt=["title"],Mt={class:"comment-content"},It={key:0,class:"hidden-comment-warning"},St={key:1},Pt={key:0,class:"deleted-comment"},Bt={key:1},Rt={key:0,class:"edit-form"},Tt={class:"edit-textarea-container"},Ut={class:"edit-footer"},Ot={class:"edit-actions"},$t=["disabled"],Nt={class:"character-counter-container"},At={key:1,class:"comment-text-container"},Ht=["innerHTML"],Ft={class:"comment-footer"},Dt={class:"comment-actions"},Vt={class:"rating-buttons"},qt={class:"action-buttons"};var Yt=n({name:"CommentItem",components:{EmojiPicker:Ye,ImagePicker:lt,LinkModal:ft},props:{comment:{type:Object,required:!0,default:()=>({name:"Аноним",user_avatar:null,content:"",created_at:(new Date).toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(e,t){var a,n,o=t.emit,r=z(),v=l((()=>{var t;return e.editingCommentId===(null===(t=e.comment)||void 0===t?void 0:t.id)})),m=d((null===(a=e.comment)||void 0===a?void 0:a.content)||""),p=d((null===(n=e.comment)||void 0===n?void 0:n.user_rating)||0),f=d(null),g=d(null),b=gt(),h=b.showEmojiPicker,x=b.showImagePicker,k=b.showLinkModal,y=b.selectedTextForLink,w=b.handleEmojiMouseEnter,_=b.handleEmojiMouseLeave,C=b.handleImageMouseEnter,E=b.handleImageMouseLeave,j=b.handleButtonMouseEnter,I=b.handleImageButtonMouseEnter,S=b.handleButtonMouseLeave,P=b.closeEmojiPicker,B=b.closeImagePicker,R=b.closeLinkModal,T=b.insertEmojiUniversal,U=b.insertImageUniversal,O=b.insertLinkUniversal,$=b.insertLinkFromModalUniversal,N=b.insertSpoilerUniversal,A=b.autoResize,H=Ie().formatContentWithTruncation;c(s(i().mark((function t(){var a,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=e.comment)||void 0===a||!a.user_avatar){t.next=5;break}return t.next=3,M();case 3:n=t.sent,f.value=`${n}${e.comment.user_avatar}`;case 5:case"end":return t.stop()}}),t)}))));var F=l((()=>{var t;return e.currentUser&&(null===(t=e.comment)||void 0===t?void 0:t.user_id)===e.currentUser.id})),D=l((()=>{var t;return e.currentUser&&(null===(t=e.comment)||void 0===t?void 0:t.user_id)===e.currentUser.id||e.currentUser&&1===e.currentUser.is_admin})),V=l((()=>{var t,a,n;return(null===(t=e.comment)||void 0===t?void 0:t.updated_at)&&(null===(a=e.comment)||void 0===a?void 0:a.updated_at)!==(null===(n=e.comment)||void 0===n?void 0:n.created_at)})),q=l((()=>{var t,a;return(null===(t=e.comment)||void 0===t||!t.is_deleted)&&((null===(a=e.comment)||void 0===a?void 0:a.rating)||0)<=-3})),Y=l((()=>q.value)),K=d(!1),W=l((()=>{var t,a;return null!==(t=e.comment)&&void 0!==t&&t.is_deleted?null:((null===(a=e.comment)||void 0===a?void 0:a.rating)||0)<=-3?"lowRating":null})),G=()=>{var t;m.value.trim()&&o("edit",null===(t=e.comment)||void 0===t?void 0:t.id,m.value.trim())},Z=l((()=>{var t;return H(null===(t=e.comment)||void 0===t?void 0:t.content)})),Q=e=>{A(e)};return u(m,(()=>{v.value&&g.value&&L((()=>{Q({target:g.value})}))})),{isEditing:v,editContent:m,userRating:p,isCommentOwner:F,canDeleteComment:D,isCommentEdited:V,formatDate:we,formatRelativeTime:ye,startEdit:()=>{var t,a;o("start-edit",null===(t=e.comment)||void 0===t?void 0:t.id),m.value=(null===(a=e.comment)||void 0===a?void 0:a.content)||"",L((()=>{g.value&&(g.value.focus(),A({target:g.value}))}))},cancelEdit:()=>{var t;o("cancel-edit"),m.value=(null===(t=e.comment)||void 0===t?void 0:t.content)||""},saveEdit:G,confirmDelete:()=>{var t;confirm("Вы уверены, что хотите удалить этот комментарий?")&&o("delete",null===(t=e.comment)||void 0===t?void 0:t.id)},rateComment:t=>{var a,n;p.value===t?(p.value=0,o("rate",null===(a=e.comment)||void 0===a?void 0:a.id,t)):(p.value=t,o("rate",null===(n=e.comment)||void 0===n?void 0:n.id,t))},avatarUrl:f,getInitials:ht,handleEditKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),G())},isCommentHidden:Y,showHiddenComment:K,hiddenCommentReason:W,formattedContent:Z,autoResizeEdit:Q,editTextarea:g,showEmojiPicker:h,showImagePicker:x,insertEmojiEdit:e=>{T(e,g,m,(e=>{m.value=e}))},insertImageEdit:e=>{U(e,g,m,(e=>{m.value=e}))},insertSpoilerEdit:()=>{N(g,m,(e=>{m.value=e}))},insertLinkEdit:()=>{O(g,m,(e=>{m.value=e}))},handleEmojiMouseEnter:w,handleEmojiMouseLeave:_,handleImageMouseEnter:C,handleImageMouseLeave:E,closeEmojiPicker:P,closeImagePicker:B,handleButtonMouseEnter:j,handleButtonMouseLeave:S,handleImageButtonMouseEnter:I,handleAvatarError:()=>{console.log("Avatar load error, falling back to initials"),f.value=null,L((()=>{var e=document.querySelector(".avatar-placeholder");e&&(e.style.display="flex")}))},openLogin:()=>{r.push("/login")},showLinkModal:k,selectedTextForLink:y,insertLinkFromModal:e=>{$(e,g,m,(e=>{m.value=e}))},closeLinkModal:R}}},[["render",function(e,t,a,n,o,r){var i,l,s,d,c,u,v,b,h,x,_,C,j,L,z,M,U,O,$,N=P("router-link"),A=P("EmojiPicker"),H=P("ImagePicker"),F=P("LinkModal");return y(),m("div",{class:"comment-item","data-comment-id":null===(i=a.comment)||void 0===i?void 0:i.id},[f("div",kt,[f("div",yt,[I(N,{to:{path:`/lists/${null===(l=a.comment)||void 0===l?void 0:l.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:S((()=>{var e,o;return[f("div",wt,[n.avatarUrl?(y(),m("img",{key:0,src:n.avatarUrl,alt:(null===(e=a.comment)||void 0===e?void 0:e.name)||"Аноним",onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';",onError:t[0]||(t[0]=function(){return n.handleAvatarError&&n.handleAvatarError(...arguments)})},null,40,_t)):(y(),m("div",{key:1,class:"avatar-placeholder",style:T({display:n.avatarUrl?"none":"flex"})},k(n.getInitials((null===(o=a.comment)||void 0===o?void 0:o.name)||"Аноним")),5))])]})),_:1},8,["to"]),f("div",Ct,[I(N,{to:{path:`/lists/${null===(s=a.comment)||void 0===s?void 0:s.user_id}`},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:S((()=>{var e;return[f("span",Et,k((null===(e=a.comment)||void 0===e?void 0:e.name)||"Аноним"),1)]})),_:1},8,["to"]),null!==(d=a.comment)&&void 0!==d&&d.user_movie_rating?(y(),m("span",jt,[t[18]||(t[18]=f("i",{class:"fas fa-star"},null,-1)),B(" "+k(a.comment.user_movie_rating),1)])):p("",!0),f("span",{class:"date",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(c=a.comment)||void 0===c?void 0:c.created_at)}\nИзменено: ${n.formatDate(null===(u=a.comment)||void 0===u?void 0:u.updated_at)}`:`Создано: ${n.formatDate(null===(v=a.comment)||void 0===v?void 0:v.created_at)}`},[B(k(n.formatRelativeTime(null===(b=a.comment)||void 0===b?void 0:b.created_at))+" ",1),n.isCommentEdited?(y(),m("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?`Создано: ${n.formatDate(null===(h=a.comment)||void 0===h?void 0:h.created_at)}\nИзменено: ${n.formatDate(null===(x=a.comment)||void 0===x?void 0:x.updated_at)}`:`Создано: ${n.formatDate(null===(_=a.comment)||void 0===_?void 0:_.created_at)}`},null,8,zt)):p("",!0)],8,Lt)])])]),f("div",Mt,[null!==(C=a.comment)&&void 0!==C&&C.is_deleted||!n.isCommentHidden||n.showHiddenComment?(y(),m("div",St,[null!==(j=a.comment)&&void 0!==j&&j.is_deleted?(y(),m("div",Pt,t[20]||(t[20]=[f("p",{class:"deleted-message"},[f("i",{class:"fas fa-trash"}),B(" комментарий удалён ")],-1)]))):(y(),m("div",Bt,[n.isEditing?(y(),m("div",Rt,[f("div",Tt,[g(f("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=e=>n.editContent=e),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=function(){return n.handleEditKeydown&&n.handleEditKeydown(...arguments)}),onInput:t[4]||(t[4]=function(){return n.autoResizeEdit&&n.autoResizeEdit(...arguments)})},null,544),[[E,n.editContent]])]),f("div",Ut,[f("div",Ot,[f("button",{class:"cancel-button",onClick:t[5]||(t[5]=function(){return n.cancelEdit&&n.cancelEdit(...arguments)})},"Отмена"),f("button",{class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500,onClick:t[6]||(t[6]=function(){return n.saveEdit&&n.saveEdit(...arguments)})}," Сохранить ",8,$t)]),f("div",Nt,[f("div",{class:w(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},k(n.editContent.length)+"/1500 ",3),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[8]||(t[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[9]||(t[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[10]||(t[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[21]||(t[21]=[R('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-c9b760f4><g id="logo" data-v-c9b760f4><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-c9b760f4></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-c9b760f4></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-c9b760f4></path></g></svg>',1)]),34),f("button",{type:"button",title:"Добавить спойлер",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=function(){return n.insertSpoilerEdit&&n.insertSpoilerEdit(...arguments)})},t[22]||(t[22]=[f("i",{class:"fas fa-eye-slash"},null,-1)])),f("button",{type:"button",class:"emoji-button-inline link-button",title:"Добавить ссылку",onClick:t[12]||(t[12]=function(){return n.insertLinkEdit&&n.insertLinkEdit(...arguments)})},t[23]||(t[23]=[f("i",{class:"fas fa-link"},null,-1)])),I(A,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),I(H,{"is-visible":n.showImagePicker,"current-user":a.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),I(F,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(y(),m("div",At,[f("p",{class:"comment-text",innerHTML:n.formattedContent},null,8,Ht)]))]))])):(y(),m("div",It,["lowRating"===n.hiddenCommentReason?(y(),m("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=e=>n.showHiddenComment=!0)},t[19]||(t[19]=[f("i",{class:"fas fa-eye-slash"},null,-1),B(" Комментарий скрыт из-за низкого рейтинга. Нажмите, чтобы показать. ")]))):p("",!0)]))]),f("div",Ft,[f("div",Dt,[f("div",Vt,[n.isCommentOwner||null!==(L=a.comment)&&void 0!==L&&L.is_deleted?p("",!0):(y(),m("button",{key:0,class:w(["rating-button",{"rated-up":1===n.userRating}]),onClick:t[13]||(t[13]=e=>n.rateComment(1))},t[24]||(t[24]=[f("i",{class:"fas fa-thumbs-up"},null,-1)]),2)),f("span",{class:w(["rating-count",{"rating-positive":1===n.userRating,"rating-negative":-1===n.userRating}])},k((null===(z=a.comment)||void 0===z?void 0:z.rating)||0),3),n.isCommentOwner||null!==(M=a.comment)&&void 0!==M&&M.is_deleted?p("",!0):(y(),m("button",{key:1,class:w(["rating-button",{"rated-down":-1===n.userRating}]),onClick:t[14]||(t[14]=e=>n.rateComment(-1))},t[25]||(t[25]=[f("i",{class:"fas fa-thumbs-down"},null,-1)]),2))]),f("div",qt,[a.currentUser&&1!==a.currentUser.allow_comments?p("",!0):(y(),m("button",{key:0,class:"action-button reply-button",onClick:t[15]||(t[15]=t=>e.$emit("reply",a.comment))},t[26]||(t[26]=[f("i",{class:"fas fa-reply"},null,-1)]))),!n.isCommentOwner||null!==(U=a.comment)&&void 0!==U&&U.is_deleted||n.isEditing||1!==(null===(O=a.currentUser)||void 0===O?void 0:O.allow_comments)?p("",!0):(y(),m("button",{key:1,class:"action-button edit-button",onClick:t[16]||(t[16]=function(){return n.startEdit&&n.startEdit(...arguments)})},t[27]||(t[27]=[f("i",{class:"fas fa-edit"},null,-1)]))),!n.canDeleteComment||null!==($=a.comment)&&void 0!==$&&$.is_deleted?p("",!0):(y(),m("button",{key:2,class:"action-button delete-button",onClick:t[17]||(t[17]=function(){return n.confirmDelete&&n.confirmDelete(...arguments)})},t[28]||(t[28]=[f("i",{class:"fas fa-trash"},null,-1)])))])])])],8,xt)}],["__scopeId","data-v-c9b760f4"]]),Kt={class:"comment-thread"},Wt={key:0,class:"reply-form"},Gt={class:"textarea-container"},Zt=["value","placeholder","disabled"],Qt={class:"reply-footer"},Xt={class:"reply-actions"},Jt=["disabled"],ea={class:"character-counter-container"},ta=["disabled"],aa={key:1,class:"replies-container"},na=["title"],oa={class:"replies-count"},ra=["title"],ia={key:0,class:"replies-content"};var la=n({name:"CommentThread",components:{CommentItem:Yt,EmojiPicker:Ye,ImagePicker:lt,LinkModal:ft},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(e,t){var a=t.emit,n=d(null),o=d(!0),r=gt(),i=r.showEmojiPicker,l=r.showImagePicker,s=r.showLinkModal,c=r.selectedTextForLink,u=r.handleEmojiMouseEnter,v=r.handleEmojiMouseLeave,m=r.handleImageMouseEnter,p=r.handleImageMouseLeave,f=r.handleButtonMouseEnter,g=r.handleImageButtonMouseEnter,b=r.handleButtonMouseLeave,h=r.closeEmojiPicker,x=r.closeImagePicker,k=r.closeLinkModal,y=r.insertEmojiUniversal,w=r.insertImageUniversal,_=r.insertLinkUniversal,C=r.insertLinkFromModalUniversal,E=r.insertSpoilerUniversal,j={get value(){return e.replyContent},set value(e){a("update-reply-content",e)}};return{replyTextarea:n,showEmojiPicker:i,showImagePicker:l,isCollapsed:o,insertEmoji:e=>{y(e,n,j,(e=>{a("update-reply-content",e)}))},insertImage:e=>{w(e,n,j,(e=>{a("update-reply-content",e)}))},insertSpoiler:()=>{E(n,j,(e=>{a("update-reply-content",e)}))},handleEmojiMouseEnter:u,handleEmojiMouseLeave:v,handleImageMouseEnter:m,handleImageMouseLeave:p,handleButtonMouseEnter:f,handleButtonMouseLeave:b,closeEmojiPicker:h,closeImagePicker:x,handleImageButtonMouseEnter:g,handleReplyInput:e=>{a("update-reply-content",e.target.value);var t=e.target;t&&(t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,200)}px`)},toggleCollapsed:()=>{o.value=!o.value},showLinkModal:s,selectedTextForLink:c,insertLink:()=>{_(n,j,(e=>{a("update-reply-content",e)}))},closeLinkModal:k,insertLinkFromModal:e=>{C(e,n,j,(e=>{a("update-reply-content",e)}))}}},computed:{canReply(){return!this.currentUser||1===this.currentUser.allow_comments},getReplyPlaceholder(){return this.currentUser?1!==this.currentUser.allow_comments?"У вас нет прав на создание комментариев":"Напишите ваш ответ...":"Войдите, чтобы оставить ответ..."},formattedContent(){return(0,Ie().formatContent)(this.comment.content)}}},[["render",function(e,t,a,n,o,r){var i=P("CommentItem"),l=P("EmojiPicker"),s=P("ImagePicker"),d=P("LinkModal"),c=P("CommentThread",!0);return y(),m("div",Kt,[I(i,{comment:a.comment,"current-user":a.currentUser,"editing-comment-id":a.editingCommentId,onReply:t[0]||(t[0]=t=>e.$emit("reply",t)),onStartEdit:t[1]||(t[1]=t=>e.$emit("start-edit",t)),onCancelEdit:t[2]||(t[2]=t=>e.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(t,a)=>e.$emit("edit",t,a)),onDelete:t[4]||(t[4]=t=>e.$emit("delete",t)),onRate:t[5]||(t[5]=(t,a)=>e.$emit("rate",t,a))},null,8,["comment","current-user","editing-comment-id"]),a.replyTo&&a.replyTo.id===a.comment.id?(y(),m("div",Wt,[f("div",Gt,[f("textarea",{ref:"replyTextarea",class:"comment-textarea",value:a.replyContent,placeholder:r.getReplyPlaceholder,disabled:a.currentUser&&1!==a.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=function(){return n.handleReplyInput&&n.handleReplyInput(...arguments)}),onKeydown:t[7]||(t[7]=t=>e.$emit("reply-keydown",t))},null,40,Zt)]),f("div",Qt,[f("div",Xt,[f("button",{class:"cancel-reply",onClick:t[8]||(t[8]=t=>e.$emit("cancel-reply"))},"Отмена"),f("button",{class:"submit-button",disabled:!a.replyContent.trim()||a.replyContent.length>1500||a.currentUser&&1!==a.currentUser.allow_comments,onClick:t[9]||(t[9]=t=>e.$emit("submit-reply"))}," Ответить ",8,Jt)]),f("div",ea,[f("div",{class:w(["character-counter-inline",{"near-limit":a.replyContent.length>1400,"at-limit":a.replyContent.length>=1500}])},k(a.replyContent.length)+"/1500 ",3),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[11]||(t[11]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",34),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[12]||(t[12]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[13]||(t[13]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[29]||(t[29]=[R('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),f("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:a.currentUser&&1!==a.currentUser.allow_comments,onClick:t[14]||(t[14]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)}),title:"Добавить спойлер"},t[30]||(t[30]=[f("i",{class:"fas fa-eye-slash"},null,-1)]),8,ta),f("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=function(){return n.insertLink&&n.insertLink(...arguments)}),title:"Добавить ссылку"},t[31]||(t[31]=[f("i",{class:"fas fa-link"},null,-1)])),I(l,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),I(s,{"is-visible":n.showImagePicker,"current-user":a.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>e.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),I(d,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):p("",!0),a.comment.replies&&a.comment.replies.length>0?(y(),m("div",aa,[f("button",{class:"collapse-toggle",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:t[17]||(t[17]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[f("span",{class:w(["collapse-icon",{expanded:!n.isCollapsed}])},t[32]||(t[32]=[f("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[f("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),f("span",oa,k(a.comment.replies.length)+" "+k(1===a.comment.replies.length?"ответ":"ответов"),1)],8,na),f("div",{class:"vertical-line-clickable",title:n.isCollapsed?"Развернуть ответы":"Свернуть ответы",onClick:t[18]||(t[18]=function(){return n.toggleCollapsed&&n.toggleCollapsed(...arguments)})},[f("div",{class:w(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,ra),n.isCollapsed?p("",!0):(y(),m("div",ia,[(y(!0),m(h,null,x(a.comment.replies,(n=>(y(),U(c,{key:n.id,comment:n,"current-user":a.currentUser,"reply-to":a.replyTo,"reply-content":a.replyContent,"editing-comment-id":a.editingCommentId,onReply:t[19]||(t[19]=t=>e.$emit("reply",t)),onStartEdit:t[20]||(t[20]=t=>e.$emit("start-edit",t)),onCancelEdit:t[21]||(t[21]=t=>e.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(t,a)=>e.$emit("edit",t,a)),onDelete:t[23]||(t[23]=t=>e.$emit("delete",t)),onRate:t[24]||(t[24]=(t,a)=>e.$emit("rate",t,a)),onSubmitReply:t[25]||(t[25]=t=>e.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=t=>e.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=t=>e.$emit("update-reply-content",t)),onReplyKeydown:t[28]||(t[28]=t=>e.$emit("reply-keydown",t))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"])))),128))]))])):p("",!0)])}],["__scopeId","data-v-6c0fc347"]]),sa={name:"Comments",components:{CommentThread:la,Notification:ze,EmojiPicker:Ye,ImagePicker:lt,LinkModal:ft},props:{movieId:{type:[String,Number],required:!0}},setup(e){var t=O(),a=z(),n=r(),u=d([]),v=d(""),m=d(null),p=d(""),f=d(null),g=d(t.user),b=d(null),h=d(null),x=d(n.isAutoShowComments),k=d(!1),y=d(3),w=d(n.commentsSortBy),_=d("date"===w.value?"asc":"desc"),C=gt(),E=C.showEmojiPicker,j=C.showImagePicker,M=C.showLinkModal,I=C.selectedTextForLink,S=C.handleEmojiMouseEnter,P=C.handleEmojiMouseLeave,B=C.handleImageMouseEnter,R=C.handleImageMouseLeave,T=C.handleButtonMouseEnter,U=C.handleImageButtonMouseEnter,D=C.handleButtonMouseLeave,V=C.closeEmojiPicker,q=C.closeImagePicker,Y=C.closeLinkModal,K=C.insertEmojiUniversal,W=C.insertImageUniversal,G=C.insertLinkUniversal,Z=C.insertLinkFromModalUniversal,Q=C.insertSpoilerUniversal,X=C.autoResize,J=l((()=>{var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=u.value.filter((e=>e.parent_id===t)).filter((e=>!e.is_deleted||e.replies&&e.replies.length>0));return(null===t?a.sort(((e,t)=>{if("rating"===w.value){var a=e.rating||0,n=t.rating||0;return a!==n?"asc"===_.value?a-n:n-a:e.id-t.id}return"asc"===_.value?e.id-t.id:t.id-e.id})):a.sort(((e,t)=>e.id-t.id))).map((t=>o(o({},t),{},{replies:e(t.id)})))};return e()})),ee=l((()=>{var e=t=>t.reduce(((t,a)=>t+1+e(a.replies||[])),0);return e(J.value)})),te=l((()=>J.value.slice(0,y.value))),ae=l((()=>J.value.length>y.value)),ne=l((()=>J.value.length-y.value)),oe=function(){var t=s(i().mark((function t(){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$(e.movieId);case 3:a=t.sent,u.value=a,t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to load comments:",t.t0),b.value.showNotification("Ошибка при загрузке комментариев. Попробуйте обновить страницу.");case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var a=s(i().mark((function a(){return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!k.value){a.next=2;break}return a.abrupt("return");case 2:if(t.token){a.next=5;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce}),a.abrupt("return");case 5:if(!g.value||1===g.value.allow_comments){a.next=8;break}return b.value.showNotification("У вас нет прав на создание комментариев"),a.abrupt("return");case 8:if(v.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){a.next=12;break}return b.value.showNotification("Комментарий не может быть пустым"),a.abrupt("return");case 12:if(!(v.value.length>1500)){a.next=15;break}return b.value.showNotification("Комментарий слишком длинный. Максимум 1500 символов."),a.abrupt("return");case 15:return a.prev=15,a.next=18,F(e.movieId,v.value.trim());case 18:return v.value="",a.next=21,oe();case 21:x.value=!0,L((()=>{h.value&&(h.value.focus(),h.value.style.height="auto"),setTimeout((()=>{var e=document.querySelectorAll(".comment-item[data-comment-id]");if(e.length>0){var t=Array.from(e).map((e=>parseInt(e.getAttribute("data-comment-id")))).filter((e=>!isNaN(e)));if(t.length>0){var a=Math.max(...t),n=document.querySelector(`[data-comment-id="${a}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}),300)})),a.next=29;break;case 25:a.prev=25,a.t0=a.catch(15),console.error("Failed to create comment:",a.t0),b.value.showNotification("Ошибка при создании комментария. Попробуйте еще раз.");case 29:case"end":return a.stop()}}),a,null,[[15,25]])})));return function(){return a.apply(this,arguments)}}(),ie=function(){var a=s(i().mark((function a(){var n;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.token){a.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce}),a.abrupt("return");case 3:if(!g.value||1===g.value.allow_comments){a.next=6;break}return b.value.showNotification("У вас нет прав на создание комментариев"),a.abrupt("return");case 6:if(p.value.trim()&&m.value){a.next=8;break}return a.abrupt("return");case 8:if(!(p.value.length>1500)){a.next=11;break}return b.value.showNotification("Ответ слишком длинный. Максимум 1500 символов."),a.abrupt("return");case 11:return a.prev=11,a.next=14,F(e.movieId,p.value.trim(),m.value.id);case 14:return n=m.value.id,a.next=17,oe();case 17:p.value="",m.value=null,L((()=>{setTimeout((()=>{var e=document.querySelector(`[data-comment-id="${n}"]`);if(e){var t=e.querySelector(".replies-content");if(t){var a=t.querySelectorAll(".comment-item[data-comment-id]");if(a.length>0){var o=Array.from(a).map((e=>parseInt(e.getAttribute("data-comment-id")))).filter((e=>!isNaN(e)));if(o.length>0){var r=Math.max(...o),i=document.querySelector(`[data-comment-id="${r}"]`);i&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}}),300)})),a.next=26;break;case 22:a.prev=22,a.t0=a.catch(11),console.error("Error submitting reply:",a.t0),b.value.showNotification("Ошибка при отправке ответа. Попробуйте еще раз.");case 26:case"end":return a.stop()}}),a,null,[[11,22]])})));return function(){return a.apply(this,arguments)}}(),le=function(){var e=s(i().mark((function e(a,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce}),e.abrupt("return");case 3:if(!g.value||1===g.value.allow_comments){e.next=6;break}return b.value.showNotification("У вас нет прав на редактирование комментариев"),e.abrupt("return");case 6:if(!(n.length>1500)){e.next=9;break}return b.value.showNotification("Комментарий слишком длинный. Максимум 1500 символов."),e.abrupt("return");case 9:return e.prev=9,e.next=12,H(a,n.trim());case 12:return e.next=14,oe();case 14:f.value=null,e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.error("Failed to update comment:",e.t0),b.value.showNotification("Ошибка при редактировании комментария. Попробуйте еще раз.");case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,a){return e.apply(this,arguments)}}(),se=function(){var e=s(i().mark((function e(a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce}),e.abrupt("return");case 3:return e.prev=3,e.next=6,A(a);case 6:return e.next=8,oe();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to delete comment:",e.t0),b.value.showNotification("Ошибка при удалении комментария. Попробуйте еще раз.");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=s(i().mark((function e(a,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.token){e.next=3;break}return b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce}),e.abrupt("return");case 3:return e.prev=3,e.next=6,N(a,n);case 6:return e.next=8,oe();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to rate comment:",e.t0),b.value.showNotification("Ошибка при оценке комментария. Попробуйте еще раз.");case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),ce=()=>{a.push("/login")},ue=l((()=>g.value?1!==g.value.allow_comments?"У вас нет прав на создание комментариев":"Напишите комментарий...":"Войдите, чтобы оставить комментарий...")),ve=l((()=>!g.value||1===g.value.allow_comments));return c((()=>{oe()})),{comments:u,groupedComments:J,displayedComments:te,hasMoreComments:ae,remainingCommentsCount:ne,showMoreComments:()=>{y.value=J.value.length},sortBy:w,setSortBy:e=>{w.value===e?_.value="asc"===_.value?"desc":"asc":(w.value=e,_.value="date"===e?"asc":"desc",n.setCommentsSortBy(e))},sortDirection:_,newComment:v,replyTo:m,replyContent:p,editingCommentId:f,currentUser:g,notificationRef:b,commentTextarea:h,showComments:x,submitComment:re,handleReply:e=>{t.token?(f.value=null,m.value=e,p.value="",L((()=>{var e=document.querySelector(".reply-form");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}))):b.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:ce})},submitReply:ie,handleEdit:le,handleDelete:se,handleRate:de,handleCommentKeydown:e=>{k.value||E.value||"Enter"!==e.key||e.shiftKey||(e.preventDefault(),re())},handleReplyKeydown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ie())},autoResize:X,totalCommentsCount:ee,getCommentWordForm:bt,showEmojiPicker:E,showImagePicker:j,showLinkModal:M,selectedTextForLink:I,insertEmoji:e=>{k.value=!0,K(e,h,v,(e=>{v.value=e})),setTimeout((()=>{k.value=!1}),100)},insertImage:e=>{W(e,h,v,(e=>{v.value=e}))},handleEmojiMouseEnter:S,handleEmojiMouseLeave:P,handleImageMouseEnter:B,handleImageMouseLeave:R,closeEmojiPicker:V,closeImagePicker:q,handleButtonMouseLeave:D,handleButtonMouseEnter:T,handleImageButtonMouseEnter:U,getCommentPlaceholder:ue,canComment:ve,handleStartEdit:e=>{m.value=null,p.value="",f.value=e},handleCancelEdit:()=>{f.value=null},insertSpoiler:()=>{Q(h,v,(e=>{v.value=e}))},insertLink:()=>{G(h,v,(e=>{v.value=e}))},insertLinkFromModal:e=>{Z(e,h,v,(e=>{v.value=e}))},closeLinkModal:Y}}},da={class:"comments-section"},ca={class:"spoiler-content"},ua={key:1,class:"comments-container"},va={class:"comments-header"},ma={class:"comments-controls"},pa={class:"textarea-container"},fa=["placeholder","disabled"],ga={class:"comment-footer"},ba={class:"comment-actions"},ha=["disabled"],xa={class:"character-counter-container"},ka=["disabled"],ya=["disabled"],wa=["disabled"],_a={class:"comments-list"},Ca={key:0,class:"show-more-comments"};var Ea=n(sa,[["render",function(e,t,a,n,o,r){var i=P("EmojiPicker"),l=P("ImagePicker"),s=P("LinkModal"),d=P("CommentThread"),c=P("Notification");return y(),m("div",da,[n.showComments?(y(),m("div",ua,[f("div",va,[f("div",ma,[f("button",{class:w(["sort-button",{active:"date"===n.sortBy}]),title:"Сортировать по дате",onClick:t[1]||(t[1]=e=>n.setSortBy("date"))},[t[20]||(t[20]=f("i",{class:"fas fa-clock"},null,-1)),t[21]||(t[21]=B(" По дате ")),"date"===n.sortBy?(y(),m("i",{key:0,class:w(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):p("",!0)],2),f("button",{class:w(["sort-button",{active:"rating"===n.sortBy}]),title:"Сортировать по рейтингу",onClick:t[2]||(t[2]=e=>n.setSortBy("rating"))},[t[22]||(t[22]=f("i",{class:"fas fa-thumbs-up"},null,-1)),t[23]||(t[23]=B(" По рейтингу ")),"rating"===n.sortBy?(y(),m("i",{key:0,class:w(["fas","asc"===n.sortDirection?"fa-arrow-up":"fa-arrow-down"])},null,2)):p("",!0)],2)]),f("button",{class:"hide-comments-btn",onClick:t[3]||(t[3]=e=>n.showComments=!1)},t[24]||(t[24]=[f("i",{class:"fas fa-eye-slash"},null,-1),B(" Скрыть комментарии ")]))]),f("form",{class:"comment-form",onSubmit:t[13]||(t[13]=j((function(){return n.submitComment&&n.submitComment(...arguments)}),["prevent"]))},[f("div",pa,[g(f("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[4]||(t[4]=e=>n.newComment=e),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&1!==n.currentUser.allow_comments,rows:"3",maxlength:"1500",onInput:t[5]||(t[5]=function(){return n.autoResize&&n.autoResize(...arguments)}),onKeydown:t[6]||(t[6]=function(){return n.handleCommentKeydown&&n.handleCommentKeydown(...arguments)})},null,40,fa),[[E,n.newComment]])]),f("div",ga,[f("div",ba,[f("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&1!==n.currentUser.allow_comments}," Отправить ",8,ha)]),f("div",xa,[f("div",{class:w(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},k(n.newComment.length)+"/1500 ",3),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:t[7]||(t[7]=function(){return n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...arguments)}),onMouseleave:t[8]||(t[8]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})}," 😊 ",42,ka),f("button",{type:"button",class:w(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&1!==n.currentUser.allow_comments,onMouseenter:t[9]||(t[9]=function(){return n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...arguments)}),onMouseleave:t[10]||(t[10]=function(){return n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...arguments)})},t[25]||(t[25]=[R('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-14ea7e4b><g id="logo" data-v-14ea7e4b><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-14ea7e4b></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-14ea7e4b></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-14ea7e4b></path></g></svg>',1)]),42,ya),f("button",{type:"button",title:"Добавить спойлер",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&1!==n.currentUser.allow_comments,onClick:t[11]||(t[11]=function(){return n.insertSpoiler&&n.insertSpoiler(...arguments)})},t[26]||(t[26]=[f("i",{class:"fas fa-eye-slash"},null,-1)]),8,wa),f("button",{type:"button",title:"Добавить ссылку",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=function(){return n.insertLink&&n.insertLink(...arguments)})},t[27]||(t[27]=[f("i",{class:"fas fa-link"},null,-1)])),I(i,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),I(l,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:e.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),I(s,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),f("div",_a,[(y(!0),m(h,null,x(n.displayedComments,(e=>(y(),U(d,{key:e.id,comment:e,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:t[14]||(t[14]=e=>n.replyTo=null),onUpdateReplyContent:t[15]||(t[15]=e=>n.replyContent=e),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"])))),128)),n.hasMoreComments?(y(),m("div",Ca,[f("button",{class:"show-more-btn",onClick:t[16]||(t[16]=function(){return n.showMoreComments&&n.showMoreComments(...arguments)})}," Показать еще "+k(n.remainingCommentsCount)+" "+k(n.getCommentWordForm(n.remainingCommentsCount)),1)])):p("",!0)])])):(y(),m("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=e=>n.showComments=!0)},[f("div",ca,[t[17]||(t[17]=f("i",{class:"fas fa-eye-slash"},null,-1)),t[18]||(t[18]=f("h3",null,"Комментарии скрыты",-1)),t[19]||(t[19]=f("p",null,"Комментарии могут содержать спойлеры. Нажмите, чтобы показать.",-1)),f("div",{class:w(["comments-count",{"no-comments":0===n.totalCommentsCount}])},[0===n.totalCommentsCount?(y(),m(h,{key:0},[B(" Комментариев пока нет ")],64)):(y(),m(h,{key:1},[B(k(n.totalCommentsCount)+" "+k(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),I(c,{ref:"notificationRef"},null,512)])}],["__scopeId","data-v-14ea7e4b"]]),ja={class:"movie-info"},La={class:"content"},za={key:0,class:"content-card"},Ma={class:"movie-skeleton"},Ia={class:"movie-skeleton__player"},Sa={key:2,class:"content-card"},Pa={key:3,class:"content-card"},Ba={class:"content-header"},Ra=["src"],Ta={class:"content-title"},Ua={key:0,class:"ratings-links"},Oa={key:1},$a=["href","title"],Na={key:2},Aa=["href","title"],Ha={key:3},Fa=["href","title"],Da={key:4},Va=["href","title"],qa={key:5},Ya=["href"],Ka=["title"],Wa={key:0,class:"fa-regular fa-face-grin-wink"},Ga={key:1,class:"fas fa-spinner fa-spin"},Za=["title"],Qa={key:1,class:"mobile-list-dropdown"},Xa={class:"mobile-list-content"},Ja=["content"],en=["content"],tn={class:"additional-info"},an={class:"info-content"},nn={key:0,class:"movie-poster-container desktop-only"},on=["href"],rn=["src"],ln={class:"details-container"},sn={class:"info-list"},dn={key:0},cn={key:1},un={key:2},vn={key:3},mn={key:4},pn={key:5},fn={key:6},gn={key:7},bn={key:8},hn={key:9,class:"rating-boxes"},xn={key:0,class:"rating-box mpaa"},kn={key:1,class:"rating-box age"},yn={class:"content-info"},wn={key:0,class:"content-description-text"},_n={key:3,class:"comments-section"},Cn={key:4,class:"staff-section"},En={class:"staff-categories"},jn={key:0,class:"staff-category"},Ln={class:"staff-list"},zn=["href","title"],Mn=["src","alt"],In={class:"staff-name"},Sn={key:0,class:"staff-role"},Pn=["href","title"],Bn={key:1,class:"staff-category"},Rn={class:"staff-names-container"},Tn={class:"staff-names-list"},Un=["href"],On=["href","title"],$n={key:2,class:"staff-category"},Nn={class:"staff-names-container"},An={class:"staff-names-list"},Hn=["href"],Fn=["href","title"],Dn={key:5,class:"yt-video-container"},Vn={key:6,class:"related-movies"},qn=["title"],Yn={key:7,class:"related-movies"},Kn=["title"],Wn={key:0,class:"nudity-info-popup"},Gn={class:"nudity-info-content"},Zn={key:0,class:"nudity-info-loading"},Qn={key:1},Xn={class:"nudity-info-actions"},Jn=["href"],eo={key:1,class:"nudity-info-popup"},to={class:"nudity-info-content"},ao={class:"timings-text"},no={key:0,class:"timing-entries"},oo={class:"timing-content"},ro={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},io={key:0,class:"pending-badge"},lo={key:1,class:"clean-text-badge"},so={class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},co=["onClick"],uo=["onClick"],vo=["onClick"],mo=["onClick"],po=["onClick"],fo=["onClick"],go={class:"timing-text"},bo={class:"timing-author"},ho=["title"],xo={key:0,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},ko={key:0},yo={key:1},wo={key:1},_o={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Co={style:{margin:"0 0 10px 0",color:"#fff"}},Eo={style:{color:"#fff","font-size":"13px"}},jo={key:0},Lo={key:1},zo={key:1,class:"overlay-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},Mo={style:{margin:"0 0 10px 0",color:"#fff"}},Io={style:{color:"#fff","font-size":"13px"}},So={key:0},Po={key:1},Bo={class:"nudity-info-actions"},Ro={key:2,class:"timing-modal"},To={class:"timing-modal-content"},Uo={class:"timing-modal-header"},Oo={class:"timing-submission-form"},$o={key:0,class:"timing-preview"},No={class:"timing-preview-content"},Ao={class:"timing-preview-range"},Ho={class:"timing-preview-duration"},Fo={class:"timing-form-actions"},Do=["disabled"],Vo={key:0,class:"fas fa-spinner fa-spin"},qo={key:1},Yo={key:3,class:"timing-modal"},Ko={class:"timing-modal-content"},Wo={class:"timing-submission-form"},Go={class:"timing-form-actions"},Zo=["disabled"],Qo={key:0,class:"fas fa-spinner fa-spin"},Xo={key:1},Jo={class:"modal-header"},er={class:"modal-header-controls"},tr={class:"modal-body"},ar=["disabled"],nr={key:0,class:"fas fa-spinner fa-spin"},or={key:1,class:"fas fa-list"},rr={class:"top-submitters-list"},ir={class:"submitter-info"},lr={class:"submitter-name"},sr=["href"],dr={class:"submitter-count"},cr={class:"submitter-contribution"},ur={class:"modal-header"},vr={class:"modal-body"},mr={key:0,class:"loading-spinner"},pr={key:1,class:"no-timings"},fr={key:2,class:"no-timings"},gr={key:3,class:"all-timings-list"},br={class:"timing-header"},hr={class:"timing-meta"},xr={class:"timing-author"},kr={class:"timing-date"},yr={class:"timing-movie-info"},wr={key:0,class:"admin-controls"},_r=["onClick","disabled"],Cr={key:0,class:"fas fa-spinner fa-spin"},Er={key:1,class:"fas fa-check"},jr=["onClick","disabled"],Lr={key:0,class:"fas fa-spinner fa-spin"},zr={key:1,class:"fas fa-times"},Mr=["onClick","disabled"],Ir={key:0,class:"fas fa-spinner fa-spin"},Sr={key:1,class:"fas fa-eye-slash"},Pr={class:"timing-content"},Br={class:"timing-text"},Rr={key:6,class:"timing-modal obs-modal"},Tr={class:"timing-modal-content obs-modal-content"},Ur={class:"timing-modal-header"},Or={class:"obs-settings-form"},$r={class:"obs-setting-group"},Nr={class:"obs-checkbox-label"},Ar={key:0,class:"obs-connection-settings"},Hr={class:"obs-setting-group"},Fr={class:"obs-setting-group"},Dr={class:"obs-setting-group"},Vr={key:0,class:"obs-setting-group"},qr={key:0,class:"obs-warning"},Yr={key:1,class:"obs-filter-selection"},Kr=["value"],Wr={key:0,class:"selected-filter-info"},Gr={class:"filter-details"},Zr={class:"obs-info"},Qr={class:"obs-setting-group"},Xr={class:"obs-checkbox-label"},Jr={class:"obs-actions"},ei=["disabled"],ti={key:0,class:"fas fa-spinner fa-spin"},ai={key:1,class:"fas fa-plug"},ni=["disabled"],oi=["disabled"],ri={__name:"MovieInfo",setup(e){var a=d(!0),n=r(),v=O(),_=D(),C=Le(),L=V(),M=z(),$=d(L.params.kp_id),N=d(""),A=d(null),H=d(null),F=q(),ye=Me(),Ie=d(null),Pe=l((()=>ye.areTrailersActive)),Be=d(null),Re=d(!1),Te=d(!1),Ue=d(10),Oe=d(null),$e=d(!1),Ne=d(null),He=d(!1),Fe=d(void 0),De=d(null),Ve=d(new Set),qe=d(new Set),Ye=d(!1),Ke=d(!1),We=d(null),Ge=d(!1),Ze=l((()=>{var e;return(null===(e=H.value)||void 0===e?void 0:e.nudity_timings.length)>0})),Qe=l((()=>{var e;return(null===(e=H.value)||void 0===e?void 0:e.nudity_timings.length)>0&&n.isStreamerMode&&!n.isMobile})),Xe=l((()=>{var e,t,a,n,o;return(null===(e=H.value)||void 0===e||null===(e=e.lists)||void 0===e?void 0:e.isFavorite)||(null===(t=H.value)||void 0===t||null===(t=t.lists)||void 0===t?void 0:t.isWatching)||(null===(a=H.value)||void 0===a||null===(a=a.lists)||void 0===a?void 0:a.isLater)||(null===(n=H.value)||void 0===n||null===(n=n.lists)||void 0===n?void 0:n.isCompleted)||(null===(o=H.value)||void 0===o||null===(o=o.lists)||void 0===o?void 0:o.isAbandoned)})),Je=l((()=>n.isCommentsEnabled)),et=()=>{if(H.value){var e=H.value.name_ru||H.value.name_en||H.value.name_original||"Информация о фильме";document.title=e}},tt=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",at=e=>(e||[]).map((e=>({kp_id:e.film_id,poster:e.poster_url_preview||e.poster_url,title:e.name_ru||e.name_en||e.name_original}))),nt=e=>{if("number"==typeof e)return`${Math.floor(e/60)} ч. ${e%60} мин.`},ot=d(!1),rt=d({top:"0px",left:"0px"}),it=e=>{ot.value=!0,rt.value={top:`${e.pageY+10}px`,left:e.pageX-70+"px"}},lt=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[H.value.name_ru||H.value.name_en||H.value.name_original,...H.value.year?[H.value.year]:[],...H.value.film_length?[nt(H.value.film_length)]:[]],e.next=4,navigator.clipboard.writeText(t.join(", "));case 4:Ie.value.showNotification("Скопировано"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Ошибка копирования:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=s(i().mark((function e(){var t,a,r,s,d,c,u,m,p,f,g,b,h,x,k,y,w=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(w.length>0&&void 0!==w[0])||w[0],e.prev=1,!$.value.startsWith("shiki")){e.next=8;break}return e.next=5,ee($.value);case 5:f=e.sent,e.next=11;break;case 8:return e.next=10,te($.value,v.token);case 10:f=e.sent;case 11:if(!Array.isArray(f)||0!==f.length){e.next=13;break}throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");case 13:if(H.value=f,$.value.startsWith("shiki")?H.value=o(o({},H.value),{},{title:H.value.name_ru||H.value.name_en,name_original:H.value.name_en,short_description:H.value.slogan}):H.value=o(o({},H.value),{},{title:H.value.name_ru||H.value.name_en||H.value.name_original,kinopoisk_id:$.value}),F.setHeaderContent({text:H.value.title,imageUrl:H.value.logo_url}),et(),g={kp_id:$.value,title:(null===(a=H.value)||void 0===a?void 0:a.name_ru)||(null===(r=H.value)||void 0===r?void 0:r.name_en)||(null===(s=H.value)||void 0===s?void 0:s.name_original),poster:(null===(d=H.value)||void 0===d?void 0:d.poster_url)||(null===(c=H.value)||void 0===c?void 0:c.cover_url)||(null===(u=H.value)||void 0===u?void 0:u.screenshots[0]),year:null===(m=H.value)||void 0===m?void 0:m.year,type:null===(p=H.value)||void 0===p?void 0:p.type},$.value.startsWith("shiki")&&H.value.screenshots&&H.value.screenshots.length>0?(b=Math.floor(Math.random()*H.value.screenshots.length),h=H.value.screenshots[b],_.updateMoviePoster(h)):g.poster&&_.updateMoviePoster(g.poster),!(l((()=>n.isHistoryAllowed)).value&&g.kp_id&&g.title&&t)){e.next=33;break}if(!v.token){e.next=32;break}return e.prev=22,e.next=25,ae(g.kp_id,Z.HISTORY);case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(22),console.error("Ошибка при добавлении в историю:",e.t0);case 30:e.next=33;break;case 32:n.addToHistory(o({},g));case 33:e.next=41;break;case 35:e.prev=35,e.t1=e.catch(1),x=ne(e.t1),k=x.message,y=x.code,N.value=k,A.value=y,console.error("Ошибка при загрузке информации о фильмах:",e.t1);case 41:case"end":return e.stop()}}),e,null,[[1,35],[22,27]])})));return function(){return e.apply(this,arguments)}}(),dt=l((()=>{var e;return null===(e=H.value)||void 0===e?void 0:e.videos})),ct=l((()=>{var e;return at(null===(e=H.value)||void 0===e?void 0:e.sequels_and_prequels)})),ut=l((()=>{var e;return at(null===(e=H.value)||void 0===e?void 0:e.similars)})),vt=()=>{var e,t=(null===(e=document.querySelector(".related-movies"))||void 0===e?void 0:e.clientWidth)||0,a=Math.floor(t/160)||10;Ue.value=Math.max(1,a)},mt=()=>{vt()},pt=e=>{if(e.altKey&&84===e.keyCode&&document.querySelector(".player-container")){var t=document.querySelector(".theater-mode-btn");t&&t.click()}},ft=function(){var e=s(i().mark((function e(t){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===Oe.value){e.next=4;break}return Oe.value=null,$e.value=!1,e.abrupt("return");case 4:return Fe.value=void 0,Ne.value=t.currentTarget,Oe.value="",$e.value=!0,e.prev=8,e.next=11,oe(H.value.imdb_id);case 11:a=e.sent,Oe.value=a.nudity_info,e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.error("Ошибка при загрузке информации о сценах:",e.t0),Oe.value="Ошибка при загрузке информации о сценах. Попробуйте обратиться к Parents Guide на IMDb для получения подробной информации.";case 19:return e.prev=19,$e.value=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[8,15,19,22]])})));return function(t){return e.apply(this,arguments)}}(),gt=()=>{var e,t;Oe.value=null,Fe.value=null===(null===(e=H.value)||void 0===e?void 0:e.nudity_timings)?"":(null===(t=H.value)||void 0===t?void 0:t.nudity_timings)||""},bt=function(){var e=s(i().mark((function e(t){var a,n,o,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.token){e.next=3;break}return Ie.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>M.push("/login")}),e.abrupt("return");case 3:if(e.prev=3,a={[Z.FAVORITE]:"избранное",[Z.HISTORY]:"историю",[Z.LATER]:'список "Смотреть позже"',[Z.COMPLETED]:'список "Просмотрено"',[Z.ABANDONED]:'список "Брошено"',[Z.WATCHING]:'список "Смотрю"'},i=t,l=void 0,s=void 0,d=void 0,c=void 0,u=void 0,m=void 0,p=void 0,null===(p={[Z.FAVORITE]:(null===(l=H.value)||void 0===l||null===(l=l.lists)||void 0===l?void 0:l.isFavorite)||!1,[Z.HISTORY]:(null===(s=H.value)||void 0===s||null===(s=s.lists)||void 0===s?void 0:s.isHistory)||!1,[Z.LATER]:(null===(d=H.value)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isLater)||!1,[Z.COMPLETED]:(null===(c=H.value)||void 0===c||null===(c=c.lists)||void 0===c?void 0:c.isCompleted)||!1,[Z.ABANDONED]:(null===(u=H.value)||void 0===u||null===(u=u.lists)||void 0===u?void 0:u.isAbandoned)||!1,[Z.WATCHING]:(null===(m=H.value)||void 0===m||null===(m=m.lists)||void 0===m?void 0:m.isWatching)||!1}[i])||void 0===p||!p){e.next=11;break}return e.next=8,re($.value,t);case 8:Ie.value.showNotification(`Удалено из ${a[t]}`),e.next=14;break;case 11:return e.next=13,ae($.value,t);case 13:Ie.value.showNotification(`Добавлено в ${a[t]}`);case 14:return e.next=16,st(!1);case 16:He.value=!1,e.next=23;break;case 19:e.prev=19,e.t0=e.catch(3),n=ne(e.t0),o=n.message,r=n.code,Ie.value.showNotification(`${o} ${r}`);case 23:case"end":return e.stop()}var i,l,s,d,c,u,m,p}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}(),ht=e=>{var t=document.querySelector(".mobile-list-dropdown");t&&!t.contains(e.target)&&(He.value=!1)},xt=e=>{var t=document.querySelector(".nudity-info-popup");t&&!t.contains(e.target)&&Ne.value&&!Ne.value.contains(e.target)&&(Oe.value=null)},kt=e=>{var t=document.querySelector(".nudity-info-popup");t&&!t.contains(e.target)&&De.value&&!De.value.contains(e.target)&&(Fe.value=void 0)};c(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:a.value=!1,document.addEventListener("keydown",pt),window.addEventListener("resize",mt),setTimeout(vt,100),document.addEventListener("click",ht),document.addEventListener("click",xt,!0),document.addEventListener("click",kt,!0),window.selectedNudityTimings=Array.from(Ve.value),window.overlayNudityTimings=Array.from(qe.value);case 11:case"end":return e.stop()}}),e)})))),Y(s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.clearHeaderContent(),document.removeEventListener("keydown",pt),window.removeEventListener("resize",mt),document.removeEventListener("click",ht),document.removeEventListener("click",xt,!0),document.removeEventListener("click",kt,!0),delete window.selectedNudityTimings,delete window.overlayNudityTimings;case 8:case"end":return e.stop()}}),e)})))),u((()=>L.params.kp_id),function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||t===$.value){e.next=7;break}return F.clearHeaderContent(),$.value=t,Be.value=null,e.next=6,st();case 6:a.value=!1;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{immediate:!0}),u(H,(()=>{et()}),{deep:!0}),u(Oe,(e=>{e?document.addEventListener("click",xt,!0):document.removeEventListener("click",xt,!0)}),{deep:!0}),u(Fe,(e=>{e?document.addEventListener("click",kt,!0):document.removeEventListener("click",kt,!0)}),{deep:!0}),u(Ve,(()=>{window.selectedNudityTimings=Array.from(Ve.value)}),{deep:!0}),u(qe,(()=>{window.overlayNudityTimings=Array.from(qe.value)}),{deep:!0}),c((()=>{window.selectedNudityTimings=Array.from(Ve.value),window.overlayNudityTimings=Array.from(qe.value);var e=setInterval((()=>{if(window.obsSources&&Array.isArray(window.obsSources)&&(ia.value=window.obsSources),window.getOBSFiltersInfo){var e=window.getOBSFiltersInfo();e&&Array.isArray(e)&&C.updateObsSettings({filtersFound:e})}}),1e3);Y((()=>{clearInterval(e)}))})),Y((()=>{delete window.selectedNudityTimings,delete window.overlayNudityTimings}));var yt=e=>{var t;return(null===(t=H.value)||void 0===t||null===(t=t.staff)||void 0===t?void 0:t.filter((t=>t.profession_key===e)))||[]},wt=function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(Oe.value);case 3:Ie.value.showNotification("Текст скопирован"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Ошибка копирования:",e.t0),Ie.value.showNotification("Ошибка при копировании текста");case 10:return e.prev=10,Oe.value=null,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,6,10,13]])})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=s(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Fe.value.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=Fe.value.map((e=>`${e.timing_text} (by @${e.username})`)).join("\n").concat("\nReYohoho\n"),e.next=6,navigator.clipboard.writeText(t);case 6:Ie.value.showNotification("Текст скопирован"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Ошибка копирования:",e.t0),Ie.value.showNotification("Ошибка при копировании текста");case 13:return e.prev=13,Fe.value=void 0,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),Ct=()=>{var e=encodeURIComponent(Oe.value);window.open(`https://translate.google.com/?sl=en&tl=ru&text=${e}`,"_blank"),Oe.value=null},Et=d(""),jt=d(!1),Lt=l((()=>{if(!Et.value.trim())return[];try{return _e(Et.value,!0)||[]}catch(e){return console.error("Error parsing timing text:",e),[]}})),zt=l((()=>Et.value.trim())),Mt=e=>v.user&&e.user_id&&e.user_id===v.user.id,It=()=>{v.token?(Nt.value=null,Et.value="",$t.value=!0):Ie.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a> для добавления таймингов',5e3,{onClick:()=>M.push("/login")})},St=()=>{$t.value=!1,Nt.value=null,Et.value=""},Pt=function(){var e=s(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt.value&&!jt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,jt.value=!0,e.next=6,se($.value,Et.value);case 6:return Ie.value.showNotification("Тайминг добавлен успешно!"),Et.value="",St(),e.next=11,st(!1);case 11:gt(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),t=ne(e.t0),a=t.message,Ie.value.showNotification(a,5e3);case 18:return e.prev=18,jt.value=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=s(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(zt.value&&!jt.value&&Nt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,jt.value=!0,e.next=6,le(Nt.value.id,Et.value);case 6:return Ie.value.showNotification("Тайминг обновлен успешно!"),St(),e.next=10,st(!1);case 10:gt(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),t=ne(e.t0),a=t.message,Ie.value.showNotification(a,5e3);case 17:return e.prev=17,jt.value=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,13,17,20]])})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=s(i().mark((function e(t){var a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Вы уверены, что хотите удалить этот тайминг?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ue(t);case 5:return Ie.value.showNotification("Тайминг удален успешно!"),e.next=8,st(!1);case 8:gt(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),a=ne(e.t0),n=a.message,Ie.value.showNotification(n,5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),Tt=()=>{At.value=!1,Ht.value="",Ft.value=null},Ut=function(){var e=s(i().mark((function e(){var t,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ht.value.trim()&&!Dt.value&&Ft.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Dt.value=!0,e.next=6,de(Ft.value,Ht.value);case 6:Ie.value.showNotification("Жалоба отправлена успешно!"),Tt(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),t=ne(e.t0),a=t.message,Ie.value.showNotification(a,5e3);case 14:return e.prev=14,Dt.value=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=s(i().mark((function e(){var t,a,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie();case 3:t=e.sent,a=t.submissions,Vt.value=a,qt.value=!0,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n=ne(e.t0),o=n.message,Ie.value.showNotification(o);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),$t=d(!1),Nt=d(null),At=d(!1),Ht=d(""),Ft=d(null),Dt=d(!1),Vt=d([]),qt=d(!1),Yt=d(!1),Kt=d([]),Wt=d(!1),Gt=d(!1),Zt=d(null),Qt=d(!1),Xt=d(!1),Jt=d(!1),ea=d(!1),ta=l({get:()=>C.obsSettings.enabled,set:e=>C.updateObsSettings({enabled:e})}),aa=l({get:()=>C.obsSettings.host,set:e=>C.updateObsSettings({host:e})}),na=l({get:()=>C.obsSettings.port,set:e=>C.updateObsSettings({port:e})}),oa=l({get:()=>C.obsSettings.password,set:e=>C.updateObsSettings({password:e})}),ra=l((()=>C.obsSettings.connected)),ia=d([]),la=l((()=>C.obsSettings.filtersFound)),sa=l({get:()=>C.obsSettings.selectedFilterId,set:e=>C.setObsSelectedFilter(e)}),da=l((()=>sa.value?la.value.find((e=>e.id===sa.value)):null)),ca=l({get:()=>C.obsSettings.showObsInOverlay,set:e=>C.updateObsSettings({showObsInOverlay:e})}),ua=function(){var e=s(i().mark((function e(t){var a,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Gt.value=!0,Zt.value=t,Qt.value=!0,Xt.value=!1,e.next=9,ve(t);case 9:(a=Kt.value.find((e=>e.id===t)))&&(a.status="approved"),Ie.value.showNotification("Тайминг одобрен"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=ne(e.t0),o=n.message,Ie.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Gt.value=!1,Zt.value=null,Qt.value=!1,Xt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),va=function(){var e=s(i().mark((function e(t){var a,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Gt.value=!0,Zt.value=t,Qt.value=!1,Xt.value=!1,e.next=9,me(t);case 9:(a=Kt.value.find((e=>e.id===t)))&&(a.status="rejected"),Ie.value.showNotification("Тайминг отклонен"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=ne(e.t0),o=n.message,Ie.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Gt.value=!1,Zt.value=null,Qt.value=!1,Xt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),ma=function(){var e=s(i().mark((function e(t){var a,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Gt.value=!0,Zt.value=t,Qt.value=!1,Xt.value=!0,e.next=9,pe(t);case 9:(a=Kt.value.find((e=>e.id===t)))&&(a.status="clean_text"),Ie.value.showNotification("Тайминг отмечен как clean_text"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),n=ne(e.t0),o=n.message,Ie.value.showNotification(`Ошибка: ${o}`);case 18:return e.prev=18,Gt.value=!1,Zt.value=null,Qt.value=!1,Xt.value=!1,e.finish(18);case 24:case"end":return e.stop()}}),e,null,[[2,14,18,24]])})));return function(t){return e.apply(this,arguments)}}(),pa=function(){var e=s(i().mark((function e(){var t,a,n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wt.value){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,Wt.value=!0,Yt.value=!0,e.next=7,ce();case 7:t=e.sent,a=t.timings,Kt.value=a,e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),n=ne(e.t0),o=n.message,Ie.value.showNotification(o),Yt.value=!1;case 17:return e.prev=17,Wt.value=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,12,17,20]])})));return function(){return e.apply(this,arguments)}}(),fa=l((()=>Kt.value)),ga=d({});var ba=l((()=>!!window.electronAPI));function ha(){var e;null!==We.value&&(e=We.value,Ve.value.has(e)?Ve.value.delete(e):Ve.value.add(e)),xa()}function xa(){var e,t;Ke.value=!1,We.value=null,Fe.value=null===(null===(e=H.value)||void 0===e?void 0:e.nudity_timings)?"":(null===(t=H.value)||void 0===t?void 0:t.nudity_timings)||""}var ka=e=>{qe.value.has(e)?qe.value.delete(e):qe.value.add(e)};function ya(){Ye.value=!Ye.value}function wa(){Ge.value=!Ge.value}function _a(){var e=[];if(Fe.value&&Array.isArray(Fe.value)){var a,n=t(Fe.value);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(Ve.value.has(o.id)){var r=_e(o.timing_text);r&&r.length>0&&e.push(...r)}}}catch(i){n.e(i)}finally{n.f()}}return e}function Ca(){var e=[];if(Fe.value&&Array.isArray(Fe.value)&&Fe.value.length>0){var a,n=t(Fe.value);try{for(n.s();!(a=n.n()).done;){var o=a.value;if(qe.value.has(o.id)){var r=_e(o.timing_text);r&&r.length>0&&e.push(...r)}}}catch(i){n.e(i)}finally{n.f()}}return e}var ri=()=>{ta.value&&ii()},ii=function(){var e=s(i().mark((function e(){var t,a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ea.value){e.next=2;break}return e.abrupt("return");case 2:if(ea.value=!0,e.prev=3,!window.connectToOBS){e.next=11;break}return e.next=7,window.connectToOBS();case 7:setTimeout((()=>{window.obsSources&&(ia.value=window.obsSources)}),1e3),null===(t=Ie.value)||void 0===t||t.showNotification("Подключение к OBS..."),e.next=12;break;case 11:null===(a=Ie.value)||void 0===a||a.showNotification("Плеер не загружен");case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Error connecting to OBS:",e.t0),null===(n=Ie.value)||void 0===n||n.showNotification("Ошибка подключения к OBS");case 18:return e.prev=18,ea.value=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,14,18,21]])})));return function(){return e.apply(this,arguments)}}(),li=()=>{var e,t;sa.value?window.testOBSBlur?window.testOBSBlur(sa.value):null===(e=Ie.value)||void 0===e||e.showNotification("OBS функции недоступны"):null===(t=Ie.value)||void 0===t||t.showNotification("Выберите фильтр для тестирования")},si=()=>{var e,t;window.refreshOBSFilters?(window.refreshOBSFilters(),null===(e=Ie.value)||void 0===e||e.showNotification("Поиск фильтров...")):null===(t=Ie.value)||void 0===t||t.showNotification("OBS функции недоступны")},di=()=>{var e,t;sa.value&&(null===(e=Ie.value)||void 0===e||e.showNotification(`Выбран фильтр: ${null===(t=da.value)||void 0===t?void 0:t.sourceName}`))};return(e,t)=>{var r,i,l,s,d,c,u,_,C,L,z=P("router-link");return y(),m(h,null,[f("div",ja,[f("div",La,[!a.value&&H.value||N.value?p("",!0):(y(),m("div",za,[f("div",Ma,[t[29]||(t[29]=R('<div class="movie-skeleton__header" data-v-00e397a8><div class="movie-skeleton__title" data-v-00e397a8></div></div><div class="movie-skeleton__ratings" data-v-00e397a8><div class="movie-skeleton__rating-item" data-v-00e397a8></div><div class="movie-skeleton__rating-item" data-v-00e397a8></div><div class="movie-skeleton__rating-item" data-v-00e397a8></div></div>',2)),f("div",Ia,[I(je)]),t[30]||(t[30]=R('<div class="movie-skeleton__additional-info" data-v-00e397a8><div class="movie-skeleton__section-title" data-v-00e397a8></div><div class="movie-skeleton__info-list" data-v-00e397a8><div class="movie-skeleton__info-item" data-v-00e397a8></div><div class="movie-skeleton__info-item" data-v-00e397a8></div><div class="movie-skeleton__info-item" data-v-00e397a8></div><div class="movie-skeleton__info-item" data-v-00e397a8></div><div class="movie-skeleton__info-item" data-v-00e397a8></div></div></div><div class="movie-skeleton__description" data-v-00e397a8><div class="movie-skeleton__description-line" data-v-00e397a8></div><div class="movie-skeleton__description-line" data-v-00e397a8></div><div class="movie-skeleton__description-line" data-v-00e397a8></div><div class="movie-skeleton__description-line" data-v-00e397a8></div></div>',2))])])),N.value?(y(),U(K,{key:1,message:N.value,code:A.value},null,8,["message","code"])):p("",!0),N.value?(y(),m("div",Sa,[(y(),U(be,{key:$.value,"kp-id":$.value,"movie-info":H.value,"onUpdate:movieInfo":st},null,8,["kp-id","movie-info"]))])):p("",!0),H.value&&!a.value?(y(),m("div",Pa,[f("div",Ba,[H.value.logo_url?(y(),m("div",{key:0,class:"content-logo",onMousemove:it,onMouseleave:t[0]||(t[0]=e=>ot.value=!1),onClick:lt},[f("img",{src:H.value.logo_url,alt:"Логотип фильма",class:"content-logo"},null,8,Ra)],32)):(y(),m("div",{key:1,onMousemove:it,onMouseleave:t[1]||(t[1]=e=>ot.value=!1),onClick:lt},[f("h1",Ta,k(H.value.title),1)],32)),g(f("div",{class:"title-copy-tooltip",style:T(rt.value)}," Скопировать ",4),[[b,ot.value]])]),H.value.kinopoisk_id||H.value.title||H.value.imdb_id||H.value.rating_imdb||H.value.shikimori_id?(y(),m("div",Ua,[H.value.kinopoisk_id?(y(),U(he,{key:H.value.kinopoisk_id,"kp-id":H.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):p("",!0),H.value.kinopoisk_id?(y(),m("div",Oa,[f("a",{href:`https://www.kinopoisk.ru/film/${H.value.kinopoisk_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:H.value.rating_kinopoisk_vote_count?`Оценок: ${tt(H.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[t[31]||(t[31]=f("img",{src:fe,alt:"КП",class:"rating-logo"},null,-1)),f("span",{class:w(["rating-value",W(G)(H.value.rating_kinopoisk)])},k(H.value.rating_kinopoisk?H.value.rating_kinopoisk:"—"),3),t[32]||(t[32]=f("img",{src:xe,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,$a)])):p("",!0),!H.value.kinopoisk_id&&H.value.title?(y(),m("div",Na,[f("a",{href:`https://www.kinopoisk.ru/index.php?kp_query=${encodeURIComponent(H.value.title+(H.value.year?" "+H.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:H.value.rating_kinopoisk_vote_count?`Оценок: ${tt(H.value.rating_kinopoisk_vote_count)}`:"Нет данных о количестве голосов"},[t[33]||(t[33]=f("img",{src:fe,alt:"КП",class:"rating-logo"},null,-1)),f("span",{class:w(["rating-value",W(G)(H.value.rating_kinopoisk)])},k(H.value.rating_kinopoisk?H.value.rating_kinopoisk:"—"),3),t[34]||(t[34]=f("img",{src:xe,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Aa)])):p("",!0),H.value.imdb_id?(y(),m("div",Ha,[f("a",{href:`https://www.imdb.com/title/${H.value.imdb_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:H.value.rating_imdb_vote_count?`Оценок: ${tt(H.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[t[35]||(t[35]=f("img",{src:ge,alt:"IMDb",class:"rating-logo"},null,-1)),f("span",{class:w(["rating-value",W(G)(H.value.rating_imdb)])},k(H.value.rating_imdb?H.value.rating_imdb:"—"),3),t[36]||(t[36]=f("img",{src:xe,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Fa)])):p("",!0),!H.value.imdb_id&&H.value.title?(y(),m("div",Da,[f("a",{href:`https://www.imdb.com/find/?q=${encodeURIComponent(H.value.title+(H.value.year?" "+H.value.year:""))}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:H.value.rating_imdb_vote_count?`Оценок: ${tt(H.value.rating_imdb_vote_count)}`:"Нет данных о количестве голосов"},[t[37]||(t[37]=f("img",{src:ge,alt:"IMDb",class:"rating-logo"},null,-1)),f("span",{class:w(["rating-value",W(G)(H.value.rating_imdb)])},k(H.value.rating_imdb?H.value.rating_imdb:"—"),3),t[38]||(t[38]=f("img",{src:xe,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Va)])):p("",!0),H.value.shikimori_id?(y(),m("div",qa,[f("a",{href:`https://shikimori.one/animes/${H.value.shikimori_id}`,target:"_blank",rel:"noopener noreferrer",class:"rating-link"},t[39]||(t[39]=[f("img",{src:ke,alt:"Shiki",class:"rating-logo"},null,-1),f("img",{src:xe,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,Ya)])):p("",!0),H.value.imdb_id?(y(),m("button",{key:6,class:"nudity-info-btn parents-guide-btn",onClick:t[2]||(t[2]=e=>ft(e)),onMousedown:t[3]||(t[3]=e=>{var t;1===(t=e).button&&(t.preventDefault(),ft(t))}),title:Oe.value?"Скрыть информацию":"Показать Parents Guide и информацию о сценах"},[t[40]||(t[40]=f("span",{class:"desktop-text"},"Parents Guide",-1)),t[41]||(t[41]=f("span",{class:"mobile-text"},"PG",-1)),$e.value?(y(),m("i",Ga)):(y(),m("i",Wa))],40,Ka)):p("",!0),f("button",{class:"nudity-info-btn",onClick:t[4]||(t[4]=e=>{return t=e,Oe.value=null,void(void 0===Fe.value?(De.value=t.currentTarget,Fe.value=null===(null===(a=H.value)||void 0===a?void 0:a.nudity_timings)?"":(null===(n=H.value)||void 0===n?void 0:n.nudity_timings)||""):Fe.value=void 0);var t,a,n}),title:void 0!==Fe.value?"Скрыть тайминги":"Показать тайминги сцен 18+(для твича, мигание отключается в настройках)"},[f("i",{class:w(["fa-regular fa-clock",{"text-red":Ze.value,"text-red-blink":Qe.value}])},null,2)],8,Za)])):p("",!0),(y(),U(be,{key:$.value,"kp-id":$.value,"movie-info":H.value,"onUpdate:movieInfo":st},null,8,["kp-id","movie-info"])),W(n).isMobile?(y(),m("div",Qa,[f("button",{class:w(["mobile-list-toggle",{}]),onClick:t[5]||(t[5]=e=>He.value=!He.value)},[f("span",{class:w(["material-icons",{active:Xe.value}])},k(Xe.value?"bookmark_added":"bookmark_border"),3),t[42]||(t[42]=f("span",{class:"button-label"},"Добавить в список",-1)),f("span",{class:w(["material-icons dropdown-arrow",{expanded:He.value}])},"expand_more",2)]),g(f("div",Xa,[f("button",{class:w(["mobile-list-btn",{}]),onClick:t[6]||(t[6]=e=>bt(W(Z).FAVORITE))},[f("span",{class:w(["material-icons",{active:null===(r=H.value)||void 0===r||null===(r=r.lists)||void 0===r?void 0:r.isFavorite}])},k(null!==(i=H.value)&&void 0!==i&&null!==(i=i.lists)&&void 0!==i&&i.isFavorite?"favorite":"favorite_border"),3),t[43]||(t[43]=f("span",{class:"button-label"},"В избранное",-1))]),f("button",{class:w(["mobile-list-btn",{}]),onClick:t[7]||(t[7]=e=>bt(W(Z).WATCHING))},[f("span",{class:w(["material-icons",{active:null===(l=H.value)||void 0===l||null===(l=l.lists)||void 0===l?void 0:l.isWatching}])},k(null!==(s=H.value)&&void 0!==s&&null!==(s=s.lists)&&void 0!==s&&s.isWatching?"visibility":"visibility_off"),3),t[44]||(t[44]=f("span",{class:"button-label"},"Смотрю",-1))]),f("button",{class:w(["mobile-list-btn",{}]),onClick:t[8]||(t[8]=e=>bt(W(Z).LATER))},[f("span",{class:w(["material-icons",{active:null===(d=H.value)||void 0===d||null===(d=d.lists)||void 0===d?void 0:d.isLater}])},"watch_later",2),t[45]||(t[45]=f("span",{class:"button-label"},"Позже",-1))]),f("button",{class:w(["mobile-list-btn",{}]),onClick:t[9]||(t[9]=e=>bt(W(Z).COMPLETED))},[f("span",{class:w(["material-icons",{active:null===(c=H.value)||void 0===c||null===(c=c.lists)||void 0===c?void 0:c.isCompleted}])},k(null!==(u=H.value)&&void 0!==u&&null!==(u=u.lists)&&void 0!==u&&u.isCompleted?"check_circle":"check_circle_outline"),3),t[46]||(t[46]=f("span",{class:"button-label"},"Просмотрено",-1))]),f("button",{class:w(["mobile-list-btn",{}]),onClick:t[10]||(t[10]=e=>bt(W(Z).ABANDONED))},[f("span",{class:w(["material-icons",{active:null===(_=H.value)||void 0===_||null===(_=_.lists)||void 0===_?void 0:_.isAbandoned}])},"not_interested",2),t[47]||(t[47]=f("span",{class:"button-label"},"Брошено",-1))])],512),[[b,He.value]])])):p("",!0),f("meta",{name:"title-and-year",content:"FILM"===H.value.type&&H.value.year?`${H.value.title} (${H.value.year})`:H.value.title},null,8,Ja),H.value.name_original?(y(),m("meta",{key:2,name:"original-title",content:H.value.name_original},null,8,en)):p("",!0),f("div",tn,[t[58]||(t[58]=f("h2",{class:"additional-info-title"},"Подробнее",-1)),f("div",an,[H.value.poster_url?(y(),m("div",nn,[f("a",{href:H.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[f("img",{src:H.value.poster_url,alt:"Постер фильма",class:"movie-poster"},null,8,rn)],8,on)])):p("",!0),f("div",ln,[f("ul",sn,[H.value.type&&W(Q)[H.value.type]?(y(),m("li",dn,[t[48]||(t[48]=f("strong",null,"Тип:",-1)),B(" "+k(W(Q)[H.value.type]),1)])):p("",!0),H.value.year?(y(),m("li",cn,[t[49]||(t[49]=f("strong",null,"Год выпуска:",-1)),B(" "+k(H.value.year),1)])):p("",!0),H.value.title?(y(),m("li",un,[t[50]||(t[50]=f("strong",null,"Название:",-1)),B(" "+k(H.value.title),1)])):p("",!0),H.value.name_original?(y(),m("li",vn,[t[51]||(t[51]=f("strong",null,"Оригинальное название:",-1)),B(" "+k(H.value.name_original),1)])):p("",!0),H.value.slogan?(y(),m("li",mn,[t[52]||(t[52]=f("strong",null,"Слоган:",-1)),B(" "+k(H.value.slogan),1)])):p("",!0),H.value.production_companies?(y(),m("li",pn,[t[53]||(t[53]=f("strong",null,"Продакшн:",-1)),B(" "+k(H.value.production_companies),1)])):p("",!0),null!==(C=H.value.countries)&&void 0!==C&&C.length?(y(),m("li",fn,[t[54]||(t[54]=f("strong",null,"Страна производства:",-1)),B(" "+k(H.value.countries.map((e=>e.country)).join(", ")),1)])):p("",!0),null!==(L=H.value.genres)&&void 0!==L&&L.length?(y(),m("li",gn,[t[55]||(t[55]=f("strong",null,"Жанры:",-1)),B(" "+k(H.value.genres.map((e=>e.genre)).join(", ")),1)])):p("",!0),H.value.film_length?(y(),m("li",bn,[t[56]||(t[56]=f("strong",null,"Продолжительность:",-1)),B(" "+k(nt(H.value.film_length)),1)])):p("",!0),H.value.rating_mpaa||H.value.rating_age_limits?(y(),m("li",hn,[H.value.rating_mpaa?(y(),m("div",xn,[t[57]||(t[57]=f("strong",null,"MPAA",-1)),f("span",null,k(H.value.rating_mpaa.toUpperCase()),1)])):p("",!0),H.value.rating_age_limits?(y(),m("div",kn,[f("strong",null,k(H.value.rating_age_limits.replace("age",""))+"+",1)])):p("",!0)])):p("",!0)]),f("div",yn,[H.value.description?(y(),m("p",wn,k(H.value.description),1)):p("",!0)])])])]),Je.value?(y(),m("div",_n,[(y(),U(Ea,{"movie-id":$.value,key:$.value},null,8,["movie-id"]))])):p("",!0),H.value.staff?(y(),m("div",Cn,[f("div",En,[yt("ACTOR").length?(y(),m("div",jn,[t[59]||(t[59]=f("h3",{class:"additional-info-title"},"Актёры",-1)),f("div",Ln,[(y(!0),m(h,null,x(yt("ACTOR").slice(0,12),(e=>(y(),m("div",{key:e.staff_id,class:"staff-item"},[f("a",{href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:e.description||""},[f("img",{src:e.poster_url,alt:e.name_ru,class:"staff-photo"},null,8,Mn),f("span",In,k(e.name_ru||e.name_en),1),e.description?(y(),m("span",Sn,k(e.description),1)):p("",!0)],8,zn)])))),128)),f("a",{class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${$.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${yt("ACTOR").length} актеров`}," +"+k(yt("ACTOR").length-12),9,Pn)])])):p("",!0),yt("DIRECTOR").length?(y(),m("div",Bn,[t[60]||(t[60]=f("h3",{class:"additional-info-title"},"Режиссёры",-1)),f("div",Rn,[f("div",Tn,[(y(!0),m(h,null,x(yt("DIRECTOR").slice(0,5),(e=>(y(),m("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(e.name_ru||e.name_en),9,Un)))),128)),yt("DIRECTOR").length>5?(y(),m("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${$.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${yt("DIRECTOR").length} режиссёров`}," +"+k(yt("DIRECTOR").length-5),9,On)):p("",!0)])])])):p("",!0),yt("PRODUCER").length?(y(),m("div",$n,[t[61]||(t[61]=f("h3",{class:"additional-info-title"},"Продюсеры",-1)),f("div",Nn,[f("div",An,[(y(!0),m(h,null,x(yt("PRODUCER").slice(0,5),(e=>(y(),m("a",{key:e.staff_id,href:`https://www.kinopoisk.ru/name/${e.staff_id}/`,target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(e.name_ru||e.name_en),9,Hn)))),128)),yt("PRODUCER").length>5?(y(),m("a",{key:0,class:"expand-actors-circle-button",href:`https://www.kinopoisk.ru/film/${$.value}/cast/`,target:"_blank",rel:"noopener noreferrer",title:`Показать всех ${yt("PRODUCER").length} продюсеров`}," +"+k(yt("PRODUCER").length-5),9,Fn)):p("",!0)])])])):p("",!0)])])):p("",!0),dt.value.length&&Pe.value?(y(),m("div",Dn,[I(Ae,{videos:dt.value,"active-video-index":Be.value,onSelect:e.playTrailer},null,8,["videos","active-video-index","onSelect"])])):p("",!0),ct.value.length?(y(),m("div",Vn,[t[62]||(t[62]=f("h2",null,"Сиквелы и приквелы",-1)),I(W(Ee),{"movies-list":Re.value?ct.value:ct.value.slice(0,Ue.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ct.value.length>Ue.value?(y(),m("a",{key:0,class:"expand-circle-button",onClick:t[11]||(t[11]=e=>Re.value=!Re.value),title:`${Re.value?"Скрыть":"Показать все"} (${ct.value.length})`},k(Re.value?"−":"+"+(ct.value.length-Ue.value)),9,qn)):p("",!0)])):p("",!0),ut.value.length?(y(),m("div",Yn,[t[63]||(t[63]=f("h2",null,"Похожие",-1)),I(W(Ee),{"movies-list":Te.value?ut.value:ut.value.slice(0,Ue.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ut.value.length>Ue.value?(y(),m("a",{key:0,class:"expand-circle-button",onClick:t[12]||(t[12]=e=>Te.value=!Te.value),title:`${Te.value?"Скрыть":"Показать все"} (${ut.value.length})`},k(Te.value?"−":"+"+(ut.value.length-Ue.value)),9,Kn)):p("",!0)])):p("",!0)])):p("",!0)])]),I(ze,{ref_key:"notificationRef",ref:Ie},null,512),null!==Oe.value?(y(),m("div",Wn,[f("div",Gn,[$e.value?(y(),m("div",Zn,t[64]||(t[64]=[f("i",{class:"fas fa-spinner fa-spin"},null,-1),f("span",null,"Загрузка информации...",-1)]))):(y(),m("div",Qn,k(Oe.value),1))]),f("div",Xn,[f("a",{href:`https://www.imdb.com/title/${H.value.imdb_id}/parentalguide`,target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},t[65]||(t[65]=[f("i",{class:"fas fa-external-link-alt"},null,-1),f("span",null,"Parents Guide",-1)]),8,Jn),f("button",{class:"nudity-info-button",onClick:wt},t[66]||(t[66]=[f("i",{class:"fas fa-copy"},null,-1),f("span",null,"Copy",-1)])),f("button",{class:"nudity-info-button",onClick:Ct},t[67]||(t[67]=[f("i",{class:"fas fa-language"},null,-1),f("span",null,"Translate",-1)]))])])):p("",!0),void 0!==Fe.value?(y(),m("div",eo,[f("div",to,[f("div",{class:"acknowledgment-table"},[t[70]||(t[70]=f("div",{class:"acknowledgment-header"},[f("i",{class:"fa-solid fa-heart"}),f("span",null,"Благодарности")],-1)),f("div",{class:"acknowledgment-content"},[t[69]||(t[69]=f("div",{class:"acknowledgment-row"},[f("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[f("i",{class:"fa-brands fa-twitch"}),f("span",null,"TanyaBelkova")]),f("span",{class:"acknowledgment-text"},"— за основу базы таймингов")],-1)),f("div",{class:"acknowledgment-row clickable",onClick:Ot},t[68]||(t[68]=[f("div",{class:"community-link"},[f("i",{class:"fa-solid fa-users"}),f("span",null,"Сообщество")],-1),f("span",{class:"acknowledgment-text"},"— за добавление таймингов",-1)]))])]),f("div",{class:w(["timings-content",{"no-border":!Fe.value}])},[t[82]||(t[82]=f("div",{class:"timings-warning"},[f("i",{class:"fas fa-exclamation-triangle"}),f("span",null,"Тайминги не модерируются - проверьте перед просмотром")],-1)),f("div",ao,[Fe.value.length>0?(y(),m("div",no,[(y(!0),m(h,null,x(Fe.value,(e=>(y(),m("div",{key:e.id,class:w(["timing-entry",{pending:"pending"===e.status,"clean-text":"clean_text"===e.status,selected:Ve.value.has(e.id)}])},[f("div",oo,[f("div",ro,["pending"===e.status?(y(),m("div",io,"На модерации")):p("",!0),"clean_text"===e.status?(y(),m("div",lo," Тайминги такого типа не модерируются, для уверенности сверяйтесь с ParentsGuide ")):p("",!0)]),f("div",so,[f("button",{class:"nudity-info-button",onClick:t=>function(e){if(ga.value[e.id])ga.value=o(o({},ga.value),{},{[e.id]:!1});else{var t=_e(e.timing_text);ga.value=o(o({},ga.value),{},{[e.id]:t})}}(e)},k(ga.value[e.id]?"Скрыть парсер":"Показать парсер"),9,co),qe.value.has(e.id)?(y(),m("button",{key:0,class:"nudity-info-button overlay-button",onClick:t=>{return a=e.id,void(ba.value?ka(a):Ie.value?Ie.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Удалить из оверлея"},t[71]||(t[71]=[f("i",{class:"fas fa-eye-slash"},null,-1),f("span",null,"Удалить из оверлея",-1)]),8,uo)):(y(),m("button",{key:1,class:"nudity-info-button overlay-button",onClick:t=>{return a=e.id,void(ba.value?(Ke.value=!0,ka(a)):Ie.value?Ie.value.showNotification("Доступно только в приложении"):alert("Доступно только в приложении"));var a},title:"Добавить в оверлей"},t[72]||(t[72]=[f("i",{class:"fas fa-eye"},null,-1),f("span",null,"Добавить в оверлей",-1)]),8,vo)),Mt(e)?(y(),m(h,{key:2},[f("button",{class:"nudity-info-button edit-button",onClick:t=>(e=>{Nt.value=e,Et.value=e.timing_text,$t.value=!0})(e),title:"Редактировать тайминг"},t[73]||(t[73]=[f("i",{class:"fas fa-edit"},null,-1),f("span",null,"Редактировать",-1)]),8,mo),f("button",{class:"nudity-info-button delete-button",onClick:t=>Rt(e.id),title:"Удалить тайминг"},t[74]||(t[74]=[f("i",{class:"fas fa-trash"},null,-1),f("span",null,"Удалить",-1)]),8,po)],64)):p("",!0),Mt(e)?p("",!0):(y(),m("button",{key:3,class:"nudity-info-button report-button",onClick:t=>{return a=e.id,Ft.value=a,Ht.value="",void(At.value=!0);var a},title:"Пожаловаться на тайминг"},t[75]||(t[75]=[f("i",{class:"fas fa-flag"},null,-1),f("span",null,"Пожаловаться",-1)]),8,fo))]),f("div",{class:w(["timing-hover-container",{blurred:"pending"===e.status}])},[f("span",go,k(e.timing_text),1),t[76]||(t[76]=f("br",null,null,-1)),f("span",bo,[B(" by "+k(e.username)+" ",1),e.user_id&&0!==e.user_id&&e.user_timing_count>0?(y(),m("span",{key:0,class:"timing-count",title:`Авторизованный пользователь (${e.user_timing_count} таймингов)`}," ("+k(e.user_timing_count)+") ",9,ho)):p("",!0)])],2),ga.value[e.id]&&Array.isArray(ga.value[e.id])?(y(),m("div",xo,[t[77]||(t[77]=f("b",null,"Парсер:",-1)),0===ga.value[e.id].length?(y(),m("span",ko,"Не удалось распарсить")):(y(),m("span",yo,[(y(!0),m(h,null,x(ga.value[e.id],((t,a)=>(y(),m("span",{key:a}," ["+k(W(Ce)(t[0]))+" - "+k(W(Ce)(t[1]))+"]"+k(a<ga.value[e.id].length-1?", ":""),1)))),128))]))])):p("",!0)])],2)))),128))])):(y(),m("div",wo,k("Записей о таймингах не найдено")))]),Ye.value&&Ve.value.size>0?(y(),m("div",_o,[f("h4",Co," Общий парсер ("+k(Ve.value.size)+" таймингов): ",1),f("div",Eo,[0===_a().length?(y(),m("span",jo,"Не удалось распарсить выбранные тайминги")):(y(),m("span",Lo,[(y(!0),m(h,null,x(_a(),((e,t)=>(y(),m("span",{key:t}," ["+k(W(Ce)(e[0]))+" - "+k(W(Ce)(e[1]))+"]"+k(t<_a().length-1?", ":""),1)))),128))]))])])):p("",!0),Ge.value&&qe.value.size>0?(y(),m("div",zo,[f("h4",Mo," Парсер оверлея ("+k(qe.value.size)+" таймингов): ",1),f("div",Io,[0===Ca().length?(y(),m("span",So,"Не удалось распарсить выбранные тайминги")):(y(),m("span",Po,[(y(!0),m(h,null,x(Ca(),((e,t)=>(y(),m("span",{key:t}," ["+k(W(Ce)(e[0]))+" - "+k(W(Ce)(e[1]))+"]"+k(t<Ca().length-1?", ":""),1)))),128))]))])])):p("",!0),f("div",Bo,[Fe.value.length>0?(y(),m("button",{key:0,class:"nudity-info-button",onClick:_t},t[78]||(t[78]=[f("i",{class:"fas fa-copy"},null,-1),f("span",null,"Скопировать",-1)]))):p("",!0),Ve.value.size>0?(y(),m("button",{key:1,class:"nudity-info-button",onClick:ya},[t[79]||(t[79]=f("i",{class:"fas fa-eye"},null,-1)),f("span",null,"Общий парсер ("+k(Ve.value.size)+")",1)])):p("",!0),qe.value.size>0?(y(),m("button",{key:2,class:"nudity-info-button overlay-button",onClick:wa},[t[80]||(t[80]=f("i",{class:"fas fa-layer-group"},null,-1)),f("span",null,"Парсер оверлея ("+k(qe.value.size)+")",1)])):p("",!0),f("button",{class:"nudity-info-button",onClick:It},t[81]||(t[81]=[f("i",{class:"fas fa-plus"},null,-1),f("span",null,"Добавить/дополнить тайминг",-1)]))])],2)])])):p("",!0),$t.value?(y(),m("div",Ro,[f("div",To,[f("div",Uo,[f("h3",null,k(Nt.value?"Редактировать тайминг":"Добавить тайминг"),1),f("button",{class:"close-modal-btn",onClick:St},t[83]||(t[83]=[f("i",{class:"fas fa-times"},null,-1)]))]),f("div",Oo,[g(f("textarea",{"onUpdate:modelValue":t[13]||(t[13]=e=>Et.value=e),placeholder:"Пожалуйста, указывайте длительность фильма(в [] скобках, например [01:36] или [01:36:55]), к которому вы прилагаете тайминг\nТк же для автоблюра прошу все тайминги указывать как диапозон, а не конкретное время, например 00:12:31-00:13:04 - текст, а не 00:12:31\nДля сериалов указывайте сезон и номер эпизода\n",class:"timing-textarea"},null,512),[[E,Et.value]]),Lt.value&&Lt.value.length>0?(y(),m("div",$o,[t[84]||(t[84]=f("div",{class:"timing-preview-header"},[f("i",{class:"fas fa-eye"}),f("span",null,"Предпросмотр парсера")],-1)),f("div",No,[(y(!0),m(h,null,x(Lt.value,((e,t)=>(y(),m("div",{key:t,class:"timing-preview-item"},[f("span",Ao,k(W(Ce)(e[0]))+" - "+k(W(Ce)(e[1])),1),f("span",Ho," ("+k(Math.round(e[1]-e[0]))+"с) ",1)])))),128))])])):p("",!0),f("div",Fo,[f("button",{class:"submit-timing-btn",onClick:t[14]||(t[14]=e=>Nt.value?Bt():Pt()),disabled:!zt.value||jt.value},[jt.value?(y(),m("i",Vo)):(y(),m("span",qo,k(Nt.value?"Обновить тайминг":"Добавить тайминг"),1))],8,Do)])])])])):p("",!0),At.value?(y(),m("div",Yo,[f("div",Ko,[f("div",{class:"timing-modal-header"},[t[86]||(t[86]=f("h3",null,"Пожаловаться на тайминг",-1)),f("button",{class:"close-modal-btn",onClick:Tt},t[85]||(t[85]=[f("i",{class:"fas fa-times"},null,-1)]))]),f("div",Wo,[g(f("textarea",{"onUpdate:modelValue":t[15]||(t[15]=e=>Ht.value=e),placeholder:"Опишите причину жалобы...",class:"timing-textarea",rows:"4"},null,512),[[E,Ht.value]]),f("div",Go,[f("button",{class:"submit-timing-btn",onClick:Ut,disabled:!Ht.value.trim()||Dt.value},[Dt.value?(y(),m("i",Qo)):(y(),m("span",Xo,"Отправить жалобу"))],8,Zo)])])])])):p("",!0),qt.value?(y(),m("div",{key:4,class:"modal-overlay",onClick:t[18]||(t[18]=e=>qt.value=!1)},[f("div",{class:"modal-content",onClick:t[17]||(t[17]=j((()=>{}),["stop"]))},[f("div",Jo,[t[88]||(t[88]=f("h3",null,[B(" Топ авторов таймингов "),f("span",{class:"hint-text"},[B("(Хотите добавить ссылку на свой стрим/соцсети? Напишите нам в "),f("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"телеграм"),B(")")])],-1)),f("div",er,[f("button",{class:"close-modal-btn",onClick:t[16]||(t[16]=e=>qt.value=!1)},t[87]||(t[87]=[f("i",{class:"fas fa-times"},null,-1)]))])]),f("div",tr,[f("button",{class:"show-all-timings-btn",onClick:pa,disabled:Wt.value},[Wt.value?(y(),m("i",nr)):(y(),m("i",or)),t[89]||(t[89]=f("span",null,"Все тайминги",-1))],8,ar),f("div",rr,[(y(!0),m(h,null,x(Vt.value,((e,a)=>{return y(),m("div",{key:e.username,class:"top-submitter-item"},[f("div",{class:w(["submitter-rank",{gold:0===a,silver:1===a,bronze:2===a}])},k(a+1),3),f("div",ir,[f("div",lr,[e.stream_link?(y(),m("a",{key:0,href:e.stream_link,target:"_blank",rel:"noopener noreferrer"},[B(k(e.username)+" ",1),t[90]||(t[90]=f("i",{class:"fa-brands fa-twitch"},null,-1))],8,sr)):(y(),m(h,{key:1},[B(k(e.username),1)],64))]),f("div",dr,k(e.approved_submissions_count)+" "+k((o=e.approved_submissions_count,r=["фильм","фильма","фильмов"],r[o%100>4&&o%100<20?2:[2,0,1,1,1,2][Math.min(o%10,5)]])),1)]),f("div",cr,[f("div",{class:"contribution-bar",style:T({width:(n=e.approved_submissions_count,(Vt.value.length?n/Math.max(...Vt.value.map((e=>e.approved_submissions_count)))*100:0)+"%")})},null,4)])]);var n,o,r})),128))])])])])):p("",!0),Yt.value?(y(),m("div",{key:5,class:"modal-overlay",onClick:t[21]||(t[21]=e=>Yt.value=!1)},[f("div",{class:"modal-content all-timings-modal",onClick:t[20]||(t[20]=j((()=>{}),["stop"]))},[f("div",ur,[t[92]||(t[92]=f("h3",null,"Все тайминги",-1)),f("button",{class:"close-modal-btn",onClick:t[19]||(t[19]=e=>Yt.value=!1)},t[91]||(t[91]=[f("i",{class:"fas fa-times"},null,-1)]))]),f("div",vr,[Wt.value?(y(),m("div",mr,t[93]||(t[93]=[f("i",{class:"fas fa-spinner fa-spin"},null,-1),f("span",null,"Загрузка всех таймингов...",-1)]))):0===Kt.value.length?(y(),m("div",pr,t[94]||(t[94]=[f("p",null,"Тайминги не найдены",-1)]))):0===fa.value.length?(y(),m("div",fr,t[95]||(t[95]=[f("p",null,"Тайминги по выбранному фильтру не найдены",-1)]))):(y(),m("div",gr,[(y(!0),m(h,null,x(fa.value,(e=>{var t;return y(),m("div",{key:e.id,class:"timing-item"},[f("div",br,[f("div",hr,[f("span",xr,k(e.username),1),f("span",kr,k(W(we)(e.submitted_at)),1)]),f("div",yr,[I(z,{to:`/movie/${e.kp_id}`,class:"timing-kp-id clickable",title:`Перейти к фильму ${e.kp_id}`},{default:S((()=>[B(" KP: "+k(e.kp_id),1)])),_:2},1032,["to","title"]),null!==(t=W(v).user)&&void 0!==t&&t.is_admin&&"pending"===e.status?(y(),m("div",wr,["pending"===e.status?(y(),m("button",{key:0,class:"approve-btn",onClick:t=>ua(e.id),disabled:Gt.value,title:"Одобрить тайминг"},[Zt.value===e.id&&Qt.value?(y(),m("i",Cr)):(y(),m("i",Er))],8,_r)):p("",!0),"pending"===e.status?(y(),m("button",{key:1,class:"reject-btn",onClick:t=>va(e.id),disabled:Gt.value,title:"Отклонить тайминг"},[Zt.value!==e.id||Qt.value||Xt.value?(y(),m("i",zr)):(y(),m("i",Lr))],8,jr)):p("",!0),"pending"===e.status?(y(),m("button",{key:2,class:"clean-text-btn",onClick:t=>ma(e.id),disabled:Gt.value,title:"Отметить как clean_text"},[Zt.value===e.id&&Xt.value?(y(),m("i",Ir)):(y(),m("i",Sr))],8,Mr)):p("",!0)])):p("",!0)])]),f("div",Pr,[f("pre",Br,k(e.timing_text),1)])])})),128))]))])])])):p("",!0),Jt.value?(y(),m("div",Rr,[f("div",Tr,[f("div",Ur,[t[97]||(t[97]=f("h3",null,"Настройки OBS WebSocket",-1)),f("button",{class:"close-modal-btn",onClick:t[22]||(t[22]=e=>Jt.value=!1)},t[96]||(t[96]=[f("i",{class:"fas fa-times"},null,-1)]))]),f("div",Or,[f("div",$r,[f("label",Nr,[g(f("input",{type:"checkbox","onUpdate:modelValue":t[23]||(t[23]=e=>ta.value=e),onChange:ri},null,544),[[X,ta.value]]),t[98]||(t[98]=f("span",null,"Использовать автоблюр в OBS",-1))]),t[99]||(t[99]=f("div",{class:"obs-setting-description"}," Если включено, автоблюр будет применяться через OBS WebSocket вместо внутреннего блюра ",-1))]),ta.value?(y(),m("div",Ar,[f("div",Hr,[t[100]||(t[100]=f("label",null,"Хост OBS WebSocket:",-1)),g(f("input",{type:"text","onUpdate:modelValue":t[24]||(t[24]=e=>aa.value=e),placeholder:"localhost",class:"obs-input"},null,512),[[E,aa.value]])]),f("div",Fr,[t[101]||(t[101]=f("label",null,"Порт OBS WebSocket:",-1)),g(f("input",{type:"number","onUpdate:modelValue":t[25]||(t[25]=e=>na.value=e),placeholder:"4455",class:"obs-input"},null,512),[[E,na.value]])]),f("div",Dr,[t[102]||(t[102]=f("label",null,"Пароль (если установлен):",-1)),g(f("input",{type:"password","onUpdate:modelValue":t[26]||(t[26]=e=>oa.value=e),placeholder:"Оставьте пустым если пароль не установлен",class:"obs-input"},null,512),[[E,oa.value]])]),ra.value?(y(),m("div",Vr,[t[105]||(t[105]=f("label",null,"Выбор фильтра для блюра:",-1)),0===la.value.length?(y(),m("div",qr," ⚠️ Фильтры не найдены в OBS. Убедитесь, что в источниках есть фильтры. ")):(y(),m("div",Yr,[g(f("select",{"onUpdate:modelValue":t[27]||(t[27]=e=>sa.value=e),onChange:di,class:"obs-filter-select"},[t[103]||(t[103]=f("option",{value:""},"Выберите фильтр",-1)),(y(!0),m(h,null,x(la.value,(e=>(y(),m("option",{key:e.id,value:e.id},k(e.sourceName)+" - "+k(e.filterName)+" ("+k(e.sceneName)+") ",9,Kr)))),128))],544),[[J,sa.value]]),da.value?(y(),m("div",Wr,[f("div",Gr,[f("strong",null,k(da.value.filterName),1),t[104]||(t[104]=B(" в источнике ")),f("strong",null,k(da.value.sourceName),1)]),f("span",{class:w(["filter-status",{enabled:da.value.enabled}])}," Статус: "+k(da.value.enabled?"✅ Включен":"⭕ Отключен"),3)])):p("",!0),f("div",Zr," 💡 Найдено "+k(la.value.length)+" фильтров. Выберите фильтр блюра. ",1)]))])):p("",!0),f("div",Qr,[f("label",Xr,[g(f("input",{type:"checkbox","onUpdate:modelValue":t[28]||(t[28]=e=>ca.value=e)},null,512),[[X,ca.value]]),t[106]||(t[106]=f("span",null,"Показывать статус OBS в видео оверлее",-1))])]),f("div",{class:w(["obs-status",{connected:ra.value}])},k(ra.value?"Подключен к OBS":"Не подключен к OBS"),3),f("div",Jr,[f("button",{class:"obs-action-btn connect-btn",onClick:ii,disabled:ea.value},[ea.value?(y(),m("i",ti)):(y(),m("i",ai)),B(" "+k(ra.value?"Переподключиться":"Подключиться"),1)],8,ei),f("button",{class:"obs-action-btn test-btn",onClick:li,disabled:!ra.value||0===la.value.length},t[107]||(t[107]=[f("i",{class:"fas fa-eye"},null,-1),B(" Тестировать блюр ")]),8,ni),f("button",{class:"obs-action-btn refresh-btn",onClick:si,disabled:!ra.value},t[108]||(t[108]=[f("i",{class:"fas fa-sync"},null,-1),B(" Обновить фильтры ")]),8,oi)])])):p("",!0)])])])):p("",!0),I(Se,{"is-open":Ke.value,message:"<span style='color: orange; font-weight: bold;'>Автоблюр удален из-за нестабильности(пока?)<br>Доступен только оверлей</span><br><br>Перед просмотром проверьте выбранные тайминги на соответствие фильму в плеере! Мы не несём ответственности за расхождение в таймингах, используйте их на свой страх и риск и только после проверки выбранной версии фильма!<br>В плеере alloha если смените озвучку, то выключите и включите оверлей(снизу справа под плеером), иначе в полноэкранном режиме перестанет работать!",onConfirm:ha,onClose:xa},null,8,["is-open"])],64)}}};e("default",n(ri,[["__scopeId","data-v-00e397a8"]]))}}}))}();

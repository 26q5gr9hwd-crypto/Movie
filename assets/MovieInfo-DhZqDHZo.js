import{_ as Me,r as g,c as j,b as r,d as a,e,s as Z,t as d,K as J,g as y,L as ue,n as T,q as Ye,u as Qe,i as st,N as uo,z as Je,l as Ne,o as Be,O as it,x as Ee,E as co,f as le,P as Xe,m as W,Q as z,y as Y,U as K,R as ho,D as nt,S as ye,V as bo,W as vo,X as _o,Y as to,Z as Co,$ as De,v as mo,a0 as wo,a1 as Eo,a2 as Mo,a3 as Io,a4 as oo,a5 as Ro,a6 as $o,a as Ao,a7 as no,a8 as so,a9 as To,aa as Po,ab as So}from"./index-BST0FPhP.js";import{S as fo,_ as xo,a as io,b as lo,M as ao}from"./MovieList-p_ZyyBg6.js";import{N as et}from"./ToastMessage-BbgeNYhF.js";import{u as Lo,S as Do,a as No}from"./trailer-Cj539pFS.js";const He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Uo="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",ot=l=>{const o=document.createElement("div");o.style.position="fixed",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.backgroundColor="rgba(0, 0, 0, 0.8)",o.style.color="white",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.fontSize="2rem",o.style.zIndex="99000",o.textContent=l,document.body.appendChild(o),setTimeout(()=>{document.body.removeChild(o)},2e3)},jo={key:0},Ho={key:1},Bo={class:"players-list"},Oo=["onClick"],Ko={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},qo={key:0},Wo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},Fo={key:1},Vo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},zo=["onClick"],Yo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},Go={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(l,{emit:o}){const c=l,s=o,b=g(null),w=j(()=>c.players.filter(p=>!M(p)&&!t(p))),k=j(()=>c.players.some(p=>M(p))),$=j(()=>c.players.some(p=>t(p))),M=p=>p.key.toUpperCase().includes("HDREZKA"),t=p=>p.key.toUpperCase().includes("KODIK"),m=p=>p.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),N=p=>{s("select",p),s("close")},q=p=>c.selectedPlayer&&c.selectedPlayer.key===p.key,L=p=>c.selectedPlayer?p==="hdrezka"&&M(c.selectedPlayer)||p==="kodik"&&t(c.selectedPlayer):!1,H=p=>{b.value=p},V=()=>{b.value=null},x=p=>{let R=c.players.filter(I=>p==="hdrezka"&&M(I)||p==="kodik"&&t(I));return p==="kodik"?R.sort((I,B)=>m(I.translate).localeCompare(m(B.translate))):R},P=p=>x(p).some(R=>R.warning);return(p,R)=>(a(),r("div",{class:"modal",onClick:R[4]||(R[4]=Ye(I=>p.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:R[3]||(R[3]=Ye(()=>{},["stop"]))},[e("button",{class:"close",onClick:R[0]||(R[0]=I=>p.$emit("close"))},"√ó"),b.value?(a(),r("h2",Ho,[e("button",{class:"back-btn",onClick:V},"‚Üê –ù–∞–∑–∞–¥"),Z(" "+d(b.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(a(),r("h2",jo,"–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–µ—Ä")),e("ul",Bo,[b.value?(a(!0),r(J,{key:1},ue(x(b.value),I=>(a(),r("li",{key:I.key},[e("button",{class:T(["player-item",{active:q(I)}]),onClick:B=>N(I)},[Z(d(m(I.translate))+" ",1),I.warning?(a(),r("span",Yo,"warning")):y("",!0)],10,zo)]))),128)):(a(),r(J,{key:0},[(a(!0),r(J,null,ue(w.value,I=>(a(),r("li",{key:I.key},[e("button",{class:T(["player-item",{active:q(I)}]),onClick:B=>N(I)},[Z(d(m(I.translate))+" ",1),I.warning?(a(),r("span",Ko,"warning")):y("",!0)],10,Oo)]))),128)),k.value?(a(),r("li",qo,[e("button",{class:T(["group-item",{active:L("hdrezka")}]),onClick:R[1]||(R[1]=I=>H("hdrezka"))},[R[5]||(R[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),R[6]||(R[6]=Z(" ReYohoho - HDrezka ")),P("hdrezka")?(a(),r("span",Wo,"warning")):y("",!0)],2)])):y("",!0),$.value?(a(),r("li",Fo,[e("button",{class:T(["group-item",{active:L("kodik")}]),onClick:R[2]||(R[2]=I=>H("kodik"))},[R[7]||(R[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),R[8]||(R[8]=Z(" Kodik ")),P("kodik")?(a(),r("span",Vo,"warning")):y("",!0)],2)])):y("",!0)],64))])])]))}},Zo=Me(Go,[["__scopeId","data-v-460326ba"]]),Xo={class:"players-list"},Qo=["src"],Jo={key:1,class:"controls"},en={class:"main-controls"},tn={class:"material-icons"},on={class:"list-button-item"},nn={class:"material-icons"},sn={class:"list-button-item"},ln={class:"material-icons"},an={class:"list-button-item"},rn={class:"list-button-item"},un={class:"material-icons"},dn={class:"list-button-item"},cn={class:"material-icons"},vn={class:"tooltip-container","data-tooltip-container":"dimming"},mn={class:"material-icons"},fn={class:"tooltip-container","data-tooltip-container":"blur"},yn={class:"tooltip-container","data-tooltip-container":"compressor"},gn={class:"tooltip-container","data-tooltip-container":"mirror"},kn={class:"tooltip-container","data-tooltip-container":"theater"},pn={class:"material-symbols-outlined"},hn={class:"custom-tooltip","data-tooltip":"theater"},bn={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},_n={class:"current-ratio"},Cn=["onClick"],wn={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},En={class:"custom-tooltip","data-tooltip":"app_link"},Mn={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},In={class:"custom-tooltip","data-tooltip":"copy_link"},Rn={key:0,class:"desktop-list-buttons"},$n={class:"tooltip-container"},An={class:"material-icons"},Tn={class:"custom-tooltip"},Pn={class:"tooltip-container"},Sn={class:"material-icons"},xn={class:"custom-tooltip"},Ln={class:"tooltip-container"},Dn={class:"custom-tooltip"},Nn={class:"tooltip-container"},Un={class:"material-icons"},jn={class:"custom-tooltip"},Hn={class:"tooltip-container"},Bn={class:"material-icons"},On={class:"custom-tooltip"},Kn={key:1,class:"mobile-list-buttons"},qn={class:"tooltip-container"},Wn={class:"material-icons"},Fn={class:"custom-tooltip"},Vn={class:"tooltip-container"},zn={class:"material-icons"},Yn={class:"custom-tooltip"},Gn={class:"tooltip-container"},Zn={class:"custom-tooltip"},Xn={class:"tooltip-container"},Qn={class:"material-icons"},Jn={class:"custom-tooltip"},es={class:"tooltip-container"},ts={class:"material-icons"},os={class:"custom-tooltip"},ns={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(l,{emit:o}){const c=Qe(),s=Lo(),b=st(),w=uo(),k=Je(),$=g(w.params.kp_id),M=l,t=o,m=g([]),N=g(null),q=g(!0),L=g(!1),H=g(!1),V=g(null),x=g(null),P=g(!1),p=g(""),R=g(null),I=g(window.innerHeight*.9),B=j(()=>"".concat(I.value,"px")),U=j(()=>c.isMobile),F=j(()=>!!window.electronAPI),v=g(null),me=g(!1);let ge=null;const oe=g(null),ae=g(null),de=g(null),ke=h=>{const n=document.querySelector('[data-tooltip-container="'.concat(h,'"]')),D=document.querySelector('[data-tooltip="'.concat(h,'"]'));if(!n||!D)return;const ie=n.getBoundingClientRect(),_e=D.getBoundingClientRect(),Ce=window.innerHeight;ie.bottom+_e.height>Ce?(D.style.top="auto",D.style.bottom="100%",D.style.marginTop="0",D.style.marginBottom="12px",D.style.transform="translateX(-50%)"):(D.style.top="100%",D.style.bottom="auto",D.style.marginTop="12px",D.style.marginBottom="0",D.style.transform="translateX(-50%)")},O=h=>{v.value=h,me.value=!1,clearTimeout(ge),ye(()=>{ke(h)})},ne=()=>{me.value||(ge=setTimeout(()=>{v.value=null},300))},pe=()=>{me.value=!0,clearTimeout(ge)},ce=()=>{me.value=!1,v.value=null},Q=j({get:()=>s.aspectRatio,set:h=>s.updateAspectRatio(h)}),fe=j({get:()=>s.isCentered,set:h=>s.updateCentering(h)}),X=j(()=>{var h,n,D,ie,_e,Ce,$e,Ae,Te,Pe;return((n=(h=M.movieInfo)==null?void 0:h.lists)==null?void 0:n.isFavorite)||((ie=(D=M.movieInfo)==null?void 0:D.lists)==null?void 0:ie.isWatching)||((Ce=(_e=M.movieInfo)==null?void 0:_e.lists)==null?void 0:Ce.isLater)||((Ae=($e=M.movieInfo)==null?void 0:$e.lists)==null?void 0:Ae.isCompleted)||((Pe=(Te=M.movieInfo)==null?void 0:Te.lists)==null?void 0:Pe.isAbandoned)}),E=j(()=>s.preferredPlayer),u=g(0),f=h=>h.toUpperCase(),S=()=>{if(L.value||!x.value)return;const[h,n]=Q.value.split(":").map(Number);I.value=window.innerHeight*.9,u.value=Math.min(x.value.clientWidth*(n/h),I.value)},C=j(()=>{if(L.value)return{};const[h,n]=Q.value.split(":").map(Number),D=I.value*(h/n);return{width:"100%",maxWidth:"".concat(D,"px"),maxHeight:B.value,margin:"0 auto",overflow:"hidden"}}),ee=j(()=>{const[h,n]=Q.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(n/h*100,"%")}}),re=()=>{x.value&&setTimeout(()=>{ye(()=>{x.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},ve=async()=>{try{p.value="",R.value=null;const h=await ho(M.kpId);if(m.value=Object.entries(h).map(([n,D])=>({key:n.toUpperCase(),...D})),m.value.length>0){if(E.value){const n=f(E.value),D=m.value.find(ie=>f(ie.key)===n);N.value=D||m.value[0]}else N.value=m.value[0];t("update:selectedPlayer",N.value)}}catch(h){const{message:n,code:D}=nt(h);p.value=n,R.value=D,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–µ–µ—Ä–æ–≤:",h)}},he=()=>{P.value=!0},se=()=>{P.value=!1},i=h=>{var n;if(((n=N.value)==null?void 0:n.key)===h.key){se();return}N.value=h,q.value=!0,s.updatePreferredPlayer(f(h.key)),t("update:selectedPlayer",h)},A=()=>{F.value?window.electronAPI.sendHotKey("F2"):(ot("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},G=()=>{F.value?window.electronAPI.sendHotKey("F3"):(ot("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},we=()=>{F.value?window.electronAPI.sendHotKey("F4"):(ot("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},be=()=>{L.value=!L.value,L.value?(window.addEventListener("mousemove",Se),document.addEventListener("keydown",Ue),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Se),document.removeEventListener("keydown",Ue),document.body.classList.remove("no-scroll")),H.value=L.value,ye(()=>re())},Ie=g(null),Se=()=>{Ie.value=setTimeout(()=>{clearTimeout(Ie.value),H.value=!1},4e3),H.value=!0},xe=j(()=>c.dimmingEnabled),at=()=>{L.value||c.toggleDimming()},Ue=h=>{(h.key==="Escape"&&L.value||h.altKey&&h.keyCode===84)&&be()},Le=h=>{Q.value=h,setTimeout(()=>{fe.value&&re()},310)},je=()=>{const h="reyohoho://#".concat($.value);try{window.location.href=h}catch(n){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏:",n)}},Re=()=>{const h=window.location.href;navigator.clipboard.writeText(h).then(()=>{}),oe.value.showNotification("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–ª—å–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞")},Oe=()=>{q.value=!1};function Ke(h){return h.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const Ge=j(()=>{var h,n;return F.value?!1:!((n=(h=N.value)==null?void 0:h.key)!=null&&n.toUpperCase().includes("TORRENTS"))});Ne(N,h=>{if(h)if(q.value=!0,s.updatePreferredPlayer(f(h.key)),t("update:selectedPlayer",h),h.key.toUpperCase().includes("TORRENTS")){const n=document.querySelector(".rocketme_fon");n&&(n.style.display="none");const D=document.querySelector(".pm_preloader");D&&(D.style.display="none")}else{const n=document.querySelector(".rocketme_fon");n&&(n.style.display="");const D=document.querySelector(".pm_preloader");D&&(D.style.display="")}}),Ne(()=>w.params.kp_id,async h=>{h&&h!==$.value&&($.value=h,fe.value&&re())},{immediate:!0});const Ze=["16:9","12:5","4:3"],yo=()=>{const n=(Ze.indexOf(Q.value)+1)%Ze.length;Le(Ze[n])},go=h=>{var D,ie,_e,Ce,$e,Ae,Te,Pe,qe,We,Fe,Ve,ze;return(ze={[K.FAVORITE]:((ie=(D=M.movieInfo)==null?void 0:D.lists)==null?void 0:ie.isFavorite)||!1,[K.HISTORY]:((Ce=(_e=M.movieInfo)==null?void 0:_e.lists)==null?void 0:Ce.isHistory)||!1,[K.LATER]:((Ae=($e=M.movieInfo)==null?void 0:$e.lists)==null?void 0:Ae.isLater)||!1,[K.COMPLETED]:((Pe=(Te=M.movieInfo)==null?void 0:Te.lists)==null?void 0:Pe.isCompleted)||!1,[K.ABANDONED]:((We=(qe=M.movieInfo)==null?void 0:qe.lists)==null?void 0:We.isAbandoned)||!1,[K.WATCHING]:((Ve=(Fe=M.movieInfo)==null?void 0:Fe.lists)==null?void 0:Ve.isWatching)||!1}[h])!=null?ze:!1},te=async h=>{if(!b.token){oe.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ko});return}try{const n={[K.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[K.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[K.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[K.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[K.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[K.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};go(h)?(await bo($.value,h),oe.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(n[h]))):(await vo($.value,h),oe.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(n[h])))}catch(n){const{message:D,code:ie}=nt(n);oe.value.showNotification("".concat(D," ").concat(ie))}t("update:movieInfo")},ko=()=>{k.push("/login")},tt=j(()=>s.showFavoriteTooltip),po=()=>{k.push("/settings"),ce()};return Be(()=>{q.value=!0,ve(),U.value&&(Q.value="4:3"),S(),window.addEventListener("resize",S),window.addEventListener("resize",ke),fe.value&&re()}),it(()=>{window.removeEventListener("resize",S),window.removeEventListener("resize",ke),window.removeEventListener("mousemove",Se),document.removeEventListener("keydown",Ue),document.body.classList.remove("no-scroll")}),(h,n)=>{var D,ie,_e,Ce,$e,Ae,Te,Pe,qe,We,Fe,Ve,ze,rt,ut,dt,ct,vt,mt,ft,yt,gt,kt,pt,ht,bt,_t,Ct,wt,Et,Mt,It,Rt,$t,At,Tt,Pt,St,xt,Lt,Dt,Nt,Ut,jt,Ht,Bt,Ot,Kt,qt,Wt,Ft,Vt,zt,Yt,Gt,Zt,Xt,Qt,Jt,eo;return p.value?(a(),Ee(co,{key:0,message:p.value,code:R.value},null,8,["message","code"])):(a(),r(J,{key:1},[e("div",Xo,[n[54]||(n[54]=e("span",null,"–ü–ª–µ–µ—Ä:",-1)),e("button",{class:"player-btn",onClick:he},d(N.value?Ke(N.value.translate).toUpperCase():"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–µ—Ä–æ–≤..."),1)]),P.value?(a(),Ee(Zo,{key:0,players:m.value,"selected-player":N.value,onClose:se,onSelect:i},null,8,["players","selected-player"])):y("",!0),e("div",{ref_key:"containerRef",ref:x,class:T(["player-container",{"theater-mode":L.value}]),style:Xe(L.value?{}:C.value)},[e("div",{class:T(["iframe-wrapper",{pm_video:Ge.value}]),style:Xe(L.value?{}:ee.value)},[W(e("iframe",{ref_key:"playerIframe",ref:V,src:(D=N.value)==null?void 0:D.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:T(["responsive-iframe",{"theater-mode-unlock":H.value,"theater-mode-lock":L.value,dimmed:xe.value}]),onLoad:Oe},null,42,Qo),[[z,!q.value&&((ie=N.value)==null?void 0:ie.iframe)]]),q.value?(a(),Ee(fo,{key:0})):y("",!0)],6),L.value?(a(),r("button",{key:0,class:T(["close-theater-btn",{visible:H.value}]),onClick:be}," ‚úñ ",2)):y("",!0)],6),L.value?y("",!0):(a(),r("div",Jo,[e("div",en,[U.value?y("",!0):(a(),r("div",{key:0,ref_key:"tooltipContainer",ref:ae,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[tt.value?(a(),r("button",{key:0,class:T(["favorite-btn",{active:(Ce=(_e=l.movieInfo)==null?void 0:_e.lists)==null?void 0:Ce.isFavorite}]),onMouseenter:n[0]||(n[0]=_=>O("favorite")),onMouseleave:ne,onClick:n[1]||(n[1]=_=>te(Y(K).FAVORITE))},[e("span",tn,d((Ae=($e=l.movieInfo)==null?void 0:$e.lists)!=null&&Ae.isFavorite?"favorite":"favorite_border"),1),e("span",{class:T(["material-icons dropdown-arrow",{highlighted:X.value}])},"expand_more",2)],34)):y("",!0),W(e("div",{ref_key:"tooltip",ref:de,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:pe,onMouseleave:ce},[e("div",on,[e("button",{class:T(["favorite-btn",{active:(Pe=(Te=l.movieInfo)==null?void 0:Te.lists)==null?void 0:Pe.isFavorite}]),onClick:n[2]||(n[2]=_=>te(Y(K).FAVORITE))},[e("span",nn,d((We=(qe=l.movieInfo)==null?void 0:qe.lists)!=null&&We.isFavorite?"favorite":"favorite_border"),1),n[55]||(n[55]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))],2)]),e("div",sn,[e("button",{class:T(["watching-btn",{active:(Ve=(Fe=l.movieInfo)==null?void 0:Fe.lists)==null?void 0:Ve.isWatching}]),onClick:n[3]||(n[3]=_=>te(Y(K).WATCHING))},[e("span",ln,d((rt=(ze=l.movieInfo)==null?void 0:ze.lists)!=null&&rt.isWatching?"visibility_off":"visibility"),1),n[56]||(n[56]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))],2)]),e("div",an,[e("button",{class:T(["later-btn",{active:(dt=(ut=l.movieInfo)==null?void 0:ut.lists)==null?void 0:dt.isLater}]),onClick:n[4]||(n[4]=_=>te(Y(K).LATER))},n[57]||(n[57]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ",-1)]),2)]),e("div",rn,[e("button",{class:T(["completed-btn",{active:(vt=(ct=l.movieInfo)==null?void 0:ct.lists)==null?void 0:vt.isCompleted}]),onClick:n[5]||(n[5]=_=>te(Y(K).COMPLETED))},[e("span",un,d((ft=(mt=l.movieInfo)==null?void 0:mt.lists)!=null&&ft.isCompleted?"check_circle":"check_circle_outline"),1),n[58]||(n[58]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))],2)]),e("div",dn,[e("button",{class:T(["abandoned-btn",{active:(gt=(yt=l.movieInfo)==null?void 0:yt.lists)==null?void 0:gt.isAbandoned}]),onClick:n[6]||(n[6]=_=>te(Y(K).ABANDONED))},[e("span",cn,d(((pt=(kt=l.movieInfo)==null?void 0:kt.lists)!=null&&pt.isAbandoned,"not_interested")),1),n[59]||(n[59]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))],2)]),e("div",{class:"tooltip-hint"},[n[61]||(n[61]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[n[60]||(n[60]=Z("–°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ ")),e("a",{class:"settings-link",onClick:po},"–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")])])],544),[[z,v.value==="favorite"&&tt.value]])],512)),U.value?y("",!0):(a(),r(J,{key:1},[e("div",vn,[e("button",{class:T(["dimming-btn",{active:xe.value}]),onMouseenter:n[7]||(n[7]=_=>O("dimming")),onMouseleave:n[8]||(n[8]=_=>v.value=null),onClick:at},[e("span",mn,d(xe.value?"light_mode":"dark_mode"),1)],34),W(e("div",{class:"custom-tooltip","data-tooltip":"dimming"},d(xe.value?"–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ":"–í–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ"),513),[[z,v.value==="dimming"]])]),e("div",fn,[e("button",{class:T(["blur-btn",{"electron-only":!F.value}]),onMouseenter:n[9]||(n[9]=_=>O("blur")),onMouseleave:n[10]||(n[10]=_=>v.value=null),onClick:A},n[62]||(n[62]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),W(e("div",{class:"custom-tooltip","data-tooltip":"blur"},d(F.value?"–ë–ª—é—Ä":"–ë–ª—é—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[z,v.value==="blur"]])]),e("div",yn,[e("button",{class:T(["material-symbols-outlined",{"electron-only":!F.value}]),onMouseenter:n[11]||(n[11]=_=>O("compressor")),onMouseleave:n[12]||(n[12]=_=>v.value=null),onClick:G},n[63]||(n[63]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),W(e("div",{class:"custom-tooltip","data-tooltip":"compressor"},d(F.value?"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä":"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[z,v.value==="compressor"]])]),e("div",gn,[e("button",{class:T(["mirror-btn",{"electron-only":!F.value}]),onMouseenter:n[13]||(n[13]=_=>O("mirror")),onMouseleave:n[14]||(n[14]=_=>v.value=null),onClick:we},n[64]||(n[64]=[e("span",{class:"material-icons"},"flip",-1)]),34),W(e("div",{class:"custom-tooltip","data-tooltip":"mirror"},d(F.value?"–ó–µ—Ä–∫–∞–ª–æ":"–ó–µ—Ä–∫–∞–ª–æ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[z,v.value==="mirror"]])]),e("div",kn,[e("button",{class:"theater-mode-btn",onMouseenter:n[15]||(n[15]=_=>O("theater")),onMouseleave:n[16]||(n[16]=_=>v.value=null),onClick:be},[e("span",pn,d(L.value?"fullscreen_exit":"aspect_ratio"),1)],32),W(e("div",hn,[Z(d(L.value?"–í—ã–π—Ç–∏ –∏–∑ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞":"–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")+" ",1),n[65]||(n[65]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[z,v.value==="theater"]])]),e("div",bn,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:n[17]||(n[17]=_=>O("aspect_ratio")),onMouseleave:ne,onClick:yo},[e("span",_n,d(Q.value),1)],32),W(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:pe,onMouseleave:ce},[(a(),r(J,null,ue(Ze,_=>e("div",{key:_,class:T(["aspect-ratio-option",{active:Q.value===_}]),onClick:ea=>Le(_)},d(_),11,Cn)),64))],544),[[z,v.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:n[19]||(n[19]=_=>O("centering")),onMouseleave:ne},[e("button",{class:"center-btn",onClick:re},n[66]||(n[66]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),W(e("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:pe,onMouseleave:ce},[n[67]||(n[67]=Z(" –û—Ç—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–µ—Ä ")),le(Do,{modelValue:fe.value,"onUpdate:modelValue":n[18]||(n[18]=_=>fe.value=_),title:"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞"},null,8,["modelValue"]),n[68]||(n[68]=e("span",{class:"tooltip-title"},"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞",-1))],544),[[z,v.value==="centering"]])],32),F.value?y("",!0):(a(),r("div",wn,[e("button",{class:"app-link-btn",onMouseenter:n[20]||(n[20]=_=>O("app_link")),onMouseleave:n[21]||(n[21]=_=>v.value=null),onClick:je},n[69]||(n[69]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),W(e("div",En," –û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ",512),[[z,v.value==="app_link"]])])),F.value?(a(),r("div",Mn,[e("button",{class:"copy-link-btn",onMouseenter:n[22]||(n[22]=_=>O("copy_link")),onMouseleave:n[23]||(n[23]=_=>v.value=null),onClick:Re},n[70]||(n[70]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),W(e("div",In," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ",512),[[z,v.value==="copy_link"]])])):y("",!0)],64))]),!U.value&&!tt.value?(a(),r("div",Rn,[e("div",$n,[e("button",{class:T(["favorite-btn",{active:(bt=(ht=l.movieInfo)==null?void 0:ht.lists)==null?void 0:bt.isFavorite}]),onMouseenter:n[24]||(n[24]=_=>O("favorite")),onMouseleave:n[25]||(n[25]=_=>v.value=null),onClick:n[26]||(n[26]=_=>te(Y(K).FAVORITE))},[e("span",An,d((Ct=(_t=l.movieInfo)==null?void 0:_t.lists)!=null&&Ct.isFavorite?"favorite":"favorite_border"),1)],34),W(e("div",Tn,d("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[z,v.value==="favorite"]])]),e("div",Pn,[e("button",{class:T(["watching-btn",{active:(Et=(wt=l.movieInfo)==null?void 0:wt.lists)==null?void 0:Et.isWatching}]),onMouseenter:n[27]||(n[27]=_=>O("watching")),onMouseleave:n[28]||(n[28]=_=>v.value=null),onClick:n[29]||(n[29]=_=>te(Y(K).WATCHING))},[e("span",Sn,d((It=(Mt=l.movieInfo)==null?void 0:Mt.lists)!=null&&It.isWatching?"visibility_off":"visibility"),1)],34),W(e("div",xn,d("–°–º–æ—Ç—Ä—é"),512),[[z,v.value==="watching"]])]),e("div",Ln,[e("button",{class:T(["later-btn",{active:($t=(Rt=l.movieInfo)==null?void 0:Rt.lists)==null?void 0:$t.isLater}]),onMouseenter:n[30]||(n[30]=_=>O("later")),onMouseleave:n[31]||(n[31]=_=>v.value=null),onClick:n[32]||(n[32]=_=>te(Y(K).LATER))},n[71]||(n[71]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),W(e("div",Dn,d("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[z,v.value==="later"]])]),e("div",Nn,[e("button",{class:T(["completed-btn",{active:(Tt=(At=l.movieInfo)==null?void 0:At.lists)==null?void 0:Tt.isCompleted}]),onMouseenter:n[33]||(n[33]=_=>O("completed")),onMouseleave:n[34]||(n[34]=_=>v.value=null),onClick:n[35]||(n[35]=_=>te(Y(K).COMPLETED))},[e("span",Un,d((St=(Pt=l.movieInfo)==null?void 0:Pt.lists)!=null&&St.isCompleted?"check_circle":"check_circle_outline"),1)],34),W(e("div",jn,d("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[z,v.value==="completed"]])]),e("div",Hn,[e("button",{class:T(["abandoned-btn",{active:(Lt=(xt=l.movieInfo)==null?void 0:xt.lists)==null?void 0:Lt.isAbandoned}]),onMouseenter:n[36]||(n[36]=_=>O("abandoned")),onMouseleave:n[37]||(n[37]=_=>v.value=null),onClick:n[38]||(n[38]=_=>te(Y(K).ABANDONED))},[e("span",Bn,d(((Nt=(Dt=l.movieInfo)==null?void 0:Dt.lists)!=null&&Nt.isAbandoned,"not_interested")),1)],34),W(e("div",On,d("–ë—Ä–æ—à–µ–Ω–æ"),512),[[z,v.value==="abandoned"]])])])):U.value?(a(),r("div",Kn,[e("div",qn,[e("button",{class:T(["favorite-btn",{active:(jt=(Ut=l.movieInfo)==null?void 0:Ut.lists)==null?void 0:jt.isFavorite}]),onMouseenter:n[39]||(n[39]=_=>O("favorite")),onMouseleave:n[40]||(n[40]=_=>v.value=null),onClick:n[41]||(n[41]=_=>te(Y(K).FAVORITE))},[e("span",Wn,d((Bt=(Ht=l.movieInfo)==null?void 0:Ht.lists)!=null&&Bt.isFavorite?"favorite":"favorite_border"),1)],34),W(e("div",Fn,d("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[z,v.value==="favorite"]])]),e("div",Vn,[e("button",{class:T(["watching-btn",{active:(Kt=(Ot=l.movieInfo)==null?void 0:Ot.lists)==null?void 0:Kt.isWatching}]),onMouseenter:n[42]||(n[42]=_=>O("watching")),onMouseleave:n[43]||(n[43]=_=>v.value=null),onClick:n[44]||(n[44]=_=>te(Y(K).WATCHING))},[e("span",zn,d((Wt=(qt=l.movieInfo)==null?void 0:qt.lists)!=null&&Wt.isWatching?"visibility_off":"visibility"),1)],34),W(e("div",Yn,d("–°–º–æ—Ç—Ä—é"),512),[[z,v.value==="watching"]])]),e("div",Gn,[e("button",{class:T(["later-btn",{active:(Vt=(Ft=l.movieInfo)==null?void 0:Ft.lists)==null?void 0:Vt.isLater}]),onMouseenter:n[45]||(n[45]=_=>O("later")),onMouseleave:n[46]||(n[46]=_=>v.value=null),onClick:n[47]||(n[47]=_=>te(Y(K).LATER))},n[72]||(n[72]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),W(e("div",Zn,d("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[z,v.value==="later"]])]),e("div",Xn,[e("button",{class:T(["completed-btn",{active:(Yt=(zt=l.movieInfo)==null?void 0:zt.lists)==null?void 0:Yt.isCompleted}]),onMouseenter:n[48]||(n[48]=_=>O("completed")),onMouseleave:n[49]||(n[49]=_=>v.value=null),onClick:n[50]||(n[50]=_=>te(Y(K).COMPLETED))},[e("span",Qn,d((Zt=(Gt=l.movieInfo)==null?void 0:Gt.lists)!=null&&Zt.isCompleted?"check_circle":"check_circle_outline"),1)],34),W(e("div",Jn,d("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[z,v.value==="completed"]])]),e("div",es,[e("button",{class:T(["abandoned-btn",{active:(Qt=(Xt=l.movieInfo)==null?void 0:Xt.lists)==null?void 0:Qt.isAbandoned}]),onMouseenter:n[51]||(n[51]=_=>O("abandoned")),onMouseleave:n[52]||(n[52]=_=>v.value=null),onClick:n[53]||(n[53]=_=>te(Y(K).ABANDONED))},[e("span",ts,d(((eo=(Jt=l.movieInfo)==null?void 0:Jt.lists)!=null&&eo.isAbandoned,"not_interested")),1)],34),W(e("div",os,d("–ë—Ä–æ—à–µ–Ω–æ"),512),[[z,v.value==="abandoned"]])])])):y("",!0)])),le(et,{ref_key:"notificationRef",ref:oe},null,512)],64))}}},ro=Me(ns,[["__scopeId","data-v-2037cb5b"]]),ss={key:0,class:"carousel-container"},is={class:"carousel-wrapper"},ls=["onClick"],as=["src","alt"],rs={class:"video-name"},us={key:0,class:"video-player"},ds=["src"],cs={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(l,{emit:o}){const c=Qe(),s=j(()=>c.isMobile),b=l,w=o,k=g(b.activeVideoIndex),$=g(null),M=g(!1),t=g(!1),m=()=>{if(!$.value)return;const{scrollLeft:x,scrollWidth:P,clientWidth:p}=$.value;M.value=x>0,t.value=x<P-p-1},N=x=>{if(!$.value)return;const P=$.value.querySelector(".carousel-item");if(!P)return;const p=P.clientWidth+16;$.value.scrollBy({left:p*x,behavior:"smooth"})},q=x=>{k.value=x,w("select",b.videos[x])},L=()=>m(),H=g([]),V=async x=>{try{return(await fetch("https://img.youtube.com/vi/".concat(x,"/0.jpg"))).ok}catch(P){return!1}};return Be(async()=>{const x=b.videos.map(async p=>await V(p.videoId)?p:null),P=await Promise.all(x);H.value=P.filter(Boolean),m(),window.addEventListener("resize",L)}),Ne(()=>b.videos,async x=>{const P=x.map(async R=>await V(R.videoId)?R:null),p=await Promise.all(P);H.value=p.filter(Boolean)}),Ne(()=>b.activeVideoIndex,x=>{k.value=x}),it(()=>{window.removeEventListener("resize",L)}),(x,P)=>H.value.length?(a(),r("div",ss,[P[4]||(P[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",is,[W(e("button",{class:"scroll-button left",onClick:P[0]||(P[0]=p=>N(-1))},P[2]||(P[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[z,!s.value&&M.value]]),e("div",{ref_key:"carousel",ref:$,class:"carousel",onScroll:m},[(a(!0),r(J,null,ue(H.value,(p,R)=>(a(),r("div",{key:R,class:"carousel-item",onClick:I=>q(R)},[e("img",{src:"https://img.youtube.com/vi/".concat(p.videoId,"/0.jpg"),alt:p.name},null,8,as),e("div",rs,d(p.name),1)],8,ls))),128))],544),W(e("button",{class:"scroll-button right",onClick:P[1]||(P[1]=p=>N(1))},P[3]||(P[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[z,!s.value&&t.value]])]),k.value!==null?(a(),r("div",us,[e("iframe",{src:l.videos[k.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,ds)])):y("",!0)])):y("",!0)}},vs=Me(cs,[["__scopeId","data-v-e60b5c29"]]),ms={class:"rating-container"},fs={class:"rating-display"},ys={class:"average-rating"},gs={class:"rating-numbers"},ks=["onClick","onMouseenter"],ps={key:0,class:"tooltip-footer"},hs={class:"rating-numbers mobile-rating-numbers"},bs=["onClick"],_s={key:0,class:"mobile-modal-footer"},Cs={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(l){const o=Qe(),c=Je(),s=l,b=g(null),w=g(null),k=g(null),$=g(null),M=g(0),t=g(!1),m=g(!1);let N=null;const q=I=>I?I.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",L=()=>{N=setTimeout(()=>{t.value=!1,o.isMobile||(m.value=!1)},100)},H=()=>{N&&(clearTimeout(N),N=null),t.value=!0},V=()=>{o.isMobile&&(m.value=!m.value)},x=()=>{c.push("/login")},P=async()=>{try{const I=await _o(s.kpId);w.value=I.user_rating,k.value=I.average_rating,$.value=q(I.vote_count)}catch(I){console.error("Error loading rating:",I)}},p=async I=>{var B;try{I===w.value?(await to(s.kpId,null),w.value=null,b.value.showNotification("–û—Ü–µ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞")):(await to(s.kpId,I),w.value=I,b.value.showNotification("–û—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")),o.isMobile&&(m.value=!1),P()}catch(U){console.error("Error setting rating:",U),((B=U.response)==null?void 0:B.status)===401?b.value.showNotification('–î–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:x}):b.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏"),o.isMobile&&(m.value=!1)}},R=()=>{m.value=!1};return Be(()=>{P()}),(I,B)=>(a(),r("div",ms,[e("div",fs,[e("a",{href:"#",class:T(["rating-link",{"has-rating":w.value}]),onMouseenter:B[0]||(B[0]=U=>t.value=!0),onMouseleave:L,onClick:Ye(V,["prevent"])},[B[3]||(B[3]=e("img",{src:xo,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",ys,d(k.value?k.value.toFixed(1).replace(/\.0$/,""):"‚Äî"),1)],34),W(e("div",{class:"rating-tooltip",onMouseenter:H,onMouseleave:L},[e("div",gs,[(a(),r(J,null,ue(10,U=>e("button",{key:U,class:T(["number-btn",{active:U===w.value,hover:U===M.value,"average-highlight":k.value&&U<=Math.round(k.value)}]),onClick:F=>p(U),onMouseenter:F=>M.value=U,onMouseleave:B[1]||(B[1]=F=>M.value=0)},d(U),43,ks)),64))]),$.value?(a(),r("div",ps,"–û—Ü–µ–Ω–æ–∫: "+d($.value),1)):y("",!0)],544),[[z,(t.value||m.value)&&!Y(o).isMobile]])]),le(et,{ref_key:"notificationRef",ref:b},null,512),Y(o).isMobile&&m.value?(a(),r("div",{key:0,class:"mobile-modal-overlay",onClick:R},[e("div",{class:"mobile-modal",onClick:B[2]||(B[2]=Ye(()=>{},["stop"]))},[e("div",{class:"mobile-modal-header"},[B[4]||(B[4]=e("h3",null,"–û—Ü–µ–Ω–∏—Ç—å —Ñ–∏–ª—å–º",-1)),e("button",{class:"close-button",onClick:R},"√ó")]),e("div",hs,[(a(),r(J,null,ue(10,U=>e("button",{key:U,class:T(["number-btn",{active:U===w.value,"average-highlight":k.value&&U<=Math.round(k.value)}]),onClick:F=>p(U)},d(U),11,bs)),64))]),$.value?(a(),r("div",_s,"–û—Ü–µ–Ω–æ–∫: "+d($.value),1)):y("",!0)])])):y("",!0)]))}},ws=Me(Cs,[["__scopeId","data-v-f605dbe5"]]),Es={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const l=this.categories.find(o=>o.name===this.activeCategory);return l?l.emojis:[]}},methods:{selectEmoji(l){this.$emit("emoji-selected",l)}}},Ms={class:"emoji-categories"},Is=["onClick"],Rs={class:"emoji-grid"},$s=["onClick"];function As(l,o,c,s,b,w){return c.isVisible?(a(),r("div",{key:0,class:"emoji-picker",onMouseenter:o[1]||(o[1]=k=>l.$emit("mouse-enter")),onMouseleave:o[2]||(o[2]=k=>l.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:o[0]||(o[0]=k=>l.$emit("close"))},o[3]||(o[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",Ms,[(a(!0),r(J,null,ue(b.categories,k=>(a(),r("button",{key:k.name,onClick:$=>b.activeCategory=k.name,class:T([{active:b.activeCategory===k.name},"category-btn"]),type:"button"},d(k.icon),11,Is))),128))]),e("div",Rs,[(a(!0),r(J,null,ue(w.currentEmojis,k=>(a(),r("button",{key:k,onClick:$=>w.selectEmoji(k),class:"emoji-btn",type:"button"},d(k),9,$s))),128))])],32)):y("",!0)}const lt=Me(Es,[["render",As],["__scopeId","data-v-5f18a3b7"]]),Ts={name:"CommentItem",components:{EmojiPicker:lt},props:{comment:{type:Object,required:!0,default:()=>({username:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(l,{emit:o}){var he,se;const c=Je(),s=j(()=>{var i;return l.editingCommentId===((i=l.comment)==null?void 0:i.id)}),b=g(((he=l.comment)==null?void 0:he.content)||""),w=g(((se=l.comment)==null?void 0:se.user_rating)||0),k=g(null),$=g(null),M=g(!1),t=g(!1),m=g(!1),N=i=>{if(!i)return"?";const A=i.split(" ");return A.length===1?i.slice(0,2).toUpperCase():(A[0][0]+A[A.length-1][0]).toUpperCase()},q=i=>{if(!i)return"";const A=i.substring(0,4),G=i.substring(4,6),we=i.substring(6,8),be=i.substring(9,11),Ie=i.substring(11,13),Se=i.substring(13,15);return new Date(Date.UTC(parseInt(A),parseInt(G)-1,parseInt(we),parseInt(be),parseInt(Ie),parseInt(Se))).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})},L=i=>{if(!i)return"";const A=i.substring(0,4),G=i.substring(4,6),we=i.substring(6,8),be=i.substring(9,11),Ie=i.substring(11,13),Se=i.substring(13,15),xe=new Date(Date.UTC(parseInt(A),parseInt(G)-1,parseInt(we),parseInt(be),parseInt(Ie),parseInt(Se))),Ue=Math.floor((new Date-xe)/1e3);if(Ue<60)return"—Ç–æ–ª—å–∫–æ —á—Ç–æ";const Le=Math.floor(Ue/60);if(Le<60)return"".concat(Le," ").concat(H(Le)," –Ω–∞–∑–∞–¥");const je=Math.floor(Le/60);if(je<24)return"".concat(je," ").concat(V(je)," –Ω–∞–∑–∞–¥");const Re=Math.floor(je/24);if(Re<7)return"".concat(Re," ").concat(x(Re)," –Ω–∞–∑–∞–¥");const Oe=Math.floor(Re/7);if(Oe<4)return"".concat(Oe," ").concat(P(Oe)," –Ω–∞–∑–∞–¥");const Ke=Math.floor(Re/30);if(Ke<12)return"".concat(Ke," ").concat(p(Ke)," –Ω–∞–∑–∞–¥");const Ge=Math.floor(Re/365);return"".concat(Ge," ").concat(R(Ge)," –Ω–∞–∑–∞–¥")},H=i=>i%10===1&&i%100!==11?"–º–∏–Ω—É—Ç—É":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"–º–∏–Ω—É—Ç—ã":"–º–∏–Ω—É—Ç",V=i=>i%10===1&&i%100!==11?"—á–∞—Å":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"—á–∞—Å–∞":"—á–∞—Å–æ–≤",x=i=>i%10===1&&i%100!==11?"–¥–µ–Ω—å":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"–¥–Ω—è":"–¥–Ω–µ–π",P=i=>i%10===1&&i%100!==11?"–Ω–µ–¥–µ–ª—é":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"–Ω–µ–¥–µ–ª–∏":"–Ω–µ–¥–µ–ª—å",p=i=>i%10===1&&i%100!==11?"–º–µ—Å—è—Ü":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"–º–µ—Å—è—Ü–∞":"–º–µ—Å—è—Ü–µ–≤",R=i=>i%10===1&&i%100!==11?"–≥–æ–¥":[2,3,4].includes(i%10)&&![12,13,14].includes(i%100)?"–≥–æ–¥–∞":"–ª–µ—Ç";Be(async()=>{var i;if((i=l.comment)!=null&&i.user_avatar){const A=await Co();k.value="".concat(A).concat(l.comment.user_avatar)}});const I=j(()=>{var i;return l.currentUser&&((i=l.comment)==null?void 0:i.user_id)===l.currentUser.id}),B=j(()=>{var i;return l.currentUser&&((i=l.comment)==null?void 0:i.user_id)===l.currentUser.id||l.currentUser&&l.currentUser.is_admin===1}),U=j(()=>{var i,A,G;return((i=l.comment)==null?void 0:i.updated_at)&&((A=l.comment)==null?void 0:A.updated_at)!==((G=l.comment)==null?void 0:G.created_at)}),F=j(()=>{var i,A;return(i=l.comment)!=null&&i.is_deleted?!1:(((A=l.comment)==null?void 0:A.rating)||0)<=-3}),v=j(()=>F.value),me=g(!1),ge=j(()=>{var i,A;return(i=l.comment)!=null&&i.is_deleted?null:(((A=l.comment)==null?void 0:A.rating)||0)<=-3?"lowRating":null}),oe=()=>{var i,A;o("start-edit",(i=l.comment)==null?void 0:i.id),b.value=((A=l.comment)==null?void 0:A.content)||"",ye(()=>{$.value&&($.value.focus(),E({target:$.value}))})},ae=()=>{var i;o("cancel-edit"),b.value=((i=l.comment)==null?void 0:i.content)||""},de=()=>{var i;b.value.trim()&&o("edit",(i=l.comment)==null?void 0:i.id,b.value.trim())},ke=()=>{var i;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&o("delete",(i=l.comment)==null?void 0:i.id)},O=i=>{var A,G;w.value===i?(w.value=0,o("rate",(A=l.comment)==null?void 0:A.id,i)):(w.value=i,o("rate",(G=l.comment)==null?void 0:G.id,i))},ne=()=>{var i;c.push("/lists/".concat((i=l.comment)==null?void 0:i.user_id))},pe=i=>{i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),de())},ce=j(()=>{var i,A;return((A=(i=l.comment)==null?void 0:i.content)==null?void 0:A.length)>300}),Q=g(!1),fe=j(()=>{var i,A,G;return ce.value&&!Q.value?((A=(i=l.comment)==null?void 0:i.content)==null?void 0:A.slice(0,300))+"...":((G=l.comment)==null?void 0:G.content)||""}),X=()=>{Q.value=!Q.value},E=i=>{const A=i.target;A&&(A.style.height="auto",A.style.height="".concat(Math.min(A.scrollHeight,200),"px"))},u=i=>{const A=$.value;if(A){const G=A.selectionStart,we=A.selectionEnd,be=b.value.substring(0,G),Ie=b.value.substring(we);b.value=be+i+Ie,ye(()=>{A.focus(),A.setSelectionRange(G+i.length,G+i.length),E({target:A})})}else b.value+=i},f=()=>{m.value=!0},S=()=>{m.value=!1,setTimeout(()=>{!m.value&&!t.value&&(M.value=!1)},300)},C=()=>{M.value=!1},ee=()=>{t.value=!0,M.value=!0},re=()=>{t.value=!1,setTimeout(()=>{!m.value&&!t.value&&(M.value=!1)},300)},ve=()=>{console.log("Avatar load error, falling back to initials"),k.value=null,ye(()=>{const i=document.querySelector(".avatar-placeholder");i&&(i.style.display="flex")})};return Ne(b,()=>{s.value&&$.value&&ye(()=>{E({target:$.value})})}),{isEditing:s,editContent:b,userRating:w,isCommentOwner:I,canDeleteComment:B,isCommentEdited:U,formatDate:q,formatRelativeTime:L,startEdit:oe,cancelEdit:ae,saveEdit:de,confirmDelete:ke,rateComment:O,avatarUrl:k,getInitials:N,goToUserLists:ne,handleEditKeydown:pe,isCommentHidden:v,showHiddenComment:me,hiddenCommentReason:ge,isLongComment:ce,isExpanded:Q,displayedText:fe,toggleExpanded:X,autoResizeEdit:E,editTextarea:$,showEmojiPicker:M,insertEmojiEdit:u,handleEmojiMouseEnter:f,handleEmojiMouseLeave:S,closeEmojiPicker:C,handleButtonMouseEnter:ee,handleButtonMouseLeave:re,handleAvatarError:ve}}},Ps=["data-comment-id"],Ss={class:"comment-header"},xs={class:"user-info"},Ls=["href"],Ds={class:"user-avatar"},Ns=["src","alt"],Us=["href"],js=["title"],Hs={key:0,class:"edited-indicator"},Bs={class:"comment-content"},Os={key:0,class:"hidden-comment-warning"},Ks={key:1},qs={key:0,class:"deleted-comment"},Ws={key:1},Fs={key:0,class:"edit-form"},Vs={class:"edit-textarea-container"},zs={class:"edit-footer"},Ys={class:"edit-actions"},Gs=["disabled"],Zs={class:"character-counter-container"},Xs={key:1,class:"comment-text-container"},Qs={class:"comment-footer"},Js={class:"comment-actions"},ei={class:"rating-buttons"},ti={class:"action-buttons"};function oi(l,o,c,s,b,w){var $,M,t,m,N,q,L,H,V,x,P,p,R,I,B,U,F;const k=De("EmojiPicker");return a(),r("div",{class:"comment-item","data-comment-id":($=c.comment)==null?void 0:$.id},[e("div",Ss,[e("div",xs,[e("a",{href:"/lists/".concat((M=c.comment)==null?void 0:M.user_id),target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},[e("div",Ds,[s.avatarUrl?(a(),r("img",{key:0,src:s.avatarUrl,alt:((t=c.comment)==null?void 0:t.username)||"–ê–Ω–æ–Ω–∏–º",onError:o[0]||(o[0]=(...v)=>s.handleAvatarError&&s.handleAvatarError(...v)),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,Ns)):(a(),r("div",{key:1,class:"avatar-placeholder",style:Xe({display:s.avatarUrl?"none":"flex"})},d(s.getInitials(((m=c.comment)==null?void 0:m.username)||"–ê–Ω–æ–Ω–∏–º")),5))])],8,Ls),e("div",null,[e("a",{href:"/lists/".concat((N=c.comment)==null?void 0:N.user_id),target:"_blank",rel:"noopener noreferrer",class:"username-link"},d(((q=c.comment)==null?void 0:q.username)||"–ê–Ω–æ–Ω–∏–º"),9,Us),e("span",{class:"date",title:s.formatDate((L=c.comment)==null?void 0:L.created_at)},[Z(d(s.formatRelativeTime((H=c.comment)==null?void 0:H.created_at))+" ",1),s.isCommentEdited?(a(),r("span",Hs," (–∏–∑–º–µ–Ω–µ–Ω–æ "+d(s.formatDate((V=c.comment)==null?void 0:V.updated_at))+") ",1)):y("",!0)],8,js)])])]),e("div",Bs,[!((x=c.comment)!=null&&x.is_deleted)&&s.isCommentHidden&&!s.showHiddenComment?(a(),r("div",Os,[s.hiddenCommentReason==="lowRating"?(a(),r("p",{key:0,class:"warning-text",onClick:o[1]||(o[1]=v=>s.showHiddenComment=!0)},o[15]||(o[15]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):y("",!0)])):(a(),r("div",Ks,[(P=c.comment)!=null&&P.is_deleted?(a(),r("div",qs,o[16]||(o[16]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),Z(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(a(),r("div",Ws,[s.isEditing?(a(),r("div",Fs,[e("div",Vs,[W(e("textarea",{ref:"editTextarea","onUpdate:modelValue":o[2]||(o[2]=v=>s.editContent=v),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:o[3]||(o[3]=(...v)=>s.handleEditKeydown&&s.handleEditKeydown(...v)),onInput:o[4]||(o[4]=(...v)=>s.autoResizeEdit&&s.autoResizeEdit(...v))},null,544),[[mo,s.editContent]])]),e("div",zs,[e("div",Ys,[e("button",{onClick:o[5]||(o[5]=(...v)=>s.cancelEdit&&s.cancelEdit(...v)),class:"cancel-button"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:o[6]||(o[6]=(...v)=>s.saveEdit&&s.saveEdit(...v)),class:"save-button",disabled:!s.editContent.trim()||s.editContent.length>1500}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Gs)]),e("div",Zs,[e("div",{class:T(["character-counter-inline",{"near-limit":s.editContent.length>1400,"at-limit":s.editContent.length>=1500}])},d(s.editContent.length)+"/1500 ",3),e("button",{type:"button",class:T(["emoji-button-inline",{active:s.showEmojiPicker}]),onMouseenter:o[7]||(o[7]=(...v)=>s.handleButtonMouseEnter&&s.handleButtonMouseEnter(...v)),onMouseleave:o[8]||(o[8]=(...v)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...v))}," üòä ",34),le(k,{"is-visible":s.showEmojiPicker,onEmojiSelected:s.insertEmojiEdit,onMouseEnter:s.handleEmojiMouseEnter,onMouseLeave:s.handleEmojiMouseLeave,onClose:s.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"])])])])):(a(),r("div",Xs,[e("p",{class:T(["comment-text",{truncated:s.isLongComment&&!s.isExpanded}])},d(s.displayedText),3),s.isLongComment?(a(),r("button",{key:0,onClick:o[9]||(o[9]=(...v)=>s.toggleExpanded&&s.toggleExpanded(...v)),class:"expand-button"},d(s.isExpanded?"–°–≤–µ—Ä–Ω—É—Ç—å":"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å"),1)):y("",!0)]))]))]))]),e("div",Qs,[e("div",Js,[e("div",ei,[!s.isCommentOwner&&!((p=c.comment)!=null&&p.is_deleted)?(a(),r("button",{key:0,onClick:o[10]||(o[10]=v=>s.rateComment(1)),class:T(["rating-button",{"rated-up":s.userRating===1}])},o[17]||(o[17]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):y("",!0),e("span",{class:T(["rating-count",{"rating-positive":s.userRating===1,"rating-negative":s.userRating===-1}])},d(((R=c.comment)==null?void 0:R.rating)||0),3),!s.isCommentOwner&&!((I=c.comment)!=null&&I.is_deleted)?(a(),r("button",{key:1,onClick:o[11]||(o[11]=v=>s.rateComment(-1)),class:T(["rating-button",{"rated-down":s.userRating===-1}])},o[18]||(o[18]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):y("",!0)]),e("div",ti,[!c.currentUser||c.currentUser.allow_comments===1?(a(),r("button",{key:0,onClick:o[12]||(o[12]=v=>l.$emit("reply",c.comment)),class:"action-button reply-button"},o[19]||(o[19]=[e("i",{class:"fas fa-reply"},null,-1)]))):y("",!0),s.isCommentOwner&&!((B=c.comment)!=null&&B.is_deleted)&&!s.isEditing&&((U=c.currentUser)==null?void 0:U.allow_comments)===1?(a(),r("button",{key:1,onClick:o[13]||(o[13]=(...v)=>s.startEdit&&s.startEdit(...v)),class:"action-button edit-button"},o[20]||(o[20]=[e("i",{class:"fas fa-edit"},null,-1)]))):y("",!0),s.canDeleteComment&&!((F=c.comment)!=null&&F.is_deleted)?(a(),r("button",{key:2,onClick:o[14]||(o[14]=(...v)=>s.confirmDelete&&s.confirmDelete(...v)),class:"action-button delete-button"},o[21]||(o[21]=[e("i",{class:"fas fa-trash"},null,-1)]))):y("",!0)])])])],8,Ps)}const ni=Me(Ts,[["render",oi],["__scopeId","data-v-e4a49549"]]),si={name:"CommentThread",components:{CommentItem:ni,EmojiPicker:lt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],data(){return{isCollapsed:!0,showEmojiPicker:!1,isButtonHovered:!1,isEmojiHovered:!1}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."}},watch:{replyTo:{handler(l){l&&l.id===this.comment.id&&this.$nextTick(()=>{this.$refs.replyTextarea&&this.$refs.replyTextarea.focus()})},immediate:!0},"comment.replies":{handler(l,o){l&&o&&l.length>o.length&&(this.isCollapsed=!1)},deep:!0}},methods:{toggleCollapsed(){this.isCollapsed=!this.isCollapsed},handleReplyInput(l){this.$emit("update-reply-content",l.target.value);const o=l.target;o&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))},insertEmoji(l){const o=this.$refs.replyTextarea;if(o){const c=o.selectionStart,s=o.selectionEnd,b=o.value,w=b.substring(0,c),k=b.substring(s);o.value=w+l+k,this.$emit("update-reply-content",o.value),this.$nextTick(()=>{o.focus(),o.setSelectionRange(c+l.length,c+l.length),this.handleReplyInput({target:o})})}},handleEmojiMouseEnter(){this.isEmojiHovered=!0},handleEmojiMouseLeave(){this.isEmojiHovered=!1,setTimeout(()=>{!this.isEmojiHovered&&!this.isButtonHovered&&(this.showEmojiPicker=!1)},300)},handleButtonMouseEnter(){this.isButtonHovered=!0,this.showEmojiPicker=!0},handleButtonMouseLeave(){this.isButtonHovered=!1,setTimeout(()=>{!this.isEmojiHovered&&!this.isButtonHovered&&(this.showEmojiPicker=!1)},300)},closeEmojiPicker(){this.showEmojiPicker=!1}},mounted(){},beforeUnmount(){}},ii={class:"comment-thread"},li={key:0,class:"reply-form"},ai={class:"textarea-container"},ri=["value","placeholder","disabled"],ui={class:"reply-footer"},di={class:"reply-actions"},ci=["disabled"],vi={class:"character-counter-container"},mi=["disabled"],fi={key:1,class:"replies-container"},yi=["title"],gi={class:"replies-count"},ki=["title"],pi={key:0,class:"replies-content"};function hi(l,o,c,s,b,w){const k=De("CommentItem"),$=De("EmojiPicker"),M=De("CommentThread",!0);return a(),r("div",ii,[le(k,{comment:c.comment,"current-user":c.currentUser,"editing-comment-id":c.editingCommentId,onReply:o[0]||(o[0]=t=>l.$emit("reply",t)),onStartEdit:o[1]||(o[1]=t=>l.$emit("start-edit",t)),onCancelEdit:o[2]||(o[2]=t=>l.$emit("cancel-edit")),onEdit:o[3]||(o[3]=(t,m)=>l.$emit("edit",t,m)),onDelete:o[4]||(o[4]=t=>l.$emit("delete",t)),onRate:o[5]||(o[5]=(t,m)=>l.$emit("rate",t,m))},null,8,["comment","current-user","editing-comment-id"]),c.replyTo&&c.replyTo.id===c.comment.id?(a(),r("div",li,[e("div",ai,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:c.replyContent,onInput:o[6]||(o[6]=(...t)=>w.handleReplyInput&&w.handleReplyInput(...t)),placeholder:w.getReplyPlaceholder,disabled:c.currentUser&&c.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onKeydown:o[7]||(o[7]=t=>l.$emit("reply-keydown",t))},null,40,ri)]),e("div",ui,[e("div",di,[e("button",{class:"cancel-reply",onClick:o[8]||(o[8]=t=>l.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!c.replyContent.trim()||c.replyContent.length>1500||c.currentUser&&c.currentUser.allow_comments!==1,onClick:o[9]||(o[9]=t=>l.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,ci)]),e("div",vi,[e("div",{class:T(["character-counter-inline",{"near-limit":c.replyContent.length>1400,"at-limit":c.replyContent.length>=1500}])},d(c.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:T(["emoji-button-inline",{active:b.showEmojiPicker}]),onMouseenter:o[10]||(o[10]=(...t)=>w.handleButtonMouseEnter&&w.handleButtonMouseEnter(...t)),onMouseleave:o[11]||(o[11]=(...t)=>w.handleButtonMouseLeave&&w.handleButtonMouseLeave(...t)),disabled:c.currentUser&&c.currentUser.allow_comments!==1}," üòä ",42,mi),le($,{"is-visible":b.showEmojiPicker&&w.canReply,onEmojiSelected:w.insertEmoji,onMouseEnter:w.handleEmojiMouseEnter,onMouseLeave:w.handleEmojiMouseLeave,onClose:w.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"])])])])):y("",!0),c.comment.replies&&c.comment.replies.length>0?(a(),r("div",fi,[e("button",{class:"collapse-toggle",onClick:o[12]||(o[12]=(...t)=>w.toggleCollapsed&&w.toggleCollapsed(...t)),title:b.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã"},[e("span",{class:T(["collapse-icon",{expanded:!b.isCollapsed}])},o[24]||(o[24]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",gi,d(c.comment.replies.length)+" "+d(c.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,yi),e("div",{class:"vertical-line-clickable",onClick:o[13]||(o[13]=(...t)=>w.toggleCollapsed&&w.toggleCollapsed(...t)),title:b.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã"},[e("div",{class:T(["vertical-line-visual",{collapsed:b.isCollapsed}])},null,2)],8,ki),b.isCollapsed?y("",!0):(a(),r("div",pi,[(a(!0),r(J,null,ue(c.comment.replies,t=>(a(),Ee(M,{key:t.id,comment:t,"current-user":c.currentUser,"reply-to":c.replyTo,"reply-content":c.replyContent,"editing-comment-id":c.editingCommentId,onReply:o[14]||(o[14]=m=>l.$emit("reply",m)),onStartEdit:o[15]||(o[15]=m=>l.$emit("start-edit",m)),onCancelEdit:o[16]||(o[16]=m=>l.$emit("cancel-edit")),onEdit:o[17]||(o[17]=(m,N)=>l.$emit("edit",m,N)),onDelete:o[18]||(o[18]=m=>l.$emit("delete",m)),onRate:o[19]||(o[19]=(m,N)=>l.$emit("rate",m,N)),onSubmitReply:o[20]||(o[20]=m=>l.$emit("submit-reply")),onCancelReply:o[21]||(o[21]=m=>l.$emit("cancel-reply")),onUpdateReplyContent:o[22]||(o[22]=m=>l.$emit("update-reply-content",m)),onReplyKeydown:o[23]||(o[23]=m=>l.$emit("reply-keydown",m))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):y("",!0)])}const bi=Me(si,[["render",hi],["__scopeId","data-v-679a760a"]]),_i={name:"Comments",components:{CommentThread:bi,Notification:et,EmojiPicker:lt},props:{movieId:{type:[String,Number],required:!0}},setup(l){const o=st(),c=Je(),s=g([]),b=g(""),w=g(null),k=g(""),$=g(null),M=g(o.user),t=g(null),m=g(null),N=g(!1),q=g(!1),L=g(!1),H=g(!1),V=g(!1),x=j(()=>{const f=(S=null)=>s.value.filter(C=>C.parent_id===S).sort((C,ee)=>C.id-ee.id).map(C=>({...C,replies:f(C.id)}));return f()}),P=j(()=>{const f=S=>S.reduce((C,ee)=>C+1+f(ee.replies||[]),0);return f(x.value)}),p=f=>f===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":f>=2&&f<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",R=async()=>{try{const f=await wo(l.movieId);s.value=f}catch(f){console.error("Failed to load comments:",f),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},I=async()=>{if(!V.value){if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}if(M.value&&M.value.allow_comments!==1){t.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(b.value.trim()){if(b.value.length>1500){t.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await oo(l.movieId,b.value.trim()),b.value="",await R(),N.value=!0,ye(()=>{m.value&&(m.value.focus(),m.value.style.height="auto"),setTimeout(()=>{const f=document.querySelectorAll(".comment-item[data-comment-id]");if(f.length>0){const S=Array.from(f).map(C=>parseInt(C.getAttribute("data-comment-id"))).filter(C=>!isNaN(C));if(S.length>0){const C=Math.max(...S),ee=document.querySelector('[data-comment-id="'.concat(C,'"]'));ee&&ee.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(f){console.error("Failed to create comment:",f),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}}},B=f=>{if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}$.value=null,w.value=f,k.value="",ye(()=>{const S=document.querySelector(".reply-form");S&&S.scrollIntoView({behavior:"smooth",block:"center"})})},U=async()=>{if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}if(M.value&&M.value.allow_comments!==1){t.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!k.value.trim()||!w.value)){if(k.value.length>1500){t.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await oo(l.movieId,k.value.trim(),w.value.id);const f=w.value.id;await R(),k.value="",w.value=null,ye(()=>{setTimeout(()=>{const S=document.querySelector('[data-comment-id="'.concat(f,'"]'));if(S){const C=S.querySelector(".replies-content");if(C){const ee=C.querySelectorAll(".comment-item[data-comment-id]");if(ee.length>0){const re=Array.from(ee).map(ve=>parseInt(ve.getAttribute("data-comment-id"))).filter(ve=>!isNaN(ve));if(re.length>0){const ve=Math.max(...re),he=document.querySelector('[data-comment-id="'.concat(ve,'"]'));he&&he.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(f){console.error("Error submitting reply:",f),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},F=async(f,S)=>{if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}if(M.value&&M.value.allow_comments!==1){t.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(S.length>1500){t.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await Io(f,S.trim()),await R(),$.value=null}catch(C){console.error("Failed to update comment:",C),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},v=async f=>{if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}try{await Mo(f),await R()}catch(S){console.error("Failed to delete comment:",S),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},me=async(f,S)=>{if(!o.token){t.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ae});return}try{await Eo(f,S),await R()}catch(C){console.error("Failed to rate comment:",C),t.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},ge=f=>{V.value||q.value||f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),I())},oe=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),U())},ae=()=>{c.push("/login")},de=f=>{const S=(f==null?void 0:f.target)||m.value;S&&(S.style.height="auto",S.style.height="".concat(Math.min(S.scrollHeight,200),"px"))},ke=f=>{if(V.value=!0,m.value){const S=m.value.selectionStart,C=m.value.selectionEnd;b.value=b.value.slice(0,S)+f+b.value.slice(C),ye(()=>{m.value.focus(),m.value.setSelectionRange(S+f.length,S+f.length),de(),setTimeout(()=>{V.value=!1},100)})}else V.value=!1},O=()=>{L.value=!0},ne=()=>{L.value=!1,setTimeout(()=>{!L.value&&!H.value&&(q.value=!1)},300)},pe=()=>{q.value=!1},ce=()=>{H.value=!1,setTimeout(()=>{!L.value&&!H.value&&(q.value=!1)},300)},Q=()=>{H.value=!0,q.value=!0},fe=j(()=>M.value?M.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),X=j(()=>M.value?M.value.allow_comments===1:!0),E=f=>{w.value=null,k.value="",$.value=f},u=()=>{$.value=null};return Be(()=>{R()}),it(()=>{}),{comments:s,groupedComments:x,newComment:b,replyTo:w,replyContent:k,editingCommentId:$,currentUser:M,notificationRef:t,commentTextarea:m,showComments:N,submitComment:I,handleReply:B,submitReply:U,handleEdit:F,handleDelete:v,handleRate:me,handleCommentKeydown:ge,handleReplyKeydown:oe,autoResize:de,totalCommentsCount:P,getCommentWordForm:p,showEmojiPicker:q,insertEmoji:ke,handleEmojiMouseEnter:O,handleEmojiMouseLeave:ne,closeEmojiPicker:pe,handleButtonMouseLeave:ce,handleButtonMouseEnter:Q,getCommentPlaceholder:fe,canComment:X,handleStartEdit:E,handleCancelEdit:u}}},Ci={class:"comments-section"},wi={class:"spoiler-content"},Ei={class:"comments-count"},Mi={key:1,class:"comments-container"},Ii={class:"comments-header"},Ri={class:"textarea-container"},$i=["placeholder","disabled"],Ai={class:"comment-footer"},Ti={class:"comment-actions"},Pi=["disabled"],Si={class:"character-counter-container"},xi=["disabled"],Li={class:"comments-list"};function Di(l,o,c,s,b,w){const k=De("EmojiPicker"),$=De("CommentThread"),M=De("Notification");return a(),r("div",Ci,[s.showComments?(a(),r("div",Mi,[e("div",Ii,[e("button",{class:"hide-comments-btn",onClick:o[1]||(o[1]=t=>s.showComments=!1)},o[13]||(o[13]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:o[7]||(o[7]=Ye((...t)=>s.submitComment&&s.submitComment(...t),["prevent"]))},[e("div",Ri,[W(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":o[2]||(o[2]=t=>s.newComment=t),class:"comment-textarea",placeholder:s.getCommentPlaceholder,disabled:s.currentUser&&s.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:o[3]||(o[3]=(...t)=>s.autoResize&&s.autoResize(...t)),onKeydown:o[4]||(o[4]=(...t)=>s.handleCommentKeydown&&s.handleCommentKeydown(...t))},null,40,$i),[[mo,s.newComment]])]),e("div",Ai,[e("div",Ti,[e("button",{class:"submit-button",type:"submit",disabled:!s.newComment.trim()||s.newComment.length>1500||s.currentUser&&s.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,Pi)]),e("div",Si,[e("div",{class:T(["character-counter-inline",{"near-limit":s.newComment.length>1400,"at-limit":s.newComment.length>=1500}])},d(s.newComment.length)+"/1500 ",3),e("button",{type:"button",class:T(["emoji-button-inline",{active:s.showEmojiPicker}]),disabled:s.currentUser&&s.currentUser.allow_comments!==1,onMouseenter:o[5]||(o[5]=(...t)=>s.handleButtonMouseEnter&&s.handleButtonMouseEnter(...t)),onMouseleave:o[6]||(o[6]=(...t)=>s.handleButtonMouseLeave&&s.handleButtonMouseLeave(...t))}," üòä ",42,xi),le(k,{"is-visible":s.showEmojiPicker&&s.canComment,onEmojiSelected:s.insertEmoji,onMouseEnter:s.handleEmojiMouseEnter,onMouseLeave:s.handleEmojiMouseLeave,onClose:s.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"])])])],32),e("div",Li,[(a(!0),r(J,null,ue(s.groupedComments,t=>(a(),Ee($,{key:t.id,comment:t,"current-user":s.currentUser,"reply-to":s.replyTo,"reply-content":s.replyContent,"editing-comment-id":s.editingCommentId,"is-first-comment":!1,onReply:s.handleReply,onStartEdit:s.handleStartEdit,onCancelEdit:s.handleCancelEdit,onEdit:s.handleEdit,onDelete:s.handleDelete,onRate:s.handleRate,onSubmitReply:s.submitReply,onCancelReply:o[8]||(o[8]=m=>s.replyTo=null),onUpdateReplyContent:o[9]||(o[9]=m=>s.replyContent=m),onReplyKeydown:s.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128))])])):(a(),r("div",{key:0,class:"spoiler-warning",onClick:o[0]||(o[0]=t=>s.showComments=!0)},[e("div",wi,[o[10]||(o[10]=e("i",{class:"fas fa-eye-slash"},null,-1)),o[11]||(o[11]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),o[12]||(o[12]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",Ei,d(s.totalCommentsCount)+" "+d(s.getCommentWordForm(s.totalCommentsCount)),1)])])),le(M,{ref:"notificationRef"},null,512)])}const Ni=Me(_i,[["render",Di],["__scopeId","data-v-9ecc20fb"]]),Ui={class:"movie-info"},ji={class:"content"},Hi={key:0,class:"content-card"},Bi={class:"movie-skeleton"},Oi={class:"movie-skeleton__player"},Ki={key:2,class:"content-card"},qi={key:3,class:"content-card"},Wi={class:"content-header"},Fi=["src"],Vi={class:"content-title"},zi={key:0,class:"ratings-links"},Yi={key:1},Gi=["href","title"],Zi={key:2},Xi=["href","title"],Qi={key:3},Ji=["href","title"],el={key:4},tl=["href","title"],ol={key:5},nl=["href"],sl={key:6,class:"rating-links-group"},il=["href"],ll=["title"],al={key:0,class:"fa-regular fa-face-grin-wink"},rl={key:1,class:"fas fa-spinner fa-spin"},ul={key:2,class:"nudity-info-popup"},dl={class:"nudity-info-content"},cl=["content"],vl=["content"],ml={class:"additional-info"},fl={class:"info-content"},yl={class:"details-container"},gl={class:"info-list"},kl={key:0},pl={key:1},hl={key:2},bl={key:3},_l={key:4},Cl={key:5},wl={key:6},El={key:7},Ml={key:8},Il={class:"content-info"},Rl={key:0,class:"content-description-text"},$l={key:2,class:"comments-section"},Al={key:3,class:"staff-section"},Tl={class:"staff-categories"},Pl={key:0,class:"staff-category"},Sl={class:"staff-list"},xl=["href","title"],Ll=["src","alt"],Dl={class:"staff-name"},Nl={key:0,class:"staff-role"},Ul=["href","title"],jl={key:1,class:"staff-category"},Hl={class:"staff-names-container"},Bl={class:"staff-names-list"},Ol=["href"],Kl=["href","title"],ql={key:2,class:"staff-category"},Wl={class:"staff-names-container"},Fl={class:"staff-names-list"},Vl=["href"],zl=["href","title"],Yl={key:4,class:"yt-video-container"},Gl={key:5,class:"related-movies"},Zl=["title"],Xl={key:6,class:"related-movies"},Ql=["title"],Jl={__name:"MovieInfo",setup(l){const o=g(!0),c=Qe(),s=st(),b=Ro(),w=uo(),k=g(w.params.kp_id),$=g(""),M=g(null),t=g(null),m=$o(),q=No().areTrailersActive,L=g(null),H=g(!1),V=g(!1),x=g(10),P=g(null),p=g(!1),R=j(()=>c.isCommentsEnabled),I=()=>{if(t.value){const E=t.value.name_ru||t.value.name_en||t.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=E}},B=E=>E?E.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",U=E=>(E||[]).map(u=>({kp_id:u.film_id,poster:u.poster_url_preview||u.poster_url,title:u.name_ru||u.name_en||u.name_original})),F=E=>{if(typeof E!="number")return;const u=Math.floor(E/60),f=E%60;return"".concat(u," —á. ").concat(f," –º–∏–Ω.")},v=g(!1),me=g({top:"0px",left:"0px"}),ge=E=>{v.value=!0,me.value={top:"".concat(E.pageY+10,"px"),left:"".concat(E.pageX-70,"px")}},oe=g(null),ae=async()=>{try{const E=[t.value.name_ru||t.value.name_en||t.value.name_original,...t.value.year?[t.value.year]:[],...t.value.film_length?[F(t.value.film_length)]:[]];await navigator.clipboard.writeText(E.join(", ")),oe.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(E){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",E)}},de=async(E=!0)=>{var u,f,S,C,ee,re,ve,he;try{let se;if(k.value.startsWith("shiki")?se=await To(k.value):se=await Po(k.value,s.token),Array.isArray(se)&&se.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");t.value=se,k.value.startsWith("shiki")?t.value={...t.value,title:t.value.name_ru||t.value.name_en,name_original:t.value.name_en,short_description:t.value.slogan}:t.value={...t.value,title:t.value.name_ru||t.value.name_en||t.value.name_original,kinopoisk_id:k.value},m.setHeaderContent({text:t.value.title,imageUrl:t.value.logo_url}),I();const i={kp_id:k.value,title:((u=t.value)==null?void 0:u.name_ru)||((f=t.value)==null?void 0:f.name_en)||((S=t.value)==null?void 0:S.name_original),poster:((C=t.value)==null?void 0:C.poster_url)||((ee=t.value)==null?void 0:ee.cover_url)||((re=t.value)==null?void 0:re.screenshots[0]),year:(ve=t.value)==null?void 0:ve.year,type:(he=t.value)==null?void 0:he.type};if(k.value.startsWith("shiki"))if(t.value.screenshots&&t.value.screenshots.length>0){const G=Math.floor(Math.random()*t.value.screenshots.length),we=t.value.screenshots[G];b.updateMoviePoster(we)}else i.poster&&b.updateMoviePoster(i.poster);else i.poster&&b.updateMoviePoster(i.poster);if(j(()=>c.isHistoryAllowed).value&&i.kp_id&&i.title&&E)if(s.token)try{await vo(i.kp_id,K.HISTORY)}catch(G){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",G)}else c.addToHistory({...i})}catch(se){const{message:i,code:A}=nt(se);$.value=i,M.value=A,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",se)}},ke=j(()=>{var E,u;return console.log("–¢—Ä–µ–π–ª–µ—Ä—ã:",(E=t.value)==null?void 0:E.videos),(u=t.value)==null?void 0:u.videos}),O=j(()=>{var E;return U((E=t.value)==null?void 0:E.sequels_and_prequels)}),ne=j(()=>{var E;return U((E=t.value)==null?void 0:E.similars)}),pe=()=>{var S;const E=((S=document.querySelector(".related-movies"))==null?void 0:S.clientWidth)||0,f=Math.floor(E/160)||10;x.value=Math.max(1,f)},ce=()=>{pe()},Q=E=>{if(E.altKey&&E.keyCode===84&&document.querySelector(".player-container")){const f=document.querySelector(".theater-mode-btn");f&&f.click()}},fe=async()=>{var E;if(!s.token){oe.value.showNotification('–î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>m.openLogin()});return}if((E=t.value)!=null&&E.imdb_id){if(P.value){P.value=null;return}p.value=!0;try{const u=await So(t.value.imdb_id);P.value=u.nudity_info}catch(u){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",u),oe.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö")}finally{p.value=!1}}};Be(async()=>{await de(),o.value=!1,document.addEventListener("keydown",Q),window.addEventListener("resize",ce),setTimeout(pe,100)}),Ao(async()=>{m.clearHeaderContent(),document.removeEventListener("keydown",Q),window.removeEventListener("resize",ce)}),Ne(()=>w.params.kp_id,async E=>{E&&E!==k.value&&(m.clearHeaderContent(),k.value=E,L.value=null,await de(),o.value=!1)},{immediate:!0}),Ne(t,()=>{I()},{deep:!0});const X=E=>{var u,f;return((f=(u=t.value)==null?void 0:u.staff)==null?void 0:f.filter(S=>S.profession_key===E))||[]};return(E,u)=>{var f,S;return a(),r(J,null,[e("div",Ui,[e("div",ji,[(o.value||!t.value)&&!$.value?(a(),r("div",Hi,[e("div",Bi,[u[4]||(u[4]=no('<div class="movie-skeleton__header" data-v-36671656><div class="movie-skeleton__title" data-v-36671656></div></div><div class="movie-skeleton__ratings" data-v-36671656><div class="movie-skeleton__rating-item" data-v-36671656></div><div class="movie-skeleton__rating-item" data-v-36671656></div><div class="movie-skeleton__rating-item" data-v-36671656></div></div>',2)),e("div",Oi,[le(fo)]),u[5]||(u[5]=no('<div class="movie-skeleton__additional-info" data-v-36671656><div class="movie-skeleton__section-title" data-v-36671656></div><div class="movie-skeleton__info-list" data-v-36671656><div class="movie-skeleton__info-item" data-v-36671656></div><div class="movie-skeleton__info-item" data-v-36671656></div><div class="movie-skeleton__info-item" data-v-36671656></div><div class="movie-skeleton__info-item" data-v-36671656></div><div class="movie-skeleton__info-item" data-v-36671656></div></div></div><div class="movie-skeleton__description" data-v-36671656><div class="movie-skeleton__description-line" data-v-36671656></div><div class="movie-skeleton__description-line" data-v-36671656></div><div class="movie-skeleton__description-line" data-v-36671656></div><div class="movie-skeleton__description-line" data-v-36671656></div></div>',2))])])):y("",!0),$.value?(a(),Ee(co,{key:1,message:$.value,code:M.value},null,8,["message","code"])):y("",!0),$.value?(a(),r("div",Ki,[(a(),Ee(ro,{key:k.value,"kp-id":k.value,"movie-info":t.value,"onUpdate:movieInfo":de},null,8,["kp-id","movie-info"]))])):y("",!0),t.value&&!o.value?(a(),r("div",qi,[e("div",Wi,[t.value.logo_url?(a(),r("div",{key:0,class:"content-logo",onMousemove:ge,onMouseleave:u[0]||(u[0]=C=>v.value=!1),onClick:ae},[e("img",{src:t.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,Fi)],32)):(a(),r("div",{key:1,onMousemove:ge,onMouseleave:u[1]||(u[1]=C=>v.value=!1),onClick:ae},[e("h1",Vi,d(t.value.title),1)],32)),W(e("div",{class:"title-copy-tooltip",style:Xe(me.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[z,v.value]])]),t.value.kinopoisk_id||t.value.title||t.value.imdb_id||t.value.rating_imdb||t.value.shikimori_id?(a(),r("div",zi,[t.value.kinopoisk_id?(a(),Ee(ws,{key:0,"kp-id":t.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):y("",!0),t.value.kinopoisk_id?(a(),r("div",Yi,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(t.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:t.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(B(t.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[u[6]||(u[6]=e("img",{src:io,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",null,d(t.value.rating_kinopoisk?t.value.rating_kinopoisk:"‚Äî"),1),u[7]||(u[7]=e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Gi)])):y("",!0),!t.value.kinopoisk_id&&t.value.title?(a(),r("div",Zi,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(t.value.title+(t.value.year?" "+t.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:t.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(B(t.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[u[8]||(u[8]=e("img",{src:io,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",null,d(t.value.rating_kinopoisk?t.value.rating_kinopoisk:"‚Äî"),1),u[9]||(u[9]=e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Xi)])):y("",!0),t.value.imdb_id?(a(),r("div",Qi,[e("a",{href:"https://www.imdb.com/title/".concat(t.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:t.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(B(t.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[u[10]||(u[10]=e("img",{src:lo,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,d(t.value.rating_imdb?t.value.rating_imdb:"‚Äî"),1),u[11]||(u[11]=e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ji)])):y("",!0),!t.value.imdb_id&&t.value.title?(a(),r("div",el,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(t.value.title+(t.value.year?" "+t.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:t.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(B(t.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[u[12]||(u[12]=e("img",{src:lo,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,d(t.value.rating_imdb?t.value.rating_imdb:"‚Äî"),1),u[13]||(u[13]=e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,tl)])):y("",!0),t.value.shikimori_id?(a(),r("div",ol,[e("a",{href:"https://shikimori.one/animes/".concat(t.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},u[14]||(u[14]=[e("img",{src:Uo,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,nl)])):y("",!0),t.value.imdb_id?(a(),r("div",sl,[e("a",{href:"https://www.imdb.com/title/".concat(t.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},u[15]||(u[15]=[e("span",null,"Parents Guide",-1),e("img",{src:He,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,il),e("button",{class:"rating-link nudity-info-btn",onClick:fe,title:P.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö(Sex & Nudity)"},[p.value?(a(),r("i",rl)):(a(),r("i",al)),P.value?(a(),r("div",ul,[e("div",dl,d(P.value),1)])):y("",!0)],8,ll)])):y("",!0)])):y("",!0),(a(),Ee(ro,{key:k.value,"kp-id":k.value,"movie-info":t.value,"onUpdate:movieInfo":de},null,8,["kp-id","movie-info"])),e("meta",{name:"title-and-year",content:t.value.type==="FILM"&&t.value.year?"".concat(t.value.title," (").concat(t.value.year,")"):t.value.title},null,8,cl),t.value.name_original?(a(),r("meta",{key:1,name:"original-title",content:t.value.name_original},null,8,vl)):y("",!0),e("div",ml,[u[25]||(u[25]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",fl,[e("div",yl,[e("ul",gl,[t.value.type&&Y(so)[t.value.type]?(a(),r("li",kl,[u[16]||(u[16]=e("strong",null,"–¢–∏–ø:",-1)),Z(" "+d(Y(so)[t.value.type]),1)])):y("",!0),t.value.year?(a(),r("li",pl,[u[17]||(u[17]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),Z(" "+d(t.value.year),1)])):y("",!0),t.value.title?(a(),r("li",hl,[u[18]||(u[18]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+d(t.value.title),1)])):y("",!0),t.value.name_original?(a(),r("li",bl,[u[19]||(u[19]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+d(t.value.name_original),1)])):y("",!0),t.value.slogan?(a(),r("li",_l,[u[20]||(u[20]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),Z(" "+d(t.value.slogan),1)])):y("",!0),t.value.production_companies?(a(),r("li",Cl,[u[21]||(u[21]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),Z(" "+d(t.value.production_companies),1)])):y("",!0),(f=t.value.countries)!=null&&f.length?(a(),r("li",wl,[u[22]||(u[22]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),Z(" "+d(t.value.countries.map(C=>C.country).join(", ")),1)])):y("",!0),(S=t.value.genres)!=null&&S.length?(a(),r("li",El,[u[23]||(u[23]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),Z(" "+d(t.value.genres.map(C=>C.genre).join(", ")),1)])):y("",!0),t.value.film_length?(a(),r("li",Ml,[u[24]||(u[24]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),Z(" "+d(F(t.value.film_length)),1)])):y("",!0)])])])]),e("div",Il,[t.value.description?(a(),r("p",Rl,d(t.value.description),1)):y("",!0)]),R.value?(a(),r("div",$l,[le(Ni,{"movie-id":k.value},null,8,["movie-id"])])):y("",!0),t.value.staff?(a(),r("div",Al,[e("div",Tl,[X("ACTOR").length?(a(),r("div",Pl,[u[26]||(u[26]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",Sl,[(a(!0),r(J,null,ue(X("ACTOR").slice(0,12),C=>(a(),r("div",{key:C.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(C.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:C.description||""},[e("img",{src:C.poster_url,alt:C.name_ru,class:"staff-photo"},null,8,Ll),e("span",Dl,d(C.name_ru||C.name_en),1),C.description?(a(),r("span",Nl,d(C.description),1)):y("",!0)],8,xl)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(X("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+d(X("ACTOR").length-12),9,Ul)])])):y("",!0),X("DIRECTOR").length?(a(),r("div",jl,[u[27]||(u[27]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",Hl,[e("div",Bl,[(a(!0),r(J,null,ue(X("DIRECTOR").slice(0,5),C=>(a(),r("a",{key:C.staff_id,href:"https://www.kinopoisk.ru/name/".concat(C.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},d(C.name_ru||C.name_en),9,Ol))),128)),X("DIRECTOR").length>5?(a(),r("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(X("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+d(X("DIRECTOR").length-5),9,Kl)):y("",!0)])])])):y("",!0),X("PRODUCER").length?(a(),r("div",ql,[u[28]||(u[28]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",Wl,[e("div",Fl,[(a(!0),r(J,null,ue(X("PRODUCER").slice(0,5),C=>(a(),r("a",{key:C.staff_id,href:"https://www.kinopoisk.ru/name/".concat(C.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},d(C.name_ru||C.name_en),9,Vl))),128)),X("PRODUCER").length>5?(a(),r("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(X("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+d(X("PRODUCER").length-5),9,zl)):y("",!0)])])])):y("",!0)])])):y("",!0),ke.value.length&&Y(q)?(a(),r("div",Yl,[le(vs,{videos:ke.value,"active-video-index":L.value,onSelect:E.playTrailer},null,8,["videos","active-video-index","onSelect"])])):y("",!0),O.value.length?(a(),r("div",Gl,[u[29]||(u[29]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),le(Y(ao),{"movies-list":H.value?O.value:O.value.slice(0,x.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),O.value.length>x.value?(a(),r("a",{key:0,class:"expand-circle-button",onClick:u[2]||(u[2]=C=>H.value=!H.value),title:"".concat(H.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(O.value.length,")")},d(H.value?"‚àí":"+".concat(O.value.length-x.value)),9,Zl)):y("",!0)])):y("",!0),ne.value.length?(a(),r("div",Xl,[u[30]||(u[30]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),le(Y(ao),{"movies-list":V.value?ne.value:ne.value.slice(0,x.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ne.value.length>x.value?(a(),r("a",{key:0,class:"expand-circle-button",onClick:u[3]||(u[3]=C=>V.value=!V.value),title:"".concat(V.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(ne.value.length,")")},d(V.value?"‚àí":"+".concat(ne.value.length-x.value)),9,Ql)):y("",!0)])):y("",!0)])):y("",!0)])]),le(et,{ref_key:"notificationRef",ref:oe},null,512)],64)}}},ia=Me(Jl,[["__scopeId","data-v-36671656"]]);export{ia as default};

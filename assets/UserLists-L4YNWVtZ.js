import{_ as T,r as a,U as l,i as C,K as M,o as A,b as p,e,f as x,x as _,g as y,G as g,H as R,t as b,s as S,E as F,ab as U,D as B,C as D,d as n,n as I}from"./index-BwrvIAFx.js";import{M as V}from"./MovieList-BxFx3kq6.js";import{N as $}from"./ToastMessage-DzCBRl3k.js";const O={class:"wrapper"},G={class:"user-lists-page",tabindex:"0"},H={class:"controls"},P={class:"filter-card type-card"},z={class:"button-group type-buttons"},K=["onClick"],W={key:0,class:"empty-state"},Y={__name:"UserLists",setup(j){const i=a([]),u=a(!0),c=a(l.FAVORITE),r=a(""),v=a(null),h=C(),E=M(),d=a(E.params.user_id),f=a(null),k=async()=>{try{d.value?await navigator.clipboard.writeText("".concat(window.location.href)):await navigator.clipboard.writeText("".concat(window.location.href,"/").concat(h.user.id)),f.value.showNotification("Скопировано")}catch(t){console.error("Ошибка копирования:",t)}},w=[{label:"Избранное",value:l.FAVORITE},{label:"Смотрю",value:l.WATCHING},{label:"Позже",value:l.LATER},{label:"Просмотрено",value:l.COMPLETED},{label:"Брошено",value:l.ABANDONED}],m=async()=>{u.value=!0,r.value="",v.value=null;try{d.value?i.value=await U(c.value,d.value):i.value=await B(c.value)}catch(t){const{message:s,code:o}=D(t);r.value=s,v.value=o,i.value=[]}finally{u.value=!1}},L=t=>{c.value=t,m()};return A(m),(t,s)=>(n(),p(g,null,[e("div",O,[e("div",G,[e("div",H,[e("div",P,[e("div",z,[s[2]||(s[2]=e("i",{class:"material-icons card-icon"},"movie",-1)),(n(),p(g,null,R(w,(o,N)=>e("button",{key:N,class:I(["filter-btn type-btn",{active:c.value===o.value}]),onClick:q=>L(o.value)},b(o.label),11,K)),64)),e("button",{class:"share-btn",onClick:s[0]||(s[0]=o=>k())},s[1]||(s[1]=[e("span",{class:"material-icons"},b("share"),-1)]))])])]),i.value.length===0&&!u.value?(n(),p("div",W,s[3]||(s[3]=[e("span",{class:"material-icons"},"sentiment_dissatisfied",-1),e("p",null,"Нет фильмов для отображения",-1)]))):r.value?y("",!0):(n(),_(S(V),{key:1,"movies-list":i.value,"is-history":!1,loading:u.value},null,8,["movies-list","loading"])),r.value?(n(),_(F,{key:2,message:r.value,code:v.value},null,8,["message","code"])):y("",!0)])]),x($,{ref_key:"notificationRef",ref:f},null,512)],64))}},Z=T(Y,[["__scopeId","data-v-4b43bf98"]]);export{Z as default};
//# sourceMappingURL=UserLists-L4YNWVtZ.js.map

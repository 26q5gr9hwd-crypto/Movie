import{_ as Ie,r as k,c as P,b as l,d as n,e as t,s as H,t as u,K as ne,g as v,L as Me,n as b,q as co,u as He,i as Vt,N as Ut,z as mo,l as me,o as Ne,O as Ft,x as ce,E as Wt,f as ae,P as xe,m as h,Q as C,y as E,U as y,R as po,D as De,S as Pe,V as fo,W as zt,X as ko,Y as yo,a as go,Z as xt,$ as Dt,a0 as bo,a1 as Ht,a2 as _o,a3 as $o}from"./index-zAJ7J3et.js";import{S as qt,_ as Nt,a as Ot,M as Bt}from"./MovieList-DlMMyA8-.js";import{N as Yt}from"./ToastMessage-Bh2a6Iwu.js";import{u as wo,S as ho,a as Co}from"./trailer-XhiKUA6H.js";const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Ao="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",Se=p=>{const $=document.createElement("div");$.style.position="fixed",$.style.top="0",$.style.left="0",$.style.width="100%",$.style.height="100%",$.style.backgroundColor="rgba(0, 0, 0, 0.8)",$.style.color="white",$.style.display="flex",$.style.justifyContent="center",$.style.alignItems="center",$.style.fontSize="2rem",$.style.zIndex="99000",$.textContent=p,document.body.appendChild($),setTimeout(()=>{document.body.removeChild($)},2e3)},Mo={class:"modal-content"},Io={key:0},Eo={key:1},To={class:"players-list"},Ro=["onClick"],Lo={key:0,class:"warning-icon material-icons",title:"Внимание!"},Po={key:0},So={key:0,class:"warning-icon material-icons",title:"Внимание!"},xo={key:1},Do={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ho=["onClick"],No={key:0,class:"warning-icon material-icons",title:"Внимание!"},Oo={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(p,{emit:$}){const O=p,D=$,S=k(null),Z=P(()=>O.players.filter(a=>!I(a)&&!o(a))),A=P(()=>O.players.some(a=>I(a))),R=P(()=>O.players.some(a=>o(a))),I=a=>a.key.toUpperCase().includes("HDREZKA"),o=a=>a.key.toUpperCase().includes("KODIK"),L=a=>a.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),x=a=>{D("select",a),D("close")},U=a=>O.selectedPlayer&&O.selectedPlayer.key===a.key,w=a=>{S.value=a},B=()=>{S.value=null},G=a=>{let d=O.players.filter(f=>a==="hdrezka"&&I(f)||a==="kodik"&&o(f));return a==="kodik"?d.sort((f,F)=>L(f.translate).localeCompare(L(F.translate))):d},g=a=>G(a).some(d=>d.warning);return(a,d)=>(n(),l("div",{class:"modal",onClick:d[3]||(d[3]=co(f=>a.$emit("close"),["self"]))},[t("div",Mo,[t("button",{class:"close",onClick:d[0]||(d[0]=f=>a.$emit("close"))},"×"),S.value?(n(),l("h2",Eo,[t("button",{class:"back-btn",onClick:B},"← Назад"),H(" "+u(S.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(n(),l("h2",Io,"Выберите плеер")),t("ul",To,[S.value?(n(!0),l(ne,{key:1},Me(G(S.value),f=>(n(),l("li",{key:f.key},[t("button",{class:b(["player-item",{active:U(f)}]),onClick:F=>x(f)},[H(u(L(f.translate))+" ",1),f.warning?(n(),l("span",No,"warning")):v("",!0)],10,Ho)]))),128)):(n(),l(ne,{key:0},[(n(!0),l(ne,null,Me(Z.value,f=>(n(),l("li",{key:f.key},[t("button",{class:b(["player-item",{active:U(f)}]),onClick:F=>x(f)},[H(u(L(f.translate))+" ",1),f.warning?(n(),l("span",Lo,"warning")):v("",!0)],10,Ro)]))),128)),A.value?(n(),l("li",Po,[t("button",{class:"group-item",onClick:d[1]||(d[1]=f=>w("hdrezka"))},[d[4]||(d[4]=t("span",{class:"material-icons group-icon"},"folder",-1)),d[5]||(d[5]=H(" ReYohoho - HDrezka ")),g("hdrezka")?(n(),l("span",So,"warning")):v("",!0)])])):v("",!0),R.value?(n(),l("li",xo,[t("button",{class:"group-item",onClick:d[2]||(d[2]=f=>w("kodik"))},[d[6]||(d[6]=t("span",{class:"material-icons group-icon"},"folder",-1)),d[7]||(d[7]=H(" Kodik ")),g("kodik")?(n(),l("span",Do,"warning")):v("",!0)])])):v("",!0)],64))])])]))}},Bo=Ie(Oo,[["__scopeId","data-v-7e4f2528"]]),Ko={class:"players-list"},Vo=["src"],Uo={key:1,class:"controls"},Fo={class:"main-controls"},Wo={class:"material-icons"},zo={class:"list-button-item"},qo={class:"material-icons"},Yo={class:"list-button-item"},Go={class:"material-icons"},Xo={class:"list-button-item"},Zo={class:"list-button-item"},jo={class:"material-icons"},Qo={class:"list-button-item"},Jo={class:"material-icons"},es={class:"tooltip-container"},ts={class:"material-icons"},os={class:"tooltip-container"},ss={class:"tooltip-container"},ns={class:"tooltip-container"},ls={class:"tooltip-container"},is={class:"material-symbols-outlined"},as={class:"custom-tooltip"},rs={class:"tooltip-container"},us={class:"current-ratio"},vs=["onClick"],ds={key:0,class:"tooltip-container"},cs={class:"custom-tooltip"},ms={key:1,class:"tooltip-container"},ps={class:"custom-tooltip"},fs={key:0,class:"desktop-list-buttons"},ks={class:"tooltip-container"},ys={class:"material-icons"},gs={class:"custom-tooltip"},bs={class:"tooltip-container"},_s={class:"material-icons"},$s={class:"custom-tooltip"},ws={class:"tooltip-container"},hs={class:"custom-tooltip"},Cs={class:"tooltip-container"},As={class:"material-icons"},Ms={class:"custom-tooltip"},Is={class:"tooltip-container"},Es={class:"material-icons"},Ts={class:"custom-tooltip"},Rs={key:1,class:"mobile-list-buttons"},Ls={class:"tooltip-container"},Ps={class:"material-icons"},Ss={class:"custom-tooltip"},xs={class:"tooltip-container"},Ds={class:"material-icons"},Hs={class:"custom-tooltip"},Ns={class:"tooltip-container"},Os={class:"custom-tooltip"},Bs={class:"tooltip-container"},Ks={class:"material-icons"},Vs={class:"custom-tooltip"},Us={class:"tooltip-container"},Fs={class:"material-icons"},Ws={class:"custom-tooltip"},zs={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(p,{emit:$}){const O=He(),D=wo(),S=Vt(),Z=Ut(),A=mo(),R=k(Z.params.kp_id),I=p,o=$,L=k([]),x=k(null),U=k(!0),w=k(!1),B=k(!1),G=k(null),g=k(null),a=k(!1),d=k(""),f=k(null),F=k(window.innerHeight*.9),we=P(()=>"".concat(F.value,"px")),X=P(()=>O.isMobile),K=P(()=>!!window.electronAPI),c=k(null),le=k(!1);let re=null;const m=k(null),s=k(null),M=k(null),j=()=>{if(!s.value||!M.value)return;const r=s.value.getBoundingClientRect(),e=M.value.getBoundingClientRect(),T=window.innerHeight;r.bottom+e.height>T?(M.value.style.top="auto",M.value.style.bottom="100%",M.value.style.marginTop="0",M.value.style.marginBottom="12px",M.value.style.transform="translateX(-50%)"):(M.value.style.top="100%",M.value.style.bottom="auto",M.value.style.marginTop="12px",M.value.style.marginBottom="0",M.value.style.transform="translateX(-50%)")},_=r=>{c.value=r,le.value=!1,clearTimeout(re),Pe(()=>{j()})},W=()=>{le.value||(re=setTimeout(()=>{c.value=null},300))},ue=()=>{le.value=!0,clearTimeout(re)},ie=()=>{le.value=!1,c.value=null},Y=P({get:()=>D.aspectRatio,set:r=>D.updateAspectRatio(r)}),V=P({get:()=>D.isCentered,set:r=>D.updateCentering(r)}),z=P(()=>{var r,e,T,q,Q,J,ee,te,oe,se;return((e=(r=I.movieInfo)==null?void 0:r.lists)==null?void 0:e.isFavorite)||((q=(T=I.movieInfo)==null?void 0:T.lists)==null?void 0:q.isWatching)||((J=(Q=I.movieInfo)==null?void 0:Q.lists)==null?void 0:J.isLater)||((te=(ee=I.movieInfo)==null?void 0:ee.lists)==null?void 0:te.isCompleted)||((se=(oe=I.movieInfo)==null?void 0:oe.lists)==null?void 0:se.isAbandoned)}),pe=P(()=>D.preferredPlayer),fe=k(0),ve=r=>r.toUpperCase(),Ee=()=>{if(w.value||!g.value)return;const[r,e]=Y.value.split(":").map(Number);F.value=window.innerHeight*.9,fe.value=Math.min(g.value.clientWidth*(e/r),F.value)},Gt=P(()=>{if(w.value)return{};const[r,e]=Y.value.split(":").map(Number),T=F.value*(r/e);return{width:"100%",maxWidth:"".concat(T,"px"),maxHeight:we.value,margin:"0 auto",overflow:"hidden"}}),Xt=P(()=>{const[r,e]=Y.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(e/r*100,"%")}}),ke=()=>{g.value&&setTimeout(()=>{Pe(()=>{g.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Zt=async()=>{try{d.value="",f.value=null;const r=await po(I.kpId);if(L.value=Object.entries(r).map(([e,T])=>({key:e.toUpperCase(),...T})),L.value.length>0){if(pe.value){const e=ve(pe.value),T=L.value.find(q=>ve(q.key)===e);x.value=T||L.value[0]}else x.value=L.value[0];o("update:selectedPlayer",x.value)}}catch(r){const{message:e,code:T}=De(r);d.value=e,f.value=T,console.error("Ошибка при загрузке плееров:",r)}},jt=()=>{a.value=!0},Oe=()=>{a.value=!1},Qt=r=>{var e;if(((e=x.value)==null?void 0:e.key)===r.key){Oe();return}x.value=r,U.value=!0,D.updatePreferredPlayer(ve(r.key)),o("update:selectedPlayer",r)},Jt=()=>{K.value?window.electronAPI.sendHotKey("F2"):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},eo=()=>{K.value?window.electronAPI.sendHotKey("F3"):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},to=()=>{K.value?window.electronAPI.sendHotKey("F4"):(Se("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},he=()=>{w.value=!w.value,w.value?(window.addEventListener("mousemove",Te),document.addEventListener("keydown",Re),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Te),document.removeEventListener("keydown",Re),document.body.classList.remove("no-scroll")),B.value=w.value,Pe(()=>ke())},Be=k(null),Te=()=>{Be.value=setTimeout(()=>{clearTimeout(Be.value),B.value=!1},4e3),B.value=!0},Ce=P(()=>O.dimmingEnabled),oo=()=>{w.value||O.toggleDimming()},Re=r=>{(r.key==="Escape"&&w.value||r.altKey&&r.keyCode===84)&&he()},Ke=r=>{Y.value=r,setTimeout(()=>{V.value&&ke()},310)},so=()=>{const r="reyohoho://#".concat(R.value);try{window.location.href=r}catch(e){console.error("Ошибка при открытии ссылки:",e)}},no=()=>{const r=window.location.href;navigator.clipboard.writeText(r).then(()=>{}),m.value.showNotification("Ссылка на фильм скопирована")},lo=()=>{U.value=!1};function io(r){return r.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"KODIK - ").trim()}me(x,r=>{r&&(U.value=!0,D.updatePreferredPlayer(ve(r.key)),o("update:selectedPlayer",r))}),me(()=>Z.params.kp_id,async r=>{r&&r!==R.value&&(R.value=r,V.value&&ke())},{immediate:!0});const Ae=["16:9","12:5","4:3"],ao=()=>{const e=(Ae.indexOf(Y.value)+1)%Ae.length;Ke(Ae[e])},ro=r=>{var T,q,Q,J,ee,te,oe,se,ye,ge,be,_e,$e;return($e={[y.FAVORITE]:((q=(T=I.movieInfo)==null?void 0:T.lists)==null?void 0:q.isFavorite)||!1,[y.HISTORY]:((J=(Q=I.movieInfo)==null?void 0:Q.lists)==null?void 0:J.isHistory)||!1,[y.LATER]:((te=(ee=I.movieInfo)==null?void 0:ee.lists)==null?void 0:te.isLater)||!1,[y.COMPLETED]:((se=(oe=I.movieInfo)==null?void 0:oe.lists)==null?void 0:se.isCompleted)||!1,[y.ABANDONED]:((ge=(ye=I.movieInfo)==null?void 0:ye.lists)==null?void 0:ge.isAbandoned)||!1,[y.WATCHING]:((_e=(be=I.movieInfo)==null?void 0:be.lists)==null?void 0:_e.isWatching)||!1}[r])!=null?$e:!1},N=async r=>{if(!S.token){m.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:uo});return}try{const e={[y.FAVORITE]:"избранное",[y.HISTORY]:"историю",[y.LATER]:'список "Смотреть позже"',[y.COMPLETED]:'список "Просмотрено"',[y.ABANDONED]:'список "Брошено"',[y.WATCHING]:'список "Смотрю"'};ro(r)?(await fo(R.value,r),m.value.showNotification("Удалено из ".concat(e[r]))):(await zt(R.value,r),m.value.showNotification("Добавлено в ".concat(e[r])))}catch(e){const{message:T,code:q}=De(e);m.value.showNotification("".concat(T," ").concat(q))}o("update:movieInfo")},uo=()=>{A.push("/login")},Le=P(()=>D.showFavoriteTooltip),vo=()=>{A.push("/settings"),ie()};return Ne(()=>{U.value=!0,Zt(),X.value&&(Y.value="4:3"),Ee(),window.addEventListener("resize",Ee),window.addEventListener("resize",j),V.value&&ke()}),Ft(()=>{window.removeEventListener("resize",Ee),window.removeEventListener("resize",j),window.removeEventListener("mousemove",Te),document.removeEventListener("keydown",Re),document.body.classList.remove("no-scroll")}),(r,e)=>{var T,q,Q,J,ee,te,oe,se,ye,ge,be,_e,$e,Ve,Ue,Fe,We,ze,qe,Ye,Ge,Xe,Ze,je,Qe,Je,et,tt,ot,st,nt,lt,it,at,rt,ut,vt,dt,ct,mt,pt,ft,kt,yt,gt,bt,_t,$t,wt,ht,Ct,At,Mt,It,Et,Tt,Rt,Lt,Pt,St;return d.value?(n(),ce(Wt,{key:0,message:d.value,code:f.value},null,8,["message","code"])):(n(),l(ne,{key:1},[t("div",Ko,[e[54]||(e[54]=t("span",null,"Плеер:",-1)),t("button",{class:"player-btn",onClick:jt},u(x.value?io(x.value.translate).toUpperCase():"Загрузка плееров..."),1)]),a.value?(n(),ce(Bo,{key:0,players:L.value,"selected-player":x.value,onClose:Oe,onSelect:Qt},null,8,["players","selected-player"])):v("",!0),t("div",{ref_key:"containerRef",ref:g,class:b(["player-container",{"theater-mode":w.value}]),style:xe(w.value?{}:Gt.value)},[t("div",{class:"iframe-wrapper",style:xe(w.value?{}:Xt.value)},[h(t("iframe",{ref_key:"playerIframe",ref:G,src:(T=x.value)==null?void 0:T.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:b(["responsive-iframe",{"theater-mode-unlock":B.value,"theater-mode-lock":w.value,dimmed:Ce.value}]),onLoad:lo},null,42,Vo),[[C,!U.value&&((q=x.value)==null?void 0:q.iframe)]]),U.value?(n(),ce(qt,{key:0})):v("",!0)],4),w.value?(n(),l("button",{key:0,class:b(["close-theater-btn",{visible:B.value}]),onClick:he}," ✖ ",2)):v("",!0)],6),w.value?v("",!0):(n(),l("div",Uo,[t("div",Fo,[X.value?v("",!0):(n(),l("div",{key:0,ref_key:"tooltipContainer",ref:s,class:"tooltip-container list-buttons-container"},[Le.value?(n(),l("button",{key:0,class:b(["favorite-btn",{active:(J=(Q=p.movieInfo)==null?void 0:Q.lists)==null?void 0:J.isFavorite}]),onMouseenter:e[0]||(e[0]=i=>_("favorite")),onMouseleave:W,onClick:e[1]||(e[1]=i=>N(E(y).FAVORITE))},[t("span",Wo,u((te=(ee=p.movieInfo)==null?void 0:ee.lists)!=null&&te.isFavorite?"favorite":"favorite_border"),1),t("span",{class:b(["material-icons dropdown-arrow",{highlighted:z.value}])},"expand_more",2)],34)):v("",!0),h(t("div",{ref_key:"tooltip",ref:M,class:"custom-tooltip advanced-tooltip list-buttons-dropdown",onMouseenter:ue,onMouseleave:ie},[t("div",zo,[t("button",{class:b(["favorite-btn",{active:(se=(oe=p.movieInfo)==null?void 0:oe.lists)==null?void 0:se.isFavorite}]),onClick:e[2]||(e[2]=i=>N(E(y).FAVORITE))},[t("span",qo,u((ge=(ye=p.movieInfo)==null?void 0:ye.lists)!=null&&ge.isFavorite?"favorite":"favorite_border"),1),e[55]||(e[55]=t("span",{class:"button-label"},"В избранное",-1))],2)]),t("div",Yo,[t("button",{class:b(["watching-btn",{active:(_e=(be=p.movieInfo)==null?void 0:be.lists)==null?void 0:_e.isWatching}]),onClick:e[3]||(e[3]=i=>N(E(y).WATCHING))},[t("span",Go,u((Ve=($e=p.movieInfo)==null?void 0:$e.lists)!=null&&Ve.isWatching?"visibility":"visibility_off"),1),e[56]||(e[56]=t("span",{class:"button-label"},"Смотрю",-1))],2)]),t("div",Xo,[t("button",{class:b(["later-btn",{active:(Fe=(Ue=p.movieInfo)==null?void 0:Ue.lists)==null?void 0:Fe.isLater}]),onClick:e[4]||(e[4]=i=>N(E(y).LATER))},e[57]||(e[57]=[t("span",{class:"material-icons"},"watch_later",-1),t("span",{class:"button-label"},"Смотреть позже",-1)]),2)]),t("div",Zo,[t("button",{class:b(["completed-btn",{active:(ze=(We=p.movieInfo)==null?void 0:We.lists)==null?void 0:ze.isCompleted}]),onClick:e[5]||(e[5]=i=>N(E(y).COMPLETED))},[t("span",jo,u((Ye=(qe=p.movieInfo)==null?void 0:qe.lists)!=null&&Ye.isCompleted?"check_circle":"check_circle_outline"),1),e[58]||(e[58]=t("span",{class:"button-label"},"Просмотрено",-1))],2)]),t("div",Qo,[t("button",{class:b(["abandoned-btn",{active:(Xe=(Ge=p.movieInfo)==null?void 0:Ge.lists)==null?void 0:Xe.isAbandoned}]),onClick:e[6]||(e[6]=i=>N(E(y).ABANDONED))},[t("span",Jo,u(((je=(Ze=p.movieInfo)==null?void 0:Ze.lists)!=null&&je.isAbandoned,"not_interested")),1),e[59]||(e[59]=t("span",{class:"button-label"},"Брошено",-1))],2)]),t("div",{class:"tooltip-hint"},[e[61]||(e[61]=t("span",{class:"material-icons"},"settings",-1)),t("span",null,[e[60]||(e[60]=H("Стиль отображения можно изменить в ")),t("a",{class:"settings-link",onClick:vo},"настройках")])])],544),[[C,c.value==="favorite"&&Le.value]])],512)),X.value?v("",!0):(n(),l(ne,{key:1},[t("div",es,[t("button",{class:b(["dimming-btn",{active:Ce.value}]),onMouseenter:e[7]||(e[7]=i=>_("dimming")),onMouseleave:e[8]||(e[8]=i=>c.value=null),onClick:oo},[t("span",ts,u(Ce.value?"light_mode":"dark_mode"),1)],34),h(t("div",{class:"custom-tooltip"},u(Ce.value?"Отключить затемнение":"Включить затемнение"),513),[[C,c.value==="dimming"]])]),t("div",os,[t("button",{class:b(["blur-btn",{"electron-only":!K.value}]),onMouseenter:e[9]||(e[9]=i=>_("blur")),onMouseleave:e[10]||(e[10]=i=>c.value=null),onClick:Jt},e[62]||(e[62]=[t("span",{class:"material-icons"},"blur_on",-1)]),34),h(t("div",{class:"custom-tooltip"},u(K.value?"Блюр":"Блюр, функция доступна в приложении"),513),[[C,c.value==="blur"]])]),t("div",ss,[t("button",{class:b(["material-symbols-outlined",{"electron-only":!K.value}]),onMouseenter:e[11]||(e[11]=i=>_("compressor")),onMouseleave:e[12]||(e[12]=i=>c.value=null),onClick:eo},e[63]||(e[63]=[t("span",{class:"material-icons"},"graphic_eq",-1)]),34),h(t("div",{class:"custom-tooltip"},u(K.value?"Компрессор":"Компрессор, функция доступна в приложении"),513),[[C,c.value==="compressor"]])]),t("div",ns,[t("button",{class:b(["mirror-btn",{"electron-only":!K.value}]),onMouseenter:e[13]||(e[13]=i=>_("mirror")),onMouseleave:e[14]||(e[14]=i=>c.value=null),onClick:to},e[64]||(e[64]=[t("span",{class:"material-icons"},"flip",-1)]),34),h(t("div",{class:"custom-tooltip"},u(K.value?"Зеркало":"Зеркало, функция доступна в приложении"),513),[[C,c.value==="mirror"]])]),t("div",ls,[t("button",{class:"theater-mode-btn",onMouseenter:e[15]||(e[15]=i=>_("theater")),onMouseleave:e[16]||(e[16]=i=>c.value=null),onClick:he},[t("span",is,u(w.value?"fullscreen_exit":"aspect_ratio"),1)],32),h(t("div",as,[H(u(w.value?"Выйти из театрального режима":"Театральный режим")+" ",1),e[65]||(e[65]=t("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[C,c.value==="theater"]])]),t("div",rs,[t("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:e[17]||(e[17]=i=>_("aspect_ratio")),onMouseleave:W,onClick:ao},[t("span",us,u(Y.value),1)],32),h(t("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown",onMouseenter:ue,onMouseleave:ie},[(n(),l(ne,null,Me(Ae,i=>t("div",{key:i,class:b(["aspect-ratio-option",{active:Y.value===i}]),onClick:Xn=>Ke(i)},u(i),11,vs)),64))],544),[[C,c.value==="aspect_ratio"]])]),t("div",{class:"tooltip-container",onMouseenter:e[19]||(e[19]=i=>_("centering")),onMouseleave:W},[t("button",{class:"center-btn",onClick:ke},e[66]||(e[66]=[t("span",{class:"material-icons"},"center_focus_strong",-1)])),h(t("div",{class:"custom-tooltip advanced-tooltip",onMouseenter:ue,onMouseleave:ie},[e[67]||(e[67]=H(" Отцентрировать плеер ")),ae(ho,{modelValue:V.value,"onUpdate:modelValue":e[18]||(e[18]=i=>V.value=i),title:"Автоцентрирование плеера"},null,8,["modelValue"]),e[68]||(e[68]=t("span",{class:"tooltip-title"},"Автоцентрирование плеера",-1))],544),[[C,c.value==="centering"]])],32),K.value?v("",!0):(n(),l("div",ds,[t("button",{class:"app-link-btn",onMouseenter:e[20]||(e[20]=i=>_("app_link")),onMouseleave:e[21]||(e[21]=i=>c.value=null),onClick:so},e[69]||(e[69]=[t("span",{class:"material-icons"},"open_in_new",-1)]),32),h(t("div",cs," Открыть в приложении ",512),[[C,c.value==="app_link"]])])),K.value?(n(),l("div",ms,[t("button",{class:"copy-link-btn",onMouseenter:e[22]||(e[22]=i=>_("copy_link")),onMouseleave:e[23]||(e[23]=i=>c.value=null),onClick:no},e[70]||(e[70]=[t("span",{class:"material-icons"},"content_copy",-1)]),32),h(t("div",ps," Скопировать ссылку ",512),[[C,c.value==="copy_link"]])])):v("",!0)],64))]),!X.value&&!Le.value?(n(),l("div",fs,[t("div",ks,[t("button",{class:b(["favorite-btn",{active:(Je=(Qe=p.movieInfo)==null?void 0:Qe.lists)==null?void 0:Je.isFavorite}]),onMouseenter:e[24]||(e[24]=i=>_("favorite")),onMouseleave:e[25]||(e[25]=i=>c.value=null),onClick:e[26]||(e[26]=i=>N(E(y).FAVORITE))},[t("span",ys,u((tt=(et=p.movieInfo)==null?void 0:et.lists)!=null&&tt.isFavorite?"favorite":"favorite_border"),1)],34),h(t("div",gs,u("В избранное"),512),[[C,c.value==="favorite"]])]),t("div",bs,[t("button",{class:b(["watching-btn",{active:(st=(ot=p.movieInfo)==null?void 0:ot.lists)==null?void 0:st.isWatching}]),onMouseenter:e[27]||(e[27]=i=>_("watching")),onMouseleave:e[28]||(e[28]=i=>c.value=null),onClick:e[29]||(e[29]=i=>N(E(y).WATCHING))},[t("span",_s,u((lt=(nt=p.movieInfo)==null?void 0:nt.lists)!=null&&lt.isWatching?"visibility":"visibility_off"),1)],34),h(t("div",$s,u("Смотрю"),512),[[C,c.value==="watching"]])]),t("div",ws,[t("button",{class:b(["later-btn",{active:(at=(it=p.movieInfo)==null?void 0:it.lists)==null?void 0:at.isLater}]),onMouseenter:e[30]||(e[30]=i=>_("later")),onMouseleave:e[31]||(e[31]=i=>c.value=null),onClick:e[32]||(e[32]=i=>N(E(y).LATER))},e[71]||(e[71]=[t("span",{class:"material-icons"},"watch_later",-1)]),34),h(t("div",hs,u("Смотреть позже"),512),[[C,c.value==="later"]])]),t("div",Cs,[t("button",{class:b(["completed-btn",{active:(ut=(rt=p.movieInfo)==null?void 0:rt.lists)==null?void 0:ut.isCompleted}]),onMouseenter:e[33]||(e[33]=i=>_("completed")),onMouseleave:e[34]||(e[34]=i=>c.value=null),onClick:e[35]||(e[35]=i=>N(E(y).COMPLETED))},[t("span",As,u((dt=(vt=p.movieInfo)==null?void 0:vt.lists)!=null&&dt.isCompleted?"check_circle":"check_circle_outline"),1)],34),h(t("div",Ms,u("Просмотрено"),512),[[C,c.value==="completed"]])]),t("div",Is,[t("button",{class:b(["abandoned-btn",{active:(mt=(ct=p.movieInfo)==null?void 0:ct.lists)==null?void 0:mt.isAbandoned}]),onMouseenter:e[36]||(e[36]=i=>_("abandoned")),onMouseleave:e[37]||(e[37]=i=>c.value=null),onClick:e[38]||(e[38]=i=>N(E(y).ABANDONED))},[t("span",Es,u(((ft=(pt=p.movieInfo)==null?void 0:pt.lists)!=null&&ft.isAbandoned,"not_interested")),1)],34),h(t("div",Ts,u("Брошено"),512),[[C,c.value==="abandoned"]])])])):X.value?(n(),l("div",Rs,[t("div",Ls,[t("button",{class:b(["favorite-btn",{active:(yt=(kt=p.movieInfo)==null?void 0:kt.lists)==null?void 0:yt.isFavorite}]),onMouseenter:e[39]||(e[39]=i=>_("favorite")),onMouseleave:e[40]||(e[40]=i=>c.value=null),onClick:e[41]||(e[41]=i=>N(E(y).FAVORITE))},[t("span",Ps,u((bt=(gt=p.movieInfo)==null?void 0:gt.lists)!=null&&bt.isFavorite?"favorite":"favorite_border"),1)],34),h(t("div",Ss,u("В избранное"),512),[[C,c.value==="favorite"]])]),t("div",xs,[t("button",{class:b(["watching-btn",{active:($t=(_t=p.movieInfo)==null?void 0:_t.lists)==null?void 0:$t.isWatching}]),onMouseenter:e[42]||(e[42]=i=>_("watching")),onMouseleave:e[43]||(e[43]=i=>c.value=null),onClick:e[44]||(e[44]=i=>N(E(y).WATCHING))},[t("span",Ds,u((ht=(wt=p.movieInfo)==null?void 0:wt.lists)!=null&&ht.isWatching?"visibility":"visibility_off"),1)],34),h(t("div",Hs,u("Смотрю"),512),[[C,c.value==="watching"]])]),t("div",Ns,[t("button",{class:b(["later-btn",{active:(At=(Ct=p.movieInfo)==null?void 0:Ct.lists)==null?void 0:At.isLater}]),onMouseenter:e[45]||(e[45]=i=>_("later")),onMouseleave:e[46]||(e[46]=i=>c.value=null),onClick:e[47]||(e[47]=i=>N(E(y).LATER))},e[72]||(e[72]=[t("span",{class:"material-icons"},"watch_later",-1)]),34),h(t("div",Os,u("Смотреть позже"),512),[[C,c.value==="later"]])]),t("div",Bs,[t("button",{class:b(["completed-btn",{active:(It=(Mt=p.movieInfo)==null?void 0:Mt.lists)==null?void 0:It.isCompleted}]),onMouseenter:e[48]||(e[48]=i=>_("completed")),onMouseleave:e[49]||(e[49]=i=>c.value=null),onClick:e[50]||(e[50]=i=>N(E(y).COMPLETED))},[t("span",Ks,u((Tt=(Et=p.movieInfo)==null?void 0:Et.lists)!=null&&Tt.isCompleted?"check_circle":"check_circle_outline"),1)],34),h(t("div",Vs,u("Просмотрено"),512),[[C,c.value==="completed"]])]),t("div",Us,[t("button",{class:b(["abandoned-btn",{active:(Lt=(Rt=p.movieInfo)==null?void 0:Rt.lists)==null?void 0:Lt.isAbandoned}]),onMouseenter:e[51]||(e[51]=i=>_("abandoned")),onMouseleave:e[52]||(e[52]=i=>c.value=null),onClick:e[53]||(e[53]=i=>N(E(y).ABANDONED))},[t("span",Fs,u(((St=(Pt=p.movieInfo)==null?void 0:Pt.lists)!=null&&St.isAbandoned,"not_interested")),1)],34),h(t("div",Ws,u("Брошено"),512),[[C,c.value==="abandoned"]])])])):v("",!0)])),ae(Yt,{ref_key:"notificationRef",ref:m},null,512)],64))}}},Kt=Ie(zs,[["__scopeId","data-v-165a8868"]]),qs={key:0,class:"carousel-container"},Ys={class:"carousel-wrapper"},Gs=["onClick"],Xs=["src","alt"],Zs={class:"video-name"},js={key:0,class:"video-player"},Qs=["src"],Js={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(p,{emit:$}){const O=He(),D=P(()=>O.isMobile),S=p,Z=$,A=k(S.activeVideoIndex),R=k(null),I=k(!1),o=k(!1),L=()=>{if(!R.value)return;const{scrollLeft:g,scrollWidth:a,clientWidth:d}=R.value;I.value=g>0,o.value=g<a-d-1},x=g=>{if(!R.value)return;const a=R.value.querySelector(".carousel-item");if(!a)return;const d=a.clientWidth+16;R.value.scrollBy({left:d*g,behavior:"smooth"})},U=g=>{A.value=g,Z("select",S.videos[g])},w=()=>L(),B=k([]),G=async g=>{try{return(await fetch("https://img.youtube.com/vi/".concat(g,"/0.jpg"))).ok}catch(a){return!1}};return Ne(async()=>{const g=S.videos.map(async d=>await G(d.videoId)?d:null),a=await Promise.all(g);B.value=a.filter(Boolean),L(),window.addEventListener("resize",w)}),me(()=>S.videos,async g=>{const a=g.map(async f=>await G(f.videoId)?f:null),d=await Promise.all(a);B.value=d.filter(Boolean)}),me(()=>S.activeVideoIndex,g=>{A.value=g}),Ft(()=>{window.removeEventListener("resize",w)}),(g,a)=>B.value.length?(n(),l("div",qs,[a[4]||(a[4]=t("h2",null,"Трейлеры (YouTube)",-1)),t("div",Ys,[h(t("button",{class:"scroll-button left",onClick:a[0]||(a[0]=d=>x(-1))},a[2]||(a[2]=[t("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[C,!D.value&&I.value]]),t("div",{ref_key:"carousel",ref:R,class:"carousel",onScroll:L},[(n(!0),l(ne,null,Me(B.value,(d,f)=>(n(),l("div",{key:f,class:"carousel-item",onClick:F=>U(f)},[t("img",{src:"https://img.youtube.com/vi/".concat(d.videoId,"/0.jpg"),alt:d.name},null,8,Xs),t("div",Zs,u(d.name),1)],8,Gs))),128))],544),h(t("button",{class:"scroll-button right",onClick:a[1]||(a[1]=d=>x(1))},a[3]||(a[3]=[t("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[C,!D.value&&o.value]])]),A.value!==null?(n(),l("div",js,[t("iframe",{src:p.videos[A.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,Qs)])):v("",!0)])):v("",!0)}},en=Ie(Js,[["__scopeId","data-v-5d54158b"]]),tn={class:"movie-info"},on={class:"content"},sn={key:0,class:"content-card"},nn={class:"movie-skeleton"},ln={class:"movie-skeleton__player"},an={key:2,class:"content-card"},rn={key:3,class:"content-card"},un={class:"content-header"},vn={class:"content-title"},dn={key:0,class:"ratings-links"},cn={key:0},mn=["href"],pn={key:0},fn={key:1},kn=["href"],yn={key:0},gn={key:2},bn=["href"],_n={key:0},$n={key:3},wn=["href"],hn={key:0},Cn={key:4},An=["href"],Mn={key:5},In=["href"],En=["content"],Tn=["content"],Rn={class:"additional-info"},Ln={class:"info-content"},Pn={class:"details-container"},Sn={class:"info-list"},xn={key:0},Dn={key:1},Hn={key:2},Nn={key:3},On={key:4},Bn={key:5},Kn={key:6},Vn={key:7},Un={key:8},Fn={class:"content-info"},Wn={key:0,class:"content-description-text"},zn={key:2,class:"yt-video-container"},qn={key:3,class:"related-movies"},Yn={key:4,class:"related-movies"},Gn={__name:"MovieInfo",setup(p){const $=k(!0),O=He(),D=Vt(),S=ko(),Z=Ut(),A=k(Z.params.kp_id),R=k(""),I=k(null),o=k(null),L=yo(),U=Co().areTrailersActive,w=k(null),B=()=>{if(o.value){const m=o.value.name_ru||o.value.name_en||o.value.name_original||"Информация о фильме";document.title=m}},G=m=>(m||[]).map(s=>({kp_id:s.film_id,poster:s.poster_url_preview||s.poster_url,title:s.name_ru||s.name_en||s.name_original})),g=m=>{if(typeof m!="number")return;const s=Math.floor(m/60),M=m%60;return"".concat(s," ч. ").concat(M," мин.")},a=k(!1),d=k({top:"0px",left:"0px"}),f=m=>{a.value=!0,d.value={top:"".concat(m.pageY+10,"px"),left:"".concat(m.pageX-70,"px")}},F=k(null),we=async()=>{try{const m=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[g(o.value.film_length)]:[]];await navigator.clipboard.writeText(m.join(", ")),F.value.showNotification("Скопировано")}catch(m){console.error("Ошибка копирования:",m)}},X=async(m=!0)=>{var s,M,j,_,W,ue,ie,Y;try{let V;if(A.value.startsWith("shiki")?V=await _o(A.value):V=await $o(A.value,D.token),Array.isArray(V)&&V.length===0)throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");o.value=V,A.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:A.value},L.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),B();const z={kp_id:A.value,title:((s=o.value)==null?void 0:s.name_ru)||((M=o.value)==null?void 0:M.name_en)||((j=o.value)==null?void 0:j.name_original),poster:((_=o.value)==null?void 0:_.poster_url)||((W=o.value)==null?void 0:W.cover_url)||((ue=o.value)==null?void 0:ue.screenshots[0]),year:(ie=o.value)==null?void 0:ie.year,type:(Y=o.value)==null?void 0:Y.type};if(A.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const fe=Math.floor(Math.random()*o.value.screenshots.length),ve=o.value.screenshots[fe];S.updateMoviePoster(ve)}else z.poster&&S.updateMoviePoster(z.poster);else z.poster&&S.updateMoviePoster(z.poster);if(P(()=>O.isHistoryAllowed).value&&z.kp_id&&z.title&&m)if(D.token)try{await zt(z.kp_id,y.HISTORY)}catch(fe){console.error("Ошибка при добавлении в историю:",fe)}else O.addToHistory({...z})}catch(V){const{message:z,code:pe}=De(V);R.value=z,I.value=pe,console.error("Ошибка при загрузке информации о фильмах:",V)}},K=P(()=>{var m,s;return console.log("Трейлеры:",(m=o.value)==null?void 0:m.videos),(s=o.value)==null?void 0:s.videos}),c=P(()=>{var m;return G((m=o.value)==null?void 0:m.sequels_and_prequels)}),le=P(()=>{var m;return G((m=o.value)==null?void 0:m.similars)}),re=m=>{if(m.altKey&&m.keyCode===84&&document.querySelector(".player-container")){const M=document.querySelector(".theater-mode-btn");M&&M.click()}};return Ne(async()=>{await X(),$.value=!1,document.addEventListener("keydown",re)}),go(async()=>{L.clearHeaderContent(),document.removeEventListener("keydown",re)}),me(()=>Z.params.kp_id,async m=>{m&&m!==A.value&&(L.clearHeaderContent(),A.value=m,w.value=null,await X(),$.value=!1)},{immediate:!0}),me(o,()=>{B()},{deep:!0}),(m,s)=>{var j,_;const M=bo("lazy");return n(),l(ne,null,[t("div",tn,[t("div",on,[$.value?(n(),l("div",sn,[t("div",nn,[s[3]||(s[3]=xt('<div class="movie-skeleton__header" data-v-e216f608><div class="movie-skeleton__title" data-v-e216f608></div></div><div class="movie-skeleton__ratings" data-v-e216f608><div class="movie-skeleton__rating-item" data-v-e216f608></div><div class="movie-skeleton__rating-item" data-v-e216f608></div><div class="movie-skeleton__rating-item" data-v-e216f608></div></div>',2)),t("div",ln,[ae(qt)]),s[4]||(s[4]=xt('<div class="movie-skeleton__controls" data-v-e216f608><div class="movie-skeleton__control-btn" data-v-e216f608></div><div class="movie-skeleton__control-btn" data-v-e216f608></div><div class="movie-skeleton__control-btn" data-v-e216f608></div><div class="movie-skeleton__control-btn" data-v-e216f608></div><div class="movie-skeleton__control-btn" data-v-e216f608></div></div><div class="movie-skeleton__additional-info" data-v-e216f608><div class="movie-skeleton__section-title" data-v-e216f608></div><div class="movie-skeleton__info-list" data-v-e216f608><div class="movie-skeleton__info-item" data-v-e216f608></div><div class="movie-skeleton__info-item" data-v-e216f608></div><div class="movie-skeleton__info-item" data-v-e216f608></div><div class="movie-skeleton__info-item" data-v-e216f608></div><div class="movie-skeleton__info-item" data-v-e216f608></div></div></div><div class="movie-skeleton__description" data-v-e216f608><div class="movie-skeleton__description-line" data-v-e216f608></div><div class="movie-skeleton__description-line" data-v-e216f608></div><div class="movie-skeleton__description-line" data-v-e216f608></div><div class="movie-skeleton__description-line" data-v-e216f608></div></div>',3))])])):v("",!0),R.value?(n(),ce(Wt,{key:1,message:R.value,code:I.value},null,8,["message","code"])):v("",!0),R.value?(n(),l("div",an,[(n(),ce(Kt,{key:A.value,"kp-id":A.value,"movie-info":o.value,"onUpdate:movieInfo":X},null,8,["kp-id","movie-info"]))])):v("",!0),o.value?(n(),l("div",rn,[t("div",un,[o.value.logo_url?(n(),l("div",{key:0,class:"content-logo",onMousemove:f,onMouseleave:s[1]||(s[1]=W=>a.value=!1),onClick:we},[s[0]||(Dt(-1,!0),(s[0]=h(t("img",{alt:"Логотип фильма",class:"content-logo"},null,512),[[M,o.value.logo_url]])).cacheIndex=0,Dt(1),s[0])],32)):(n(),l("div",{key:1,onMousemove:f,onMouseleave:s[2]||(s[2]=W=>a.value=!1),onClick:we},[t("h1",vn,u(o.value.title),1)],32)),h(t("div",{class:"title-copy-tooltip",style:xe(d.value)}," Скопировать ",4),[[C,a.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(n(),l("div",dn,[o.value.kinopoisk_id?(n(),l("div",cn,[t("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[5]||(s[5]=t("img",{src:Nt,alt:"КП",class:"rating-logo"},null,-1)),o.value.rating_kinopoisk?(n(),l("span",pn,u(o.value.rating_kinopoisk)+"/10",1)):v("",!0),s[6]||(s[6]=t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,mn)])):v("",!0),!o.value.kinopoisk_id&&o.value.title?(n(),l("div",fn,[t("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[7]||(s[7]=t("img",{src:Nt,alt:"КП",class:"rating-logo"},null,-1)),o.value.rating_kinopoisk?(n(),l("span",yn,u(o.value.rating_kinopoisk)+"/10",1)):v("",!0),s[8]||(s[8]=t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,kn)])):v("",!0),o.value.imdb_id?(n(),l("div",gn,[t("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[9]||(s[9]=t("img",{src:Ot,alt:"IMDb",class:"rating-logo"},null,-1)),o.value.rating_imdb?(n(),l("span",_n,u(o.value.rating_imdb)+"/10",1)):v("",!0),s[10]||(s[10]=t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,bn)])):v("",!0),!o.value.imdb_id&&o.value.title?(n(),l("div",$n,[t("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},[s[11]||(s[11]=t("img",{src:Ot,alt:"IMDb",class:"rating-logo"},null,-1)),o.value.rating_imdb?(n(),l("span",hn,u(o.value.rating_imdb)+"/10",1)):v("",!0),s[12]||(s[12]=t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,wn)])):v("",!0),o.value.shikimori_id?(n(),l("div",Cn,[t("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[13]||(s[13]=[t("img",{src:Ao,alt:"Shiki",class:"rating-logo"},null,-1),t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,An)])):v("",!0),o.value.imdb_id?(n(),l("div",Mn,[t("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[14]||(s[14]=[t("span",null,"Parents Guide",-1),t("img",{src:de,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,In)])):v("",!0)])):v("",!0),(n(),ce(Kt,{key:A.value,"kp-id":A.value,"movie-info":o.value,"onUpdate:movieInfo":X},null,8,["kp-id","movie-info"])),t("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,En),o.value.name_original?(n(),l("meta",{key:1,name:"original-title",content:o.value.name_original},null,8,Tn)):v("",!0),t("div",Rn,[s[24]||(s[24]=t("h2",{class:"additional-info-title"},"Подробнее",-1)),t("div",Ln,[t("div",Pn,[t("ul",Sn,[o.value.type&&E(Ht)[o.value.type]?(n(),l("li",xn,[s[15]||(s[15]=t("strong",null,"Тип:",-1)),H(" "+u(E(Ht)[o.value.type]),1)])):v("",!0),o.value.year?(n(),l("li",Dn,[s[16]||(s[16]=t("strong",null,"Год выпуска:",-1)),H(" "+u(o.value.year),1)])):v("",!0),o.value.title?(n(),l("li",Hn,[s[17]||(s[17]=t("strong",null,"Название:",-1)),H(" "+u(o.value.title),1)])):v("",!0),o.value.name_original?(n(),l("li",Nn,[s[18]||(s[18]=t("strong",null,"Оригинальное название:",-1)),H(" "+u(o.value.name_original),1)])):v("",!0),o.value.slogan?(n(),l("li",On,[s[19]||(s[19]=t("strong",null,"Слоган:",-1)),H(" "+u(o.value.slogan),1)])):v("",!0),o.value.production_companies?(n(),l("li",Bn,[s[20]||(s[20]=t("strong",null,"Продакшн:",-1)),H(" "+u(o.value.production_companies),1)])):v("",!0),(j=o.value.countries)!=null&&j.length?(n(),l("li",Kn,[s[21]||(s[21]=t("strong",null,"Страна производства:",-1)),H(" "+u(o.value.countries.map(W=>W.country).join(", ")),1)])):v("",!0),(_=o.value.genres)!=null&&_.length?(n(),l("li",Vn,[s[22]||(s[22]=t("strong",null,"Жанры:",-1)),H(" "+u(o.value.genres.map(W=>W.genre).join(", ")),1)])):v("",!0),o.value.film_length?(n(),l("li",Un,[s[23]||(s[23]=t("strong",null,"Продолжительность:",-1)),H(" "+u(g(o.value.film_length)),1)])):v("",!0)])])])]),t("div",Fn,[o.value.description?(n(),l("p",Wn,u(o.value.description),1)):v("",!0)]),K.value.length&&E(U)?(n(),l("div",zn,[ae(en,{videos:K.value,"active-video-index":w.value,onSelect:m.playTrailer},null,8,["videos","active-video-index","onSelect"])])):v("",!0),c.value.length?(n(),l("div",qn,[s[25]||(s[25]=t("h2",null,"Сиквелы и приквелы",-1)),ae(E(Bt),{"movies-list":c.value,loading:!1,"is-history":!1},null,8,["movies-list"])])):v("",!0),le.value.length?(n(),l("div",Yn,[s[26]||(s[26]=t("h2",null,"Похожие",-1)),ae(E(Bt),{"movies-list":le.value,loading:!1,"is-history":!1},null,8,["movies-list"])])):v("",!0)])):v("",!0)])]),ae(Yt,{ref_key:"notificationRef",ref:F},null,512)],64)}}},el=Ie(Gn,[["__scopeId","data-v-e216f608"]]);export{el as default};
//# sourceMappingURL=MovieInfo-BKi0bR4A.js.map

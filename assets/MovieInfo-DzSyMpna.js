import{_ as Ge,r as v,c as V,b as a,d as i,e,s as Z,t as m,L as le,g as y,M as _e,n as w,q as tt,u as At,i as zt,K as En,z as Pt,l as De,o as at,P as Wt,x as et,E as Ln,f as ke,Q as Tt,m as Q,R as ge,y as z,U as F,S as Pn,D as Je,V as Ne,W as In,X as Ot,Y as It,Z as Sn,$ as yn,a0 as xn,k as jn,v as dt,a1 as Nn,a2 as xe,w as qt,a3 as Rt,a4 as Un,a5 as Bn,a6 as $n,a7 as Dn,a8 as pn,a9 as Hn,aa as Vn,a as bn,ab as hn,ac as Fn,ad as On,ae as qn,af as Kn,ag as zn,ah as Wn,ai as Gn,aj as Yn,ak as Zn}from"./index-Doh7gWE8.js";import{_ as Xn,a as wn,b as Cn,M as _n}from"./MovieList-CtrUgu_q.js";import{f as gt,p as Kt,u as Tn,a as Qn,b as Rn}from"./useCommentFormatting-X7OAwyi5.js";import{S as An}from"./SpinnerLoading-JkcLEsr2.js";import{N as Ut}from"./ToastMessage-CcSDHUCf.js";import{u as Jn,S as eo,a as to}from"./trailer-Ue46vELJ.js";const Lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",no="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",ft=r=>{const t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.color="white",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="2rem",t.style.zIndex="99000",t.textContent=r,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},2e3)},oo={key:0},so={key:1},lo={class:"players-list"},io=["onClick"],ao={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},ro={key:0},uo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},co={key:1},vo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},mo=["onClick"],fo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},go={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(r,{emit:t}){const u=r,o=t,M=v(null),L=V(()=>u.players.filter(b=>!E(b)&&!I(b))),f=V(()=>u.players.some(b=>E(b))),k=V(()=>u.players.some(b=>I(b))),E=b=>b.key.toUpperCase().includes("HDREZKA"),I=b=>b.key.toUpperCase().includes("KODIK"),l=b=>b.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),d=b=>{o("select",b),o("close")},C=b=>u.selectedPlayer&&u.selectedPlayer.key===b.key,p=b=>u.selectedPlayer?b==="hdrezka"&&E(u.selectedPlayer)||b==="kodik"&&I(u.selectedPlayer):!1,x=b=>{M.value=b},A=()=>{M.value=null},P=b=>{let T=u.players.filter(S=>b==="hdrezka"&&E(S)||b==="kodik"&&I(S));return b==="kodik"?T.sort((S,W)=>l(S.translate).localeCompare(l(W.translate))):T},R=b=>P(b).some(T=>T.warning);return(b,T)=>(i(),a("div",{class:"modal",onClick:T[4]||(T[4]=tt(S=>b.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:T[3]||(T[3]=tt(()=>{},["stop"]))},[e("button",{class:"close",onClick:T[0]||(T[0]=S=>b.$emit("close"))},"√ó"),M.value?(i(),a("h2",so,[e("button",{class:"back-btn",onClick:A},"‚Üê –ù–∞–∑–∞–¥"),Z(" "+m(M.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(i(),a("h2",oo,"–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–µ—Ä")),e("ul",lo,[M.value?(i(!0),a(le,{key:1},_e(P(M.value),S=>(i(),a("li",{key:S.key},[e("button",{class:w(["player-item",{active:C(S)}]),onClick:W=>d(S)},[Z(m(l(S.translate))+" ",1),S.warning?(i(),a("span",fo,"warning")):y("",!0)],10,mo)]))),128)):(i(),a(le,{key:0},[(i(!0),a(le,null,_e(L.value,S=>(i(),a("li",{key:S.key},[e("button",{class:w(["player-item",{active:C(S)}]),onClick:W=>d(S)},[Z(m(l(S.translate))+" ",1),S.warning?(i(),a("span",ao,"warning")):y("",!0)],10,io)]))),128)),f.value?(i(),a("li",ro,[e("button",{class:w(["group-item",{active:p("hdrezka")}]),onClick:T[1]||(T[1]=S=>x("hdrezka"))},[T[5]||(T[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),T[6]||(T[6]=Z(" ReYohoho - HDrezka ")),R("hdrezka")?(i(),a("span",uo,"warning")):y("",!0)],2)])):y("",!0),k.value?(i(),a("li",co,[e("button",{class:w(["group-item",{active:p("kodik")}]),onClick:T[2]||(T[2]=S=>x("kodik"))},[T[7]||(T[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),T[8]||(T[8]=Z(" Kodik ")),R("kodik")?(i(),a("span",vo,"warning")):y("",!0)],2)])):y("",!0)],64))])])]))}},ko=Ge(go,[["__scopeId","data-v-8b8d2b67"]]),yo={class:"players-list"},po=["src"],bo={key:1,class:"controls"},ho={class:"main-controls"},wo={class:"material-icons"},Co={class:"list-button-item"},_o={class:"material-icons"},Mo={class:"list-button-item"},Eo={class:"material-icons"},Lo={class:"list-button-item"},Io={class:"list-button-item"},To={class:"material-icons"},Ro={class:"list-button-item"},Ao={class:"material-icons"},Po={class:"tooltip-container","data-tooltip-container":"dimming"},So={class:"material-icons"},xo={class:"tooltip-container","data-tooltip-container":"blur"},jo={class:"tooltip-container","data-tooltip-container":"compressor"},No={class:"tooltip-container","data-tooltip-container":"mirror"},Uo={class:"tooltip-container","data-tooltip-container":"theater"},Bo={class:"material-symbols-outlined"},$o={class:"custom-tooltip","data-tooltip":"theater"},Do={class:"tooltip-container","data-tooltip-container":"pip"},Ho={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},Vo={class:"current-ratio"},Fo=["onClick"],Oo={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},qo={class:"custom-tooltip","data-tooltip":"app_link"},Ko={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},zo={class:"custom-tooltip","data-tooltip":"copy_link"},Wo={key:0,class:"desktop-list-buttons"},Go={class:"tooltip-container"},Yo={class:"material-icons"},Zo={class:"custom-tooltip"},Xo={class:"tooltip-container"},Qo={class:"material-icons"},Jo={class:"custom-tooltip"},es={class:"tooltip-container"},ts={class:"custom-tooltip"},ns={class:"tooltip-container"},os={class:"material-icons"},ss={class:"custom-tooltip"},ls={class:"tooltip-container"},is={class:"material-icons"},as={class:"custom-tooltip"},rs={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(r,{emit:t}){const u=At(),o=Jn(),M=zt(),L=En(),f=Pt(),k=v(L.params.kp_id),E=r,I=t,l=v([]),d=v(null),C=v(!0),p=v(!1),x=v(!1),A=v(null),P=v(null),R=v(!1),b=v(""),T=v(null),S=v(window.innerHeight*.9),W=V(()=>"".concat(S.value,"px")),O=V(()=>u.isMobile),j=V(()=>!!window.electronAPI),B=v(null),J=v(!1);let Re=null;const Ee=v(null),He=v(null),D=v(null),ae=v(null),X=v(!1),G=v(!1),ye=v(null),de=v(null),be=v(null),he=v(null),we=v(null),Ae=v(null),pe=v(null),Ye=g=>{const n=document.querySelector('[data-tooltip-container="'.concat(g,'"]')),s=document.querySelector('[data-tooltip="'.concat(g,'"]'));if(!n||!s)return;const h=n.getBoundingClientRect(),U=s.getBoundingClientRect(),K=window.innerHeight;h.bottom+U.height>K?(s.style.top="auto",s.style.bottom="100%",s.style.marginTop="0",s.style.marginBottom="12px",s.style.transform="translateX(-50%)"):(s.style.top="100%",s.style.bottom="auto",s.style.marginTop="12px",s.style.marginBottom="0",s.style.transform="translateX(-50%)")},ee=g=>{B.value=g,J.value=!1,clearTimeout(Re),Ne(()=>{Ye(g)})},je=()=>{J.value||(Re=setTimeout(()=>{B.value=null},300))},Ze=()=>{J.value=!0,clearTimeout(Re)},Le=()=>{J.value=!1,B.value=null},Ie=V({get:()=>o.aspectRatio,set:g=>o.updateAspectRatio(g)}),Ve=V({get:()=>o.isCentered,set:g=>o.updateCentering(g)}),nt=V(()=>{var g,n,s,h,U,K,ne,re,oe,ue;return((n=(g=E.movieInfo)==null?void 0:g.lists)==null?void 0:n.isFavorite)||((h=(s=E.movieInfo)==null?void 0:s.lists)==null?void 0:h.isWatching)||((K=(U=E.movieInfo)==null?void 0:U.lists)==null?void 0:K.isLater)||((re=(ne=E.movieInfo)==null?void 0:ne.lists)==null?void 0:re.isCompleted)||((ue=(oe=E.movieInfo)==null?void 0:oe.lists)==null?void 0:ue.isAbandoned)}),st=V(()=>o.preferredPlayer),rt=v(0),Pe=g=>g.toUpperCase(),Fe=()=>{if(p.value||!P.value)return;const[g,n]=Ie.value.split(":").map(Number);S.value=window.innerHeight*.9,rt.value=Math.min(P.value.clientWidth*(n/g),S.value)},Oe=V(()=>{if(p.value)return{};const[g,n]=Ie.value.split(":").map(Number),s=S.value*(g/n);return{width:"100%",maxWidth:"".concat(s,"px"),maxHeight:W.value,margin:"0 auto",overflow:"hidden"}}),_=V(()=>{const[g,n]=Ie.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(n/g*100,"%")}}),H=()=>{P.value&&setTimeout(()=>{Ne(()=>{P.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},qe=async()=>{try{b.value="",T.value=null;const g=await Pn(E.kpId);if(l.value=Object.entries(g).map(([n,s])=>({key:n.toUpperCase(),...s})),l.value.length>0){if(st.value){const n=Pe(st.value),s=l.value.find(h=>Pe(h.key)===n);d.value=s||l.value[0]}else d.value=l.value[0];I("update:selectedPlayer",d.value)}}catch(g){const{message:n,code:s}=Je(g);b.value=n,T.value=s,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–µ–µ—Ä–æ–≤:",g)}},kt=()=>{R.value=!0},ct=()=>{R.value=!1},lt=()=>{try{return de.value||(de.value=new(window.AudioContext||window.webkitAudioContext)),be.value||(be.value=de.value.createDynamicsCompressor(),be.value.threshold.value=-50,be.value.knee.value=40,be.value.ratio.value=12,be.value.attack.value=0,be.value.release.value=.25,we.value=de.value.createGain(),Ae.value=de.value.createGain(),we.value.gain.value=0,Ae.value.gain.value=1,be.value.connect(we.value),we.value.connect(de.value.destination),Ae.value.connect(de.value.destination)),!0}catch(g){return console.log("Error initializing audio context:",g),!1}},ot=async g=>{try{if(!de.value||pe.value===g)return!0;const n=A.value,s=(n==null?void 0:n.src)||"";if(s.includes("videoframe")||s.includes("kinoserial.net")||s.includes("allarknow"))return console.log("Player detected as unsupported for compressor:",s),pe.value=g,he.value=null,G.value=!1,j.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1;if(he.value)try{he.value.disconnect()}catch(U){}const h=async(U=0)=>{U>0&&await new Promise(K=>setTimeout(K,U));try{return he.value=de.value.createMediaElementSource(g),pe.value=g,he.value.connect(be.value),he.value.connect(Ae.value),console.log("Video audio setup completed (attempt with ".concat(U,"ms delay)")),!0}catch(K){if(K.name==="InvalidStateError"&&K.message.includes("already connected"))return console.log("MediaElementSource already connected (".concat(U,"ms delay attempt)")),!1;throw K}};return await h(0)||await h(100)||await h(300)||await h(800)?!0:(console.log("Video element has internal audio processing, compressor not available for this player"),pe.value=g,he.value=null,G.value=!1,j.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1)}catch(n){return console.log("Error setting up video audio:",n),!1}},Ke=async g=>{if(A.value)try{const n=A.value,s=n.contentDocument||n.contentWindow.document;if(!s)return;const h=s.querySelectorAll("video");if(h.length===0)return;const U=h[0];if(!lt())return;if(!await ot(U)||!he.value){console.log("Compressor not available for this player");return}g&&!G.value?(we.value.gain.setValueAtTime(1,de.value.currentTime),Ae.value.gain.setValueAtTime(0,de.value.currentTime),G.value=!0,j.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –≤–∫–ª—é—á—ë–Ω"),console.log("Compressor enabled")):!g&&G.value&&(we.value.gain.setValueAtTime(0,de.value.currentTime),Ae.value.gain.setValueAtTime(1,de.value.currentTime),G.value=!1,j.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –æ—Ç–∫–ª—é—á—ë–Ω"),console.log("Compressor disabled"))}catch(n){console.log("Compressor error:",n),j.value&&window.electronAPI.showToast("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞")}},vt=()=>{j.value?window.electronAPI.sendHotKey("F2"):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},mt=()=>{j.value?(fe.value=!fe.value,Ke(fe.value)):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},N=()=>{j.value?(ve.value=!ve.value,ze(ve.value)):(ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},q=()=>{p.value=!p.value,p.value?(window.addEventListener("mousemove",ce),document.addEventListener("keydown",yt),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",ce),document.removeEventListener("keydown",yt),document.body.classList.remove("no-scroll")),x.value=p.value,Ne(()=>H())},me=v(null),ce=()=>{me.value=setTimeout(()=>{clearTimeout(me.value),x.value=!1},4e3),x.value=!0},Y=V(()=>u.dimmingEnabled),te=()=>{p.value||u.toggleDimming()},fe=V({get:()=>o.compressorEnabled,set:g=>o.updateCompressor(g)}),ve=V({get:()=>o.mirrorEnabled,set:g=>o.updateMirror(g)}),ze=g=>{if(A.value)try{const n=A.value,s=n.contentDocument||n.contentWindow.document;if(!s)return;const h=s.querySelectorAll("video");if(h.length>0&&(h.forEach(U=>{g?U.style.transform="scaleX(-1)":U.style.transform="scaleX(1)"}),X.value=g,j.value)){const U=g?"–ó–µ—Ä–∫–∞–ª–æ –≤–∫–ª—é—á–µ–Ω–æ":"–ó–µ—Ä–∫–∞–ª–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ";window.electronAPI.showToast(U)}}catch(n){}},Xe=()=>{ae.value&&clearInterval(ae.value),ae.value=setInterval(()=>{if(A.value)try{const g=A.value,n=g.contentDocument||g.contentWindow.document;if(!n)return;const s=n.querySelectorAll("video");if(s.length>0){const h=s[0],K=h.style.transform==="scaleX(-1)";ve.value&&!K?(h.style.transform="scaleX(-1)",X.value=!0):!ve.value&&K&&(h.style.transform="scaleX(1)",X.value=!1),pe.value!==h?(console.log("Video element changed, reinitializing compressor"),pe.value=null,G.value=!1,fe.value&&setTimeout(()=>{Ke(!0)},500)):fe.value!==G.value&&he.value&&(console.log("Compressor state mismatch, reapplying"),Ke(fe.value))}}catch(g){}},1e3)},Qe=(g=!1)=>{if(!j.value)return;ye.value&&clearInterval(ye.value);let n=!1,s=[];function h(){var U;if(s=[],window.selectedNudityTimings&&Array.isArray(window.selectedNudityTimings)&&((U=E.movieInfo)!=null&&U.nudity_timings)){for(const K of E.movieInfo.nudity_timings)if(window.selectedNudityTimings.includes(K.id)){const ne=Kt(K.timing_text);ne&&ne.length>0&&s.push(...ne)}}}h(),ye.value=setInterval(()=>{if(A.value){h();try{const U=A.value,K=U.contentDocument||U.contentWindow.document;if(!K)return;const ne=K.querySelectorAll("video");if(ne.length>0){const re=ne[0];if(!re.paused){const oe=re.currentTime,ue=re.duration,ie=ue>0?oe/ue*100:0;if(g&&(console.log("Video position: ".concat(oe.toFixed(2),"s / ").concat(ue.toFixed(2),"s (").concat(ie.toFixed(1),"%)")),s.length>0)){const Me=s.map(([Ce,Se])=>"".concat(gt(Ce)," - ").concat(gt(Se))).join(", ");console.log("Active blur intervals: [".concat(Me,"]"))}let se=!1;for(const[Me,Ce]of s)if(oe>=Me&&oe<=Ce){se=!0;break}se&&!n&&j.value?(window.electronAPI.sendHotKey("F2"),n=!0,console.log("Blur applied at",oe.toFixed(2),"seconds")):!se&&n&&(window.electronAPI.sendHotKey("F2"),n=!1,console.log("Blur removed at",oe.toFixed(2),"seconds"))}}}catch(U){console.log("Error monitoring video position:",U)}}},100)},$e=()=>{C.value=!1,Xe(),Qe()},yt=g=>{(g.key==="Escape"&&p.value||g.altKey&&g.keyCode===84)&&q()},St=g=>{Ie.value=g,setTimeout(()=>{Ve.value&&H()},310)},Bt=()=>{const g="reyohoho://#".concat(k.value);try{window.location.href=g}catch(n){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏:",n)}},$t=()=>{const g=window.location.href;navigator.clipboard.writeText(g).then(()=>{}),Ee.value.showNotification("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–ª—å–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞")};function xt(g){return g.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const Dt=()=>{try{he.value&&(he.value.disconnect(),he.value=null),de.value&&(de.value.close(),de.value=null),be.value=null,we.value=null,Ae.value=null,pe.value=null,G.value=!1}catch(g){console.log("Error cleaning up audio context:",g)}},Ht=g=>{var n;if(((n=d.value)==null?void 0:n.key)===g.key){ct();return}d.value=g,C.value=!0,X.value=!1,G.value=!1,pe.value=null,ae.value&&(clearInterval(ae.value),ae.value=null),ye.value&&(clearInterval(ye.value),ye.value=null),g.key.toLowerCase().includes("torrents")||o.updatePreferredPlayer(Pe(g.key)),I("update:selectedPlayer",g)};De(d,g=>{g&&(C.value=!0,X.value=!1,G.value=!1,pe.value=null,ae.value&&(clearInterval(ae.value),ae.value=null),ye.value&&(clearInterval(ye.value),ye.value=null),g.key.toLowerCase().includes("torrents")||o.updatePreferredPlayer(Pe(g.key)),I("update:selectedPlayer",g))}),De(()=>L.params.kp_id,async g=>{g&&g!==k.value&&(k.value=g,X.value=!1,G.value=!1,pe.value=null,ae.value&&(clearInterval(ae.value),ae.value=null),ye.value&&(clearInterval(ye.value),ye.value=null),Ve.value&&H())},{immediate:!0});const ut=["16:9","12:5","4:3"],jt=()=>{const n=(ut.indexOf(Ie.value)+1)%ut.length;St(ut[n])},Ue=g=>{var s,h,U,K,ne,re,oe,ue,ie,se,Me,Ce,Se;return(Se={[F.FAVORITE]:((h=(s=E.movieInfo)==null?void 0:s.lists)==null?void 0:h.isFavorite)||!1,[F.HISTORY]:((K=(U=E.movieInfo)==null?void 0:U.lists)==null?void 0:K.isHistory)||!1,[F.LATER]:((re=(ne=E.movieInfo)==null?void 0:ne.lists)==null?void 0:re.isLater)||!1,[F.COMPLETED]:((ue=(oe=E.movieInfo)==null?void 0:oe.lists)==null?void 0:ue.isCompleted)||!1,[F.ABANDONED]:((se=(ie=E.movieInfo)==null?void 0:ie.lists)==null?void 0:se.isAbandoned)||!1,[F.WATCHING]:((Ce=(Me=E.movieInfo)==null?void 0:Me.lists)==null?void 0:Ce.isWatching)||!1}[g])!=null?Se:!1},Be=async g=>{if(!M.token){Ee.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:Nt});return}try{const n={[F.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[F.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[F.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[F.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[F.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[F.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};Ue(g)?(await In(k.value,g),Ee.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(n[g]))):(await Ot(k.value,g),Ee.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(n[g])))}catch(n){const{message:s,code:h}=Je(n);Ee.value.showNotification("".concat(s," ").concat(h))}I("update:movieInfo")},Nt=()=>{f.push("/login")},pt=V(()=>o.showFavoriteTooltip),Vt=()=>{f.push("/settings"),Le()},Ft=async()=>{if(!j.value){ft("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank");return}if(A.value)try{const g=A.value,n=g.contentDocument||g.contentWindow.document;if(!n)return;const s=n.querySelector("video");if(!s)return;document.pictureInPictureElement?await document.exitPictureInPicture():document.pictureInPictureEnabled?await s.requestPictureInPicture():ft('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}catch(g){console.error("Error toggling PiP:",g),ft('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}};return at(()=>{C.value=!0,qe(),O.value&&(Ie.value="4:3"),Fe(),window.addEventListener("resize",Fe),window.addEventListener("resize",Ye),Ve.value&&H(),window.toggleCompressor=mt,window.toggleMirror=N}),Wt(()=>{window.removeEventListener("resize",Fe),window.removeEventListener("resize",Ye),window.removeEventListener("mousemove",ce),document.removeEventListener("keydown",yt),document.body.classList.remove("no-scroll"),ae.value&&clearInterval(ae.value),ye.value&&clearInterval(ye.value),Dt(),delete window.toggleCompressor,delete window.toggleMirror}),(g,n)=>{var s,h,U,K,ne,re,oe,ue,ie,se,Me,Ce,Se,it,bt,ht,wt,Ct,_t,Mt,c,Te,We,Et,Qt,Jt,en,tn,nn,on,sn,ln,an,rn,un,dn,cn,vn,mn,fn,gn,kn;return b.value?(i(),et(Ln,{key:0,message:b.value,code:T.value},null,8,["message","code"])):(i(),a(le,{key:1},[e("div",yo,[n[41]||(n[41]=e("span",null,"–ü–ª–µ–µ—Ä:",-1)),e("button",{class:"player-btn",onClick:kt},m(d.value?xt(d.value.translate).toUpperCase():"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–µ—Ä–æ–≤..."),1)]),R.value?(i(),et(ko,{key:0,players:l.value,"selected-player":d.value,onClose:ct,onSelect:Ht},null,8,["players","selected-player"])):y("",!0),e("div",{ref_key:"containerRef",ref:P,class:w(["player-container",{"theater-mode":p.value}]),style:Tt(p.value?{}:Oe.value)},[e("div",{class:"iframe-wrapper",style:Tt(p.value?{}:_.value)},[Q(e("iframe",{ref_key:"playerIframe",ref:A,src:(s=d.value)==null?void 0:s.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:w(["responsive-iframe",{"theater-mode-unlock":x.value,"theater-mode-lock":p.value,dimmed:Y.value}]),onLoad:$e},null,42,po),[[ge,!C.value&&((h=d.value)==null?void 0:h.iframe)]]),C.value?(i(),et(An,{key:0,text:"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–ª–µ–µ—Ä: ".concat(d.value?xt(d.value.translate):"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø–ª–µ–µ—Ä–æ–≤","\n–ï—Å–ª–∏ –ø–ª–µ–µ—Ä –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è, —Ç–æ —Å–º–µ–Ω–∏—Ç–µ –ø–ª–µ–µ—Ä –≤—ã—à–µ –∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ VPN"),style:{"white-space":"pre-line"}},null,8,["text"])):y("",!0)],4),p.value?(i(),a("button",{key:0,class:w(["close-theater-btn",{visible:x.value}]),onClick:q}," ‚úñ ",2)):y("",!0)],6),p.value?y("",!0):(i(),a("div",bo,[e("div",ho,[O.value?y("",!0):(i(),a("div",{key:0,ref_key:"tooltipContainer",ref:He,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[pt.value?(i(),a("button",{key:0,class:w(["favorite-btn",{active:(K=(U=r.movieInfo)==null?void 0:U.lists)==null?void 0:K.isFavorite}]),onMouseenter:n[0]||(n[0]=$=>ee("favorite")),onMouseleave:je,onClick:n[1]||(n[1]=$=>Be(z(F).FAVORITE))},[e("span",wo,m((re=(ne=r.movieInfo)==null?void 0:ne.lists)!=null&&re.isFavorite?"favorite":"favorite_border"),1),e("span",{class:w(["material-icons dropdown-arrow",{highlighted:nt.value}])},"expand_more",2)],34)):y("",!0),Q(e("div",{ref_key:"tooltip",ref:D,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:Ze,onMouseleave:Le},[e("div",Co,[e("button",{class:w(["favorite-btn",{active:(ue=(oe=r.movieInfo)==null?void 0:oe.lists)==null?void 0:ue.isFavorite}]),onClick:n[2]||(n[2]=$=>Be(z(F).FAVORITE))},[e("span",_o,m((se=(ie=r.movieInfo)==null?void 0:ie.lists)!=null&&se.isFavorite?"favorite":"favorite_border"),1),n[42]||(n[42]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))],2)]),e("div",Mo,[e("button",{class:w(["watching-btn",{active:(Ce=(Me=r.movieInfo)==null?void 0:Me.lists)==null?void 0:Ce.isWatching}]),onClick:n[3]||(n[3]=$=>Be(z(F).WATCHING))},[e("span",Eo,m((it=(Se=r.movieInfo)==null?void 0:Se.lists)!=null&&it.isWatching?"visibility":"visibility_off"),1),n[43]||(n[43]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))],2)]),e("div",Lo,[e("button",{class:w(["later-btn",{active:(ht=(bt=r.movieInfo)==null?void 0:bt.lists)==null?void 0:ht.isLater}]),onClick:n[4]||(n[4]=$=>Be(z(F).LATER))},n[44]||(n[44]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ",-1)]),2)]),e("div",Io,[e("button",{class:w(["completed-btn",{active:(Ct=(wt=r.movieInfo)==null?void 0:wt.lists)==null?void 0:Ct.isCompleted}]),onClick:n[5]||(n[5]=$=>Be(z(F).COMPLETED))},[e("span",To,m((Mt=(_t=r.movieInfo)==null?void 0:_t.lists)!=null&&Mt.isCompleted?"check_circle":"check_circle_outline"),1),n[45]||(n[45]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))],2)]),e("div",Ro,[e("button",{class:w(["abandoned-btn",{active:(Te=(c=r.movieInfo)==null?void 0:c.lists)==null?void 0:Te.isAbandoned}]),onClick:n[6]||(n[6]=$=>Be(z(F).ABANDONED))},[e("span",Ao,m(((Et=(We=r.movieInfo)==null?void 0:We.lists)!=null&&Et.isAbandoned,"not_interested")),1),n[46]||(n[46]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))],2)]),e("div",{class:"tooltip-hint"},[n[48]||(n[48]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[n[47]||(n[47]=Z("–°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ ")),e("a",{class:"settings-link",onClick:Vt},"–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")])])],544),[[ge,B.value==="favorite"&&pt.value]])],512)),O.value?y("",!0):(i(),a(le,{key:1},[e("div",Po,[e("button",{class:w(["dimming-btn",{active:Y.value}]),onMouseenter:n[7]||(n[7]=$=>ee("dimming")),onMouseleave:n[8]||(n[8]=$=>B.value=null),onClick:te},[e("span",So,m(Y.value?"light_mode":"dark_mode"),1)],34),Q(e("div",{class:"custom-tooltip","data-tooltip":"dimming"},m(Y.value?"–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ":"–í–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ"),513),[[ge,B.value==="dimming"]])]),e("div",xo,[e("button",{class:w(["blur-btn",{"electron-only":!j.value}]),onMouseenter:n[9]||(n[9]=$=>ee("blur")),onMouseleave:n[10]||(n[10]=$=>B.value=null),onClick:vt},n[49]||(n[49]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),Q(e("div",{class:"custom-tooltip","data-tooltip":"blur"},m(j.value?"–ë–ª—é—Ä":"–ë–ª—é—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ge,B.value==="blur"]])]),e("div",jo,[e("button",{class:w(["material-symbols-outlined",{active:fe.value,"electron-only":!j.value}]),onMouseenter:n[11]||(n[11]=$=>ee("compressor")),onMouseleave:n[12]||(n[12]=$=>B.value=null),onClick:mt},n[50]||(n[50]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),Q(e("div",{class:"custom-tooltip","data-tooltip":"compressor"},m(j.value?"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä":"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ge,B.value==="compressor"]])]),e("div",No,[e("button",{class:w(["mirror-btn",{active:ve.value,"electron-only":!j.value}]),onMouseenter:n[13]||(n[13]=$=>ee("mirror")),onMouseleave:n[14]||(n[14]=$=>B.value=null),onClick:N},n[51]||(n[51]=[e("span",{class:"material-icons"},"flip",-1)]),34),Q(e("div",{class:"custom-tooltip","data-tooltip":"mirror"},m(j.value?"–ó–µ—Ä–∫–∞–ª–æ":"–ó–µ—Ä–∫–∞–ª–æ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ge,B.value==="mirror"]])]),e("div",Uo,[e("button",{class:"theater-mode-btn",onMouseenter:n[15]||(n[15]=$=>ee("theater")),onMouseleave:n[16]||(n[16]=$=>B.value=null),onClick:q},[e("span",Bo,m(p.value?"fullscreen_exit":"aspect_ratio"),1)],32),Q(e("div",$o,[Z(m(p.value?"–í—ã–π—Ç–∏ –∏–∑ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞":"–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")+" ",1),n[52]||(n[52]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[ge,B.value==="theater"]])]),e("div",Do,[e("button",{class:w(["pip-btn",{"electron-only":!j.value}]),onMouseenter:n[17]||(n[17]=$=>ee("pip")),onMouseleave:n[18]||(n[18]=$=>B.value=null),onClick:Ft},n[53]||(n[53]=[e("span",{class:"material-icons"},"picture_in_picture_alt",-1)]),34),Q(e("div",{class:"custom-tooltip","data-tooltip":"pip"},m(j.value?"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ":"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[ge,B.value==="pip"]])]),e("div",Ho,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:n[19]||(n[19]=$=>ee("aspect_ratio")),onMouseleave:je,onClick:jt},[e("span",Vo,m(Ie.value),1)],32),Q(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:Ze,onMouseleave:Le},[(i(),a(le,null,_e(ut,$=>e("div",{key:$,class:w(["aspect-ratio-option",{active:Ie.value===$}]),onClick:uu=>St($)},m($),11,Fo)),64))],544),[[ge,B.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:n[21]||(n[21]=$=>ee("centering")),onMouseleave:je},[e("button",{class:"center-btn",onClick:H},n[54]||(n[54]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),Q(e("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:Ze,onMouseleave:Le},[n[55]||(n[55]=Z(" –û—Ç—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–µ—Ä ")),ke(eo,{modelValue:Ve.value,"onUpdate:modelValue":n[20]||(n[20]=$=>Ve.value=$),title:"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞"},null,8,["modelValue"]),n[56]||(n[56]=e("span",{class:"tooltip-title"},"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞",-1))],544),[[ge,B.value==="centering"]])],32),j.value?y("",!0):(i(),a("div",Oo,[e("button",{class:"app-link-btn",onMouseenter:n[22]||(n[22]=$=>ee("app_link")),onMouseleave:n[23]||(n[23]=$=>B.value=null),onClick:Bt},n[57]||(n[57]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),Q(e("div",qo," –û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ",512),[[ge,B.value==="app_link"]])])),j.value?(i(),a("div",Ko,[e("button",{class:"copy-link-btn",onMouseenter:n[24]||(n[24]=$=>ee("copy_link")),onMouseleave:n[25]||(n[25]=$=>B.value=null),onClick:$t},n[58]||(n[58]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),Q(e("div",zo," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ",512),[[ge,B.value==="copy_link"]])])):y("",!0)],64))]),!O.value&&!pt.value?(i(),a("div",Wo,[e("div",Go,[e("button",{class:w(["favorite-btn",{active:(Jt=(Qt=r.movieInfo)==null?void 0:Qt.lists)==null?void 0:Jt.isFavorite}]),onMouseenter:n[26]||(n[26]=$=>ee("favorite")),onMouseleave:n[27]||(n[27]=$=>B.value=null),onClick:n[28]||(n[28]=$=>Be(z(F).FAVORITE))},[e("span",Yo,m((tn=(en=r.movieInfo)==null?void 0:en.lists)!=null&&tn.isFavorite?"favorite":"favorite_border"),1)],34),Q(e("div",Zo,m("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[ge,B.value==="favorite"]])]),e("div",Xo,[e("button",{class:w(["watching-btn",{active:(on=(nn=r.movieInfo)==null?void 0:nn.lists)==null?void 0:on.isWatching}]),onMouseenter:n[29]||(n[29]=$=>ee("watching")),onMouseleave:n[30]||(n[30]=$=>B.value=null),onClick:n[31]||(n[31]=$=>Be(z(F).WATCHING))},[e("span",Qo,m((ln=(sn=r.movieInfo)==null?void 0:sn.lists)!=null&&ln.isWatching?"visibility":"visibility_off"),1)],34),Q(e("div",Jo,m("–°–º–æ—Ç—Ä—é"),512),[[ge,B.value==="watching"]])]),e("div",es,[e("button",{class:w(["later-btn",{active:(rn=(an=r.movieInfo)==null?void 0:an.lists)==null?void 0:rn.isLater}]),onMouseenter:n[32]||(n[32]=$=>ee("later")),onMouseleave:n[33]||(n[33]=$=>B.value=null),onClick:n[34]||(n[34]=$=>Be(z(F).LATER))},n[59]||(n[59]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),Q(e("div",ts,m("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[ge,B.value==="later"]])]),e("div",ns,[e("button",{class:w(["completed-btn",{active:(dn=(un=r.movieInfo)==null?void 0:un.lists)==null?void 0:dn.isCompleted}]),onMouseenter:n[35]||(n[35]=$=>ee("completed")),onMouseleave:n[36]||(n[36]=$=>B.value=null),onClick:n[37]||(n[37]=$=>Be(z(F).COMPLETED))},[e("span",os,m((vn=(cn=r.movieInfo)==null?void 0:cn.lists)!=null&&vn.isCompleted?"check_circle":"check_circle_outline"),1)],34),Q(e("div",ss,m("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[ge,B.value==="completed"]])]),e("div",ls,[e("button",{class:w(["abandoned-btn",{active:(fn=(mn=r.movieInfo)==null?void 0:mn.lists)==null?void 0:fn.isAbandoned}]),onMouseenter:n[38]||(n[38]=$=>ee("abandoned")),onMouseleave:n[39]||(n[39]=$=>B.value=null),onClick:n[40]||(n[40]=$=>Be(z(F).ABANDONED))},[e("span",is,m(((kn=(gn=r.movieInfo)==null?void 0:gn.lists)!=null&&kn.isAbandoned,"not_interested")),1)],34),Q(e("div",as,m("–ë—Ä–æ—à–µ–Ω–æ"),512),[[ge,B.value==="abandoned"]])])])):y("",!0)])),ke(Ut,{ref_key:"notificationRef",ref:Ee},null,512)],64))}}},Mn=Ge(rs,[["__scopeId","data-v-a09730a9"]]),us={key:0,class:"carousel-container"},ds={class:"carousel-wrapper"},cs=["onClick"],vs=["src","alt"],ms={class:"video-name"},fs={key:0,class:"video-player"},gs=["src"],ks={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(r,{emit:t}){const u=At(),o=V(()=>u.isMobile),M=r,L=t,f=v(M.activeVideoIndex),k=v(null),E=v(!1),I=v(!1),l=()=>{if(!k.value)return;const{scrollLeft:P,scrollWidth:R,clientWidth:b}=k.value;E.value=P>0,I.value=P<R-b-1},d=P=>{if(!k.value)return;const R=k.value.querySelector(".carousel-item");if(!R)return;const b=R.clientWidth+16;k.value.scrollBy({left:b*P,behavior:"smooth"})},C=P=>{f.value=P,L("select",M.videos[P])},p=()=>l(),x=v([]),A=async P=>{try{return(await fetch("https://img.youtube.com/vi/".concat(P,"/0.jpg"))).ok}catch(R){return!1}};return at(async()=>{const P=M.videos.map(async b=>await A(b.videoId)?b:null),R=await Promise.all(P);x.value=R.filter(Boolean),l(),window.addEventListener("resize",p)}),De(()=>M.videos,async P=>{const R=P.map(async T=>await A(T.videoId)?T:null),b=await Promise.all(R);x.value=b.filter(Boolean)}),De(()=>M.activeVideoIndex,P=>{f.value=P}),Wt(()=>{window.removeEventListener("resize",p)}),(P,R)=>x.value.length?(i(),a("div",us,[R[4]||(R[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",ds,[Q(e("button",{class:"scroll-button left",onClick:R[0]||(R[0]=b=>d(-1))},R[2]||(R[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[ge,!o.value&&E.value]]),e("div",{ref_key:"carousel",ref:k,class:"carousel",onScroll:l},[(i(!0),a(le,null,_e(x.value,(b,T)=>(i(),a("div",{key:T,class:"carousel-item",onClick:S=>C(T)},[e("img",{src:"https://img.youtube.com/vi/".concat(b.videoId,"/0.jpg"),alt:b.name},null,8,vs),e("div",ms,m(b.name),1)],8,cs))),128))],544),Q(e("button",{class:"scroll-button right",onClick:R[1]||(R[1]=b=>d(1))},R[3]||(R[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[ge,!o.value&&I.value]])]),f.value!==null?(i(),a("div",fs,[e("iframe",{src:r.videos[f.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,gs)])):y("",!0)])):y("",!0)}},ys=Ge(ks,[["__scopeId","data-v-4a5806b3"]]),ps={class:"rating-container"},bs={class:"rating-display"},hs={class:"rating-numbers"},ws=["onClick","onMouseenter"],Cs={key:0,class:"tooltip-footer"},_s={class:"rating-numbers mobile-rating-numbers"},Ms=["onClick"],Es={key:0,class:"mobile-modal-footer"},Ls={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(r){const t=At(),u=Pt(),o=r,M=v(null),L=v(null),f=v(null),k=v(null),E=v(0),I=v(!1),l=v(!1);let d=null;const C=S=>S?S.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",p=()=>{d=setTimeout(()=>{I.value=!1,t.isMobile||(l.value=!1)},100)},x=()=>{d&&(clearTimeout(d),d=null),I.value=!0},A=()=>{t.isMobile&&(l.value=!l.value)},P=()=>{u.push("/login")},R=async()=>{try{const S=await Sn(o.kpId);L.value=S.user_rating,f.value=S.average_rating,k.value=C(S.vote_count)}catch(S){console.error("Error loading rating:",S)}},b=async S=>{var W;try{S===L.value?(await yn(o.kpId,null),L.value=null,M.value.showNotification("–û—Ü–µ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞")):(await yn(o.kpId,S),L.value=S,M.value.showNotification("–û—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")),t.isMobile&&(l.value=!1),R()}catch(O){console.error("Error setting rating:",O),((W=O.response)==null?void 0:W.status)===401?M.value.showNotification('–î–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:P}):M.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏"),t.isMobile&&(l.value=!1)}},T=()=>{l.value=!1};return at(()=>{R()}),(S,W)=>(i(),a("div",ps,[e("div",bs,[e("a",{href:"#",class:w(["rating-link",{"has-rating":L.value}]),onMouseenter:W[0]||(W[0]=O=>I.value=!0),onMouseleave:p,onClick:tt(A,["prevent"])},[W[3]||(W[3]=e("img",{src:Xn,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",{class:w(["average-rating",z(It)(f.value)])},m(f.value?f.value.toFixed(1).replace(/\.0$/,""):"‚Äî"),3)],34),Q(e("div",{class:"rating-tooltip",onMouseenter:x,onMouseleave:p},[e("div",hs,[(i(),a(le,null,_e(10,O=>e("button",{key:O,class:w(["number-btn",{active:O===L.value,hover:O===E.value,"average-highlight":f.value&&O<=Math.round(f.value)}]),onClick:j=>b(O),onMouseenter:j=>E.value=O,onMouseleave:W[1]||(W[1]=j=>E.value=0)},m(O),43,ws)),64))]),k.value?(i(),a("div",Cs,"–û—Ü–µ–Ω–æ–∫: "+m(k.value),1)):y("",!0)],544),[[ge,(I.value||l.value)&&!z(t).isMobile]])]),ke(Ut,{ref_key:"notificationRef",ref:M},null,512),z(t).isMobile&&l.value?(i(),a("div",{key:0,class:"mobile-modal-overlay",onClick:T},[e("div",{class:"mobile-modal",onClick:W[2]||(W[2]=tt(()=>{},["stop"]))},[e("div",{class:"mobile-modal-header"},[W[4]||(W[4]=e("h3",null,"–û—Ü–µ–Ω–∏—Ç—å —Ñ–∏–ª—å–º",-1)),e("button",{class:"close-button",onClick:T},"√ó")]),e("div",_s,[(i(),a(le,null,_e(10,O=>e("button",{key:O,class:w(["number-btn",{active:O===L.value,"average-highlight":f.value&&O<=Math.round(f.value)}]),onClick:j=>b(O)},m(O),11,Ms)),64))]),k.value?(i(),a("div",Es,"–û—Ü–µ–Ω–æ–∫: "+m(k.value),1)):y("",!0)])])):y("",!0)]))}},Is=Ge(Ls,[["__scopeId","data-v-2df64bd5"]]),Ts={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const r=this.categories.find(t=>t.name===this.activeCategory);return r?r.emojis:[]}},methods:{selectEmoji(r){this.$emit("emoji-selected",r)}}},Rs={class:"emoji-categories"},As=["onClick"],Ps={class:"emoji-grid"},Ss=["onClick"];function xs(r,t,u,o,M,L){return u.isVisible?(i(),a("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=f=>r.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=f=>r.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=f=>r.$emit("close"))},t[3]||(t[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",Rs,[(i(!0),a(le,null,_e(M.categories,f=>(i(),a("button",{key:f.name,onClick:k=>M.activeCategory=f.name,class:w([{active:M.activeCategory===f.name},"category-btn"]),type:"button"},m(f.icon),11,As))),128))]),e("div",Ps,[(i(!0),a(le,null,_e(L.currentEmojis,f=>(i(),a("button",{key:f,onClick:k=>L.selectEmoji(f),class:"emoji-btn",type:"button"},m(f),9,Ss))),128))])],32)):y("",!0)}const Gt=Ge(Ts,[["render",xs],["__scopeId","data-v-209132f3"]]),js=async r=>{const t=await xn();return await r(t)},Ns=async r=>{const{data:t}=await js(u=>u.get("/search_emotes/".concat(r)));return t.emotes||[]},Us={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(r,{emit:t}){const u=v(""),o=v([]),M=v(null),L=v(!1),k=jn(async d=>{if(!r.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!d.trim()){o.value=[],L.value=!1;return}L.value=!0;try{o.value=await Ns(d)}catch(C){console.error("Error searching images:",C),o.value=[]}finally{L.value=!1}},300),E=()=>{if(!r.currentUser){t("login-required");return}u.value.trim()&&(L.value=!0),k(u.value)},I=d=>{if(!r.currentUser){t("login-required");return}t("image-selected",d),t("close")},l=()=>{setTimeout(()=>{r.isVisible&&t("mouse-leave")},100)};return De(()=>r.isVisible,d=>{d&&(u.value="",o.value=[],L.value=!1)}),{searchQuery:u,images:o,searchInput:M,isLoading:L,handleSearch:E,selectImage:I,handleInputBlur:l}}},Bs={key:0,class:"auth-required"},$s={class:"auth-message"},Ds={key:1},Hs={class:"image-picker-header"},Vs={class:"image-content"},Fs={key:0,class:"loading-spinner"},Os={key:1,class:"image-grid"},qs=["onClick"],Ks=["src","alt"],zs={key:2,class:"no-images"},Ws={key:3,class:"no-search"};function Gs(r,t,u,o,M,L){return u.isVisible?(i(),a("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=f=>r.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=f=>r.$emit("mouse-leave")),onClick:t[9]||(t[9]=tt(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=f=>r.$emit("close"))},t[10]||(t[10]=[e("i",{class:"fas fa-times"},null,-1)])),u.currentUser?(i(),a("div",Ds,[e("div",Hs,[Q(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=f=>o.searchQuery=f),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:t[3]||(t[3]=(...f)=>o.handleSearch&&o.handleSearch(...f)),onClick:t[4]||(t[4]=tt(()=>{},["stop"])),onFocus:t[5]||(t[5]=f=>r.$emit("mouse-enter")),onBlur:t[6]||(t[6]=(...f)=>o.handleInputBlur&&o.handleInputBlur(...f))},null,544),[[dt,o.searchQuery]])]),e("div",Vs,[o.isLoading?(i(),a("div",Fs,t[14]||(t[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)]))):o.images.length>0?(i(),a("div",Os,[(i(!0),a(le,null,_e(o.images,(f,k)=>(i(),a("div",{key:k,class:"image-item",onClick:E=>o.selectImage(f)},[e("img",{src:f,alt:"Image "+(k+1)},null,8,Ks)],8,qs))),128))])):o.searchQuery.trim()?(i(),a("div",zs,t[15]||(t[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)]))):(i(),a("div",Ws,t[16]||(t[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])))])])):(i(),a("div",Bs,[e("div",$s,[t[11]||(t[11]=e("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),t[13]||(t[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:t[1]||(t[1]=f=>r.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):y("",!0)}const Yt=Ge(Us,[["render",Gs],["__scopeId","data-v-f33eb3f6"]]),Ys={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(r,{emit:t}){const u=v(""),o=v(""),M=v(null),L=v(null),f=V(()=>/^https?:\/\/.+/.test(u.value.trim())&&o.value.trim()),k=()=>{t("close"),I()},E=()=>{f.value&&(t("submit",{url:u.value.trim(),title:o.value.trim()}),k())},I=()=>{u.value="",o.value=""},l=d=>{var C;d.key==="Enter"?(d.preventDefault(),f.value?E():d.target===M.value&&u.value.trim()&&((C=L.value)==null||C.focus())):d.key==="Escape"&&k()};return De(()=>r.isVisible,d=>{d&&(r.selectedText.trim()&&(o.value=r.selectedText.trim()),Ne(()=>{var C;(C=M.value)==null||C.focus()}))}),{linkUrl:u,linkTitle:o,urlInput:M,titleInput:L,isValidLink:f,closeModal:k,submitLink:E,handleKeydown:l}}},Zs={class:"link-modal-header"},Xs={class:"link-modal-content"},Qs={class:"form-group"},Js={class:"form-group"},el={class:"link-modal-footer"},tl=["disabled"];function nl(r,t,u,o,M,L){return u.isVisible?(i(),a("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=(...f)=>o.closeModal&&o.closeModal(...f))},[e("div",{class:"link-modal",onClick:t[7]||(t[7]=tt(()=>{},["stop"]))},[e("div",Zs,[t[10]||(t[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:t[0]||(t[0]=(...f)=>o.closeModal&&o.closeModal(...f))},t[9]||(t[9]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Xs,[e("div",Qs,[t[11]||(t[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),Q(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=f=>o.linkUrl=f),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=(...f)=>o.handleKeydown&&o.handleKeydown(...f))},null,544),[[dt,o.linkUrl]])]),e("div",Js,[t[12]||(t[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),Q(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=f=>o.linkTitle=f),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:t[4]||(t[4]=(...f)=>o.handleKeydown&&o.handleKeydown(...f))},null,544),[[dt,o.linkTitle]])])]),e("div",el,[e("button",{class:"cancel-button",onClick:t[5]||(t[5]=(...f)=>o.closeModal&&o.closeModal(...f))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!o.isValidLink,onClick:t[6]||(t[6]=(...f)=>o.submitLink&&o.submitLink(...f))},"–î–æ–±–∞–≤–∏—Ç—å",8,tl)])])])):y("",!0)}const Zt=Ge(Ys,[["render",nl],["__scopeId","data-v-a794d83f"]]);function ol(){const r=v(!1),t=v(!1),u=v(!1),o=()=>{t.value=!0},M=()=>{t.value=!1,setTimeout(()=>{!t.value&&!u.value&&(r.value=!1)},300)},L=()=>{u.value=!0,r.value=!0},f=()=>{u.value=!1,setTimeout(()=>{!t.value&&!u.value&&(r.value=!1)},300)},k=()=>{r.value=!1};return{showEmojiPicker:r,isEmojiHovered:t,isButtonHovered:u,handleEmojiMouseEnter:o,handleEmojiMouseLeave:M,handleButtonMouseEnter:L,handleButtonMouseLeave:f,closeEmojiPicker:k,insertEmoji:(l,d,C,p)=>{const x=d.value;if(x){const A=x.selectionStart,P=x.selectionEnd,R=C.value.substring(0,A),b=C.value.substring(P),T=R+l+b;p(T),Ne(()=>{x.focus(),x.setSelectionRange(A+l.length,A+l.length),x.style.height&&(x.style.height="auto",x.style.height="".concat(Math.min(x.scrollHeight,200),"px"))})}else p(C.value+l)},handleGlobalClick:l=>{!l.target.closest(".emoji-picker")&&!l.target.closest(".emoji-button-inline")&&k()}}}function sl(){const r=v(!1),t=v(!1),u=v(!1),o=()=>{t.value=!0},M=()=>{t.value=!1,setTimeout(()=>{!t.value&&!u.value&&(r.value=!1)},300)},L=()=>{u.value=!0,r.value=!0},f=()=>{u.value=!1,setTimeout(()=>{!t.value&&!u.value&&(r.value=!1)},300)},k=()=>{r.value=!1};return{showImagePicker:r,isImageHovered:t,isButtonHovered:u,handleImageMouseEnter:o,handleImageMouseLeave:M,handleImageButtonMouseEnter:L,handleButtonMouseLeave:f,closeImagePicker:k,insertImage:(l,d,C,p)=>{const x=d.value;if(x){const A=x.selectionStart,P=x.selectionEnd,R="[img]".concat(l,"[/img]"),b=C.value.slice(0,A)+R+C.value.slice(P);p(b),Ne(()=>{x.focus(),x.setSelectionRange(A+R.length,A+R.length),x.style.height&&(x.style.height="auto",x.style.height="".concat(Math.min(x.scrollHeight,200),"px"))})}else{const A="[img]".concat(l,"[/img]");p(C.value+A)}},handleGlobalClick:l=>{!l.target.closest(".image-picker")&&!l.target.closest(".emoji-button-inline")&&k()}}}function ll(){const r=v(!1),t=v("");return{showLinkModal:r,selectedTextForLink:t,insertLink:(f,k)=>{const E=f.value;if(E){const I=E.selectionStart,l=E.selectionEnd,d=k.value.slice(I,l);t.value=d.trim()||""}r.value=!0},insertLinkFromModal:(f,k,E,I)=>{const l=k.value;if(l){const d=l.selectionStart,C=l.selectionEnd,p="[link=".concat(f.url,"]").concat(f.title,"[/link]"),x=E.value.slice(0,d)+p+E.value.slice(C);I(x),Ne(()=>{l.focus(),l.setSelectionRange(d+p.length,d+p.length),l.style.height&&(l.style.height="auto",l.style.height="".concat(Math.min(l.scrollHeight,200),"px"))})}},closeLinkModal:()=>{r.value=!1},insertSpoiler:(f,k,E)=>{const I=f.value;if(I){const l=I.selectionStart,d=I.selectionEnd,C=k.value.slice(l,d);let p;C.trim()?p="[spoiler]".concat(C,"[/spoiler]"):p="[spoiler][/spoiler]";const x=k.value.slice(0,l)+p+k.value.slice(d);E(x),Ne(()=>{if(I.focus(),C.trim())I.setSelectionRange(l+p.length,l+p.length);else{const A=l+9;I.setSelectionRange(A,A)}I.style.height&&(I.style.height="auto",I.style.height="".concat(Math.min(I.scrollHeight,200),"px"))})}}}}function il(){return{autoResize:u=>{const o=u==null?void 0:u.target;o&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))},autoResizeElement:u=>{u&&(u.style.height="auto",u.style.height="".concat(Math.min(u.scrollHeight,200),"px"))}}}function Xt(){const r=ol(),t=sl(),u=ll(),{autoResize:o,autoResizeElement:M}=il(),L=()=>{r.isButtonHovered.value=!0,t.isButtonHovered.value=!0,r.showEmojiPicker.value=!0,t.showImagePicker.value=!1},f=()=>{r.isButtonHovered.value=!0,t.isButtonHovered.value=!0,t.showImagePicker.value=!0,r.showEmojiPicker.value=!1},k=()=>{r.isButtonHovered.value=!1,t.isButtonHovered.value=!1,setTimeout(()=>{!r.isEmojiHovered.value&&!t.isImageHovered.value&&!r.isButtonHovered.value&&!t.isButtonHovered.value&&(r.showEmojiPicker.value=!1,t.showImagePicker.value=!1)},300)},E=()=>{r.showEmojiPicker.value=!1,t.showImagePicker.value=!1},I=A=>{!A.target.closest(".emoji-picker")&&!A.target.closest(".image-picker")&&!A.target.closest(".emoji-button-inline")&&E()},l=(A,P,R,b)=>{r.insertEmoji(A,P,R,b)},d=(A,P,R,b)=>{t.insertImage(A,P,R,b)},C=(A,P,R)=>{u.insertLink(A,P,R)},p=(A,P,R,b)=>{u.insertLinkFromModal(A,P,R,b)},x=(A,P,R)=>{u.insertSpoiler(A,P,R)};return at(()=>{document.addEventListener("click",I)}),Wt(()=>{document.removeEventListener("click",I)}),{showEmojiPicker:r.showEmojiPicker,handleEmojiMouseEnter:r.handleEmojiMouseEnter,handleEmojiMouseLeave:r.handleEmojiMouseLeave,closeEmojiPicker:r.closeEmojiPicker,showImagePicker:t.showImagePicker,handleImageMouseEnter:t.handleImageMouseEnter,handleImageMouseLeave:t.handleImageMouseLeave,closeImagePicker:t.closeImagePicker,showLinkModal:u.showLinkModal,selectedTextForLink:u.selectedTextForLink,closeLinkModal:u.closeLinkModal,handleButtonMouseEnter:L,handleImageButtonMouseEnter:f,handleButtonMouseLeave:k,closeAllPickers:E,insertEmojiUniversal:l,insertImageUniversal:d,insertLinkUniversal:C,insertLinkFromModalUniversal:p,insertSpoilerUniversal:x,autoResize:o,autoResizeElement:M}}const al=r=>r===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":r>=2&&r<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",rl=r=>{if(!r)return"?";const t=r.split(" ");return t.length===1?r.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},ul={name:"CommentItem",components:{EmojiPicker:Gt,ImagePicker:Yt,LinkModal:Zt},props:{comment:{type:Object,required:!0,default:()=>({username:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(r,{emit:t}){var Fe,Oe;const u=Pt(),o=V(()=>{var _;return r.editingCommentId===((_=r.comment)==null?void 0:_.id)}),M=v(((Fe=r.comment)==null?void 0:Fe.content)||""),L=v(((Oe=r.comment)==null?void 0:Oe.user_rating)||0),f=v(null),k=v(null),{showEmojiPicker:E,showImagePicker:I,showLinkModal:l,selectedTextForLink:d,handleEmojiMouseEnter:C,handleEmojiMouseLeave:p,handleImageMouseEnter:x,handleImageMouseLeave:A,handleButtonMouseEnter:P,handleImageButtonMouseEnter:R,handleButtonMouseLeave:b,closeEmojiPicker:T,closeImagePicker:S,closeLinkModal:W,insertEmojiUniversal:O,insertImageUniversal:j,insertLinkUniversal:B,insertLinkFromModalUniversal:J,insertSpoilerUniversal:Re,autoResize:Ee}=Xt(),{formatContentWithTruncation:He}=Tn();at(async()=>{var _;if((_=r.comment)!=null&&_.user_avatar){const H=await Nn();f.value="".concat(H).concat(r.comment.user_avatar)}});const D=V(()=>{var _;return r.currentUser&&((_=r.comment)==null?void 0:_.user_id)===r.currentUser.id}),ae=V(()=>{var _;return r.currentUser&&((_=r.comment)==null?void 0:_.user_id)===r.currentUser.id||r.currentUser&&r.currentUser.is_admin===1}),X=V(()=>{var _,H,qe;return((_=r.comment)==null?void 0:_.updated_at)&&((H=r.comment)==null?void 0:H.updated_at)!==((qe=r.comment)==null?void 0:qe.created_at)}),G=V(()=>{var _,H;return(_=r.comment)!=null&&_.is_deleted?!1:(((H=r.comment)==null?void 0:H.rating)||0)<=-3}),ye=V(()=>G.value),de=v(!1),be=V(()=>{var _,H;return(_=r.comment)!=null&&_.is_deleted?null:(((H=r.comment)==null?void 0:H.rating)||0)<=-3?"lowRating":null}),he=()=>{var _,H;t("start-edit",(_=r.comment)==null?void 0:_.id),M.value=((H=r.comment)==null?void 0:H.content)||"",Ne(()=>{k.value&&(k.value.focus(),Ee({target:k.value}))})},we=()=>{var _;t("cancel-edit"),M.value=((_=r.comment)==null?void 0:_.content)||""},Ae=()=>{var _;M.value.trim()&&t("edit",(_=r.comment)==null?void 0:_.id,M.value.trim())},pe=()=>{var _;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&t("delete",(_=r.comment)==null?void 0:_.id)},Ye=_=>{var H,qe;L.value===_?(L.value=0,t("rate",(H=r.comment)==null?void 0:H.id,_)):(L.value=_,t("rate",(qe=r.comment)==null?void 0:qe.id,_))},ee=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),Ae())},je=V(()=>{var _;return He((_=r.comment)==null?void 0:_.content)}),Ze=()=>{console.log("Avatar load error, falling back to initials"),f.value=null,Ne(()=>{const _=document.querySelector(".avatar-placeholder");_&&(_.style.display="flex")})},Le=()=>{u.push("/login")},Ie=_=>{O(_,k,M,H=>{M.value=H})},Ve=_=>{j(_,k,M,H=>{M.value=H})},nt=()=>{Re(k,M,_=>{M.value=_})},st=()=>{B(k,M,_=>{M.value=_})},rt=_=>{J(_,k,M,H=>{M.value=H})},Pe=_=>{Ee(_)};return De(M,()=>{o.value&&k.value&&Ne(()=>{Pe({target:k.value})})}),{isEditing:o,editContent:M,userRating:L,isCommentOwner:D,canDeleteComment:ae,isCommentEdited:X,formatDate:Rn,formatRelativeTime:Qn,startEdit:he,cancelEdit:we,saveEdit:Ae,confirmDelete:pe,rateComment:Ye,avatarUrl:f,getInitials:rl,handleEditKeydown:ee,isCommentHidden:ye,showHiddenComment:de,hiddenCommentReason:be,formattedContent:je,autoResizeEdit:Pe,editTextarea:k,showEmojiPicker:E,showImagePicker:I,insertEmojiEdit:Ie,insertImageEdit:Ve,insertSpoilerEdit:nt,insertLinkEdit:st,handleEmojiMouseEnter:C,handleEmojiMouseLeave:p,handleImageMouseEnter:x,handleImageMouseLeave:A,closeEmojiPicker:T,closeImagePicker:S,handleButtonMouseEnter:P,handleButtonMouseLeave:b,handleImageButtonMouseEnter:R,handleAvatarError:Ze,openLogin:Le,showLinkModal:l,selectedTextForLink:d,insertLinkFromModal:rt,closeLinkModal:W}}},dl=["data-comment-id"],cl={class:"comment-header"},vl={class:"user-info"},ml={class:"user-avatar"},fl=["src","alt"],gl={class:"user-details"},kl={class:"username"},yl={key:0,class:"user-rating"},pl=["title"],bl=["title"],hl={class:"comment-content"},wl={key:0,class:"hidden-comment-warning"},Cl={key:1},_l={key:0,class:"deleted-comment"},Ml={key:1},El={key:0,class:"edit-form"},Ll={class:"edit-textarea-container"},Il={class:"edit-footer"},Tl={class:"edit-actions"},Rl=["disabled"],Al={class:"character-counter-container"},Pl={key:1,class:"comment-text-container"},Sl=["innerHTML"],xl={class:"comment-footer"},jl={class:"comment-actions"},Nl={class:"rating-buttons"},Ul={class:"action-buttons"};function Bl(r,t,u,o,M,L){var l,d,C,p,x,A,P,R,b,T,S,W,O,j,B,J,Re,Ee,He;const f=xe("router-link"),k=xe("EmojiPicker"),E=xe("ImagePicker"),I=xe("LinkModal");return i(),a("div",{class:"comment-item","data-comment-id":(l=u.comment)==null?void 0:l.id},[e("div",cl,[e("div",vl,[ke(f,{to:{path:"/lists/".concat((d=u.comment)==null?void 0:d.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:qt(()=>{var D,ae;return[e("div",ml,[o.avatarUrl?(i(),a("img",{key:0,src:o.avatarUrl,alt:((D=u.comment)==null?void 0:D.username)||"–ê–Ω–æ–Ω–∏–º",onError:t[0]||(t[0]=(...X)=>o.handleAvatarError&&o.handleAvatarError(...X)),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,fl)):(i(),a("div",{key:1,class:"avatar-placeholder",style:Tt({display:o.avatarUrl?"none":"flex"})},m(o.getInitials(((ae=u.comment)==null?void 0:ae.username)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",gl,[ke(f,{to:{path:"/lists/".concat((C=u.comment)==null?void 0:C.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:qt(()=>{var D;return[e("span",kl,m(((D=u.comment)==null?void 0:D.username)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(p=u.comment)!=null&&p.user_movie_rating?(i(),a("span",yl,[t[18]||(t[18]=e("i",{class:"fas fa-star"},null,-1)),Z(" "+m(u.comment.user_movie_rating),1)])):y("",!0),e("span",{class:"date",title:o.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((x=u.comment)==null?void 0:x.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(o.formatDate((A=u.comment)==null?void 0:A.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((P=u.comment)==null?void 0:P.created_at))},[Z(m(o.formatRelativeTime((R=u.comment)==null?void 0:R.created_at))+" ",1),o.isCommentEdited?(i(),a("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:o.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((b=u.comment)==null?void 0:b.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(o.formatDate((T=u.comment)==null?void 0:T.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(o.formatDate((S=u.comment)==null?void 0:S.created_at))},null,8,bl)):y("",!0)],8,pl)])])]),e("div",hl,[!((W=u.comment)!=null&&W.is_deleted)&&o.isCommentHidden&&!o.showHiddenComment?(i(),a("div",wl,[o.hiddenCommentReason==="lowRating"?(i(),a("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=D=>o.showHiddenComment=!0)},t[19]||(t[19]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):y("",!0)])):(i(),a("div",Cl,[(O=u.comment)!=null&&O.is_deleted?(i(),a("div",_l,t[20]||(t[20]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),Z(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(i(),a("div",Ml,[o.isEditing?(i(),a("div",El,[e("div",Ll,[Q(e("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=D=>o.editContent=D),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=(...D)=>o.handleEditKeydown&&o.handleEditKeydown(...D)),onInput:t[4]||(t[4]=(...D)=>o.autoResizeEdit&&o.autoResizeEdit(...D))},null,544),[[dt,o.editContent]])]),e("div",Il,[e("div",Tl,[e("button",{onClick:t[5]||(t[5]=(...D)=>o.cancelEdit&&o.cancelEdit(...D)),class:"cancel-button"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:t[6]||(t[6]=(...D)=>o.saveEdit&&o.saveEdit(...D)),class:"save-button",disabled:!o.editContent.trim()||o.editContent.length>1500}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,Rl)]),e("div",Al,[e("div",{class:w(["character-counter-inline",{"near-limit":o.editContent.length>1400,"at-limit":o.editContent.length>=1500}])},m(o.editContent.length)+"/1500 ",3),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=(...D)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...D)),onMouseleave:t[8]||(t[8]=(...D)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...D))}," üòä ",34),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showImagePicker}]),onMouseenter:t[9]||(t[9]=(...D)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...D)),onMouseleave:t[10]||(t[10]=(...D)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...D))},t[21]||(t[21]=[Rt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-f1c85dfc><g id="logo" data-v-f1c85dfc><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-f1c85dfc></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-f1c85dfc></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-f1c85dfc></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=(...D)=>o.insertSpoilerEdit&&o.insertSpoilerEdit(...D)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[22]||(t[22]=[e("i",{class:"fas fa-eye-slash"},null,-1)])),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=(...D)=>o.insertLinkEdit&&o.insertLinkEdit(...D)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[23]||(t[23]=[e("i",{class:"fas fa-link"},null,-1)])),ke(k,{"is-visible":o.showEmojiPicker,onEmojiSelected:o.insertEmojiEdit,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ke(E,{"is-visible":o.showImagePicker,"current-user":u.currentUser,onImageSelected:o.insertImageEdit,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:o.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ke(I,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(i(),a("div",Pl,[e("p",{class:"comment-text",innerHTML:o.formattedContent},null,8,Sl)]))]))]))]),e("div",xl,[e("div",jl,[e("div",Nl,[!o.isCommentOwner&&!((j=u.comment)!=null&&j.is_deleted)?(i(),a("button",{key:0,onClick:t[13]||(t[13]=D=>o.rateComment(1)),class:w(["rating-button",{"rated-up":o.userRating===1}])},t[24]||(t[24]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):y("",!0),e("span",{class:w(["rating-count",{"rating-positive":o.userRating===1,"rating-negative":o.userRating===-1}])},m(((B=u.comment)==null?void 0:B.rating)||0),3),!o.isCommentOwner&&!((J=u.comment)!=null&&J.is_deleted)?(i(),a("button",{key:1,onClick:t[14]||(t[14]=D=>o.rateComment(-1)),class:w(["rating-button",{"rated-down":o.userRating===-1}])},t[25]||(t[25]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):y("",!0)]),e("div",Ul,[!u.currentUser||u.currentUser.allow_comments===1?(i(),a("button",{key:0,onClick:t[15]||(t[15]=D=>r.$emit("reply",u.comment)),class:"action-button reply-button"},t[26]||(t[26]=[e("i",{class:"fas fa-reply"},null,-1)]))):y("",!0),o.isCommentOwner&&!((Re=u.comment)!=null&&Re.is_deleted)&&!o.isEditing&&((Ee=u.currentUser)==null?void 0:Ee.allow_comments)===1?(i(),a("button",{key:1,onClick:t[16]||(t[16]=(...D)=>o.startEdit&&o.startEdit(...D)),class:"action-button edit-button"},t[27]||(t[27]=[e("i",{class:"fas fa-edit"},null,-1)]))):y("",!0),o.canDeleteComment&&!((He=u.comment)!=null&&He.is_deleted)?(i(),a("button",{key:2,onClick:t[17]||(t[17]=(...D)=>o.confirmDelete&&o.confirmDelete(...D)),class:"action-button delete-button"},t[28]||(t[28]=[e("i",{class:"fas fa-trash"},null,-1)]))):y("",!0)])])])],8,dl)}const $l=Ge(ul,[["render",Bl],["__scopeId","data-v-f1c85dfc"]]),Dl={name:"CommentThread",components:{CommentItem:$l,EmojiPicker:Gt,ImagePicker:Yt,LinkModal:Zt},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(r,{emit:t}){const u=v(null),o=v(!0),{showEmojiPicker:M,showImagePicker:L,showLinkModal:f,selectedTextForLink:k,handleEmojiMouseEnter:E,handleEmojiMouseLeave:I,handleImageMouseEnter:l,handleImageMouseLeave:d,handleButtonMouseEnter:C,handleImageButtonMouseEnter:p,handleButtonMouseLeave:x,closeEmojiPicker:A,closeImagePicker:P,closeLinkModal:R,insertEmojiUniversal:b,insertImageUniversal:T,insertLinkUniversal:S,insertLinkFromModalUniversal:W,insertSpoilerUniversal:O}=Xt(),j=X=>{t("update-reply-content",X.target.value);const G=X.target;G&&(G.style.height="auto",G.style.height="".concat(Math.min(G.scrollHeight,200),"px"))},B={get value(){return r.replyContent},set value(X){t("update-reply-content",X)}};return{replyTextarea:u,showEmojiPicker:M,showImagePicker:L,isCollapsed:o,insertEmoji:X=>{b(X,u,B,G=>{t("update-reply-content",G)})},insertImage:X=>{T(X,u,B,G=>{t("update-reply-content",G)})},insertSpoiler:()=>{O(u,B,X=>{t("update-reply-content",X)})},handleEmojiMouseEnter:E,handleEmojiMouseLeave:I,handleImageMouseEnter:l,handleImageMouseLeave:d,handleButtonMouseEnter:C,handleButtonMouseLeave:x,closeEmojiPicker:A,closeImagePicker:P,handleImageButtonMouseEnter:p,handleReplyInput:j,toggleCollapsed:()=>{o.value=!o.value},showLinkModal:f,selectedTextForLink:k,insertLink:()=>{S(u,B,X=>{t("update-reply-content",X)})},closeLinkModal:R,insertLinkFromModal:X=>{W(X,u,B,G=>{t("update-reply-content",G)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:r}=Tn();return r(this.comment.content)}}},Hl={class:"comment-thread"},Vl={key:0,class:"reply-form"},Fl={class:"textarea-container"},Ol=["value","placeholder","disabled"],ql={class:"reply-footer"},Kl={class:"reply-actions"},zl=["disabled"],Wl={class:"character-counter-container"},Gl=["disabled"],Yl={key:1,class:"replies-container"},Zl=["title"],Xl={class:"replies-count"},Ql=["title"],Jl={key:0,class:"replies-content"};function ei(r,t,u,o,M,L){const f=xe("CommentItem"),k=xe("EmojiPicker"),E=xe("ImagePicker"),I=xe("LinkModal"),l=xe("CommentThread",!0);return i(),a("div",Hl,[ke(f,{comment:u.comment,"current-user":u.currentUser,"editing-comment-id":u.editingCommentId,onReply:t[0]||(t[0]=d=>r.$emit("reply",d)),onStartEdit:t[1]||(t[1]=d=>r.$emit("start-edit",d)),onCancelEdit:t[2]||(t[2]=d=>r.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(d,C)=>r.$emit("edit",d,C)),onDelete:t[4]||(t[4]=d=>r.$emit("delete",d)),onRate:t[5]||(t[5]=(d,C)=>r.$emit("rate",d,C))},null,8,["comment","current-user","editing-comment-id"]),u.replyTo&&u.replyTo.id===u.comment.id?(i(),a("div",Vl,[e("div",Fl,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:u.replyContent,placeholder:L.getReplyPlaceholder,disabled:u.currentUser&&u.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=(...d)=>o.handleReplyInput&&o.handleReplyInput(...d)),onKeydown:t[7]||(t[7]=d=>r.$emit("reply-keydown",d))},null,40,Ol)]),e("div",ql,[e("div",Kl,[e("button",{class:"cancel-reply",onClick:t[8]||(t[8]=d=>r.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!u.replyContent.trim()||u.replyContent.length>1500||u.currentUser&&u.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=d=>r.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,zl)]),e("div",Wl,[e("div",{class:w(["character-counter-inline",{"near-limit":u.replyContent.length>1400,"at-limit":u.replyContent.length>=1500}])},m(u.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=(...d)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...d)),onMouseleave:t[11]||(t[11]=(...d)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...d))}," üòä ",34),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showImagePicker}]),onMouseenter:t[12]||(t[12]=(...d)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...d)),onMouseleave:t[13]||(t[13]=(...d)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...d))},t[29]||(t[29]=[Rt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:u.currentUser&&u.currentUser.allow_comments!==1,onClick:t[14]||(t[14]=(...d)=>o.insertSpoiler&&o.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[30]||(t[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,Gl),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=(...d)=>o.insertLink&&o.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[31]||(t[31]=[e("i",{class:"fas fa-link"},null,-1)])),ke(k,{"is-visible":o.showEmojiPicker,onEmojiSelected:o.insertEmoji,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ke(E,{"is-visible":o.showImagePicker,"current-user":u.currentUser,onImageSelected:o.insertImage,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>r.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),ke(I,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):y("",!0),u.comment.replies&&u.comment.replies.length>0?(i(),a("div",Yl,[e("button",{class:"collapse-toggle",title:o.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[17]||(t[17]=(...d)=>o.toggleCollapsed&&o.toggleCollapsed(...d))},[e("span",{class:w(["collapse-icon",{expanded:!o.isCollapsed}])},t[32]||(t[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",Xl,m(u.comment.replies.length)+" "+m(u.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,Zl),e("div",{class:"vertical-line-clickable",title:o.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[18]||(t[18]=(...d)=>o.toggleCollapsed&&o.toggleCollapsed(...d))},[e("div",{class:w(["vertical-line-visual",{collapsed:o.isCollapsed}])},null,2)],8,Ql),o.isCollapsed?y("",!0):(i(),a("div",Jl,[(i(!0),a(le,null,_e(u.comment.replies,d=>(i(),et(l,{key:d.id,comment:d,"current-user":u.currentUser,"reply-to":u.replyTo,"reply-content":u.replyContent,"editing-comment-id":u.editingCommentId,onReply:t[19]||(t[19]=C=>r.$emit("reply",C)),onStartEdit:t[20]||(t[20]=C=>r.$emit("start-edit",C)),onCancelEdit:t[21]||(t[21]=C=>r.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(C,p)=>r.$emit("edit",C,p)),onDelete:t[23]||(t[23]=C=>r.$emit("delete",C)),onRate:t[24]||(t[24]=(C,p)=>r.$emit("rate",C,p)),onSubmitReply:t[25]||(t[25]=C=>r.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=C=>r.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=C=>r.$emit("update-reply-content",C)),onReplyKeydown:t[28]||(t[28]=C=>r.$emit("reply-keydown",C))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):y("",!0)])}const ti=Ge(Dl,[["render",ei],["__scopeId","data-v-6c0fc347"]]),ni={name:"Comments",components:{CommentThread:ti,Notification:Ut,EmojiPicker:Gt,ImagePicker:Yt,LinkModal:Zt},props:{movieId:{type:[String,Number],required:!0}},setup(r){const t=zt(),u=Pt(),o=At(),M=v([]),L=v(""),f=v(null),k=v(""),E=v(null),I=v(t.user),l=v(null),d=v(null),C=v(o.isAutoShowComments),p=v(!1),x=v(3),A=v(o.commentsSortBy),P=v(A.value==="date"?"asc":"desc"),{showEmojiPicker:R,showImagePicker:b,showLinkModal:T,selectedTextForLink:S,handleEmojiMouseEnter:W,handleEmojiMouseLeave:O,handleImageMouseEnter:j,handleImageMouseLeave:B,handleButtonMouseEnter:J,handleImageButtonMouseEnter:Re,handleButtonMouseLeave:Ee,closeEmojiPicker:He,closeImagePicker:D,closeLinkModal:ae,insertEmojiUniversal:X,insertImageUniversal:G,insertLinkUniversal:ye,insertLinkFromModalUniversal:de,insertSpoilerUniversal:be,autoResize:he}=Xt(),we=V(()=>{const N=(q=null)=>{const me=M.value.filter(Y=>Y.parent_id===q).filter(Y=>!Y.is_deleted||Y.replies&&Y.replies.length>0);let ce;return q===null?ce=me.sort((Y,te)=>{if(A.value==="rating"){const fe=Y.rating||0,ve=te.rating||0;return fe!==ve?P.value==="asc"?fe-ve:ve-fe:Y.id-te.id}return P.value==="asc"?Y.id-te.id:te.id-Y.id}):ce=me.sort((Y,te)=>Y.id-te.id),ce.map(Y=>({...Y,replies:N(Y.id)}))};return N()}),Ae=V(()=>{const N=q=>q.reduce((me,ce)=>me+1+N(ce.replies||[]),0);return N(we.value)}),pe=V(()=>we.value.slice(0,x.value)),Ye=V(()=>we.value.length>x.value),ee=V(()=>we.value.length-x.value),je=()=>{x.value=we.value.length},Ze=N=>{A.value===N?P.value=P.value==="asc"?"desc":"asc":(A.value=N,P.value=N==="date"?"asc":"desc",o.setCommentsSortBy(N))},Le=async()=>{try{const N=await Un(r.movieId);M.value=N}catch(N){console.error("Failed to load comments:",N),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},Ie=async()=>{if(p.value)return;if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}if(I.value&&I.value.allow_comments!==1){l.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!L.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){l.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(L.value.length>1500){l.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await pn(r.movieId,L.value.trim()),L.value="",await Le(),C.value=!0,Ne(()=>{d.value&&(d.value.focus(),d.value.style.height="auto"),setTimeout(()=>{const q=document.querySelectorAll(".comment-item[data-comment-id]");if(q.length>0){const me=Array.from(q).map(ce=>parseInt(ce.getAttribute("data-comment-id"))).filter(ce=>!isNaN(ce));if(me.length>0){const ce=Math.max(...me),Y=document.querySelector('[data-comment-id="'.concat(ce,'"]'));Y&&Y.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(q){console.error("Failed to create comment:",q),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Ve=N=>{if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}E.value=null,f.value=N,k.value="",Ne(()=>{const q=document.querySelector(".reply-form");q&&q.scrollIntoView({behavior:"smooth",block:"center"})})},nt=async()=>{if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}if(I.value&&I.value.allow_comments!==1){l.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!k.value.trim()||!f.value)){if(k.value.length>1500){l.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await pn(r.movieId,k.value.trim(),f.value.id);const N=f.value.id;await Le(),k.value="",f.value=null,Ne(()=>{setTimeout(()=>{const q=document.querySelector('[data-comment-id="'.concat(N,'"]'));if(q){const me=q.querySelector(".replies-content");if(me){const ce=me.querySelectorAll(".comment-item[data-comment-id]");if(ce.length>0){const Y=Array.from(ce).map(te=>parseInt(te.getAttribute("data-comment-id"))).filter(te=>!isNaN(te));if(Y.length>0){const te=Math.max(...Y),fe=document.querySelector('[data-comment-id="'.concat(te,'"]'));fe&&fe.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(N){console.error("Error submitting reply:",N),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},st=async(N,q)=>{if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}if(I.value&&I.value.allow_comments!==1){l.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(q.length>1500){l.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await Dn(N,q.trim()),await Le(),E.value=null}catch(me){console.error("Failed to update comment:",me),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},rt=async N=>{if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}try{await $n(N),await Le()}catch(q){console.error("Failed to delete comment:",q),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Pe=async(N,q)=>{if(!t.token){l.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:_});return}try{await Bn(N,q),await Le()}catch(me){console.error("Failed to rate comment:",me),l.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Fe=N=>{p.value||R.value||N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),Ie())},Oe=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),nt())},_=()=>{u.push("/login")},H=N=>{p.value=!0,X(N,d,L,q=>{L.value=q}),setTimeout(()=>{p.value=!1},100)},qe=N=>{G(N,d,L,q=>{L.value=q})},kt=()=>{be(d,L,N=>{L.value=N})},ct=()=>{ye(d,L,N=>{L.value=N})},lt=N=>{de(N,d,L,q=>{L.value=q})},ot=V(()=>I.value?I.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Ke=V(()=>I.value?I.value.allow_comments===1:!0),vt=N=>{f.value=null,k.value="",E.value=N},mt=()=>{E.value=null};return at(()=>{Le()}),{comments:M,groupedComments:we,displayedComments:pe,hasMoreComments:Ye,remainingCommentsCount:ee,showMoreComments:je,sortBy:A,setSortBy:Ze,sortDirection:P,newComment:L,replyTo:f,replyContent:k,editingCommentId:E,currentUser:I,notificationRef:l,commentTextarea:d,showComments:C,submitComment:Ie,handleReply:Ve,submitReply:nt,handleEdit:st,handleDelete:rt,handleRate:Pe,handleCommentKeydown:Fe,handleReplyKeydown:Oe,autoResize:he,totalCommentsCount:Ae,getCommentWordForm:al,showEmojiPicker:R,showImagePicker:b,showLinkModal:T,selectedTextForLink:S,insertEmoji:H,insertImage:qe,handleEmojiMouseEnter:W,handleEmojiMouseLeave:O,handleImageMouseEnter:j,handleImageMouseLeave:B,closeEmojiPicker:He,closeImagePicker:D,handleButtonMouseLeave:Ee,handleButtonMouseEnter:J,handleImageButtonMouseEnter:Re,getCommentPlaceholder:ot,canComment:Ke,handleStartEdit:vt,handleCancelEdit:mt,insertSpoiler:kt,insertLink:ct,insertLinkFromModal:lt,closeLinkModal:ae}}},oi={class:"comments-section"},si={class:"spoiler-content"},li={key:1,class:"comments-container"},ii={class:"comments-header"},ai={class:"comments-controls"},ri={class:"textarea-container"},ui=["placeholder","disabled"],di={class:"comment-footer"},ci={class:"comment-actions"},vi=["disabled"],mi={class:"character-counter-container"},fi=["disabled"],gi=["disabled"],ki=["disabled"],yi={class:"comments-list"},pi={key:0,class:"show-more-comments"};function bi(r,t,u,o,M,L){const f=xe("EmojiPicker"),k=xe("ImagePicker"),E=xe("LinkModal"),I=xe("CommentThread"),l=xe("Notification");return i(),a("div",oi,[o.showComments?(i(),a("div",li,[e("div",ii,[e("div",ai,[e("button",{class:w(["sort-button",{active:o.sortBy==="date"}]),onClick:t[1]||(t[1]=d=>o.setSortBy("date")),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –¥–∞—Ç–µ"},[t[20]||(t[20]=e("i",{class:"fas fa-clock"},null,-1)),t[21]||(t[21]=Z(" –ü–æ –¥–∞—Ç–µ ")),o.sortBy==="date"?(i(),a("i",{key:0,class:w(["fas",o.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):y("",!0)],2),e("button",{class:w(["sort-button",{active:o.sortBy==="rating"}]),onClick:t[2]||(t[2]=d=>o.setSortBy("rating")),title:"–°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–π—Ç–∏–Ω–≥—É"},[t[22]||(t[22]=e("i",{class:"fas fa-thumbs-up"},null,-1)),t[23]||(t[23]=Z(" –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É ")),o.sortBy==="rating"?(i(),a("i",{key:0,class:w(["fas",o.sortDirection==="asc"?"fa-arrow-up":"fa-arrow-down"])},null,2)):y("",!0)],2)]),e("button",{class:"hide-comments-btn",onClick:t[3]||(t[3]=d=>o.showComments=!1)},t[24]||(t[24]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:t[13]||(t[13]=tt((...d)=>o.submitComment&&o.submitComment(...d),["prevent"]))},[e("div",ri,[Q(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[4]||(t[4]=d=>o.newComment=d),class:"comment-textarea",placeholder:o.getCommentPlaceholder,disabled:o.currentUser&&o.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[5]||(t[5]=(...d)=>o.autoResize&&o.autoResize(...d)),onKeydown:t[6]||(t[6]=(...d)=>o.handleCommentKeydown&&o.handleCommentKeydown(...d))},null,40,ui),[[dt,o.newComment]])]),e("div",di,[e("div",ci,[e("button",{class:"submit-button",type:"submit",disabled:!o.newComment.trim()||o.newComment.length>1500||o.currentUser&&o.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,vi)]),e("div",mi,[e("div",{class:w(["character-counter-inline",{"near-limit":o.newComment.length>1400,"at-limit":o.newComment.length>=1500}])},m(o.newComment.length)+"/1500 ",3),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showEmojiPicker}]),disabled:o.currentUser&&o.currentUser.allow_comments!==1,onMouseenter:t[7]||(t[7]=(...d)=>o.handleButtonMouseEnter&&o.handleButtonMouseEnter(...d)),onMouseleave:t[8]||(t[8]=(...d)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...d))}," üòä ",42,fi),e("button",{type:"button",class:w(["emoji-button-inline",{active:o.showImagePicker}]),disabled:o.currentUser&&o.currentUser.allow_comments!==1,onMouseenter:t[9]||(t[9]=(...d)=>o.handleImageButtonMouseEnter&&o.handleImageButtonMouseEnter(...d)),onMouseleave:t[10]||(t[10]=(...d)=>o.handleButtonMouseLeave&&o.handleButtonMouseLeave(...d))},t[25]||(t[25]=[Rt('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-e82be516><g id="logo" data-v-e82be516><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-e82be516></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-e82be516></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-e82be516></path></g></svg>',1)]),42,gi),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:o.currentUser&&o.currentUser.allow_comments!==1,onClick:t[11]||(t[11]=(...d)=>o.insertSpoiler&&o.insertSpoiler(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[26]||(t[26]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,ki),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=(...d)=>o.insertLink&&o.insertLink(...d)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[27]||(t[27]=[e("i",{class:"fas fa-link"},null,-1)])),ke(f,{"is-visible":o.showEmojiPicker&&o.canComment,onEmojiSelected:o.insertEmoji,onMouseEnter:o.handleEmojiMouseEnter,onMouseLeave:o.handleEmojiMouseLeave,onClose:o.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ke(k,{"is-visible":o.showImagePicker&&o.canComment,"current-user":o.currentUser,onImageSelected:o.insertImage,onMouseEnter:o.handleImageMouseEnter,onMouseLeave:o.handleImageMouseLeave,onClose:o.closeImagePicker,onLoginRequired:r.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ke(E,{"is-visible":o.showLinkModal,"selected-text":o.selectedTextForLink,onClose:o.closeLinkModal,onSubmit:o.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",yi,[(i(!0),a(le,null,_e(o.displayedComments,d=>(i(),et(I,{key:d.id,comment:d,"current-user":o.currentUser,"reply-to":o.replyTo,"reply-content":o.replyContent,"editing-comment-id":o.editingCommentId,"is-first-comment":!1,onReply:o.handleReply,onStartEdit:o.handleStartEdit,onCancelEdit:o.handleCancelEdit,onEdit:o.handleEdit,onDelete:o.handleDelete,onRate:o.handleRate,onSubmitReply:o.submitReply,onCancelReply:t[14]||(t[14]=C=>o.replyTo=null),onUpdateReplyContent:t[15]||(t[15]=C=>o.replyContent=C),onReplyKeydown:o.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),o.hasMoreComments?(i(),a("div",pi,[e("button",{class:"show-more-btn",onClick:t[16]||(t[16]=(...d)=>o.showMoreComments&&o.showMoreComments(...d))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+m(o.remainingCommentsCount)+" "+m(o.getCommentWordForm(o.remainingCommentsCount)),1)])):y("",!0)])])):(i(),a("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=d=>o.showComments=!0)},[e("div",si,[t[17]||(t[17]=e("i",{class:"fas fa-eye-slash"},null,-1)),t[18]||(t[18]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),t[19]||(t[19]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:w(["comments-count",{"no-comments":o.totalCommentsCount===0}])},[o.totalCommentsCount===0?(i(),a(le,{key:0},[Z(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(i(),a(le,{key:1},[Z(m(o.totalCommentsCount)+" "+m(o.getCommentWordForm(o.totalCommentsCount)),1)],64))],2)])])),ke(l,{ref:"notificationRef"},null,512)])}const hi=Ge(ni,[["render",bi],["__scopeId","data-v-e82be516"]]),wi={class:"movie-info"},Ci={class:"content"},_i={key:0,class:"content-card"},Mi={class:"movie-skeleton"},Ei={class:"movie-skeleton__player"},Li={key:2,class:"content-card"},Ii={key:3,class:"content-card"},Ti={class:"content-header"},Ri=["src"],Ai={class:"content-title"},Pi={key:0,class:"ratings-links"},Si={key:1},xi=["href","title"],ji={key:2},Ni=["href","title"],Ui={key:3},Bi=["href","title"],$i={key:4},Di=["href","title"],Hi={key:5},Vi=["href"],Fi=["title"],Oi={key:0,class:"fa-regular fa-face-grin-wink"},qi={key:1,class:"fas fa-spinner fa-spin"},Ki=["title"],zi={key:1,class:"mobile-list-dropdown"},Wi={class:"mobile-list-content"},Gi=["content"],Yi=["content"],Zi={class:"additional-info"},Xi={class:"info-content"},Qi={key:0,class:"movie-poster-container desktop-only"},Ji=["href"],ea=["src"],ta={class:"details-container"},na={class:"info-list"},oa={key:0},sa={key:1},la={key:2},ia={key:3},aa={key:4},ra={key:5},ua={key:6},da={key:7},ca={key:8},va={key:9,class:"rating-boxes"},ma={key:0,class:"rating-box mpaa"},fa={key:1,class:"rating-box age"},ga={class:"content-info"},ka={key:0,class:"content-description-text"},ya={key:3,class:"comments-section"},pa={key:4,class:"staff-section"},ba={class:"staff-categories"},ha={key:0,class:"staff-category"},wa={class:"staff-list"},Ca=["href","title"],_a=["src","alt"],Ma={class:"staff-name"},Ea={key:0,class:"staff-role"},La=["href","title"],Ia={key:1,class:"staff-category"},Ta={class:"staff-names-container"},Ra={class:"staff-names-list"},Aa=["href"],Pa=["href","title"],Sa={key:2,class:"staff-category"},xa={class:"staff-names-container"},ja={class:"staff-names-list"},Na=["href"],Ua=["href","title"],Ba={key:5,class:"yt-video-container"},$a={key:6,class:"related-movies"},Da=["title"],Ha={key:7,class:"related-movies"},Va=["title"],Fa={key:0,class:"nudity-info-popup"},Oa={class:"nudity-info-content"},qa={key:0,class:"nudity-info-loading"},Ka={key:1},za={class:"nudity-info-actions"},Wa=["href"],Ga={key:1,class:"nudity-info-popup"},Ya={class:"nudity-info-content"},Za={class:"timings-text"},Xa={key:0,class:"timing-entries"},Qa={class:"timing-content"},Ja={class:"timing-header-row",style:{display:"flex","align-items":"center",gap:"8px"}},er={key:0,class:"pending-badge"},tr={key:1,class:"clean-text-badge"},nr={key:0,class:"timing-actions-row",style:{display:"flex","align-items":"center",gap:"8px","margin-top":"8px"}},or=["onClick"],sr=["onClick"],lr=["onClick"],ir={class:"timing-text"},ar={class:"timing-author"},rr={key:1,style:{color:"#fff","font-size":"13px",margin:"4px 0 0 0"}},ur={key:0},dr={key:1},cr={key:1},vr={key:0,class:"general-parser-result",style:{"margin-top":"15px",padding:"15px",background:"rgba(255, 255, 255, 0.05)","border-radius":"8px"}},mr={style:{margin:"0 0 10px 0",color:"#fff"}},fr={style:{color:"#fff","font-size":"13px"}},gr={key:0},kr={key:1},yr={class:"nudity-info-actions"},pr={key:2,class:"timing-modal"},br={class:"timing-modal-content"},hr={class:"timing-modal-header"},wr={class:"timing-submission-form"},Cr={class:"timing-form-actions"},_r=["disabled"],Mr={key:0,class:"fas fa-spinner fa-spin"},Er={key:1},Lr={class:"modal-header"},Ir={class:"modal-header-controls"},Tr={class:"modal-body"},Rr=["disabled"],Ar={key:0,class:"fas fa-spinner fa-spin"},Pr={key:1,class:"fas fa-list"},Sr={class:"top-submitters-list"},xr={class:"submitter-info"},jr={class:"submitter-name"},Nr=["href"],Ur={class:"submitter-count"},Br={class:"submitter-contribution"},$r={class:"modal-header"},Dr={class:"modal-body"},Hr={key:0,class:"timing-filters"},Vr={key:1,class:"loading-spinner"},Fr={key:2,class:"no-timings"},Or={key:3,class:"no-timings"},qr={key:4,class:"all-timings-list"},Kr={class:"timing-header"},zr={class:"timing-meta"},Wr={class:"timing-author"},Gr={class:"timing-date"},Yr={class:"timing-movie-info"},Zr={key:0,class:"admin-controls"},Xr=["onClick","disabled"],Qr={key:0,class:"fas fa-spinner fa-spin"},Jr={key:1,class:"fas fa-check"},eu=["onClick","disabled"],tu={key:0,class:"fas fa-spinner fa-spin"},nu={key:1,class:"fas fa-times"},ou=["onClick","disabled"],su={key:0,class:"fas fa-spinner fa-spin"},lu={key:1,class:"fas fa-eye-slash"},iu={class:"timing-content"},au={class:"timing-text"},ru={__name:"MovieInfo",setup(r){const t=v(!0),u=At(),o=zt(),M=Hn(),L=En(),f=Pt(),k=v(L.params.kp_id),E=v(""),I=v(null),l=v(null),d=Vn(),C=to(),p=v(null),x=C.areTrailersActive,A=v(null),P=v(!1),R=v(!1),b=v(10),T=v(null),S=v(!1),W=v(null),O=v(!1),j=v(void 0),B=v(null),J=v(new Set),Re=v(!1),Ee=V(()=>{var n;return((n=l.value)==null?void 0:n.nudity_timings.length)>0}),He=V(()=>{var n;return((n=l.value)==null?void 0:n.nudity_timings.length)>0&&u.isStreamerMode&&!u.isMobile}),D=V(()=>{var n,s,h,U,K,ne,re,oe,ue,ie;return((s=(n=l.value)==null?void 0:n.lists)==null?void 0:s.isFavorite)||((U=(h=l.value)==null?void 0:h.lists)==null?void 0:U.isWatching)||((ne=(K=l.value)==null?void 0:K.lists)==null?void 0:ne.isLater)||((oe=(re=l.value)==null?void 0:re.lists)==null?void 0:oe.isCompleted)||((ie=(ue=l.value)==null?void 0:ue.lists)==null?void 0:ie.isAbandoned)}),ae=V(()=>u.isCommentsEnabled),X=()=>{if(l.value){const n=l.value.name_ru||l.value.name_en||l.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=n}},G=n=>n?n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",ye=n=>(n||[]).map(s=>({kp_id:s.film_id,poster:s.poster_url_preview||s.poster_url,title:s.name_ru||s.name_en||s.name_original})),de=n=>{if(typeof n!="number")return;const s=Math.floor(n/60),h=n%60;return"".concat(s," —á. ").concat(h," –º–∏–Ω.")},be=v(!1),he=v({top:"0px",left:"0px"}),we=n=>{be.value=!0,he.value={top:"".concat(n.pageY+10,"px"),left:"".concat(n.pageX-70,"px")}},Ae=async()=>{try{const n=[l.value.name_ru||l.value.name_en||l.value.name_original,...l.value.year?[l.value.year]:[],...l.value.film_length?[de(l.value.film_length)]:[]];await navigator.clipboard.writeText(n.join(", ")),p.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(n){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",n)}},pe=async(n=!0)=>{var s,h,U,K,ne,re,oe,ue;try{let ie;if(k.value.startsWith("shiki")?ie=await Fn(k.value):ie=await On(k.value,o.token),Array.isArray(ie)&&ie.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");l.value=ie,k.value.startsWith("shiki")?l.value={...l.value,title:l.value.name_ru||l.value.name_en,name_original:l.value.name_en,short_description:l.value.slogan}:l.value={...l.value,title:l.value.name_ru||l.value.name_en||l.value.name_original,kinopoisk_id:k.value},d.setHeaderContent({text:l.value.title,imageUrl:l.value.logo_url}),X();const se={kp_id:k.value,title:((s=l.value)==null?void 0:s.name_ru)||((h=l.value)==null?void 0:h.name_en)||((U=l.value)==null?void 0:U.name_original),poster:((K=l.value)==null?void 0:K.poster_url)||((ne=l.value)==null?void 0:ne.cover_url)||((re=l.value)==null?void 0:re.screenshots[0]),year:(oe=l.value)==null?void 0:oe.year,type:(ue=l.value)==null?void 0:ue.type};if(k.value.startsWith("shiki"))if(l.value.screenshots&&l.value.screenshots.length>0){const Ce=Math.floor(Math.random()*l.value.screenshots.length),Se=l.value.screenshots[Ce];M.updateMoviePoster(Se)}else se.poster&&M.updateMoviePoster(se.poster);else se.poster&&M.updateMoviePoster(se.poster);if(V(()=>u.isHistoryAllowed).value&&se.kp_id&&se.title&&n)if(o.token)try{await Ot(se.kp_id,F.HISTORY)}catch(Ce){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",Ce)}else u.addToHistory({...se})}catch(ie){const{message:se,code:Me}=Je(ie);E.value=se,I.value=Me,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",ie)}},Ye=V(()=>{var n,s;return console.log("–¢—Ä–µ–π–ª–µ—Ä—ã:",(n=l.value)==null?void 0:n.videos),(s=l.value)==null?void 0:s.videos}),ee=V(()=>{var n;return ye((n=l.value)==null?void 0:n.sequels_and_prequels)}),je=V(()=>{var n;return ye((n=l.value)==null?void 0:n.similars)}),Ze=()=>{var U;const n=((U=document.querySelector(".related-movies"))==null?void 0:U.clientWidth)||0,h=Math.floor(n/160)||10;b.value=Math.max(1,h)},Le=()=>{Ze()},Ie=n=>{if(n.altKey&&n.keyCode===84&&document.querySelector(".player-container")){const h=document.querySelector(".theater-mode-btn");h&&h.click()}},Ve=n=>{n.button===1&&(n.preventDefault(),nt(n))},nt=async n=>{if(T.value!==null){T.value=null,S.value=!1;return}j.value=void 0,W.value=n.currentTarget,T.value="",S.value=!0;try{const s=await qn(l.value.imdb_id);T.value=s.nudity_info}catch(s){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",s),T.value="–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Parents Guide –Ω–∞ IMDb –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."}finally{S.value=!1}},st=n=>{var s,h;if(T.value=null,j.value!==void 0){j.value=void 0;return}B.value=n.currentTarget,j.value=((s=l.value)==null?void 0:s.nudity_timings)===null?"":((h=l.value)==null?void 0:h.nudity_timings)||""},rt=n=>{var h,U,K,ne,re,oe,ue,ie,se,Me,Ce,Se,it;return(it={[F.FAVORITE]:((U=(h=l.value)==null?void 0:h.lists)==null?void 0:U.isFavorite)||!1,[F.HISTORY]:((ne=(K=l.value)==null?void 0:K.lists)==null?void 0:ne.isHistory)||!1,[F.LATER]:((oe=(re=l.value)==null?void 0:re.lists)==null?void 0:oe.isLater)||!1,[F.COMPLETED]:((ie=(ue=l.value)==null?void 0:ue.lists)==null?void 0:ie.isCompleted)||!1,[F.ABANDONED]:((Me=(se=l.value)==null?void 0:se.lists)==null?void 0:Me.isAbandoned)||!1,[F.WATCHING]:((Se=(Ce=l.value)==null?void 0:Ce.lists)==null?void 0:Se.isWatching)||!1}[n])!=null?it:!1},Pe=async n=>{if(!o.token){p.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>f.push("/login")});return}try{const s={[F.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[F.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[F.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[F.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[F.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[F.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};rt(n)?(await In(k.value,n),p.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(s[n]))):(await Ot(k.value,n),p.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(s[n]))),await pe(!1),O.value=!1}catch(s){const{message:h,code:U}=Je(s);p.value.showNotification("".concat(h," ").concat(U))}},Fe=n=>{const s=document.querySelector(".mobile-list-dropdown");s&&!s.contains(n.target)&&(O.value=!1)},Oe=n=>{const s=document.querySelector(".nudity-info-popup");s&&!s.contains(n.target)&&W.value&&!W.value.contains(n.target)&&(T.value=null)},_=n=>{const s=document.querySelector(".nudity-info-popup");s&&!s.contains(n.target)&&B.value&&!B.value.contains(n.target)&&(j.value=void 0)};at(async()=>{await pe(),t.value=!1,document.addEventListener("keydown",Ie),window.addEventListener("resize",Le),setTimeout(Ze,100),document.addEventListener("click",Fe),document.addEventListener("click",Oe,!0),document.addEventListener("click",_,!0),window.selectedNudityTimings=Array.from(J.value)}),bn(async()=>{d.clearHeaderContent(),document.removeEventListener("keydown",Ie),window.removeEventListener("resize",Le),document.removeEventListener("click",Fe),document.removeEventListener("click",Oe,!0),document.removeEventListener("click",_,!0),delete window.selectedNudityTimings}),De(()=>L.params.kp_id,async n=>{n&&n!==k.value&&(d.clearHeaderContent(),k.value=n,A.value=null,await pe(),t.value=!1)},{immediate:!0}),De(l,()=>{X()},{deep:!0}),De(T,n=>{n?document.addEventListener("click",Oe,!0):document.removeEventListener("click",Oe,!0)},{deep:!0}),De(j,n=>{n?document.addEventListener("click",_,!0):document.removeEventListener("click",_,!0)},{deep:!0}),De(J,()=>{window.selectedNudityTimings=Array.from(J.value)},{deep:!0}),at(()=>{window.selectedNudityTimings=Array.from(J.value)}),bn(()=>{delete window.selectedNudityTimings});const H=n=>{var s,h;return((h=(s=l.value)==null?void 0:s.staff)==null?void 0:h.filter(U=>U.profession_key===n))||[]},qe=async()=>{try{await navigator.clipboard.writeText(T.value),p.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(n){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",n),p.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{T.value=null}},kt=async()=>{if(j.value.length!==0)try{const n=j.value.map(s=>"".concat(s.timing_text," (by @").concat(s.username,")")).join("\n").concat("\nReYohoho\n");await navigator.clipboard.writeText(n),p.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(n){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",n),p.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{j.value=void 0}},ct=()=>{const n=encodeURIComponent(T.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(n),"_blank"),T.value=null},lt=V({get:()=>u.submitterUsername,set:n=>u.setSubmitterUsername(n)}),ot=v(""),Ke=v(!1),vt=V(()=>lt.value.trim()&&ot.value.trim()),mt=async()=>{if(!(!vt.value||Ke.value))try{Ke.value=!0,await zn(k.value,lt.value.trim(),ot.value),p.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é, —Å–ø–∞—Å–∏–±–æ!"),ot.value="",q.value=!1}catch(n){const{message:s}=Je(n);p.value.showNotification(s,5e3)}finally{Ke.value=!1}},N=async()=>{try{const{submissions:n}=await Kn();me.value=n,ce.value=!0}catch(n){const{message:s}=Je(n);p.value.showNotification(s)}},q=v(!1),me=v([]),ce=v(!1),Y=v(!1),te=v([]),fe=v(!1),ve=v(!1),ze=v(null),Xe=v(!1),Qe=v(!1),$e=v("all"),yt=async n=>{if(!ve.value)try{ve.value=!0,ze.value=n,Xe.value=!0,Qe.value=!1,await Gn(n);const s=te.value.find(h=>h.id===n);s&&(s.status="approved"),p.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ–¥–æ–±—Ä–µ–Ω")}catch(s){const{message:h}=Je(s);p.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ve.value=!1,ze.value=null,Xe.value=!1,Qe.value=!1}},St=async n=>{if(!ve.value)try{ve.value=!0,ze.value=n,Xe.value=!1,Qe.value=!1,await Yn(n);const s=te.value.find(h=>h.id===n);s&&(s.status="rejected"),p.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–∫–ª–æ–Ω–µ–Ω")}catch(s){const{message:h}=Je(s);p.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ve.value=!1,ze.value=null,Xe.value=!1,Qe.value=!1}},Bt=async n=>{if(!ve.value)try{ve.value=!0,ze.value=n,Xe.value=!1,Qe.value=!0,await Zn(n);const s=te.value.find(h=>h.id===n);s&&(s.status="clean_text"),p.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ clean_text")}catch(s){const{message:h}=Je(s);p.value.showNotification("–û—à–∏–±–∫–∞: ".concat(h))}finally{ve.value=!1,ze.value=null,Xe.value=!1,Qe.value=!1}},$t=async()=>{if(!fe.value)try{fe.value=!0,Y.value=!0;const{timings:n}=await Wn();te.value=n}catch(n){const{message:s}=Je(n);p.value.showNotification(s),Y.value=!1}finally{fe.value=!1}},xt=n=>({pending:"–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏",approved:"–û–¥–æ–±—Ä–µ–Ω–æ",rejected:"–û—Ç–∫–ª–æ–Ω–µ–Ω–æ",clean_text:"–ù–µ –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç—Å—è"})[n]||n,Dt=(n,s)=>{const h=[2,0,1,1,1,2];return s[n%100>4&&n%100<20?2:h[Math.min(n%10,5)]]},Ht=n=>{if(!me.value.length)return 0;const s=Math.max(...me.value.map(h=>h.approved_submissions_count));return n/s*100},ut=V(()=>$e.value==="all"?te.value:te.value.filter(n=>n.status===$e.value)),jt=n=>{J.value.has(n)?J.value.delete(n):J.value.add(n)},Ue=v({});function Be(n){if(Ue.value[n.id])Ue.value={...Ue.value,[n.id]:!1};else{const s=Kt(n.timing_text);Ue.value={...Ue.value,[n.id]:s}}}const Nt=V(()=>!!window.electronAPI);function pt(n){if(!Nt.value){p.value?p.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}jt(n)}function Vt(n){if(!Nt.value){p.value?p.value.showNotification("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"):alert("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏");return}jt(n)}function Ft(){Re.value=!Re.value}function g(){const n=[];if(j.value&&Array.isArray(j.value)){for(const s of j.value)if(J.value.has(s.id)){const h=Kt(s.timing_text);h&&h.length>0&&n.push(...h)}}return n}return(n,s)=>{var U,K,ne,re,oe,ue,ie,se,Me,Ce,Se,it,bt,ht,wt,Ct,_t,Mt;const h=xe("router-link");return i(),a(le,null,[e("div",wi,[e("div",Ci,[(t.value||!l.value)&&!E.value?(i(),a("div",_i,[e("div",Mi,[s[27]||(s[27]=Rt('<div class="movie-skeleton__header" data-v-ddb8067a><div class="movie-skeleton__title" data-v-ddb8067a></div></div><div class="movie-skeleton__ratings" data-v-ddb8067a><div class="movie-skeleton__rating-item" data-v-ddb8067a></div><div class="movie-skeleton__rating-item" data-v-ddb8067a></div><div class="movie-skeleton__rating-item" data-v-ddb8067a></div></div>',2)),e("div",Ei,[ke(An)]),s[28]||(s[28]=Rt('<div class="movie-skeleton__additional-info" data-v-ddb8067a><div class="movie-skeleton__section-title" data-v-ddb8067a></div><div class="movie-skeleton__info-list" data-v-ddb8067a><div class="movie-skeleton__info-item" data-v-ddb8067a></div><div class="movie-skeleton__info-item" data-v-ddb8067a></div><div class="movie-skeleton__info-item" data-v-ddb8067a></div><div class="movie-skeleton__info-item" data-v-ddb8067a></div><div class="movie-skeleton__info-item" data-v-ddb8067a></div></div></div><div class="movie-skeleton__description" data-v-ddb8067a><div class="movie-skeleton__description-line" data-v-ddb8067a></div><div class="movie-skeleton__description-line" data-v-ddb8067a></div><div class="movie-skeleton__description-line" data-v-ddb8067a></div><div class="movie-skeleton__description-line" data-v-ddb8067a></div></div>',2))])])):y("",!0),E.value?(i(),et(Ln,{key:1,message:E.value,code:I.value},null,8,["message","code"])):y("",!0),E.value?(i(),a("div",Li,[(i(),et(Mn,{key:k.value,"kp-id":k.value,"movie-info":l.value,"onUpdate:movieInfo":pe},null,8,["kp-id","movie-info"]))])):y("",!0),l.value&&!t.value?(i(),a("div",Ii,[e("div",Ti,[l.value.logo_url?(i(),a("div",{key:0,class:"content-logo",onMousemove:we,onMouseleave:s[0]||(s[0]=c=>be.value=!1),onClick:Ae},[e("img",{src:l.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,Ri)],32)):(i(),a("div",{key:1,onMousemove:we,onMouseleave:s[1]||(s[1]=c=>be.value=!1),onClick:Ae},[e("h1",Ai,m(l.value.title),1)],32)),Q(e("div",{class:"title-copy-tooltip",style:Tt(he.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[ge,be.value]])]),l.value.kinopoisk_id||l.value.title||l.value.imdb_id||l.value.rating_imdb||l.value.shikimori_id?(i(),a("div",Pi,[l.value.kinopoisk_id?(i(),et(Is,{key:l.value.kinopoisk_id,"kp-id":l.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):y("",!0),l.value.kinopoisk_id?(i(),a("div",Si,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(l.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:l.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(G(l.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[s[29]||(s[29]=e("img",{src:wn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:w(["rating-value",z(It)(l.value.rating_kinopoisk)])},m(l.value.rating_kinopoisk?l.value.rating_kinopoisk:"‚Äî"),3),s[30]||(s[30]=e("img",{src:Lt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,xi)])):y("",!0),!l.value.kinopoisk_id&&l.value.title?(i(),a("div",ji,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(l.value.title+(l.value.year?" "+l.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:l.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(G(l.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[s[31]||(s[31]=e("img",{src:wn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:w(["rating-value",z(It)(l.value.rating_kinopoisk)])},m(l.value.rating_kinopoisk?l.value.rating_kinopoisk:"‚Äî"),3),s[32]||(s[32]=e("img",{src:Lt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ni)])):y("",!0),l.value.imdb_id?(i(),a("div",Ui,[e("a",{href:"https://www.imdb.com/title/".concat(l.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:l.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(G(l.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[s[33]||(s[33]=e("img",{src:Cn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:w(["rating-value",z(It)(l.value.rating_imdb)])},m(l.value.rating_imdb?l.value.rating_imdb:"‚Äî"),3),s[34]||(s[34]=e("img",{src:Lt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Bi)])):y("",!0),!l.value.imdb_id&&l.value.title?(i(),a("div",$i,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(l.value.title+(l.value.year?" "+l.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:l.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(G(l.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[s[35]||(s[35]=e("img",{src:Cn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:w(["rating-value",z(It)(l.value.rating_imdb)])},m(l.value.rating_imdb?l.value.rating_imdb:"‚Äî"),3),s[36]||(s[36]=e("img",{src:Lt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Di)])):y("",!0),l.value.shikimori_id?(i(),a("div",Hi,[e("a",{href:"https://shikimori.one/animes/".concat(l.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[37]||(s[37]=[e("img",{src:no,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:Lt,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,Vi)])):y("",!0),l.value.imdb_id?(i(),a("button",{key:6,class:"nudity-info-btn parents-guide-btn",onClick:s[2]||(s[2]=c=>nt(c)),onMousedown:s[3]||(s[3]=c=>Ve(c)),title:T.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å Parents Guide –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö"},[s[38]||(s[38]=e("span",{class:"desktop-text"},"Parents Guide",-1)),s[39]||(s[39]=e("span",{class:"mobile-text"},"PG",-1)),S.value?(i(),a("i",qi)):(i(),a("i",Oi))],40,Fi)):y("",!0),e("button",{class:"nudity-info-btn",onClick:s[4]||(s[4]=c=>st(c)),title:j.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω 18+(–¥–ª—è —Ç–≤–∏—á–∞, –º–∏–≥–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)"},[e("i",{class:w(["fa-regular fa-clock",{"text-red":Ee.value,"text-red-blink":He.value}])},null,2)],8,Ki)])):y("",!0),(i(),et(Mn,{key:k.value,"kp-id":k.value,"movie-info":l.value,"onUpdate:movieInfo":pe},null,8,["kp-id","movie-info"])),z(u).isMobile?(i(),a("div",zi,[e("button",{class:w(["mobile-list-toggle",{}]),onClick:s[5]||(s[5]=c=>O.value=!O.value)},[e("span",{class:w(["material-icons",{active:D.value}])},m(D.value?"bookmark_added":"bookmark_border"),3),s[40]||(s[40]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:w(["material-icons dropdown-arrow",{expanded:O.value}])},"expand_more",2)]),Q(e("div",Wi,[e("button",{class:w(["mobile-list-btn",{}]),onClick:s[6]||(s[6]=c=>Pe(z(F).FAVORITE))},[e("span",{class:w(["material-icons",{active:(K=(U=l.value)==null?void 0:U.lists)==null?void 0:K.isFavorite}])},m((re=(ne=l.value)==null?void 0:ne.lists)!=null&&re.isFavorite?"favorite":"favorite_border"),3),s[41]||(s[41]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:w(["mobile-list-btn",{}]),onClick:s[7]||(s[7]=c=>Pe(z(F).WATCHING))},[e("span",{class:w(["material-icons",{active:(ue=(oe=l.value)==null?void 0:oe.lists)==null?void 0:ue.isWatching}])},m((se=(ie=l.value)==null?void 0:ie.lists)!=null&&se.isWatching?"visibility":"visibility_off"),3),s[42]||(s[42]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:w(["mobile-list-btn",{}]),onClick:s[8]||(s[8]=c=>Pe(z(F).LATER))},[e("span",{class:w(["material-icons",{active:(Ce=(Me=l.value)==null?void 0:Me.lists)==null?void 0:Ce.isLater}])},"watch_later",2),s[43]||(s[43]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:w(["mobile-list-btn",{}]),onClick:s[9]||(s[9]=c=>Pe(z(F).COMPLETED))},[e("span",{class:w(["material-icons",{active:(it=(Se=l.value)==null?void 0:Se.lists)==null?void 0:it.isCompleted}])},m((ht=(bt=l.value)==null?void 0:bt.lists)!=null&&ht.isCompleted?"check_circle":"check_circle_outline"),3),s[44]||(s[44]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:w(["mobile-list-btn",{}]),onClick:s[10]||(s[10]=c=>Pe(z(F).ABANDONED))},[e("span",{class:w(["material-icons",{active:(Ct=(wt=l.value)==null?void 0:wt.lists)==null?void 0:Ct.isAbandoned}])},"not_interested",2),s[45]||(s[45]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[ge,O.value]])])):y("",!0),e("meta",{name:"title-and-year",content:l.value.type==="FILM"&&l.value.year?"".concat(l.value.title," (").concat(l.value.year,")"):l.value.title},null,8,Gi),l.value.name_original?(i(),a("meta",{key:2,name:"original-title",content:l.value.name_original},null,8,Yi)):y("",!0),e("div",Zi,[s[56]||(s[56]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",Xi,[l.value.poster_url?(i(),a("div",Qi,[e("a",{href:l.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:l.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,ea)],8,Ji)])):y("",!0),e("div",ta,[e("ul",na,[l.value.type&&z(hn)[l.value.type]?(i(),a("li",oa,[s[46]||(s[46]=e("strong",null,"–¢–∏–ø:",-1)),Z(" "+m(z(hn)[l.value.type]),1)])):y("",!0),l.value.year?(i(),a("li",sa,[s[47]||(s[47]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),Z(" "+m(l.value.year),1)])):y("",!0),l.value.title?(i(),a("li",la,[s[48]||(s[48]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+m(l.value.title),1)])):y("",!0),l.value.name_original?(i(),a("li",ia,[s[49]||(s[49]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+m(l.value.name_original),1)])):y("",!0),l.value.slogan?(i(),a("li",aa,[s[50]||(s[50]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),Z(" "+m(l.value.slogan),1)])):y("",!0),l.value.production_companies?(i(),a("li",ra,[s[51]||(s[51]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),Z(" "+m(l.value.production_companies),1)])):y("",!0),(_t=l.value.countries)!=null&&_t.length?(i(),a("li",ua,[s[52]||(s[52]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),Z(" "+m(l.value.countries.map(c=>c.country).join(", ")),1)])):y("",!0),(Mt=l.value.genres)!=null&&Mt.length?(i(),a("li",da,[s[53]||(s[53]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),Z(" "+m(l.value.genres.map(c=>c.genre).join(", ")),1)])):y("",!0),l.value.film_length?(i(),a("li",ca,[s[54]||(s[54]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),Z(" "+m(de(l.value.film_length)),1)])):y("",!0),l.value.rating_mpaa||l.value.rating_age_limits?(i(),a("li",va,[l.value.rating_mpaa?(i(),a("div",ma,[s[55]||(s[55]=e("strong",null,"MPAA",-1)),e("span",null,m(l.value.rating_mpaa.toUpperCase()),1)])):y("",!0),l.value.rating_age_limits?(i(),a("div",fa,[e("strong",null,m(l.value.rating_age_limits.replace("age",""))+"+",1)])):y("",!0)])):y("",!0)]),e("div",ga,[l.value.description?(i(),a("p",ka,m(l.value.description),1)):y("",!0)])])])]),ae.value?(i(),a("div",ya,[(i(),et(hi,{"movie-id":k.value,key:k.value},null,8,["movie-id"]))])):y("",!0),l.value.staff?(i(),a("div",pa,[e("div",ba,[H("ACTOR").length?(i(),a("div",ha,[s[57]||(s[57]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",wa,[(i(!0),a(le,null,_e(H("ACTOR").slice(0,12),c=>(i(),a("div",{key:c.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(c.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:c.description||""},[e("img",{src:c.poster_url,alt:c.name_ru,class:"staff-photo"},null,8,_a),e("span",Ma,m(c.name_ru||c.name_en),1),c.description?(i(),a("span",Ea,m(c.description),1)):y("",!0)],8,Ca)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(H("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+m(H("ACTOR").length-12),9,La)])])):y("",!0),H("DIRECTOR").length?(i(),a("div",Ia,[s[58]||(s[58]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",Ta,[e("div",Ra,[(i(!0),a(le,null,_e(H("DIRECTOR").slice(0,5),c=>(i(),a("a",{key:c.staff_id,href:"https://www.kinopoisk.ru/name/".concat(c.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},m(c.name_ru||c.name_en),9,Aa))),128)),H("DIRECTOR").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(H("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+m(H("DIRECTOR").length-5),9,Pa)):y("",!0)])])])):y("",!0),H("PRODUCER").length?(i(),a("div",Sa,[s[59]||(s[59]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",xa,[e("div",ja,[(i(!0),a(le,null,_e(H("PRODUCER").slice(0,5),c=>(i(),a("a",{key:c.staff_id,href:"https://www.kinopoisk.ru/name/".concat(c.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},m(c.name_ru||c.name_en),9,Na))),128)),H("PRODUCER").length>5?(i(),a("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(k.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(H("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+m(H("PRODUCER").length-5),9,Ua)):y("",!0)])])])):y("",!0)])])):y("",!0),Ye.value.length&&z(x)?(i(),a("div",Ba,[ke(ys,{videos:Ye.value,"active-video-index":A.value,onSelect:n.playTrailer},null,8,["videos","active-video-index","onSelect"])])):y("",!0),ee.value.length?(i(),a("div",$a,[s[60]||(s[60]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),ke(z(_n),{"movies-list":P.value?ee.value:ee.value.slice(0,b.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),ee.value.length>b.value?(i(),a("a",{key:0,class:"expand-circle-button",onClick:s[11]||(s[11]=c=>P.value=!P.value),title:"".concat(P.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(ee.value.length,")")},m(P.value?"‚àí":"+".concat(ee.value.length-b.value)),9,Da)):y("",!0)])):y("",!0),je.value.length?(i(),a("div",Ha,[s[61]||(s[61]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),ke(z(_n),{"movies-list":R.value?je.value:je.value.slice(0,b.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),je.value.length>b.value?(i(),a("a",{key:0,class:"expand-circle-button",onClick:s[12]||(s[12]=c=>R.value=!R.value),title:"".concat(R.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(je.value.length,")")},m(R.value?"‚àí":"+".concat(je.value.length-b.value)),9,Va)):y("",!0)])):y("",!0)])):y("",!0)])]),ke(Ut,{ref_key:"notificationRef",ref:p},null,512),T.value!==null?(i(),a("div",Fa,[e("div",Oa,[S.value?(i(),a("div",qa,s[62]||(s[62]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...",-1)]))):(i(),a("div",Ka,m(T.value),1))]),e("div",za,[e("a",{href:"https://www.imdb.com/title/".concat(l.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},s[63]||(s[63]=[e("i",{class:"fas fa-external-link-alt"},null,-1),e("span",null,"Parents Guide",-1)]),8,Wa),e("button",{class:"nudity-info-button",onClick:qe},s[64]||(s[64]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])),e("button",{class:"nudity-info-button",onClick:ct},s[65]||(s[65]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)]))])])):y("",!0),j.value!==void 0?(i(),a("div",Ga,[e("div",Ya,[e("div",{class:"acknowledgment-table"},[s[68]||(s[68]=e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-heart"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏")],-1)),e("div",{class:"acknowledgment-content"},[s[67]||(s[67]=e("div",{class:"acknowledgment-row"},[e("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[e("i",{class:"fa-brands fa-twitch"}),e("span",null,"TanyaBelkova")]),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –æ—Å–Ω–æ–≤—É –±–∞–∑—ã —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)),e("div",{class:"acknowledgment-row clickable",onClick:N},s[66]||(s[66]=[e("div",{class:"community-link"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–°–æ–æ–±—â–µ—Å—Ç–≤–æ")],-1),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)]))])]),e("div",{class:w(["timings-content",{"no-border":!j.value}])},[e("div",Za,[j.value.length>0?(i(),a("div",Xa,[(i(!0),a(le,null,_e(j.value,c=>{var Te;return i(),a("div",{key:c.id,class:w(["timing-entry",{pending:c.status==="pending","clean-text":c.status==="clean_text",selected:J.value.has(c.id)}])},[e("div",Qa,[e("div",Ja,[c.status==="pending"?(i(),a("div",er,"–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏")):y("",!0),c.status==="clean_text"?(i(),a("div",tr," –¢–∞–π–º–∏–Ω–≥–∏ —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è, –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ —Å–≤–µ—Ä—è–π—Ç–µ—Å—å —Å ParentsGuide ")):y("",!0)]),c.status!=="clean_text"&&((Te=l.value)==null?void 0:Te.type)==="FILM"?(i(),a("div",nr,[e("button",{class:"nudity-info-button",onClick:We=>Be(c)},m(Ue.value[c.id]?"–°–∫—Ä—ã—Ç—å –ø–∞—Ä—Å–µ—Ä":"–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä—Å–µ—Ä"),9,or),J.value.has(c.id)?(i(),a("button",{key:0,class:"nudity-info-button",onClick:We=>Vt(c.id),title:"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∞–≤—Ç–æ–±–ª—é—Ä–∞"},s[69]||(s[69]=[e("i",{class:"fas fa-minus"},null,-1),e("span",null,"–£–¥–∞–ª–∏—Ç—å –∏–∑ –∞–≤—Ç–æ–±–ª—é—Ä–∞",-1)]),8,sr)):(i(),a("button",{key:1,class:"nudity-info-button",onClick:We=>pt(c.id),title:"–î–æ–±–∞–≤–∏—Ç—å –≤ –∞–≤—Ç–æ–±–ª—é—Ä"},s[70]||(s[70]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å –≤ –∞–≤—Ç–æ–±–ª—é—Ä",-1)]),8,lr))])):y("",!0),e("div",{class:w(["timing-hover-container",{blurred:c.status==="pending"}])},[e("span",ir,m(c.timing_text),1),s[71]||(s[71]=e("br",null,null,-1)),e("span",ar,"by "+m(c.username),1)],2),Ue.value[c.id]&&Array.isArray(Ue.value[c.id])?(i(),a("div",rr,[s[72]||(s[72]=e("b",null,"–ü–∞—Ä—Å–µ—Ä:",-1)),Ue.value[c.id].length===0?(i(),a("span",ur,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å")):(i(),a("span",dr,[(i(!0),a(le,null,_e(Ue.value[c.id],(We,Et)=>(i(),a("span",{key:Et}," ["+m(z(gt)(We[0]))+" - "+m(z(gt)(We[1]))+"]"+m(Et<Ue.value[c.id].length-1?", ":""),1))),128))]))])):y("",!0)])],2)}),128))])):(i(),a("div",cr,m("–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")))]),Re.value&&J.value.size>0?(i(),a("div",vr,[e("h4",mr," –û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+m(J.value.size)+" —Ç–∞–π–º–∏–Ω–≥–æ–≤): ",1),e("div",fr,[g().length===0?(i(),a("span",gr,"–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç–∞–π–º–∏–Ω–≥–∏")):(i(),a("span",kr,[(i(!0),a(le,null,_e(g(),(c,Te)=>(i(),a("span",{key:Te}," ["+m(z(gt)(c[0]))+" - "+m(z(gt)(c[1]))+"]"+m(Te<g().length-1?", ":""),1))),128))]))])])):y("",!0),e("div",yr,[j.value.length>0?(i(),a("button",{key:0,class:"nudity-info-button",onClick:kt},s[73]||(s[73]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",-1)]))):y("",!0),J.value.size>0?(i(),a("button",{key:1,class:"nudity-info-button",onClick:Ft},[s[74]||(s[74]=e("i",{class:"fas fa-eye"},null,-1)),e("span",null,"–û–±—â–∏–π –ø–∞—Ä—Å–µ—Ä ("+m(J.value.size)+")",1)])):y("",!0),e("button",{class:"nudity-info-button",onClick:s[13]||(s[13]=c=>q.value=!0)},s[75]||(s[75]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å/–¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)]))])],2)])])):y("",!0),q.value?(i(),a("div",pr,[e("div",br,[e("div",hr,[s[77]||(s[77]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:s[14]||(s[14]=c=>q.value=!1)},s[76]||(s[76]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",wr,[Q(e("input",{"onUpdate:modelValue":s[15]||(s[15]=c=>lt.value=c),placeholder:"–í–∞—à –Ω–∏–∫",class:"timing-input",maxlength:"50"},null,512),[[dt,lt.value]]),Q(e("textarea",{"onUpdate:modelValue":s[16]||(s[16]=c=>ot.value=c),placeholder:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞(–≤ [] —Å–∫–æ–±–∫–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä [01:36] –∏–ª–∏ [01:36:55]), –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—Ä–∏–ª–∞–≥–∞–µ—Ç–µ —Ç–∞–π–º–∏–Ω–≥\n–¢–∫ –∂–µ –¥–ª—è –∞–≤—Ç–æ–±–ª—é—Ä–∞ –ø—Ä–æ—à—É –≤—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ –¥–∏–∞–ø–æ–∑–æ–Ω, –∞ –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–∞–ø—Ä–∏–º–µ—Ä 00:12:31-00:13:04 - —Ç–µ–∫—Å—Ç, –∞ –Ω–µ 00:12:31\n–î–ª—è —Å–µ—Ä–∏–∞–ª–æ–≤ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω –∏ –Ω–æ–º–µ—Ä —ç–ø–∏–∑–æ–¥–∞\n",class:"timing-textarea"},null,512),[[dt,ot.value]]),e("div",Cr,[e("button",{class:"submit-timing-btn",onClick:mt,disabled:!vt.value||Ke.value},[Ke.value?(i(),a("i",Mr)):(i(),a("span",Er,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"))],8,_r)])])])])):y("",!0),ce.value?(i(),a("div",{key:3,class:"modal-overlay",onClick:s[19]||(s[19]=c=>ce.value=!1)},[e("div",{class:"modal-content",onClick:s[18]||(s[18]=tt(()=>{},["stop"]))},[e("div",Lr,[s[79]||(s[79]=e("h3",null,[Z(" –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤ "),e("span",{class:"hint-text"},[Z("(–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∏–º/—Å–æ—Ü—Å–µ—Ç–∏? –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ "),e("a",{href:"https://t.me/reyohoho_sup",target:"_blank",rel:"noopener noreferrer"},"—Ç–µ–ª–µ–≥—Ä–∞–º"),Z(")")])],-1)),e("div",Ir,[e("button",{class:"close-modal-btn",onClick:s[17]||(s[17]=c=>ce.value=!1)},s[78]||(s[78]=[e("i",{class:"fas fa-times"},null,-1)]))])]),e("div",Tr,[e("button",{class:"show-all-timings-btn",onClick:$t,disabled:fe.value},[fe.value?(i(),a("i",Ar)):(i(),a("i",Pr)),s[80]||(s[80]=e("span",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1))],8,Rr),e("div",Sr,[(i(!0),a(le,null,_e(me.value,(c,Te)=>(i(),a("div",{key:c.username,class:"top-submitter-item"},[e("div",{class:w(["submitter-rank",{gold:Te===0,silver:Te===1,bronze:Te===2}])},m(Te+1),3),e("div",xr,[e("div",jr,[c.stream_link?(i(),a("a",{key:0,href:c.stream_link,target:"_blank",rel:"noopener noreferrer"},[Z(m(c.username)+" ",1),s[81]||(s[81]=e("i",{class:"fa-brands fa-twitch"},null,-1))],8,Nr)):(i(),a(le,{key:1},[Z(m(c.username),1)],64))]),e("div",Ur,m(c.approved_submissions_count)+" "+m(Dt(c.approved_submissions_count,["—Ñ–∏–ª—å–º","—Ñ–∏–ª—å–º–∞","—Ñ–∏–ª—å–º–æ–≤"])),1)]),e("div",Br,[e("div",{class:"contribution-bar",style:Tt({width:Ht(c.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):y("",!0),Y.value?(i(),a("div",{key:4,class:"modal-overlay",onClick:s[26]||(s[26]=c=>Y.value=!1)},[e("div",{class:"modal-content all-timings-modal",onClick:s[25]||(s[25]=tt(()=>{},["stop"]))},[e("div",$r,[s[83]||(s[83]=e("h3",null,"–í—Å–µ —Ç–∞–π–º–∏–Ω–≥–∏",-1)),e("button",{class:"close-modal-btn",onClick:s[20]||(s[20]=c=>Y.value=!1)},s[82]||(s[82]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Dr,[!fe.value&&te.value.length>0?(i(),a("div",Hr,[e("button",{class:w(["timing-filter-btn",{active:$e.value==="all"}]),onClick:s[21]||(s[21]=c=>$e.value="all")}," –í—Å–µ ("+m(te.value.length)+") ",3),e("button",{class:w(["timing-filter-btn",{active:$e.value==="approved"}]),onClick:s[22]||(s[22]=c=>$e.value="approved")}," –û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ ("+m(te.value.filter(c=>c.status==="approved").length)+") ",3),e("button",{class:w(["timing-filter-btn",{active:$e.value==="pending"}]),onClick:s[23]||(s[23]=c=>$e.value="pending")}," –ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ("+m(te.value.filter(c=>c.status==="pending").length)+") ",3),e("button",{class:w(["timing-filter-btn",{active:$e.value==="clean_text"}]),onClick:s[24]||(s[24]=c=>$e.value="clean_text")}," –ù–µ –º–æ–¥–µ—Ä–∏—Ä—É—é—Ç—Å—è ("+m(te.value.filter(c=>c.status==="clean_text").length)+") ",3)])):y("",!0),fe.value?(i(),a("div",Vr,s[84]||(s[84]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ç–∞–π–º–∏–Ω–≥–æ–≤...",-1)]))):te.value.length===0?(i(),a("div",Fr,s[85]||(s[85]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)]))):ut.value.length===0?(i(),a("div",Or,s[86]||(s[86]=[e("p",null,"–¢–∞–π–º–∏–Ω–≥–∏ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ñ–∏–ª—å—Ç—Ä—É –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",-1)]))):(i(),a("div",qr,[(i(!0),a(le,null,_e(ut.value,c=>{var Te;return i(),a("div",{key:c.id,class:w(["timing-item",{pending:c.status==="pending",approved:c.status==="approved",rejected:c.status==="rejected","clean-text":c.status==="clean_text"}])},[e("div",Kr,[e("div",zr,[e("span",{class:w(["timing-status",c.status])},m(xt(c.status)),3),e("span",Wr,m(c.username),1),e("span",Gr,m(z(Rn)(c.submitted_at)),1)]),e("div",Yr,[ke(h,{to:"/movie/".concat(c.kp_id),class:"timing-kp-id clickable",title:"–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∏–ª—å–º—É ".concat(c.kp_id)},{default:qt(()=>[Z(" KP: "+m(c.kp_id),1)]),_:2},1032,["to","title"]),(Te=z(o).user)!=null&&Te.is_admin&&c.status==="pending"?(i(),a("div",Zr,[c.status==="pending"?(i(),a("button",{key:0,class:"approve-btn",onClick:We=>yt(c.id),disabled:ve.value,title:"–û–¥–æ–±—Ä–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"},[ze.value===c.id&&Xe.value?(i(),a("i",Qr)):(i(),a("i",Jr))],8,Xr)):y("",!0),c.status==="pending"?(i(),a("button",{key:1,class:"reject-btn",onClick:We=>St(c.id),disabled:ve.value,title:"–û—Ç–∫–ª–æ–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥"},[ze.value===c.id&&!Xe.value&&!Qe.value?(i(),a("i",tu)):(i(),a("i",nu))],8,eu)):y("",!0),c.status==="pending"?(i(),a("button",{key:2,class:"clean-text-btn",onClick:We=>Bt(c.id),disabled:ve.value,title:"–û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ clean_text"},[ze.value===c.id&&Qe.value?(i(),a("i",su)):(i(),a("i",lu))],8,ou)):y("",!0)])):y("",!0)])]),e("div",iu,[e("pre",au,m(c.timing_text),1)])],2)}),128))]))])])])):y("",!0)],64)}}},ku=Ge(ru,[["__scopeId","data-v-ddb8067a"]]);export{ku as default};

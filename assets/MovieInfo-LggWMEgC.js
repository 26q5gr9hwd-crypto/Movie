import{_ as qe,r as f,c as H,b as u,d as a,e,s as Z,t as k,L as le,g as y,M as pe,n as _,q as Xe,u as _t,i as Pt,K as hn,z as Et,l as Fe,o as rt,P as St,x as We,E as wn,f as ae,Q as it,m as Y,R as se,y as X,U as D,S as Mn,D as ft,V as Se,W as Cn,X as Rt,Y as wt,Z as Ln,$ as vn,a0 as In,k as Tn,v as at,a1 as Rn,a2 as Pe,w as mn,a3 as Ct,a4 as Pn,a5 as Sn,a6 as An,a7 as xn,a8 as fn,a9 as Un,aa as jn,a as Nn,ab as gn,ac as Bn,ad as Hn,ae as Dn,af as $n,ag as Vn}from"./index-DrU3v8Uu.js";import{_ as On,a as kn,b as yn,M as pn}from"./MovieList-HLudBAcz.js";import{S as _n}from"./SpinnerLoading-sJE0XM8k.js";import{N as Tt}from"./ToastMessage-BqLs8NS9.js";import{u as Fn,S as qn,a as Kn}from"./trailer-B8S6OeXy.js";import{u as En,f as zn,a as Wn}from"./dateUtils-vA5F-y8g.js";const ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Gn="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",mt=i=>{const t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.8)",t.style.color="white",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.fontSize="2rem",t.style.zIndex="99000",t.textContent=i,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},2e3)},Yn={key:0},Xn={key:1},Zn={class:"players-list"},Qn=["onClick"],Jn={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},eo={key:0},to={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},no={key:1},oo={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},lo=["onClick"],so={key:0,class:"warning-icon material-icons",title:"–í–Ω–∏–º–∞–Ω–∏–µ!"},io={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(i,{emit:t}){const d=i,n=t,C=f(null),E=H(()=>d.players.filter(b=>!M(b)&&!L(b))),m=H(()=>d.players.some(b=>M(b))),g=H(()=>d.players.some(b=>L(b))),M=b=>b.key.toUpperCase().includes("HDREZKA"),L=b=>b.key.toUpperCase().includes("KODIK"),o=b=>b.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),c=b=>{n("select",b),n("close")},h=b=>d.selectedPlayer&&d.selectedPlayer.key===b.key,w=b=>d.selectedPlayer?b==="hdrezka"&&M(d.selectedPlayer)||b==="kodik"&&L(d.selectedPlayer):!1,x=b=>{C.value=b},P=()=>{C.value=null},S=b=>{let I=d.players.filter(A=>b==="hdrezka"&&M(A)||b==="kodik"&&L(A));return b==="kodik"?I.sort((A,K)=>o(A.translate).localeCompare(o(K.translate))):I},T=b=>S(b).some(I=>I.warning);return(b,I)=>(a(),u("div",{class:"modal",onClick:I[4]||(I[4]=Xe(A=>b.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:I[3]||(I[3]=Xe(()=>{},["stop"]))},[e("button",{class:"close",onClick:I[0]||(I[0]=A=>b.$emit("close"))},"√ó"),C.value?(a(),u("h2",Xn,[e("button",{class:"back-btn",onClick:P},"‚Üê –ù–∞–∑–∞–¥"),Z(" "+k(C.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(a(),u("h2",Yn,"–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–µ–µ—Ä")),e("ul",Zn,[C.value?(a(!0),u(le,{key:1},pe(S(C.value),A=>(a(),u("li",{key:A.key},[e("button",{class:_(["player-item",{active:h(A)}]),onClick:K=>c(A)},[Z(k(o(A.translate))+" ",1),A.warning?(a(),u("span",so,"warning")):y("",!0)],10,lo)]))),128)):(a(),u(le,{key:0},[(a(!0),u(le,null,pe(E.value,A=>(a(),u("li",{key:A.key},[e("button",{class:_(["player-item",{active:h(A)}]),onClick:K=>c(A)},[Z(k(o(A.translate))+" ",1),A.warning?(a(),u("span",Jn,"warning")):y("",!0)],10,Qn)]))),128)),m.value?(a(),u("li",eo,[e("button",{class:_(["group-item",{active:w("hdrezka")}]),onClick:I[1]||(I[1]=A=>x("hdrezka"))},[I[5]||(I[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),I[6]||(I[6]=Z(" ReYohoho - HDrezka ")),T("hdrezka")?(a(),u("span",to,"warning")):y("",!0)],2)])):y("",!0),g.value?(a(),u("li",no,[e("button",{class:_(["group-item",{active:w("kodik")}]),onClick:I[2]||(I[2]=A=>x("kodik"))},[I[7]||(I[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),I[8]||(I[8]=Z(" Kodik ")),T("kodik")?(a(),u("span",oo,"warning")):y("",!0)],2)])):y("",!0)],64))])])]))}},ao=qe(io,[["__scopeId","data-v-8b8d2b67"]]),ro={class:"players-list"},uo=["src"],co={key:1,class:"controls"},vo={class:"main-controls"},mo={class:"material-icons"},fo={class:"list-button-item"},go={class:"material-icons"},ko={class:"list-button-item"},yo={class:"material-icons"},po={class:"list-button-item"},bo={class:"list-button-item"},ho={class:"material-icons"},wo={class:"list-button-item"},Co={class:"material-icons"},_o={class:"tooltip-container","data-tooltip-container":"dimming"},Eo={class:"material-icons"},Mo={class:"tooltip-container","data-tooltip-container":"blur"},Lo={class:"tooltip-container","data-tooltip-container":"compressor"},Io={class:"tooltip-container","data-tooltip-container":"mirror"},To={class:"tooltip-container","data-tooltip-container":"theater"},Ro={class:"material-symbols-outlined"},Po={class:"custom-tooltip","data-tooltip":"theater"},So={class:"tooltip-container","data-tooltip-container":"pip"},Ao={class:"tooltip-container","data-tooltip-container":"aspect_ratio"},xo={class:"current-ratio"},Uo=["onClick"],jo={key:0,class:"tooltip-container","data-tooltip-container":"app_link"},No={class:"custom-tooltip","data-tooltip":"app_link"},Bo={key:1,class:"tooltip-container","data-tooltip-container":"copy_link"},Ho={class:"custom-tooltip","data-tooltip":"copy_link"},Do={key:0,class:"desktop-list-buttons"},$o={class:"tooltip-container"},Vo={class:"material-icons"},Oo={class:"custom-tooltip"},Fo={class:"tooltip-container"},qo={class:"material-icons"},Ko={class:"custom-tooltip"},zo={class:"tooltip-container"},Wo={class:"custom-tooltip"},Go={class:"tooltip-container"},Yo={class:"material-icons"},Xo={class:"custom-tooltip"},Zo={class:"tooltip-container"},Qo={class:"material-icons"},Jo={class:"custom-tooltip"},el={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(i,{emit:t}){const d=_t(),n=Fn(),C=Pt(),E=hn(),m=Et(),g=f(E.params.kp_id),M=i,L=t,o=f([]),c=f(null),h=f(!0),w=f(!1),x=f(!1),P=f(null),S=f(null),T=f(!1),b=f(""),I=f(null),A=f(window.innerHeight*.9),K=H(()=>"".concat(A.value,"px")),V=H(()=>d.isMobile),$=H(()=>!!window.electronAPI),R=f(null),be=f(!1);let ke=null;const ge=f(null),je=f(null),B=f(null),ee=f(null),F=f(!1),W=f(!1),ne=f(null),ce=f(null),ve=f(null),me=f(null),_e=f(null),ie=f(null),Ke=r=>{const s=document.querySelector('[data-tooltip-container="'.concat(r,'"]')),U=document.querySelector('[data-tooltip="'.concat(r,'"]'));if(!s||!U)return;const G=s.getBoundingClientRect(),te=U.getBoundingClientRect(),de=window.innerHeight;G.bottom+te.height>de?(U.style.top="auto",U.style.bottom="100%",U.style.marginTop="0",U.style.marginBottom="12px",U.style.transform="translateX(-50%)"):(U.style.top="100%",U.style.bottom="auto",U.style.marginTop="12px",U.style.marginBottom="0",U.style.transform="translateX(-50%)")},J=r=>{R.value=r,be.value=!1,clearTimeout(ke),Se(()=>{Ke(r)})},Ee=()=>{be.value||(ke=setTimeout(()=>{R.value=null},300))},he=()=>{be.value=!0,clearTimeout(ke)},Ne=()=>{be.value=!1,R.value=null},we=H({get:()=>n.aspectRatio,set:r=>n.updateAspectRatio(r)}),Be=H({get:()=>n.isCentered,set:r=>n.updateCentering(r)}),Ze=H(()=>{var r,s,U,G,te,de,et,tt,nt,ot;return((s=(r=M.movieInfo)==null?void 0:r.lists)==null?void 0:s.isFavorite)||((G=(U=M.movieInfo)==null?void 0:U.lists)==null?void 0:G.isWatching)||((de=(te=M.movieInfo)==null?void 0:te.lists)==null?void 0:de.isLater)||((tt=(et=M.movieInfo)==null?void 0:et.lists)==null?void 0:tt.isCompleted)||((ot=(nt=M.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isAbandoned)}),Qe=H(()=>n.preferredPlayer),lt=f(0),Me=r=>r.toUpperCase(),De=()=>{if(w.value||!S.value)return;const[r,s]=we.value.split(":").map(Number);A.value=window.innerHeight*.9,lt.value=Math.min(S.value.clientWidth*(s/r),A.value)},ye=H(()=>{if(w.value)return{};const[r,s]=we.value.split(":").map(Number),U=A.value*(r/s);return{width:"100%",maxWidth:"".concat(U,"px"),maxHeight:K.value,margin:"0 auto",overflow:"hidden"}}),$e=H(()=>{const[r,s]=we.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(s/r*100,"%")}}),p=()=>{S.value&&setTimeout(()=>{Se(()=>{S.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Q=async()=>{try{b.value="",I.value=null;const r=await Mn(M.kpId);if(o.value=Object.entries(r).map(([s,U])=>({key:s.toUpperCase(),...U})),o.value.length>0){if(Qe.value){const s=Me(Qe.value),U=o.value.find(G=>Me(G.key)===s);c.value=U||o.value[0]}else c.value=o.value[0];L("update:selectedPlayer",c.value)}}catch(r){const{message:s,code:U}=ft(r);b.value=s,I.value=U,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–ª–µ–µ—Ä–æ–≤:",r)}},Ve=()=>{T.value=!0},ut=()=>{T.value=!1},Je=()=>{try{return ne.value||(ne.value=new(window.AudioContext||window.webkitAudioContext)),ce.value||(ce.value=ne.value.createDynamicsCompressor(),ce.value.threshold.value=-50,ce.value.knee.value=40,ce.value.ratio.value=12,ce.value.attack.value=0,ce.value.release.value=.25,me.value=ne.value.createGain(),_e.value=ne.value.createGain(),me.value.gain.value=0,_e.value.gain.value=1,ce.value.connect(me.value),me.value.connect(ne.value.destination),_e.value.connect(ne.value.destination)),!0}catch(r){return console.log("Error initializing audio context:",r),!1}},Ge=async r=>{try{if(!ne.value||ie.value===r)return!0;const s=P.value,U=(s==null?void 0:s.src)||"";if(U.includes("videoframe")||U.includes("kinoserial.net")||U.includes("allarknow"))return console.log("Player detected as unsupported for compressor:",U),ie.value=r,ve.value=null,W.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1;if(ve.value)try{ve.value.disconnect()}catch(te){}const G=async(te=0)=>{te>0&&await new Promise(de=>setTimeout(de,te));try{return ve.value=ne.value.createMediaElementSource(r),ie.value=r,ve.value.connect(ce.value),ve.value.connect(_e.value),console.log("Video audio setup completed (attempt with ".concat(te,"ms delay)")),!0}catch(de){if(de.name==="InvalidStateError"&&de.message.includes("already connected"))return console.log("MediaElementSource already connected (".concat(te,"ms delay attempt)")),!1;throw de}};return await G(0)||await G(100)||await G(300)||await G(800)?!0:(console.log("Video element has internal audio processing, compressor not available for this player"),ie.value=r,ve.value=null,W.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —ç—Ç–∏–º –ø–ª–µ–µ—Ä–æ–º"),!1)}catch(s){return console.log("Error setting up video audio:",s),!1}},Oe=async r=>{if(P.value)try{const s=P.value,U=s.contentDocument||s.contentWindow.document;if(!U)return;const G=U.querySelectorAll("video");if(G.length===0)return;const te=G[0];if(!Je())return;if(!await Ge(te)||!ve.value){console.log("Compressor not available for this player");return}r&&!W.value?(me.value.gain.setValueAtTime(1,ne.value.currentTime),_e.value.gain.setValueAtTime(0,ne.value.currentTime),W.value=!0,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –≤–∫–ª—é—á—ë–Ω"),console.log("Compressor enabled")):!r&&W.value&&(me.value.gain.setValueAtTime(0,ne.value.currentTime),_e.value.gain.setValueAtTime(1,ne.value.currentTime),W.value=!1,$.value&&window.electronAPI.showToast("–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä –æ—Ç–∫–ª—é—á—ë–Ω"),console.log("Compressor disabled"))}catch(s){console.log("Compressor error:",s),$.value&&window.electronAPI.showToast("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ–º–ø—Ä–µ—Å—Å–æ—Ä–∞")}},dt=()=>{$.value?window.electronAPI.sendHotKey("F2"):(mt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},j=()=>{$.value?(v.value=!v.value,Oe(v.value)):(mt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},z=()=>{$.value?(l.value=!l.value,O(l.value)):(mt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},q=()=>{w.value=!w.value,w.value?(window.addEventListener("mousemove",Le),document.addEventListener("keydown",Ce),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Le),document.removeEventListener("keydown",Ce),document.body.classList.remove("no-scroll")),x.value=w.value,Se(()=>p())},re=f(null),Le=()=>{re.value=setTimeout(()=>{clearTimeout(re.value),x.value=!1},4e3),x.value=!0},He=H(()=>d.dimmingEnabled),ct=()=>{w.value||d.toggleDimming()},v=H({get:()=>n.compressorEnabled,set:r=>n.updateCompressor(r)}),l=H({get:()=>n.mirrorEnabled,set:r=>n.updateMirror(r)}),O=r=>{if(P.value)try{const s=P.value,U=s.contentDocument||s.contentWindow.document;if(!U)return;const G=U.querySelectorAll("video");if(G.length>0&&(G.forEach(te=>{r?te.style.transform="scaleX(-1)":te.style.transform="scaleX(1)"}),F.value=r,$.value)){const te=r?"–ó–µ—Ä–∫–∞–ª–æ –≤–∫–ª—é—á–µ–Ω–æ":"–ó–µ—Ä–∫–∞–ª–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ";window.electronAPI.showToast(te)}}catch(s){}},oe=()=>{ee.value&&clearInterval(ee.value),ee.value=setInterval(()=>{if(P.value)try{const r=P.value,s=r.contentDocument||r.contentWindow.document;if(!s)return;const U=s.querySelectorAll("video");if(U.length>0){const G=U[0],de=G.style.transform==="scaleX(-1)";l.value&&!de?(G.style.transform="scaleX(-1)",F.value=!0):!l.value&&de&&(G.style.transform="scaleX(1)",F.value=!1),ie.value!==G?(console.log("Video element changed, reinitializing compressor"),ie.value=null,W.value=!1,v.value&&setTimeout(()=>{Oe(!0)},500)):v.value!==W.value&&ve.value&&(console.log("Compressor state mismatch, reapplying"),Oe(v.value))}}catch(r){}},1e3)},Ae=()=>{h.value=!1,oe()},Ce=r=>{(r.key==="Escape"&&w.value||r.altKey&&r.keyCode===84)&&q()},Ie=r=>{we.value=r,setTimeout(()=>{Be.value&&p()},310)},xe=()=>{const r="reyohoho://#".concat(g.value);try{window.location.href=r}catch(s){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Å—ã–ª–∫–∏:",s)}},Ue=()=>{const r=window.location.href;navigator.clipboard.writeText(r).then(()=>{}),ge.value.showNotification("–°—Å—ã–ª–∫–∞ –Ω–∞ —Ñ–∏–ª—å–º —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞")};function ue(r){return r.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const fe=()=>{try{ve.value&&(ve.value.disconnect(),ve.value=null),ne.value&&(ne.value.close(),ne.value=null),ce.value=null,me.value=null,_e.value=null,ie.value=null,W.value=!1}catch(r){console.log("Error cleaning up audio context:",r)}},ze=r=>{var s;if(((s=c.value)==null?void 0:s.key)===r.key){ut();return}c.value=r,h.value=!0,F.value=!1,W.value=!1,ie.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),n.updatePreferredPlayer(Me(r.key)),L("update:selectedPlayer",r)};Fe(c,r=>{r&&(h.value=!0,F.value=!1,W.value=!1,ie.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),n.updatePreferredPlayer(Me(r.key)),L("update:selectedPlayer",r))}),Fe(()=>E.params.kp_id,async r=>{r&&r!==g.value&&(g.value=r,F.value=!1,W.value=!1,ie.value=null,ee.value&&(clearInterval(ee.value),ee.value=null),Be.value&&p())},{immediate:!0});const Te=["16:9","12:5","4:3"],Ye=()=>{const s=(Te.indexOf(we.value)+1)%Te.length;Ie(Te[s])},st=r=>{var U,G,te,de,et,tt,nt,ot,gt,kt,yt,pt,bt;return(bt={[D.FAVORITE]:((G=(U=M.movieInfo)==null?void 0:U.lists)==null?void 0:G.isFavorite)||!1,[D.HISTORY]:((de=(te=M.movieInfo)==null?void 0:te.lists)==null?void 0:de.isHistory)||!1,[D.LATER]:((tt=(et=M.movieInfo)==null?void 0:et.lists)==null?void 0:tt.isLater)||!1,[D.COMPLETED]:((ot=(nt=M.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isCompleted)||!1,[D.ABANDONED]:((kt=(gt=M.movieInfo)==null?void 0:gt.lists)==null?void 0:kt.isAbandoned)||!1,[D.WATCHING]:((pt=(yt=M.movieInfo)==null?void 0:yt.lists)==null?void 0:pt.isWatching)||!1}[r])!=null?bt:!1},Re=async r=>{if(!C.token){ge.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:Mt});return}try{const s={[D.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[D.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[D.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[D.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[D.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[D.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};st(r)?(await Cn(g.value,r),ge.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(s[r]))):(await Rt(g.value,r),ge.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(s[r])))}catch(s){const{message:U,code:G}=ft(s);ge.value.showNotification("".concat(U," ").concat(G))}L("update:movieInfo")},Mt=()=>{m.push("/login")},vt=H(()=>n.showFavoriteTooltip),Lt=()=>{m.push("/settings"),Ne()},It=async()=>{if(!$.value){mt("–î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank");return}if(P.value)try{const r=P.value,s=r.contentDocument||r.contentWindow.document;if(!s)return;const U=s.querySelector("video");if(!U)return;document.pictureInPictureElement?await document.exitPictureInPicture():document.pictureInPictureEnabled?await U.requestPictureInPicture():mt('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}catch(r){console.error("Error toggling PiP:",r),mt('–ù–µ —É–¥–∞–ª–æ—Å—å –≤–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º "–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ"')}};return rt(()=>{h.value=!0,Q(),V.value&&(we.value="4:3"),De(),window.addEventListener("resize",De),window.addEventListener("resize",Ke),Be.value&&p()}),St(()=>{window.removeEventListener("resize",De),window.removeEventListener("resize",Ke),window.removeEventListener("mousemove",Le),document.removeEventListener("keydown",Ce),document.body.classList.remove("no-scroll"),ee.value&&clearInterval(ee.value),fe()}),(r,s)=>{var U,G,te,de,et,tt,nt,ot,gt,kt,yt,pt,bt,Nt,Bt,Ht,Dt,$t,Vt,Ot,Ft,qt,Kt,zt,Wt,Gt,Yt,Xt,Zt,Qt,Jt,en,tn,nn,on,ln,sn,an,rn,un,dn,cn;return b.value?(a(),We(wn,{key:0,message:b.value,code:I.value},null,8,["message","code"])):(a(),u(le,{key:1},[e("div",ro,[s[41]||(s[41]=e("span",null,"–ü–ª–µ–µ—Ä:",-1)),e("button",{class:"player-btn",onClick:Ve},k(c.value?ue(c.value.translate).toUpperCase():"–ó–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–µ—Ä–æ–≤..."),1)]),T.value?(a(),We(ao,{key:0,players:o.value,"selected-player":c.value,onClose:ut,onSelect:ze},null,8,["players","selected-player"])):y("",!0),e("div",{ref_key:"containerRef",ref:S,class:_(["player-container",{"theater-mode":w.value}]),style:it(w.value?{}:ye.value)},[e("div",{class:"iframe-wrapper",style:it(w.value?{}:$e.value)},[Y(e("iframe",{ref_key:"playerIframe",ref:P,src:(U=c.value)==null?void 0:U.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:_(["responsive-iframe",{"theater-mode-unlock":x.value,"theater-mode-lock":w.value,dimmed:He.value}]),onLoad:Ae},null,42,uo),[[se,!h.value&&((G=c.value)==null?void 0:G.iframe)]]),h.value?(a(),We(_n,{key:0,text:"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–ª–µ–µ—Ä: ".concat(c.value?ue(c.value.translate):"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –ø–ª–µ–µ—Ä–æ–≤","\n–ï—Å–ª–∏ –ø–ª–µ–µ—Ä –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è, —Ç–æ —Å–º–µ–Ω–∏—Ç–µ –ø–ª–µ–µ—Ä –≤—ã—à–µ –∏–ª–∏ –≤–∫–ª—é—á–∏—Ç–µ VPN"),style:{"white-space":"pre-line"}},null,8,["text"])):y("",!0)],4),w.value?(a(),u("button",{key:0,class:_(["close-theater-btn",{visible:x.value}]),onClick:q}," ‚úñ ",2)):y("",!0)],6),w.value?y("",!0):(a(),u("div",co,[e("div",vo,[V.value?y("",!0):(a(),u("div",{key:0,ref_key:"tooltipContainer",ref:je,class:"tooltip-container list-buttons-container","data-tooltip-container":"favorite"},[vt.value?(a(),u("button",{key:0,class:_(["favorite-btn",{active:(de=(te=i.movieInfo)==null?void 0:te.lists)==null?void 0:de.isFavorite}]),onMouseenter:s[0]||(s[0]=N=>J("favorite")),onMouseleave:Ee,onClick:s[1]||(s[1]=N=>Re(X(D).FAVORITE))},[e("span",mo,k((tt=(et=i.movieInfo)==null?void 0:et.lists)!=null&&tt.isFavorite?"favorite":"favorite_border"),1),e("span",{class:_(["material-icons dropdown-arrow",{highlighted:Ze.value}])},"expand_more",2)],34)):y("",!0),Y(e("div",{ref_key:"tooltip",ref:B,class:"custom-tooltip advanced-tooltip list-buttons-dropdown","data-tooltip":"favorite",onMouseenter:he,onMouseleave:Ne},[e("div",fo,[e("button",{class:_(["favorite-btn",{active:(ot=(nt=i.movieInfo)==null?void 0:nt.lists)==null?void 0:ot.isFavorite}]),onClick:s[2]||(s[2]=N=>Re(X(D).FAVORITE))},[e("span",go,k((kt=(gt=i.movieInfo)==null?void 0:gt.lists)!=null&&kt.isFavorite?"favorite":"favorite_border"),1),s[42]||(s[42]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))],2)]),e("div",ko,[e("button",{class:_(["watching-btn",{active:(pt=(yt=i.movieInfo)==null?void 0:yt.lists)==null?void 0:pt.isWatching}]),onClick:s[3]||(s[3]=N=>Re(X(D).WATCHING))},[e("span",yo,k((Nt=(bt=i.movieInfo)==null?void 0:bt.lists)!=null&&Nt.isWatching?"visibility":"visibility_off"),1),s[43]||(s[43]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))],2)]),e("div",po,[e("button",{class:_(["later-btn",{active:(Ht=(Bt=i.movieInfo)==null?void 0:Bt.lists)==null?void 0:Ht.isLater}]),onClick:s[4]||(s[4]=N=>Re(X(D).LATER))},s[44]||(s[44]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ",-1)]),2)]),e("div",bo,[e("button",{class:_(["completed-btn",{active:($t=(Dt=i.movieInfo)==null?void 0:Dt.lists)==null?void 0:$t.isCompleted}]),onClick:s[5]||(s[5]=N=>Re(X(D).COMPLETED))},[e("span",ho,k((Ot=(Vt=i.movieInfo)==null?void 0:Vt.lists)!=null&&Ot.isCompleted?"check_circle":"check_circle_outline"),1),s[45]||(s[45]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))],2)]),e("div",wo,[e("button",{class:_(["abandoned-btn",{active:(qt=(Ft=i.movieInfo)==null?void 0:Ft.lists)==null?void 0:qt.isAbandoned}]),onClick:s[6]||(s[6]=N=>Re(X(D).ABANDONED))},[e("span",Co,k(((zt=(Kt=i.movieInfo)==null?void 0:Kt.lists)!=null&&zt.isAbandoned,"not_interested")),1),s[46]||(s[46]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))],2)]),e("div",{class:"tooltip-hint"},[s[48]||(s[48]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[s[47]||(s[47]=Z("–°—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ ")),e("a",{class:"settings-link",onClick:Lt},"–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö")])])],544),[[se,R.value==="favorite"&&vt.value]])],512)),V.value?y("",!0):(a(),u(le,{key:1},[e("div",_o,[e("button",{class:_(["dimming-btn",{active:He.value}]),onMouseenter:s[7]||(s[7]=N=>J("dimming")),onMouseleave:s[8]||(s[8]=N=>R.value=null),onClick:ct},[e("span",Eo,k(He.value?"light_mode":"dark_mode"),1)],34),Y(e("div",{class:"custom-tooltip","data-tooltip":"dimming"},k(He.value?"–û—Ç–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ":"–í–∫–ª—é—á–∏—Ç—å –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ"),513),[[se,R.value==="dimming"]])]),e("div",Mo,[e("button",{class:_(["blur-btn",{"electron-only":!$.value}]),onMouseenter:s[9]||(s[9]=N=>J("blur")),onMouseleave:s[10]||(s[10]=N=>R.value=null),onClick:dt},s[49]||(s[49]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),Y(e("div",{class:"custom-tooltip","data-tooltip":"blur"},k($.value?"–ë–ª—é—Ä":"–ë–ª—é—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="blur"]])]),e("div",Lo,[e("button",{class:_(["material-symbols-outlined",{active:v.value,"electron-only":!$.value}]),onMouseenter:s[11]||(s[11]=N=>J("compressor")),onMouseleave:s[12]||(s[12]=N=>R.value=null),onClick:j},s[50]||(s[50]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),Y(e("div",{class:"custom-tooltip","data-tooltip":"compressor"},k($.value?"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä":"–ö–æ–º–ø—Ä–µ—Å—Å–æ—Ä, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="compressor"]])]),e("div",Io,[e("button",{class:_(["mirror-btn",{active:l.value,"electron-only":!$.value}]),onMouseenter:s[13]||(s[13]=N=>J("mirror")),onMouseleave:s[14]||(s[14]=N=>R.value=null),onClick:z},s[51]||(s[51]=[e("span",{class:"material-icons"},"flip",-1)]),34),Y(e("div",{class:"custom-tooltip","data-tooltip":"mirror"},k($.value?"–ó–µ—Ä–∫–∞–ª–æ":"–ó–µ—Ä–∫–∞–ª–æ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="mirror"]])]),e("div",To,[e("button",{class:"theater-mode-btn",onMouseenter:s[15]||(s[15]=N=>J("theater")),onMouseleave:s[16]||(s[16]=N=>R.value=null),onClick:q},[e("span",Ro,k(w.value?"fullscreen_exit":"aspect_ratio"),1)],32),Y(e("div",Po,[Z(k(w.value?"–í—ã–π—Ç–∏ –∏–∑ —Ç–µ–∞—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞":"–¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")+" ",1),s[52]||(s[52]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[se,R.value==="theater"]])]),e("div",So,[e("button",{class:_(["pip-btn",{"electron-only":!$.value}]),onMouseenter:s[17]||(s[17]=N=>J("pip")),onMouseleave:s[18]||(s[18]=N=>R.value=null),onClick:It},s[53]||(s[53]=[e("span",{class:"material-icons"},"picture_in_picture_alt",-1)]),34),Y(e("div",{class:"custom-tooltip","data-tooltip":"pip"},k($.value?"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ":"–ö–∞—Ä—Ç–∏–Ω–∫–∞ –≤ –∫–∞—Ä—Ç–∏–Ω–∫–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏"),513),[[se,R.value==="pip"]])]),e("div",Ao,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:s[19]||(s[19]=N=>J("aspect_ratio")),onMouseleave:Ee,onClick:Ye},[e("span",xo,k(we.value),1)],32),Y(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown","data-tooltip":"aspect_ratio",onMouseenter:he,onMouseleave:Ne},[(a(),u(le,null,pe(Te,N=>e("div",{key:N,class:_(["aspect-ratio-option",{active:we.value===N}]),onClick:dr=>Ie(N)},k(N),11,Uo)),64))],544),[[se,R.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container","data-tooltip-container":"centering",onMouseenter:s[21]||(s[21]=N=>J("centering")),onMouseleave:Ee},[e("button",{class:"center-btn",onClick:p},s[54]||(s[54]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),Y(e("div",{class:"custom-tooltip advanced-tooltip","data-tooltip":"centering",onMouseenter:he,onMouseleave:Ne},[s[55]||(s[55]=Z(" –û—Ç—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–µ–µ—Ä ")),ae(qn,{modelValue:Be.value,"onUpdate:modelValue":s[20]||(s[20]=N=>Be.value=N),title:"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞"},null,8,["modelValue"]),s[56]||(s[56]=e("span",{class:"tooltip-title"},"–ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–µ–µ—Ä–∞",-1))],544),[[se,R.value==="centering"]])],32),$.value?y("",!0):(a(),u("div",jo,[e("button",{class:"app-link-btn",onMouseenter:s[22]||(s[22]=N=>J("app_link")),onMouseleave:s[23]||(s[23]=N=>R.value=null),onClick:xe},s[57]||(s[57]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),Y(e("div",No," –û—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ",512),[[se,R.value==="app_link"]])])),$.value?(a(),u("div",Bo,[e("button",{class:"copy-link-btn",onMouseenter:s[24]||(s[24]=N=>J("copy_link")),onMouseleave:s[25]||(s[25]=N=>R.value=null),onClick:Ue},s[58]||(s[58]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),Y(e("div",Ho," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É ",512),[[se,R.value==="copy_link"]])])):y("",!0)],64))]),!V.value&&!vt.value?(a(),u("div",Do,[e("div",$o,[e("button",{class:_(["favorite-btn",{active:(Gt=(Wt=i.movieInfo)==null?void 0:Wt.lists)==null?void 0:Gt.isFavorite}]),onMouseenter:s[26]||(s[26]=N=>J("favorite")),onMouseleave:s[27]||(s[27]=N=>R.value=null),onClick:s[28]||(s[28]=N=>Re(X(D).FAVORITE))},[e("span",Vo,k((Xt=(Yt=i.movieInfo)==null?void 0:Yt.lists)!=null&&Xt.isFavorite?"favorite":"favorite_border"),1)],34),Y(e("div",Oo,k("–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"),512),[[se,R.value==="favorite"]])]),e("div",Fo,[e("button",{class:_(["watching-btn",{active:(Qt=(Zt=i.movieInfo)==null?void 0:Zt.lists)==null?void 0:Qt.isWatching}]),onMouseenter:s[29]||(s[29]=N=>J("watching")),onMouseleave:s[30]||(s[30]=N=>R.value=null),onClick:s[31]||(s[31]=N=>Re(X(D).WATCHING))},[e("span",qo,k((en=(Jt=i.movieInfo)==null?void 0:Jt.lists)!=null&&en.isWatching?"visibility":"visibility_off"),1)],34),Y(e("div",Ko,k("–°–º–æ—Ç—Ä—é"),512),[[se,R.value==="watching"]])]),e("div",zo,[e("button",{class:_(["later-btn",{active:(nn=(tn=i.movieInfo)==null?void 0:tn.lists)==null?void 0:nn.isLater}]),onMouseenter:s[32]||(s[32]=N=>J("later")),onMouseleave:s[33]||(s[33]=N=>R.value=null),onClick:s[34]||(s[34]=N=>Re(X(D).LATER))},s[59]||(s[59]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),Y(e("div",Wo,k("–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"),512),[[se,R.value==="later"]])]),e("div",Go,[e("button",{class:_(["completed-btn",{active:(ln=(on=i.movieInfo)==null?void 0:on.lists)==null?void 0:ln.isCompleted}]),onMouseenter:s[35]||(s[35]=N=>J("completed")),onMouseleave:s[36]||(s[36]=N=>R.value=null),onClick:s[37]||(s[37]=N=>Re(X(D).COMPLETED))},[e("span",Yo,k((an=(sn=i.movieInfo)==null?void 0:sn.lists)!=null&&an.isCompleted?"check_circle":"check_circle_outline"),1)],34),Y(e("div",Xo,k("–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"),512),[[se,R.value==="completed"]])]),e("div",Zo,[e("button",{class:_(["abandoned-btn",{active:(un=(rn=i.movieInfo)==null?void 0:rn.lists)==null?void 0:un.isAbandoned}]),onMouseenter:s[38]||(s[38]=N=>J("abandoned")),onMouseleave:s[39]||(s[39]=N=>R.value=null),onClick:s[40]||(s[40]=N=>Re(X(D).ABANDONED))},[e("span",Qo,k(((cn=(dn=i.movieInfo)==null?void 0:dn.lists)!=null&&cn.isAbandoned,"not_interested")),1)],34),Y(e("div",Jo,k("–ë—Ä–æ—à–µ–Ω–æ"),512),[[se,R.value==="abandoned"]])])])):y("",!0)])),ae(Tt,{ref_key:"notificationRef",ref:ge},null,512)],64))}}},bn=qe(el,[["__scopeId","data-v-ebca1ddd"]]),tl={key:0,class:"carousel-container"},nl={class:"carousel-wrapper"},ol=["onClick"],ll=["src","alt"],sl={class:"video-name"},il={key:0,class:"video-player"},al=["src"],rl={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(i,{emit:t}){const d=_t(),n=H(()=>d.isMobile),C=i,E=t,m=f(C.activeVideoIndex),g=f(null),M=f(!1),L=f(!1),o=()=>{if(!g.value)return;const{scrollLeft:S,scrollWidth:T,clientWidth:b}=g.value;M.value=S>0,L.value=S<T-b-1},c=S=>{if(!g.value)return;const T=g.value.querySelector(".carousel-item");if(!T)return;const b=T.clientWidth+16;g.value.scrollBy({left:b*S,behavior:"smooth"})},h=S=>{m.value=S,E("select",C.videos[S])},w=()=>o(),x=f([]),P=async S=>{try{return(await fetch("https://img.youtube.com/vi/".concat(S,"/0.jpg"))).ok}catch(T){return!1}};return rt(async()=>{const S=C.videos.map(async b=>await P(b.videoId)?b:null),T=await Promise.all(S);x.value=T.filter(Boolean),o(),window.addEventListener("resize",w)}),Fe(()=>C.videos,async S=>{const T=S.map(async I=>await P(I.videoId)?I:null),b=await Promise.all(T);x.value=b.filter(Boolean)}),Fe(()=>C.activeVideoIndex,S=>{m.value=S}),St(()=>{window.removeEventListener("resize",w)}),(S,T)=>x.value.length?(a(),u("div",tl,[T[4]||(T[4]=e("h2",null,"–¢—Ä–µ–π–ª–µ—Ä—ã (YouTube)",-1)),e("div",nl,[Y(e("button",{class:"scroll-button left",onClick:T[0]||(T[0]=b=>c(-1))},T[2]||(T[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[se,!n.value&&M.value]]),e("div",{ref_key:"carousel",ref:g,class:"carousel",onScroll:o},[(a(!0),u(le,null,pe(x.value,(b,I)=>(a(),u("div",{key:I,class:"carousel-item",onClick:A=>h(I)},[e("img",{src:"https://img.youtube.com/vi/".concat(b.videoId,"/0.jpg"),alt:b.name},null,8,ll),e("div",sl,k(b.name),1)],8,ol))),128))],544),Y(e("button",{class:"scroll-button right",onClick:T[1]||(T[1]=b=>c(1))},T[3]||(T[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[se,!n.value&&L.value]])]),m.value!==null?(a(),u("div",il,[e("iframe",{src:i.videos[m.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,al)])):y("",!0)])):y("",!0)}},ul=qe(rl,[["__scopeId","data-v-4a5806b3"]]),dl={class:"rating-container"},cl={class:"rating-display"},vl={class:"rating-numbers"},ml=["onClick","onMouseenter"],fl={key:0,class:"tooltip-footer"},gl={class:"rating-numbers mobile-rating-numbers"},kl=["onClick"],yl={key:0,class:"mobile-modal-footer"},pl={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(i){const t=_t(),d=Et(),n=i,C=f(null),E=f(null),m=f(null),g=f(null),M=f(0),L=f(!1),o=f(!1);let c=null;const h=A=>A?A.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",w=()=>{c=setTimeout(()=>{L.value=!1,t.isMobile||(o.value=!1)},100)},x=()=>{c&&(clearTimeout(c),c=null),L.value=!0},P=()=>{t.isMobile&&(o.value=!o.value)},S=()=>{d.push("/login")},T=async()=>{try{const A=await Ln(n.kpId);E.value=A.user_rating,m.value=A.average_rating,g.value=h(A.vote_count)}catch(A){console.error("Error loading rating:",A)}},b=async A=>{var K;try{A===E.value?(await vn(n.kpId,null),E.value=null,C.value.showNotification("–û—Ü–µ–Ω–∫–∞ —É–¥–∞–ª–µ–Ω–∞")):(await vn(n.kpId,A),E.value=A,C.value.showNotification("–û—Ü–µ–Ω–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")),t.isMobile&&(o.value=!1),T()}catch(V){console.error("Error setting rating:",V),((K=V.response)==null?void 0:K.status)===401?C.value.showNotification('–î–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:S}):C.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –æ—Ü–µ–Ω–∫–∏"),t.isMobile&&(o.value=!1)}},I=()=>{o.value=!1};return rt(()=>{T()}),(A,K)=>(a(),u("div",dl,[e("div",cl,[e("a",{href:"#",class:_(["rating-link",{"has-rating":E.value}]),onMouseenter:K[0]||(K[0]=V=>L.value=!0),onMouseleave:w,onClick:Xe(P,["prevent"])},[K[3]||(K[3]=e("img",{src:On,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",{class:_(["average-rating",X(wt)(m.value)])},k(m.value?m.value.toFixed(1).replace(/\.0$/,""):"‚Äî"),3)],34),Y(e("div",{class:"rating-tooltip",onMouseenter:x,onMouseleave:w},[e("div",vl,[(a(),u(le,null,pe(10,V=>e("button",{key:V,class:_(["number-btn",{active:V===E.value,hover:V===M.value,"average-highlight":m.value&&V<=Math.round(m.value)}]),onClick:$=>b(V),onMouseenter:$=>M.value=V,onMouseleave:K[1]||(K[1]=$=>M.value=0)},k(V),43,ml)),64))]),g.value?(a(),u("div",fl,"–û—Ü–µ–Ω–æ–∫: "+k(g.value),1)):y("",!0)],544),[[se,(L.value||o.value)&&!X(t).isMobile]])]),ae(Tt,{ref_key:"notificationRef",ref:C},null,512),X(t).isMobile&&o.value?(a(),u("div",{key:0,class:"mobile-modal-overlay",onClick:I},[e("div",{class:"mobile-modal",onClick:K[2]||(K[2]=Xe(()=>{},["stop"]))},[e("div",{class:"mobile-modal-header"},[K[4]||(K[4]=e("h3",null,"–û—Ü–µ–Ω–∏—Ç—å —Ñ–∏–ª—å–º",-1)),e("button",{class:"close-button",onClick:I},"√ó")]),e("div",gl,[(a(),u(le,null,pe(10,V=>e("button",{key:V,class:_(["number-btn",{active:V===E.value,"average-highlight":m.value&&V<=Math.round(m.value)}]),onClick:$=>b(V)},k(V),11,kl)),64))]),g.value?(a(),u("div",yl,"–û—Ü–µ–Ω–æ–∫: "+k(g.value),1)):y("",!0)])])):y("",!0)]))}},bl=qe(pl,[["__scopeId","data-v-2df64bd5"]]),hl={name:"EmojiPicker",props:{isVisible:{type:Boolean,default:!1}},emits:["emoji-selected","mouse-enter","mouse-leave","close"],data(){return{activeCategory:"smileys",categories:[{name:"smileys",icon:"üòÄ",emojis:["üòÄ","üòÉ","üòÑ","üòÅ","üòÜ","üòÖ","üòÇ","ü§£","üòä","üòá","üôÇ","üôÉ","üòâ","üòå","üòç","ü•∞","üòò","üòó","üòô","üòö","üòã","üòõ","üòù","üòú","ü§™","ü§®","üßê","ü§ì","üòé","ü§©","ü•≥"]},{name:"emotions",icon:"üò¢",emojis:["üò•","üò¢","üò≠","üò§","üò†","üò°","ü§¨","ü§Ø","üò≥","ü•µ","ü•∂","üò±","üò®","üò∞","üò•","üòì","ü§ó","ü§î","ü§≠","ü§´","ü§•","üò∂","üòê","üòë","üò¨","üôÑ","üòØ","üò¶","üòß","üòÆ","üò≤"]},{name:"gestures",icon:"üëç",emojis:["üëç","üëé","üëå","ü§å","ü§è","‚úåÔ∏è","ü§û","ü§ü","ü§ò","ü§ô","üëà","üëâ","üëÜ","üñï","üëá","‚òùÔ∏è","üëè","üôå","üëê","ü§≤","ü§ù","üôè","‚úçÔ∏è","üí™","ü¶æ","ü¶ø","ü¶µ","ü¶∂","üëÇ","ü¶ª","üëÉ"]},{name:"hearts",icon:"‚ù§Ô∏è",emojis:["‚ù§Ô∏è","üß°","üíõ","üíö","üíô","üíú","ü§é","üñ§","ü§ç","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíò","üíù","üíü","‚ô•Ô∏è","üíØ","üí¢","üí•","üí´","üí¶","üí®","üï≥Ô∏è","üí£","üí¨","üëÅÔ∏è‚Äçüó®Ô∏è","üó®Ô∏è"]},{name:"objects",icon:"üéâ",emojis:["üéâ","üéä","üéà","üéÅ","üéÄ","üéÇ","üç∞","üßÅ","üç≠","üç¨","üç´","üç©","üç™","üçï","üçî","üçü","üå≠","ü•™","üåÆ","üåØ","ü•ô","ü•ö","üç≥","ü•ò","üç≤","ü•ó","üçø","üßà","üßÄ","ü•®","ü•Ø"]}]}},computed:{currentEmojis(){const i=this.categories.find(t=>t.name===this.activeCategory);return i?i.emojis:[]}},methods:{selectEmoji(i){this.$emit("emoji-selected",i)}}},wl={class:"emoji-categories"},Cl=["onClick"],_l={class:"emoji-grid"},El=["onClick"];function Ml(i,t,d,n,C,E){return d.isVisible?(a(),u("div",{key:0,class:"emoji-picker",onMouseenter:t[1]||(t[1]=m=>i.$emit("mouse-enter")),onMouseleave:t[2]||(t[2]=m=>i.$emit("mouse-leave"))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=m=>i.$emit("close"))},t[3]||(t[3]=[e("i",{class:"fas fa-times"},null,-1)])),e("div",wl,[(a(!0),u(le,null,pe(C.categories,m=>(a(),u("button",{key:m.name,onClick:g=>C.activeCategory=m.name,class:_([{active:C.activeCategory===m.name},"category-btn"]),type:"button"},k(m.icon),11,Cl))),128))]),e("div",_l,[(a(!0),u(le,null,pe(E.currentEmojis,m=>(a(),u("button",{key:m,onClick:g=>E.selectEmoji(m),class:"emoji-btn",type:"button"},k(m),9,El))),128))])],32)):y("",!0)}const At=qe(hl,[["render",Ml],["__scopeId","data-v-209132f3"]]),Ll=async i=>{const t=await In();return await i(t)},Il=async i=>{const{data:t}=await Ll(d=>d.get("/search_emotes/".concat(i)));return t.emotes||[]},Tl={name:"ImagePicker",props:{isVisible:{type:Boolean,required:!0},currentUser:{type:Object,default:null}},emits:["image-selected","mouse-enter","mouse-leave","close","login-required"],setup(i,{emit:t}){const d=f(""),n=f([]),C=f(null),E=f(!1),g=Tn(async c=>{if(!i.currentUser){console.warn("–ü–æ–ø—ã—Ç–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");return}if(!c.trim()){n.value=[],E.value=!1;return}E.value=!0;try{n.value=await Il(c)}catch(h){console.error("Error searching images:",h),n.value=[]}finally{E.value=!1}},300),M=()=>{if(!i.currentUser){t("login-required");return}d.value.trim()&&(E.value=!0),g(d.value)},L=c=>{if(!i.currentUser){t("login-required");return}t("image-selected",c),t("close")},o=()=>{setTimeout(()=>{i.isVisible&&t("mouse-leave")},100)};return Fe(()=>i.isVisible,c=>{c&&(d.value="",n.value=[],E.value=!1)}),{searchQuery:d,images:n,searchInput:C,isLoading:E,handleSearch:M,selectImage:L,handleInputBlur:o}}},Rl={key:0,class:"auth-required"},Pl={class:"auth-message"},Sl={key:1},Al={class:"image-picker-header"},xl={class:"image-content"},Ul={key:0,class:"loading-spinner"},jl={key:1,class:"image-grid"},Nl=["onClick"],Bl=["src","alt"],Hl={key:2,class:"no-images"},Dl={key:3,class:"no-search"};function $l(i,t,d,n,C,E){return d.isVisible?(a(),u("div",{key:0,class:"image-picker",onMouseenter:t[7]||(t[7]=m=>i.$emit("mouse-enter")),onMouseleave:t[8]||(t[8]=m=>i.$emit("mouse-leave")),onClick:t[9]||(t[9]=Xe(()=>{},["stop"]))},[e("button",{class:"close-btn mobile-only",onClick:t[0]||(t[0]=m=>i.$emit("close"))},t[10]||(t[10]=[e("i",{class:"fas fa-times"},null,-1)])),d.currentUser?(a(),u("div",Sl,[e("div",Al,[Y(e("input",{ref:"searchInput",type:"text","onUpdate:modelValue":t[2]||(t[2]=m=>n.searchQuery=m),placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–º–∞–π–ª–∞ 7tv",class:"image-search-input",onInput:t[3]||(t[3]=(...m)=>n.handleSearch&&n.handleSearch(...m)),onClick:t[4]||(t[4]=Xe(()=>{},["stop"])),onFocus:t[5]||(t[5]=m=>i.$emit("mouse-enter")),onBlur:t[6]||(t[6]=(...m)=>n.handleInputBlur&&n.handleInputBlur(...m))},null,544),[[at,n.searchQuery]])]),e("div",xl,[n.isLoading?(a(),u("div",Ul,t[14]||(t[14]=[e("div",{class:"spinner"},null,-1),e("p",null,"–ü–æ–∏—Å–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...",-1)]))):n.images.length>0?(a(),u("div",jl,[(a(!0),u(le,null,pe(n.images,(m,g)=>(a(),u("div",{key:g,class:"image-item",onClick:M=>n.selectImage(m)},[e("img",{src:m,alt:"Image "+(g+1)},null,8,Bl)],8,Nl))),128))])):n.searchQuery.trim()?(a(),u("div",Hl,t[15]||(t[15]=[e("p",null,"–ù–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",-1)]))):(a(),u("div",Dl,t[16]||(t[16]=[e("p",null,"–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞",-1)])))])])):(a(),u("div",Rl,[e("div",Pl,[t[11]||(t[11]=e("i",{class:"fas fa-lock"},null,-1)),t[12]||(t[12]=e("h3",null,"–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",-1)),t[13]||(t[13]=e("p",null,"–î–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç",-1)),e("button",{class:"login-button",onClick:t[1]||(t[1]=m=>i.$emit("login-required"))},"–í–æ–π—Ç–∏")])]))],32)):y("",!0)}const xt=qe(Tl,[["render",$l],["__scopeId","data-v-f33eb3f6"]]),Vl={name:"LinkModal",props:{isVisible:{type:Boolean,default:!1},selectedText:{type:String,default:""}},emits:["close","submit"],setup(i,{emit:t}){const d=f(""),n=f(""),C=f(null),E=f(null),m=H(()=>/^https?:\/\/.+/.test(d.value.trim())&&n.value.trim()),g=()=>{t("close"),L()},M=()=>{m.value&&(t("submit",{url:d.value.trim(),title:n.value.trim()}),g())},L=()=>{d.value="",n.value=""},o=c=>{var h;c.key==="Enter"?(c.preventDefault(),m.value?M():c.target===C.value&&d.value.trim()&&((h=E.value)==null||h.focus())):c.key==="Escape"&&g()};return Fe(()=>i.isVisible,c=>{c&&(i.selectedText.trim()&&(n.value=i.selectedText.trim()),Se(()=>{var h;(h=C.value)==null||h.focus()}))}),{linkUrl:d,linkTitle:n,urlInput:C,titleInput:E,isValidLink:m,closeModal:g,submitLink:M,handleKeydown:o}}},Ol={class:"link-modal-header"},Fl={class:"link-modal-content"},ql={class:"form-group"},Kl={class:"form-group"},zl={class:"link-modal-footer"},Wl=["disabled"];function Gl(i,t,d,n,C,E){return d.isVisible?(a(),u("div",{key:0,class:"link-modal-overlay",onClick:t[8]||(t[8]=(...m)=>n.closeModal&&n.closeModal(...m))},[e("div",{class:"link-modal",onClick:t[7]||(t[7]=Xe(()=>{},["stop"]))},[e("div",Ol,[t[10]||(t[10]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É",-1)),e("button",{class:"close-button",onClick:t[0]||(t[0]=(...m)=>n.closeModal&&n.closeModal(...m))},t[9]||(t[9]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Fl,[e("div",ql,[t[11]||(t[11]=e("label",{for:"link-url"},"URL —Å—Å—ã–ª–∫–∏:",-1)),Y(e("input",{id:"link-url",ref:"urlInput","onUpdate:modelValue":t[1]||(t[1]=m=>n.linkUrl=m),type:"url",placeholder:"https://example.com",class:"link-input",onKeydown:t[2]||(t[2]=(...m)=>n.handleKeydown&&n.handleKeydown(...m))},null,544),[[at,n.linkUrl]])]),e("div",Kl,[t[12]||(t[12]=e("label",{for:"link-title"},"–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Å—ã–ª–∫–∏:",-1)),Y(e("input",{id:"link-title",ref:"titleInput","onUpdate:modelValue":t[3]||(t[3]=m=>n.linkTitle=m),type:"text",placeholder:"–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è",class:"link-input",onKeydown:t[4]||(t[4]=(...m)=>n.handleKeydown&&n.handleKeydown(...m))},null,544),[[at,n.linkTitle]])])]),e("div",zl,[e("button",{class:"cancel-button",onClick:t[5]||(t[5]=(...m)=>n.closeModal&&n.closeModal(...m))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!n.isValidLink,onClick:t[6]||(t[6]=(...m)=>n.submitLink&&n.submitLink(...m))},"–î–æ–±–∞–≤–∏—Ç—å",8,Wl)])])])):y("",!0)}const Ut=qe(Vl,[["render",Gl],["__scopeId","data-v-a794d83f"]]);function Yl(){const i=f(!1),t=f(!1),d=f(!1),n=()=>{t.value=!0},C=()=>{t.value=!1,setTimeout(()=>{!t.value&&!d.value&&(i.value=!1)},300)},E=()=>{d.value=!0,i.value=!0},m=()=>{d.value=!1,setTimeout(()=>{!t.value&&!d.value&&(i.value=!1)},300)},g=()=>{i.value=!1};return{showEmojiPicker:i,isEmojiHovered:t,isButtonHovered:d,handleEmojiMouseEnter:n,handleEmojiMouseLeave:C,handleButtonMouseEnter:E,handleButtonMouseLeave:m,closeEmojiPicker:g,insertEmoji:(o,c,h,w)=>{const x=c.value;if(x){const P=x.selectionStart,S=x.selectionEnd,T=h.value.substring(0,P),b=h.value.substring(S),I=T+o+b;w(I),Se(()=>{x.focus(),x.setSelectionRange(P+o.length,P+o.length),x.style.height&&(x.style.height="auto",x.style.height="".concat(Math.min(x.scrollHeight,200),"px"))})}else w(h.value+o)},handleGlobalClick:o=>{!o.target.closest(".emoji-picker")&&!o.target.closest(".emoji-button-inline")&&g()}}}function Xl(){const i=f(!1),t=f(!1),d=f(!1),n=()=>{t.value=!0},C=()=>{t.value=!1,setTimeout(()=>{!t.value&&!d.value&&(i.value=!1)},300)},E=()=>{d.value=!0,i.value=!0},m=()=>{d.value=!1,setTimeout(()=>{!t.value&&!d.value&&(i.value=!1)},300)},g=()=>{i.value=!1};return{showImagePicker:i,isImageHovered:t,isButtonHovered:d,handleImageMouseEnter:n,handleImageMouseLeave:C,handleImageButtonMouseEnter:E,handleButtonMouseLeave:m,closeImagePicker:g,insertImage:(o,c,h,w)=>{const x=c.value;if(x){const P=x.selectionStart,S=x.selectionEnd,T="[img]".concat(o,"[/img]"),b=h.value.slice(0,P)+T+h.value.slice(S);w(b),Se(()=>{x.focus(),x.setSelectionRange(P+T.length,P+T.length),x.style.height&&(x.style.height="auto",x.style.height="".concat(Math.min(x.scrollHeight,200),"px"))})}else{const P="[img]".concat(o,"[/img]");w(h.value+P)}},handleGlobalClick:o=>{!o.target.closest(".image-picker")&&!o.target.closest(".emoji-button-inline")&&g()}}}function Zl(){const i=f(!1),t=f("");return{showLinkModal:i,selectedTextForLink:t,insertLink:(m,g)=>{const M=m.value;if(M){const L=M.selectionStart,o=M.selectionEnd,c=g.value.slice(L,o);t.value=c.trim()||""}i.value=!0},insertLinkFromModal:(m,g,M,L)=>{const o=g.value;if(o){const c=o.selectionStart,h=o.selectionEnd,w="[link=".concat(m.url,"]").concat(m.title,"[/link]"),x=M.value.slice(0,c)+w+M.value.slice(h);L(x),Se(()=>{o.focus(),o.setSelectionRange(c+w.length,c+w.length),o.style.height&&(o.style.height="auto",o.style.height="".concat(Math.min(o.scrollHeight,200),"px"))})}},closeLinkModal:()=>{i.value=!1},insertSpoiler:(m,g,M)=>{const L=m.value;if(L){const o=L.selectionStart,c=L.selectionEnd,h=g.value.slice(o,c);let w;h.trim()?w="[spoiler]".concat(h,"[/spoiler]"):w="[spoiler][/spoiler]";const x=g.value.slice(0,o)+w+g.value.slice(c);M(x),Se(()=>{if(L.focus(),h.trim())L.setSelectionRange(o+w.length,o+w.length);else{const P=o+9;L.setSelectionRange(P,P)}L.style.height&&(L.style.height="auto",L.style.height="".concat(Math.min(L.scrollHeight,200),"px"))})}}}}function Ql(){return{autoResize:d=>{const n=d==null?void 0:d.target;n&&(n.style.height="auto",n.style.height="".concat(Math.min(n.scrollHeight,200),"px"))},autoResizeElement:d=>{d&&(d.style.height="auto",d.style.height="".concat(Math.min(d.scrollHeight,200),"px"))}}}function jt(){const i=Yl(),t=Xl(),d=Zl(),{autoResize:n,autoResizeElement:C}=Ql(),E=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,i.showEmojiPicker.value=!0,t.showImagePicker.value=!1},m=()=>{i.isButtonHovered.value=!0,t.isButtonHovered.value=!0,t.showImagePicker.value=!0,i.showEmojiPicker.value=!1},g=()=>{i.isButtonHovered.value=!1,t.isButtonHovered.value=!1,setTimeout(()=>{!i.isEmojiHovered.value&&!t.isImageHovered.value&&!i.isButtonHovered.value&&!t.isButtonHovered.value&&(i.showEmojiPicker.value=!1,t.showImagePicker.value=!1)},300)},M=()=>{i.showEmojiPicker.value=!1,t.showImagePicker.value=!1},L=P=>{!P.target.closest(".emoji-picker")&&!P.target.closest(".image-picker")&&!P.target.closest(".emoji-button-inline")&&M()},o=(P,S,T,b)=>{i.insertEmoji(P,S,T,b)},c=(P,S,T,b)=>{t.insertImage(P,S,T,b)},h=(P,S,T)=>{d.insertLink(P,S,T)},w=(P,S,T,b)=>{d.insertLinkFromModal(P,S,T,b)},x=(P,S,T)=>{d.insertSpoiler(P,S,T)};return rt(()=>{document.addEventListener("click",L)}),St(()=>{document.removeEventListener("click",L)}),{showEmojiPicker:i.showEmojiPicker,handleEmojiMouseEnter:i.handleEmojiMouseEnter,handleEmojiMouseLeave:i.handleEmojiMouseLeave,closeEmojiPicker:i.closeEmojiPicker,showImagePicker:t.showImagePicker,handleImageMouseEnter:t.handleImageMouseEnter,handleImageMouseLeave:t.handleImageMouseLeave,closeImagePicker:t.closeImagePicker,showLinkModal:d.showLinkModal,selectedTextForLink:d.selectedTextForLink,closeLinkModal:d.closeLinkModal,handleButtonMouseEnter:E,handleImageButtonMouseEnter:m,handleButtonMouseLeave:g,closeAllPickers:M,insertEmojiUniversal:o,insertImageUniversal:c,insertLinkUniversal:h,insertLinkFromModalUniversal:w,insertSpoilerUniversal:x,autoResize:n,autoResizeElement:C}}const Jl=i=>i===1?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π":i>=2&&i<=4?"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è":"–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤",es=i=>{if(!i)return"?";const t=i.split(" ");return t.length===1?i.slice(0,2).toUpperCase():(t[0][0]+t[t.length-1][0]).toUpperCase()},ts={name:"CommentItem",components:{EmojiPicker:At,ImagePicker:xt,LinkModal:Ut},props:{comment:{type:Object,required:!0,default:()=>({username:"–ê–Ω–æ–Ω–∏–º",user_avatar:null,content:"",created_at:new Date().toISOString(),rating:0,replies:[]})},currentUser:{type:Object,required:!0,default:()=>({})},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate"],setup(i,{emit:t}){var ye,$e;const d=Et(),n=H(()=>{var p;return i.editingCommentId===((p=i.comment)==null?void 0:p.id)}),C=f(((ye=i.comment)==null?void 0:ye.content)||""),E=f((($e=i.comment)==null?void 0:$e.user_rating)||0),m=f(null),g=f(null),{showEmojiPicker:M,showImagePicker:L,showLinkModal:o,selectedTextForLink:c,handleEmojiMouseEnter:h,handleEmojiMouseLeave:w,handleImageMouseEnter:x,handleImageMouseLeave:P,handleButtonMouseEnter:S,handleImageButtonMouseEnter:T,handleButtonMouseLeave:b,closeEmojiPicker:I,closeImagePicker:A,closeLinkModal:K,insertEmojiUniversal:V,insertImageUniversal:$,insertLinkUniversal:R,insertLinkFromModalUniversal:be,insertSpoilerUniversal:ke,autoResize:ge}=jt(),{formatContentWithTruncation:je}=En();rt(async()=>{var p;if((p=i.comment)!=null&&p.user_avatar){const Q=await Rn();m.value="".concat(Q).concat(i.comment.user_avatar)}});const B=H(()=>{var p;return i.currentUser&&((p=i.comment)==null?void 0:p.user_id)===i.currentUser.id}),ee=H(()=>{var p;return i.currentUser&&((p=i.comment)==null?void 0:p.user_id)===i.currentUser.id||i.currentUser&&i.currentUser.is_admin===1}),F=H(()=>{var p,Q,Ve;return((p=i.comment)==null?void 0:p.updated_at)&&((Q=i.comment)==null?void 0:Q.updated_at)!==((Ve=i.comment)==null?void 0:Ve.created_at)}),W=H(()=>{var p,Q;return(p=i.comment)!=null&&p.is_deleted?!1:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3}),ne=H(()=>W.value),ce=f(!1),ve=H(()=>{var p,Q;return(p=i.comment)!=null&&p.is_deleted?null:(((Q=i.comment)==null?void 0:Q.rating)||0)<=-3?"lowRating":null}),me=()=>{var p,Q;t("start-edit",(p=i.comment)==null?void 0:p.id),C.value=((Q=i.comment)==null?void 0:Q.content)||"",Se(()=>{g.value&&(g.value.focus(),ge({target:g.value}))})},_e=()=>{var p;t("cancel-edit"),C.value=((p=i.comment)==null?void 0:p.content)||""},ie=()=>{var p;C.value.trim()&&t("edit",(p=i.comment)==null?void 0:p.id,C.value.trim())},Ke=()=>{var p;confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π?")&&t("delete",(p=i.comment)==null?void 0:p.id)},J=p=>{var Q,Ve;E.value===p?(E.value=0,t("rate",(Q=i.comment)==null?void 0:Q.id,p)):(E.value=p,t("rate",(Ve=i.comment)==null?void 0:Ve.id,p))},Ee=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),ie())},he=H(()=>{var p;return je((p=i.comment)==null?void 0:p.content)}),Ne=()=>{console.log("Avatar load error, falling back to initials"),m.value=null,Se(()=>{const p=document.querySelector(".avatar-placeholder");p&&(p.style.display="flex")})},we=()=>{d.push("/login")},Be=p=>{V(p,g,C,Q=>{C.value=Q})},Ze=p=>{$(p,g,C,Q=>{C.value=Q})},Qe=()=>{ke(g,C,p=>{C.value=p})},lt=()=>{R(g,C,p=>{C.value=p})},Me=p=>{be(p,g,C,Q=>{C.value=Q})},De=p=>{ge(p)};return Fe(C,()=>{n.value&&g.value&&Se(()=>{De({target:g.value})})}),{isEditing:n,editContent:C,userRating:E,isCommentOwner:B,canDeleteComment:ee,isCommentEdited:F,formatDate:Wn,formatRelativeTime:zn,startEdit:me,cancelEdit:_e,saveEdit:ie,confirmDelete:Ke,rateComment:J,avatarUrl:m,getInitials:es,handleEditKeydown:Ee,isCommentHidden:ne,showHiddenComment:ce,hiddenCommentReason:ve,formattedContent:he,autoResizeEdit:De,editTextarea:g,showEmojiPicker:M,showImagePicker:L,insertEmojiEdit:Be,insertImageEdit:Ze,insertSpoilerEdit:Qe,insertLinkEdit:lt,handleEmojiMouseEnter:h,handleEmojiMouseLeave:w,handleImageMouseEnter:x,handleImageMouseLeave:P,closeEmojiPicker:I,closeImagePicker:A,handleButtonMouseEnter:S,handleButtonMouseLeave:b,handleImageButtonMouseEnter:T,handleAvatarError:Ne,openLogin:we,showLinkModal:o,selectedTextForLink:c,insertLinkFromModal:Me,closeLinkModal:K}}},ns=["data-comment-id"],os={class:"comment-header"},ls={class:"user-info"},ss={class:"user-avatar"},is=["src","alt"],as={class:"user-details"},rs={class:"username"},us={key:0,class:"user-rating"},ds=["title"],cs=["title"],vs={class:"comment-content"},ms={key:0,class:"hidden-comment-warning"},fs={key:1},gs={key:0,class:"deleted-comment"},ks={key:1},ys={key:0,class:"edit-form"},ps={class:"edit-textarea-container"},bs={class:"edit-footer"},hs={class:"edit-actions"},ws=["disabled"],Cs={class:"character-counter-container"},_s={key:1,class:"comment-text-container"},Es=["innerHTML"],Ms={class:"comment-footer"},Ls={class:"comment-actions"},Is={class:"rating-buttons"},Ts={class:"action-buttons"};function Rs(i,t,d,n,C,E){var o,c,h,w,x,P,S,T,b,I,A,K,V,$,R,be,ke,ge,je;const m=Pe("router-link"),g=Pe("EmojiPicker"),M=Pe("ImagePicker"),L=Pe("LinkModal");return a(),u("div",{class:"comment-item","data-comment-id":(o=d.comment)==null?void 0:o.id},[e("div",os,[e("div",ls,[ae(m,{to:{path:"/lists/".concat((c=d.comment)==null?void 0:c.user_id)},target:"_blank",rel:"noopener noreferrer",class:"user-avatar-link"},{default:mn(()=>{var B,ee;return[e("div",ss,[n.avatarUrl?(a(),u("img",{key:0,src:n.avatarUrl,alt:((B=d.comment)==null?void 0:B.username)||"–ê–Ω–æ–Ω–∏–º",onError:t[0]||(t[0]=(...F)=>n.handleAvatarError&&n.handleAvatarError(...F)),onerror:"this.onerror=null; this.style.display='none'; this.nextElementSibling.style.display='flex';"},null,40,is)):(a(),u("div",{key:1,class:"avatar-placeholder",style:it({display:n.avatarUrl?"none":"flex"})},k(n.getInitials(((ee=d.comment)==null?void 0:ee.username)||"–ê–Ω–æ–Ω–∏–º")),5))])]}),_:1},8,["to"]),e("div",as,[ae(m,{to:{path:"/lists/".concat((h=d.comment)==null?void 0:h.user_id)},target:"_blank",rel:"noopener noreferrer",class:"username-link"},{default:mn(()=>{var B;return[e("span",rs,k(((B=d.comment)==null?void 0:B.username)||"–ê–Ω–æ–Ω–∏–º"),1)]}),_:1},8,["to"]),(w=d.comment)!=null&&w.user_movie_rating?(a(),u("span",us,[t[18]||(t[18]=e("i",{class:"fas fa-star"},null,-1)),Z(" "+k(d.comment.user_movie_rating),1)])):y("",!0),e("span",{class:"date",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((x=d.comment)==null?void 0:x.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((P=d.comment)==null?void 0:P.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((S=d.comment)==null?void 0:S.created_at))},[Z(k(n.formatRelativeTime((T=d.comment)==null?void 0:T.created_at))+" ",1),n.isCommentEdited?(a(),u("i",{key:0,class:"fas fa-pencil-alt edit-icon",title:n.isCommentEdited?"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((b=d.comment)==null?void 0:b.created_at),"\n–ò–∑–º–µ–Ω–µ–Ω–æ: ").concat(n.formatDate((I=d.comment)==null?void 0:I.updated_at)):"–°–æ–∑–¥–∞–Ω–æ: ".concat(n.formatDate((A=d.comment)==null?void 0:A.created_at))},null,8,cs)):y("",!0)],8,ds)])])]),e("div",vs,[!((K=d.comment)!=null&&K.is_deleted)&&n.isCommentHidden&&!n.showHiddenComment?(a(),u("div",ms,[n.hiddenCommentReason==="lowRating"?(a(),u("p",{key:0,class:"warning-text",onClick:t[1]||(t[1]=B=>n.showHiddenComment=!0)},t[19]||(t[19]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–∫—Ä—ã—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å. ")]))):y("",!0)])):(a(),u("div",fs,[(V=d.comment)!=null&&V.is_deleted?(a(),u("div",gs,t[20]||(t[20]=[e("p",{class:"deleted-message"},[e("i",{class:"fas fa-trash"}),Z(" –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–¥–∞–ª—ë–Ω ")],-1)]))):(a(),u("div",ks,[n.isEditing?(a(),u("div",ys,[e("div",ps,[Y(e("textarea",{ref:"editTextarea","onUpdate:modelValue":t[2]||(t[2]=B=>n.editContent=B),class:"edit-textarea",rows:"3",maxlength:"1500",onKeydown:t[3]||(t[3]=(...B)=>n.handleEditKeydown&&n.handleEditKeydown(...B)),onInput:t[4]||(t[4]=(...B)=>n.autoResizeEdit&&n.autoResizeEdit(...B))},null,544),[[at,n.editContent]])]),e("div",bs,[e("div",hs,[e("button",{onClick:t[5]||(t[5]=(...B)=>n.cancelEdit&&n.cancelEdit(...B)),class:"cancel-button"},"–û—Ç–º–µ–Ω–∞"),e("button",{onClick:t[6]||(t[6]=(...B)=>n.saveEdit&&n.saveEdit(...B)),class:"save-button",disabled:!n.editContent.trim()||n.editContent.length>1500}," –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ",8,ws)]),e("div",Cs,[e("div",{class:_(["character-counter-inline",{"near-limit":n.editContent.length>1400,"at-limit":n.editContent.length>=1500}])},k(n.editContent.length)+"/1500 ",3),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[7]||(t[7]=(...B)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...B)),onMouseleave:t[8]||(t[8]=(...B)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...B))}," üòä ",34),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[9]||(t[9]=(...B)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...B)),onMouseleave:t[10]||(t[10]=(...B)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...B))},t[21]||(t[21]=[Ct('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-f1c85dfc><g id="logo" data-v-f1c85dfc><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-f1c85dfc></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-f1c85dfc></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-f1c85dfc></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",onClick:t[11]||(t[11]=(...B)=>n.insertSpoilerEdit&&n.insertSpoilerEdit(...B)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[22]||(t[22]=[e("i",{class:"fas fa-eye-slash"},null,-1)])),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[12]||(t[12]=(...B)=>n.insertLinkEdit&&n.insertLinkEdit(...B)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[23]||(t[23]=[e("i",{class:"fas fa-link"},null,-1)])),ae(g,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmojiEdit,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ae(M,{"is-visible":n.showImagePicker,"current-user":d.currentUser,onImageSelected:n.insertImageEdit,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:n.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ae(L,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):(a(),u("div",_s,[e("p",{class:"comment-text",innerHTML:n.formattedContent},null,8,Es)]))]))]))]),e("div",Ms,[e("div",Ls,[e("div",Is,[!n.isCommentOwner&&!(($=d.comment)!=null&&$.is_deleted)?(a(),u("button",{key:0,onClick:t[13]||(t[13]=B=>n.rateComment(1)),class:_(["rating-button",{"rated-up":n.userRating===1}])},t[24]||(t[24]=[e("i",{class:"fas fa-thumbs-up"},null,-1)]),2)):y("",!0),e("span",{class:_(["rating-count",{"rating-positive":n.userRating===1,"rating-negative":n.userRating===-1}])},k(((R=d.comment)==null?void 0:R.rating)||0),3),!n.isCommentOwner&&!((be=d.comment)!=null&&be.is_deleted)?(a(),u("button",{key:1,onClick:t[14]||(t[14]=B=>n.rateComment(-1)),class:_(["rating-button",{"rated-down":n.userRating===-1}])},t[25]||(t[25]=[e("i",{class:"fas fa-thumbs-down"},null,-1)]),2)):y("",!0)]),e("div",Ts,[!d.currentUser||d.currentUser.allow_comments===1?(a(),u("button",{key:0,onClick:t[15]||(t[15]=B=>i.$emit("reply",d.comment)),class:"action-button reply-button"},t[26]||(t[26]=[e("i",{class:"fas fa-reply"},null,-1)]))):y("",!0),n.isCommentOwner&&!((ke=d.comment)!=null&&ke.is_deleted)&&!n.isEditing&&((ge=d.currentUser)==null?void 0:ge.allow_comments)===1?(a(),u("button",{key:1,onClick:t[16]||(t[16]=(...B)=>n.startEdit&&n.startEdit(...B)),class:"action-button edit-button"},t[27]||(t[27]=[e("i",{class:"fas fa-edit"},null,-1)]))):y("",!0),n.canDeleteComment&&!((je=d.comment)!=null&&je.is_deleted)?(a(),u("button",{key:2,onClick:t[17]||(t[17]=(...B)=>n.confirmDelete&&n.confirmDelete(...B)),class:"action-button delete-button"},t[28]||(t[28]=[e("i",{class:"fas fa-trash"},null,-1)]))):y("",!0)])])])],8,ns)}const Ps=qe(ts,[["render",Rs],["__scopeId","data-v-f1c85dfc"]]),Ss={name:"CommentThread",components:{CommentItem:Ps,EmojiPicker:At,ImagePicker:xt,LinkModal:Ut},props:{comment:{type:Object,required:!0},currentUser:{type:Object,required:!0},replyTo:{type:Object,default:null},replyContent:{type:String,default:""},editingCommentId:{type:Number,default:null}},emits:["reply","start-edit","cancel-edit","edit","delete","rate","submit-reply","cancel-reply","update-reply-content","reply-keydown"],setup(i,{emit:t}){const d=f(null),n=f(!0),{showEmojiPicker:C,showImagePicker:E,showLinkModal:m,selectedTextForLink:g,handleEmojiMouseEnter:M,handleEmojiMouseLeave:L,handleImageMouseEnter:o,handleImageMouseLeave:c,handleButtonMouseEnter:h,handleImageButtonMouseEnter:w,handleButtonMouseLeave:x,closeEmojiPicker:P,closeImagePicker:S,closeLinkModal:T,insertEmojiUniversal:b,insertImageUniversal:I,insertLinkUniversal:A,insertLinkFromModalUniversal:K,insertSpoilerUniversal:V}=jt(),$=F=>{t("update-reply-content",F.target.value);const W=F.target;W&&(W.style.height="auto",W.style.height="".concat(Math.min(W.scrollHeight,200),"px"))},R={get value(){return i.replyContent},set value(F){t("update-reply-content",F)}};return{replyTextarea:d,showEmojiPicker:C,showImagePicker:E,isCollapsed:n,insertEmoji:F=>{b(F,d,R,W=>{t("update-reply-content",W)})},insertImage:F=>{I(F,d,R,W=>{t("update-reply-content",W)})},insertSpoiler:()=>{V(d,R,F=>{t("update-reply-content",F)})},handleEmojiMouseEnter:M,handleEmojiMouseLeave:L,handleImageMouseEnter:o,handleImageMouseLeave:c,handleButtonMouseEnter:h,handleButtonMouseLeave:x,closeEmojiPicker:P,closeImagePicker:S,handleImageButtonMouseEnter:w,handleReplyInput:$,toggleCollapsed:()=>{n.value=!n.value},showLinkModal:m,selectedTextForLink:g,insertLink:()=>{A(d,R,F=>{t("update-reply-content",F)})},closeLinkModal:T,insertLinkFromModal:F=>{K(F,d,R,W=>{t("update-reply-content",W)})}}},computed:{canReply(){return this.currentUser?this.currentUser.allow_comments===1:!0},getReplyPlaceholder(){return this.currentUser?this.currentUser.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –æ—Ç–≤–µ—Ç...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç..."},formattedContent(){const{formatContent:i}=En();return i(this.comment.content)}}},As={class:"comment-thread"},xs={key:0,class:"reply-form"},Us={class:"textarea-container"},js=["value","placeholder","disabled"],Ns={class:"reply-footer"},Bs={class:"reply-actions"},Hs=["disabled"],Ds={class:"character-counter-container"},$s=["disabled"],Vs={key:1,class:"replies-container"},Os=["title"],Fs={class:"replies-count"},qs=["title"],Ks={key:0,class:"replies-content"};function zs(i,t,d,n,C,E){const m=Pe("CommentItem"),g=Pe("EmojiPicker"),M=Pe("ImagePicker"),L=Pe("LinkModal"),o=Pe("CommentThread",!0);return a(),u("div",As,[ae(m,{comment:d.comment,"current-user":d.currentUser,"editing-comment-id":d.editingCommentId,onReply:t[0]||(t[0]=c=>i.$emit("reply",c)),onStartEdit:t[1]||(t[1]=c=>i.$emit("start-edit",c)),onCancelEdit:t[2]||(t[2]=c=>i.$emit("cancel-edit")),onEdit:t[3]||(t[3]=(c,h)=>i.$emit("edit",c,h)),onDelete:t[4]||(t[4]=c=>i.$emit("delete",c)),onRate:t[5]||(t[5]=(c,h)=>i.$emit("rate",c,h))},null,8,["comment","current-user","editing-comment-id"]),d.replyTo&&d.replyTo.id===d.comment.id?(a(),u("div",xs,[e("div",Us,[e("textarea",{ref:"replyTextarea",class:"comment-textarea",value:d.replyContent,placeholder:E.getReplyPlaceholder,disabled:d.currentUser&&d.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[6]||(t[6]=(...c)=>n.handleReplyInput&&n.handleReplyInput(...c)),onKeydown:t[7]||(t[7]=c=>i.$emit("reply-keydown",c))},null,40,js)]),e("div",Ns,[e("div",Bs,[e("button",{class:"cancel-reply",onClick:t[8]||(t[8]=c=>i.$emit("cancel-reply"))},"–û—Ç–º–µ–Ω–∞"),e("button",{class:"submit-button",disabled:!d.replyContent.trim()||d.replyContent.length>1500||d.currentUser&&d.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=c=>i.$emit("submit-reply"))}," –û—Ç–≤–µ—Ç–∏—Ç—å ",8,Hs)]),e("div",Ds,[e("div",{class:_(["character-counter-inline",{"near-limit":d.replyContent.length>1400,"at-limit":d.replyContent.length>=1500}])},k(d.replyContent.length)+"/1500 ",3),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showEmojiPicker}]),onMouseenter:t[10]||(t[10]=(...c)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...c)),onMouseleave:t[11]||(t[11]=(...c)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...c))}," üòä ",34),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showImagePicker}]),onMouseenter:t[12]||(t[12]=(...c)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...c)),onMouseleave:t[13]||(t[13]=(...c)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...c))},t[29]||(t[29]=[Ct('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-6c0fc347><g id="logo" data-v-6c0fc347><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-6c0fc347></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-6c0fc347></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-6c0fc347></path></g></svg>',1)]),34),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:d.currentUser&&d.currentUser.allow_comments!==1,onClick:t[14]||(t[14]=(...c)=>n.insertSpoiler&&n.insertSpoiler(...c)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[30]||(t[30]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,$s),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[15]||(t[15]=(...c)=>n.insertLink&&n.insertLink(...c)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[31]||(t[31]=[e("i",{class:"fas fa-link"},null,-1)])),ae(g,{"is-visible":n.showEmojiPicker,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ae(M,{"is-visible":n.showImagePicker,"current-user":d.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:t[16]||(t[16]=()=>i.$router.push("/login"))},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose"]),ae(L,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])])):y("",!0),d.comment.replies&&d.comment.replies.length>0?(a(),u("div",Vs,[e("button",{class:"collapse-toggle",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[17]||(t[17]=(...c)=>n.toggleCollapsed&&n.toggleCollapsed(...c))},[e("span",{class:_(["collapse-icon",{expanded:!n.isCollapsed}])},t[32]||(t[32]=[e("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor"},[e("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"})],-1)]),2),e("span",Fs,k(d.comment.replies.length)+" "+k(d.comment.replies.length===1?"–æ—Ç–≤–µ—Ç":"–æ—Ç–≤–µ—Ç–æ–≤"),1)],8,Os),e("div",{class:"vertical-line-clickable",title:n.isCollapsed?"–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã":"–°–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç—ã",onClick:t[18]||(t[18]=(...c)=>n.toggleCollapsed&&n.toggleCollapsed(...c))},[e("div",{class:_(["vertical-line-visual",{collapsed:n.isCollapsed}])},null,2)],8,qs),n.isCollapsed?y("",!0):(a(),u("div",Ks,[(a(!0),u(le,null,pe(d.comment.replies,c=>(a(),We(o,{key:c.id,comment:c,"current-user":d.currentUser,"reply-to":d.replyTo,"reply-content":d.replyContent,"editing-comment-id":d.editingCommentId,onReply:t[19]||(t[19]=h=>i.$emit("reply",h)),onStartEdit:t[20]||(t[20]=h=>i.$emit("start-edit",h)),onCancelEdit:t[21]||(t[21]=h=>i.$emit("cancel-edit")),onEdit:t[22]||(t[22]=(h,w)=>i.$emit("edit",h,w)),onDelete:t[23]||(t[23]=h=>i.$emit("delete",h)),onRate:t[24]||(t[24]=(h,w)=>i.$emit("rate",h,w)),onSubmitReply:t[25]||(t[25]=h=>i.$emit("submit-reply")),onCancelReply:t[26]||(t[26]=h=>i.$emit("cancel-reply")),onUpdateReplyContent:t[27]||(t[27]=h=>i.$emit("update-reply-content",h)),onReplyKeydown:t[28]||(t[28]=h=>i.$emit("reply-keydown",h))},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id"]))),128))]))])):y("",!0)])}const Ws=qe(Ss,[["render",zs],["__scopeId","data-v-6c0fc347"]]),Gs={name:"Comments",components:{CommentThread:Ws,Notification:Tt,EmojiPicker:At,ImagePicker:xt,LinkModal:Ut},props:{movieId:{type:[String,Number],required:!0}},setup(i){const t=Pt(),d=Et(),n=_t(),C=f([]),E=f(""),m=f(null),g=f(""),M=f(null),L=f(t.user),o=f(null),c=f(null),h=f(n.isAutoShowComments),w=f(!1),x=f(3),P=f(3),{showEmojiPicker:S,showImagePicker:T,showLinkModal:b,selectedTextForLink:I,handleEmojiMouseEnter:A,handleEmojiMouseLeave:K,handleImageMouseEnter:V,handleImageMouseLeave:$,handleButtonMouseEnter:R,handleImageButtonMouseEnter:be,handleButtonMouseLeave:ke,closeEmojiPicker:ge,closeImagePicker:je,closeLinkModal:B,insertEmojiUniversal:ee,insertImageUniversal:F,insertLinkUniversal:W,insertLinkFromModalUniversal:ne,insertSpoilerUniversal:ce,autoResize:ve}=jt(),me=H(()=>{const j=(z=null)=>C.value.filter(q=>q.parent_id===z).sort((q,re)=>q.id-re.id).map(q=>({...q,replies:j(q.id)})).filter(q=>!q.is_deleted||q.replies&&q.replies.length>0);return j()}),_e=H(()=>{const j=z=>z.reduce((q,re)=>q+1+j(re.replies||[]),0);return j(me.value)}),ie=H(()=>me.value.slice(0,P.value)),Ke=H(()=>me.value.length>P.value),J=H(()=>me.value.length-P.value),Ee=()=>{P.value+=x.value},he=async()=>{try{const j=await Pn(i.movieId);C.value=j}catch(j){console.error("Failed to load comments:",j),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.")}},Ne=async()=>{if(w.value)return;if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}if(L.value&&L.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!E.value.replace(/\[spoiler\]\s*\[\/spoiler\]/g,"").replace(/\[img\]\s*\[\/img\]/g,"").replace(/\[link=[^\]]+\]\s*\[\/link\]/g,"").trim()){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º");return}if(E.value.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await fn(i.movieId,E.value.trim()),E.value="",await he(),h.value=!0,Se(()=>{c.value&&(c.value.focus(),c.value.style.height="auto"),setTimeout(()=>{const z=document.querySelectorAll(".comment-item[data-comment-id]");if(z.length>0){const q=Array.from(z).map(re=>parseInt(re.getAttribute("data-comment-id"))).filter(re=>!isNaN(re));if(q.length>0){const re=Math.max(...q),Le=document.querySelector('[data-comment-id="'.concat(re,'"]'));Le&&Le.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},300)})}catch(z){console.error("Failed to create comment:",z),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},we=j=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}M.value=null,m.value=j,g.value="",Se(()=>{const z=document.querySelector(".reply-form");z&&z.scrollIntoView({behavior:"smooth",block:"center"})})},Be=async()=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}if(L.value&&L.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(!(!g.value.trim()||!m.value)){if(g.value.length>1500){o.value.showNotification("–û—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await fn(i.movieId,g.value.trim(),m.value.id);const j=m.value.id;await he(),g.value="",m.value=null,Se(()=>{setTimeout(()=>{const z=document.querySelector('[data-comment-id="'.concat(j,'"]'));if(z){const q=z.querySelector(".replies-content");if(q){const re=q.querySelectorAll(".comment-item[data-comment-id]");if(re.length>0){const Le=Array.from(re).map(He=>parseInt(He.getAttribute("data-comment-id"))).filter(He=>!isNaN(He));if(Le.length>0){const He=Math.max(...Le),ct=document.querySelector('[data-comment-id="'.concat(He,'"]'));ct&&ct.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}}}},300)})}catch(j){console.error("Error submitting reply:",j),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}}},Ze=async(j,z)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}if(L.value&&L.value.allow_comments!==1){o.value.showNotification("–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤");return}if(z.length>1500){o.value.showNotification("–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π. –ú–∞–∫—Å–∏–º—É–º 1500 —Å–∏–º–≤–æ–ª–æ–≤.");return}try{await xn(j,z.trim()),await he(),M.value=null}catch(q){console.error("Failed to update comment:",q),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Qe=async j=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}try{await An(j),await he()}catch(z){console.error("Failed to delete comment:",z),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},lt=async(j,z)=>{if(!t.token){o.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:ye});return}try{await Sn(j,z),await he()}catch(q){console.error("Failed to rate comment:",q),o.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")}},Me=j=>{w.value||S.value||j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),Ne())},De=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),Be())},ye=()=>{d.push("/login")},$e=j=>{w.value=!0,ee(j,c,E,z=>{E.value=z}),setTimeout(()=>{w.value=!1},100)},p=j=>{F(j,c,E,z=>{E.value=z})},Q=()=>{ce(c,E,j=>{E.value=j})},Ve=()=>{W(c,E,j=>{E.value=j})},ut=j=>{ne(j,c,E,z=>{E.value=z})},Je=H(()=>L.value?L.value.allow_comments!==1?"–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤":"–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...":"–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..."),Ge=H(()=>L.value?L.value.allow_comments===1:!0),Oe=j=>{m.value=null,g.value="",M.value=j},dt=()=>{M.value=null};return rt(()=>{he()}),{comments:C,groupedComments:me,displayedComments:ie,hasMoreComments:Ke,remainingCommentsCount:J,showMoreComments:Ee,newComment:E,replyTo:m,replyContent:g,editingCommentId:M,currentUser:L,notificationRef:o,commentTextarea:c,showComments:h,submitComment:Ne,handleReply:we,submitReply:Be,handleEdit:Ze,handleDelete:Qe,handleRate:lt,handleCommentKeydown:Me,handleReplyKeydown:De,autoResize:ve,totalCommentsCount:_e,getCommentWordForm:Jl,showEmojiPicker:S,showImagePicker:T,showLinkModal:b,selectedTextForLink:I,insertEmoji:$e,insertImage:p,handleEmojiMouseEnter:A,handleEmojiMouseLeave:K,handleImageMouseEnter:V,handleImageMouseLeave:$,closeEmojiPicker:ge,closeImagePicker:je,handleButtonMouseLeave:ke,handleButtonMouseEnter:R,handleImageButtonMouseEnter:be,getCommentPlaceholder:Je,canComment:Ge,handleStartEdit:Oe,handleCancelEdit:dt,insertSpoiler:Q,insertLink:Ve,insertLinkFromModal:ut,closeLinkModal:B}}},Ys={class:"comments-section"},Xs={class:"spoiler-content"},Zs={key:1,class:"comments-container"},Qs={class:"comments-header"},Js={class:"textarea-container"},ei=["placeholder","disabled"],ti={class:"comment-footer"},ni={class:"comment-actions"},oi=["disabled"],li={class:"character-counter-container"},si=["disabled"],ii=["disabled"],ai=["disabled"],ri={class:"comments-list"},ui={key:0,class:"show-more-comments"};function di(i,t,d,n,C,E){const m=Pe("EmojiPicker"),g=Pe("ImagePicker"),M=Pe("LinkModal"),L=Pe("CommentThread"),o=Pe("Notification");return a(),u("div",Ys,[n.showComments?(a(),u("div",Zs,[e("div",Qs,[e("button",{class:"hide-comments-btn",onClick:t[1]||(t[1]=c=>n.showComments=!1)},t[18]||(t[18]=[e("i",{class:"fas fa-eye-slash"},null,-1),Z(" –°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ ")]))]),e("form",{class:"comment-form",onSubmit:t[11]||(t[11]=Xe((...c)=>n.submitComment&&n.submitComment(...c),["prevent"]))},[e("div",Js,[Y(e("textarea",{ref:"commentTextarea","onUpdate:modelValue":t[2]||(t[2]=c=>n.newComment=c),class:"comment-textarea",placeholder:n.getCommentPlaceholder,disabled:n.currentUser&&n.currentUser.allow_comments!==1,rows:"3",maxlength:"1500",onInput:t[3]||(t[3]=(...c)=>n.autoResize&&n.autoResize(...c)),onKeydown:t[4]||(t[4]=(...c)=>n.handleCommentKeydown&&n.handleCommentKeydown(...c))},null,40,ei),[[at,n.newComment]])]),e("div",ti,[e("div",ni,[e("button",{class:"submit-button",type:"submit",disabled:!n.newComment.trim()||n.newComment.length>1500||n.currentUser&&n.currentUser.allow_comments!==1}," –û—Ç–ø—Ä–∞–≤–∏—Ç—å ",8,oi)]),e("div",li,[e("div",{class:_(["character-counter-inline",{"near-limit":n.newComment.length>1400,"at-limit":n.newComment.length>=1500}])},k(n.newComment.length)+"/1500 ",3),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showEmojiPicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[5]||(t[5]=(...c)=>n.handleButtonMouseEnter&&n.handleButtonMouseEnter(...c)),onMouseleave:t[6]||(t[6]=(...c)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...c))}," üòä ",42,si),e("button",{type:"button",class:_(["emoji-button-inline",{active:n.showImagePicker}]),disabled:n.currentUser&&n.currentUser.allow_comments!==1,onMouseenter:t[7]||(t[7]=(...c)=>n.handleImageButtonMouseEnter&&n.handleImageButtonMouseEnter(...c)),onMouseleave:t[8]||(t[8]=(...c)=>n.handleButtonMouseLeave&&n.handleButtonMouseLeave(...c))},t[19]||(t[19]=[Ct('<svg width="28" height="28" viewBox="0 0 28 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="seven-tv-icon" data-v-79080d6f><g id="logo" data-v-79080d6f><path d="M20.7465 5.48825L21.9799 3.33745L22.646 2.20024L21.4125 0.0494437V0H14.8259L17.2928 4.3016L17.9836 5.48825H20.7465Z" data-v-79080d6f></path><path d="M7.15395 19.9258L14.5546 7.02104L15.4673 5.43884L13.0004 1.13724L12.3097 0.0247596H1.8995L0.666057 2.17556L0 3.31276L1.23344 5.46356V5.51301H9.12745L2.96025 16.267L2.09685 17.7998L3.33029 19.9506V20H7.15395" data-v-79080d6f></path><path d="M17.4655 19.9257H21.2398L26.1736 11.3225L27.037 9.83924L25.8036 7.68844V7.63899H22.0046L19.5377 11.9406L19.365 12.262L16.8981 7.96038L16.7255 7.63899L14.2586 11.9406L13.5679 13.1272L17.2682 19.5796L17.4655 19.9257Z" data-v-79080d6f></path></g></svg>',1)]),42,ii),e("button",{type:"button",class:"emoji-button-inline spoiler-button",disabled:n.currentUser&&n.currentUser.allow_comments!==1,onClick:t[9]||(t[9]=(...c)=>n.insertSpoiler&&n.insertSpoiler(...c)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å–ø–æ–π–ª–µ—Ä"},t[20]||(t[20]=[e("i",{class:"fas fa-eye-slash"},null,-1)]),8,ai),e("button",{type:"button",class:"emoji-button-inline link-button",onClick:t[10]||(t[10]=(...c)=>n.insertLink&&n.insertLink(...c)),title:"–î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É"},t[21]||(t[21]=[e("i",{class:"fas fa-link"},null,-1)])),ae(m,{"is-visible":n.showEmojiPicker&&n.canComment,onEmojiSelected:n.insertEmoji,onMouseEnter:n.handleEmojiMouseEnter,onMouseLeave:n.handleEmojiMouseLeave,onClose:n.closeEmojiPicker},null,8,["is-visible","onEmojiSelected","onMouseEnter","onMouseLeave","onClose"]),ae(g,{"is-visible":n.showImagePicker&&n.canComment,"current-user":n.currentUser,onImageSelected:n.insertImage,onMouseEnter:n.handleImageMouseEnter,onMouseLeave:n.handleImageMouseLeave,onClose:n.closeImagePicker,onLoginRequired:i.openLogin},null,8,["is-visible","current-user","onImageSelected","onMouseEnter","onMouseLeave","onClose","onLoginRequired"]),ae(M,{"is-visible":n.showLinkModal,"selected-text":n.selectedTextForLink,onClose:n.closeLinkModal,onSubmit:n.insertLinkFromModal},null,8,["is-visible","selected-text","onClose","onSubmit"])])])],32),e("div",ri,[(a(!0),u(le,null,pe(n.displayedComments,c=>(a(),We(L,{key:c.id,comment:c,"current-user":n.currentUser,"reply-to":n.replyTo,"reply-content":n.replyContent,"editing-comment-id":n.editingCommentId,"is-first-comment":!1,onReply:n.handleReply,onStartEdit:n.handleStartEdit,onCancelEdit:n.handleCancelEdit,onEdit:n.handleEdit,onDelete:n.handleDelete,onRate:n.handleRate,onSubmitReply:n.submitReply,onCancelReply:t[12]||(t[12]=h=>n.replyTo=null),onUpdateReplyContent:t[13]||(t[13]=h=>n.replyContent=h),onReplyKeydown:n.handleReplyKeydown},null,8,["comment","current-user","reply-to","reply-content","editing-comment-id","onReply","onStartEdit","onCancelEdit","onEdit","onDelete","onRate","onSubmitReply","onReplyKeydown"]))),128)),n.hasMoreComments?(a(),u("div",ui,[e("button",{class:"show-more-btn",onClick:t[14]||(t[14]=(...c)=>n.showMoreComments&&n.showMoreComments(...c))}," –ü–æ–∫–∞–∑–∞—Ç—å –µ—â–µ "+k(n.remainingCommentsCount)+" "+k(n.getCommentWordForm(n.remainingCommentsCount)),1)])):y("",!0)])])):(a(),u("div",{key:0,class:"spoiler-warning",onClick:t[0]||(t[0]=c=>n.showComments=!0)},[e("div",Xs,[t[15]||(t[15]=e("i",{class:"fas fa-eye-slash"},null,-1)),t[16]||(t[16]=e("h3",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å–∫—Ä—ã—Ç—ã",-1)),t[17]||(t[17]=e("p",null,"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ø–æ–π–ª–µ—Ä—ã. –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å.",-1)),e("div",{class:_(["comments-count",{"no-comments":n.totalCommentsCount===0}])},[n.totalCommentsCount===0?(a(),u(le,{key:0},[Z(" –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç ")],64)):(a(),u(le,{key:1},[Z(k(n.totalCommentsCount)+" "+k(n.getCommentWordForm(n.totalCommentsCount)),1)],64))],2)])])),ae(o,{ref:"notificationRef"},null,512)])}const ci=qe(Gs,[["render",di],["__scopeId","data-v-79080d6f"]]),vi={class:"movie-info"},mi={class:"content"},fi={key:0,class:"content-card"},gi={class:"movie-skeleton"},ki={class:"movie-skeleton__player"},yi={key:2,class:"content-card"},pi={key:3,class:"content-card"},bi={class:"content-header"},hi=["src"],wi={class:"content-title"},Ci={key:0,class:"ratings-links"},_i={key:1},Ei=["href","title"],Mi={key:2},Li=["href","title"],Ii={key:3},Ti=["href","title"],Ri={key:4},Pi=["href","title"],Si={key:5},Ai=["href"],xi=["title"],Ui={key:0,class:"fa-regular fa-face-grin-wink"},ji={key:1,class:"fas fa-spinner fa-spin"},Ni=["title"],Bi={key:1,class:"mobile-list-dropdown"},Hi={class:"mobile-list-content"},Di=["content"],$i=["content"],Vi={class:"additional-info"},Oi={class:"info-content"},Fi={key:0,class:"movie-poster-container desktop-only"},qi=["href"],Ki=["src"],zi={class:"details-container"},Wi={class:"info-list"},Gi={key:0},Yi={key:1},Xi={key:2},Zi={key:3},Qi={key:4},Ji={key:5},ea={key:6},ta={key:7},na={key:8},oa={key:9,class:"rating-boxes"},la={key:0,class:"rating-box mpaa"},sa={key:1,class:"rating-box age"},ia={class:"content-info"},aa={key:0,class:"content-description-text"},ra={key:3,class:"comments-section"},ua={key:4,class:"staff-section"},da={class:"staff-categories"},ca={key:0,class:"staff-category"},va={class:"staff-list"},ma=["href","title"],fa=["src","alt"],ga={class:"staff-name"},ka={key:0,class:"staff-role"},ya=["href","title"],pa={key:1,class:"staff-category"},ba={class:"staff-names-container"},ha={class:"staff-names-list"},wa=["href"],Ca=["href","title"],_a={key:2,class:"staff-category"},Ea={class:"staff-names-container"},Ma={class:"staff-names-list"},La=["href"],Ia=["href","title"],Ta={key:5,class:"yt-video-container"},Ra={key:6,class:"related-movies"},Pa=["title"],Sa={key:7,class:"related-movies"},Aa=["title"],xa={class:"nudity-info-content"},Ua={key:0,class:"nudity-info-loading"},ja={key:1},Na={class:"nudity-info-actions"},Ba=["href"],Ha={class:"nudity-info-content"},Da={class:"timings-text"},$a={key:0,class:"timing-entries"},Va={class:"timing-content"},Oa={key:0,class:"pending-badge"},Fa={class:"timing-text"},qa={class:"timing-author"},Ka={key:1},za={class:"nudity-info-actions"},Wa={key:2,class:"timing-modal"},Ga={class:"timing-modal-content"},Ya={class:"timing-modal-header"},Xa={class:"timing-submission-form"},Za={class:"timing-form-actions"},Qa=["disabled"],Ja={key:0,class:"fas fa-spinner fa-spin"},er={key:1},tr={class:"modal-header"},nr={class:"modal-body"},or={class:"top-submitters-list"},lr={class:"submitter-info"},sr={class:"submitter-name"},ir=["href"],ar={class:"submitter-count"},rr={class:"submitter-contribution"},ur={__name:"MovieInfo",setup(i){const t=f(!0),d=_t(),n=Pt(),C=Un(),E=hn(),m=Et(),g=f(E.params.kp_id),M=f(""),L=f(null),o=f(null),c=jn(),h=Kn(),w=f(null),x=h.areTrailersActive,P=f(null),S=f(!1),T=f(!1),b=f(10),I=f(null),A=f(!1),K=f({}),V=f(null),$=f(!1),R=f(void 0),be=f({}),ke=f(null),ge=H(()=>{var v;return((v=o.value)==null?void 0:v.nudity_timings.length)>0}),je=H(()=>{var v,l,O,oe,Ae,Ce,Ie,xe,Ue,ue;return((l=(v=o.value)==null?void 0:v.lists)==null?void 0:l.isFavorite)||((oe=(O=o.value)==null?void 0:O.lists)==null?void 0:oe.isWatching)||((Ce=(Ae=o.value)==null?void 0:Ae.lists)==null?void 0:Ce.isLater)||((xe=(Ie=o.value)==null?void 0:Ie.lists)==null?void 0:xe.isCompleted)||((ue=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:ue.isAbandoned)}),B=H(()=>d.isCommentsEnabled),ee=()=>{if(o.value){const v=o.value.name_ru||o.value.name_en||o.value.name_original||"–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–µ";document.title=v}},F=v=>v?v.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",W=v=>(v||[]).map(l=>({kp_id:l.film_id,poster:l.poster_url_preview||l.poster_url,title:l.name_ru||l.name_en||l.name_original})),ne=v=>{if(typeof v!="number")return;const l=Math.floor(v/60),O=v%60;return"".concat(l," —á. ").concat(O," –º–∏–Ω.")},ce=f(!1),ve=f({top:"0px",left:"0px"}),me=v=>{ce.value=!0,ve.value={top:"".concat(v.pageY+10,"px"),left:"".concat(v.pageX-70,"px")}},_e=async()=>{try{const v=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[ne(o.value.film_length)]:[]];await navigator.clipboard.writeText(v.join(", ")),w.value.showNotification("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ")}catch(v){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",v)}},ie=async(v=!0)=>{var l,O,oe,Ae,Ce,Ie,xe,Ue;try{let ue;if(g.value.startsWith("shiki")?ue=await Bn(g.value):ue=await Hn(g.value,n.token),Array.isArray(ue)&&ue.length===0)throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–∏—Å–∫.");o.value=ue,g.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:g.value},c.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),ee();const fe={kp_id:g.value,title:((l=o.value)==null?void 0:l.name_ru)||((O=o.value)==null?void 0:O.name_en)||((oe=o.value)==null?void 0:oe.name_original),poster:((Ae=o.value)==null?void 0:Ae.poster_url)||((Ce=o.value)==null?void 0:Ce.cover_url)||((Ie=o.value)==null?void 0:Ie.screenshots[0]),year:(xe=o.value)==null?void 0:xe.year,type:(Ue=o.value)==null?void 0:Ue.type};if(g.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const Te=Math.floor(Math.random()*o.value.screenshots.length),Ye=o.value.screenshots[Te];C.updateMoviePoster(Ye)}else fe.poster&&C.updateMoviePoster(fe.poster);else fe.poster&&C.updateMoviePoster(fe.poster);if(H(()=>d.isHistoryAllowed).value&&fe.kp_id&&fe.title&&v)if(n.token)try{await Rt(fe.kp_id,D.HISTORY)}catch(Te){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∏—Å—Ç–æ—Ä–∏—é:",Te)}else d.addToHistory({...fe})}catch(ue){const{message:fe,code:ze}=ft(ue);M.value=fe,L.value=ze,console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö:",ue)}},Ke=H(()=>{var v,l;return console.log("–¢—Ä–µ–π–ª–µ—Ä—ã:",(v=o.value)==null?void 0:v.videos),(l=o.value)==null?void 0:l.videos}),J=H(()=>{var v;return W((v=o.value)==null?void 0:v.sequels_and_prequels)}),Ee=H(()=>{var v;return W((v=o.value)==null?void 0:v.similars)}),he=()=>{var oe;const v=((oe=document.querySelector(".related-movies"))==null?void 0:oe.clientWidth)||0,O=Math.floor(v/160)||10;b.value=Math.max(1,O)},Ne=()=>{he()},we=v=>{if(v.altKey&&v.keyCode===84&&document.querySelector(".player-container")){const O=document.querySelector(".theater-mode-btn");O&&O.click()}},Be=v=>{v.button===1&&(v.preventDefault(),Ze(v))},Ze=async v=>{if(I.value!==null){I.value=null,A.value=!1;return}R.value=void 0,V.value=v.currentTarget;const l=V.value.getBoundingClientRect();K.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},I.value="",A.value=!0;try{const O=await Dn(o.value.imdb_id);I.value=O.nudity_info}catch(O){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö:",O),I.value="–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å—Ü–µ–Ω–∞—Ö. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ Parents Guide –Ω–∞ IMDb –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏."}finally{A.value=!1}},Qe=v=>{var O,oe;if(I.value=null,R.value!==void 0){R.value=void 0;return}ke.value=v.currentTarget;const l=ke.value.getBoundingClientRect();be.value={position:"absolute",top:"".concat(l.bottom+window.scrollY+10,"px"),left:"".concat(l.right+window.scrollX,"px"),transform:"translateX(-100%)"},R.value=((O=o.value)==null?void 0:O.nudity_timings)===null?"":((oe=o.value)==null?void 0:oe.nudity_timings)||""},lt=v=>{var O,oe,Ae,Ce,Ie,xe,Ue,ue,fe,ze,Te,Ye,st;return(st={[D.FAVORITE]:((oe=(O=o.value)==null?void 0:O.lists)==null?void 0:oe.isFavorite)||!1,[D.HISTORY]:((Ce=(Ae=o.value)==null?void 0:Ae.lists)==null?void 0:Ce.isHistory)||!1,[D.LATER]:((xe=(Ie=o.value)==null?void 0:Ie.lists)==null?void 0:xe.isLater)||!1,[D.COMPLETED]:((ue=(Ue=o.value)==null?void 0:Ue.lists)==null?void 0:ue.isCompleted)||!1,[D.ABANDONED]:((ze=(fe=o.value)==null?void 0:fe.lists)==null?void 0:ze.isAbandoned)||!1,[D.WATCHING]:((Ye=(Te=o.value)==null?void 0:Te.lists)==null?void 0:Ye.isWatching)||!1}[v])!=null?st:!1},Me=async v=>{if(!n.token){w.value.showNotification('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ <a class="auth-link">–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</a>',5e3,{onClick:()=>m.push("/login")});return}try{const l={[D.FAVORITE]:"–∏–∑–±—Ä–∞–Ω–Ω–æ–µ",[D.HISTORY]:"–∏—Å—Ç–æ—Ä–∏—é",[D.LATER]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä–µ—Ç—å –ø–æ–∑–∂–µ"',[D.COMPLETED]:'—Å–ø–∏—Å–æ–∫ "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ"',[D.ABANDONED]:'—Å–ø–∏—Å–æ–∫ "–ë—Ä–æ—à–µ–Ω–æ"',[D.WATCHING]:'—Å–ø–∏—Å–æ–∫ "–°–º–æ—Ç—Ä—é"'};lt(v)?(await Cn(g.value,v),w.value.showNotification("–£–¥–∞–ª–µ–Ω–æ –∏–∑ ".concat(l[v]))):(await Rt(g.value,v),w.value.showNotification("–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ ".concat(l[v]))),await ie(!1),$.value=!1}catch(l){const{message:O,code:oe}=ft(l);w.value.showNotification("".concat(O," ").concat(oe))}},De=v=>{const l=document.querySelector(".mobile-list-dropdown");l&&!l.contains(v.target)&&($.value=!1)},ye=v=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(v.target)&&V.value&&!V.value.contains(v.target)&&(I.value=null)},$e=v=>{const l=document.querySelector(".nudity-info-popup");l&&!l.contains(v.target)&&ke.value&&!ke.value.contains(v.target)&&(R.value=void 0)};rt(async()=>{await ie(),t.value=!1,document.addEventListener("keydown",we),window.addEventListener("resize",Ne),setTimeout(he,100),document.addEventListener("click",De),document.addEventListener("click",ye,!0),document.addEventListener("click",$e,!0)}),Nn(async()=>{c.clearHeaderContent(),document.removeEventListener("keydown",we),window.removeEventListener("resize",Ne),document.removeEventListener("click",De),document.removeEventListener("click",ye,!0),document.removeEventListener("click",$e,!0)}),Fe(()=>E.params.kp_id,async v=>{v&&v!==g.value&&(c.clearHeaderContent(),g.value=v,P.value=null,await ie(),t.value=!1)},{immediate:!0}),Fe(o,()=>{ee()},{deep:!0}),Fe(I,v=>{v?document.addEventListener("click",ye,!0):document.removeEventListener("click",ye,!0)},{deep:!0}),Fe(R,v=>{v?document.addEventListener("click",$e,!0):document.removeEventListener("click",$e,!0)},{deep:!0});const p=v=>{var l,O;return((O=(l=o.value)==null?void 0:l.staff)==null?void 0:O.filter(oe=>oe.profession_key===v))||[]},Q=async()=>{try{await navigator.clipboard.writeText(I.value),w.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(v){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",v),w.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{I.value=null}},Ve=async()=>{if(R.value.length!==0)try{const v=R.value.map(l=>"".concat(l.timing_text," (by @").concat(l.username,")")).join("\n").concat("\nReYohoho\n");await navigator.clipboard.writeText(v),w.value.showNotification("–¢–µ–∫—Å—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω")}catch(v){console.error("–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:",v),w.value.showNotification("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–∫—Å—Ç–∞")}finally{R.value=void 0}},ut=()=>{const v=encodeURIComponent(I.value);window.open("https://translate.google.com/?sl=en&tl=ru&text=".concat(v),"_blank"),I.value=null},Je=H({get:()=>d.submitterUsername,set:v=>d.setSubmitterUsername(v)}),Ge=f(""),Oe=f(!1),dt=H(()=>Je.value.trim()&&Ge.value.trim()),j=async()=>{if(!(!dt.value||Oe.value))try{Oe.value=!0,await Vn(g.value,Je.value.trim(),Ge.value),w.value.showNotification("–¢–∞–π–º–∏–Ω–≥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é, —Å–ø–∞—Å–∏–±–æ!"),Ge.value="",q.value=!1}catch(v){const{message:l}=ft(v);w.value.showNotification(l,5e3)}finally{Oe.value=!1}},z=async()=>{try{const{submissions:v}=await $n();re.value=v,Le.value=!0}catch(v){const{message:l}=ft(v);w.value.showNotification(l)}},q=f(!1),re=f([]),Le=f(!1),He=(v,l)=>{const O=[2,0,1,1,1,2];return l[v%100>4&&v%100<20?2:O[Math.min(v%10,5)]]},ct=v=>{if(!re.value.length)return 0;const l=Math.max(...re.value.map(O=>O.approved_submissions_count));return v/l*100};return(v,l)=>{var O,oe,Ae,Ce,Ie,xe,Ue,ue,fe,ze,Te,Ye,st,Re,Mt,vt,Lt,It;return a(),u(le,null,[e("div",vi,[e("div",mi,[(t.value||!o.value)&&!M.value?(a(),u("div",fi,[e("div",gi,[l[20]||(l[20]=Ct('<div class="movie-skeleton__header" data-v-fce8bbb1><div class="movie-skeleton__title" data-v-fce8bbb1></div></div><div class="movie-skeleton__ratings" data-v-fce8bbb1><div class="movie-skeleton__rating-item" data-v-fce8bbb1></div><div class="movie-skeleton__rating-item" data-v-fce8bbb1></div><div class="movie-skeleton__rating-item" data-v-fce8bbb1></div></div>',2)),e("div",ki,[ae(_n)]),l[21]||(l[21]=Ct('<div class="movie-skeleton__additional-info" data-v-fce8bbb1><div class="movie-skeleton__section-title" data-v-fce8bbb1></div><div class="movie-skeleton__info-list" data-v-fce8bbb1><div class="movie-skeleton__info-item" data-v-fce8bbb1></div><div class="movie-skeleton__info-item" data-v-fce8bbb1></div><div class="movie-skeleton__info-item" data-v-fce8bbb1></div><div class="movie-skeleton__info-item" data-v-fce8bbb1></div><div class="movie-skeleton__info-item" data-v-fce8bbb1></div></div></div><div class="movie-skeleton__description" data-v-fce8bbb1><div class="movie-skeleton__description-line" data-v-fce8bbb1></div><div class="movie-skeleton__description-line" data-v-fce8bbb1></div><div class="movie-skeleton__description-line" data-v-fce8bbb1></div><div class="movie-skeleton__description-line" data-v-fce8bbb1></div></div>',2))])])):y("",!0),M.value?(a(),We(wn,{key:1,message:M.value,code:L.value},null,8,["message","code"])):y("",!0),M.value?(a(),u("div",yi,[(a(),We(bn,{key:g.value,"kp-id":g.value,"movie-info":o.value,"onUpdate:movieInfo":ie},null,8,["kp-id","movie-info"]))])):y("",!0),o.value&&!t.value?(a(),u("div",pi,[e("div",bi,[o.value.logo_url?(a(),u("div",{key:0,class:"content-logo",onMousemove:me,onMouseleave:l[0]||(l[0]=r=>ce.value=!1),onClick:_e},[e("img",{src:o.value.logo_url,alt:"–õ–æ–≥–æ—Ç–∏–ø —Ñ–∏–ª—å–º–∞",class:"content-logo"},null,8,hi)],32)):(a(),u("div",{key:1,onMousemove:me,onMouseleave:l[1]||(l[1]=r=>ce.value=!1),onClick:_e},[e("h1",wi,k(o.value.title),1)],32)),Y(e("div",{class:"title-copy-tooltip",style:it(ve.value)}," –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å ",4),[[se,ce.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(a(),u("div",Ci,[o.value.kinopoisk_id?(a(),We(bl,{key:o.value.kinopoisk_id,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):y("",!0),o.value.kinopoisk_id?(a(),u("div",_i,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(F(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[22]||(l[22]=e("img",{src:kn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:_(["rating-value",X(wt)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[23]||(l[23]=e("img",{src:ht,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ei)])):y("",!0),!o.value.kinopoisk_id&&o.value.title?(a(),u("div",Mi,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(F(o.value.rating_kinopoisk_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[24]||(l[24]=e("img",{src:kn,alt:"–ö–ü",class:"rating-logo"},null,-1)),e("span",{class:_(["rating-value",X(wt)(o.value.rating_kinopoisk)])},k(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"‚Äî"),3),l[25]||(l[25]=e("img",{src:ht,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Li)])):y("",!0),o.value.imdb_id?(a(),u("div",Ii,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(F(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[26]||(l[26]=e("img",{src:yn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:_(["rating-value",X(wt)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[27]||(l[27]=e("img",{src:ht,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Ti)])):y("",!0),!o.value.imdb_id&&o.value.title?(a(),u("div",Ri,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"–û—Ü–µ–Ω–æ–∫: ".concat(F(o.value.rating_imdb_vote_count)):"–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≥–æ–ª–æ—Å–æ–≤"},[l[28]||(l[28]=e("img",{src:yn,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",{class:_(["rating-value",X(wt)(o.value.rating_imdb)])},k(o.value.rating_imdb?o.value.rating_imdb:"‚Äî"),3),l[29]||(l[29]=e("img",{src:ht,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1))],8,Pi)])):y("",!0),o.value.shikimori_id?(a(),u("div",Si,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},l[30]||(l[30]=[e("img",{src:Gn,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:ht,alt:"–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞",class:"external-link-icon"},null,-1)]),8,Ai)])):y("",!0),o.value.imdb_id?(a(),u("button",{key:6,class:"nudity-info-btn parents-guide-btn",onClick:l[2]||(l[2]=r=>Ze(r)),onMousedown:l[3]||(l[3]=r=>Be(r)),title:I.value?"–°–∫—Ä—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é":"–ü–æ–∫–∞–∑–∞—Ç—å Parents Guide –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—Ü–µ–Ω–∞—Ö"},[l[31]||(l[31]=e("span",{class:"desktop-text"},"Parents Guide",-1)),l[32]||(l[32]=e("span",{class:"mobile-text"},"PG",-1)),A.value?(a(),u("i",ji)):(a(),u("i",Ui))],40,xi)):y("",!0),e("button",{class:"nudity-info-btn",onClick:l[4]||(l[4]=r=>Qe(r)),title:R.value!==void 0?"–°–∫—Ä—ã—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏":"–ü–æ–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∏–Ω–≥–∏ —Å—Ü–µ–Ω 18+(–¥–ª—è —Ç–≤–∏—á–∞)"},[e("i",{class:_(["fa-regular fa-clock",{"text-red":ge.value}])},null,2)],8,Ni)])):y("",!0),(a(),We(bn,{key:g.value,"kp-id":g.value,"movie-info":o.value,"onUpdate:movieInfo":ie},null,8,["kp-id","movie-info"])),X(d).isMobile?(a(),u("div",Bi,[e("button",{class:_(["mobile-list-toggle",{}]),onClick:l[5]||(l[5]=r=>$.value=!$.value)},[e("span",{class:_(["material-icons",{active:je.value}])},k(je.value?"bookmark_added":"bookmark_border"),3),l[33]||(l[33]=e("span",{class:"button-label"},"–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–ø–∏—Å–æ–∫",-1)),e("span",{class:_(["material-icons dropdown-arrow",{expanded:$.value}])},"expand_more",2)]),Y(e("div",Hi,[e("button",{class:_(["mobile-list-btn",{}]),onClick:l[6]||(l[6]=r=>Me(X(D).FAVORITE))},[e("span",{class:_(["material-icons",{active:(oe=(O=o.value)==null?void 0:O.lists)==null?void 0:oe.isFavorite}])},k((Ce=(Ae=o.value)==null?void 0:Ae.lists)!=null&&Ce.isFavorite?"favorite":"favorite_border"),3),l[34]||(l[34]=e("span",{class:"button-label"},"–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ",-1))]),e("button",{class:_(["mobile-list-btn",{}]),onClick:l[7]||(l[7]=r=>Me(X(D).WATCHING))},[e("span",{class:_(["material-icons",{active:(xe=(Ie=o.value)==null?void 0:Ie.lists)==null?void 0:xe.isWatching}])},k((ue=(Ue=o.value)==null?void 0:Ue.lists)!=null&&ue.isWatching?"visibility":"visibility_off"),3),l[35]||(l[35]=e("span",{class:"button-label"},"–°–º–æ—Ç—Ä—é",-1))]),e("button",{class:_(["mobile-list-btn",{}]),onClick:l[8]||(l[8]=r=>Me(X(D).LATER))},[e("span",{class:_(["material-icons",{active:(ze=(fe=o.value)==null?void 0:fe.lists)==null?void 0:ze.isLater}])},"watch_later",2),l[36]||(l[36]=e("span",{class:"button-label"},"–ü–æ–∑–∂–µ",-1))]),e("button",{class:_(["mobile-list-btn",{}]),onClick:l[9]||(l[9]=r=>Me(X(D).COMPLETED))},[e("span",{class:_(["material-icons",{active:(Ye=(Te=o.value)==null?void 0:Te.lists)==null?void 0:Ye.isCompleted}])},k((Re=(st=o.value)==null?void 0:st.lists)!=null&&Re.isCompleted?"check_circle":"check_circle_outline"),3),l[37]||(l[37]=e("span",{class:"button-label"},"–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ",-1))]),e("button",{class:_(["mobile-list-btn",{}]),onClick:l[10]||(l[10]=r=>Me(X(D).ABANDONED))},[e("span",{class:_(["material-icons",{active:(vt=(Mt=o.value)==null?void 0:Mt.lists)==null?void 0:vt.isAbandoned}])},"not_interested",2),l[38]||(l[38]=e("span",{class:"button-label"},"–ë—Ä–æ—à–µ–Ω–æ",-1))])],512),[[se,$.value]])])):y("",!0),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,Di),o.value.name_original?(a(),u("meta",{key:2,name:"original-title",content:o.value.name_original},null,8,$i)):y("",!0),e("div",Vi,[l[49]||(l[49]=e("h2",{class:"additional-info-title"},"–ü–æ–¥—Ä–æ–±–Ω–µ–µ",-1)),e("div",Oi,[o.value.poster_url?(a(),u("div",Fi,[e("a",{href:o.value.poster_url,target:"_blank",rel:"noopener noreferrer"},[e("img",{src:o.value.poster_url,alt:"–ü–æ—Å—Ç–µ—Ä —Ñ–∏–ª—å–º–∞",class:"movie-poster"},null,8,Ki)],8,qi)])):y("",!0),e("div",zi,[e("ul",Wi,[o.value.type&&X(gn)[o.value.type]?(a(),u("li",Gi,[l[39]||(l[39]=e("strong",null,"–¢–∏–ø:",-1)),Z(" "+k(X(gn)[o.value.type]),1)])):y("",!0),o.value.year?(a(),u("li",Yi,[l[40]||(l[40]=e("strong",null,"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:",-1)),Z(" "+k(o.value.year),1)])):y("",!0),o.value.title?(a(),u("li",Xi,[l[41]||(l[41]=e("strong",null,"–ù–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+k(o.value.title),1)])):y("",!0),o.value.name_original?(a(),u("li",Zi,[l[42]||(l[42]=e("strong",null,"–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:",-1)),Z(" "+k(o.value.name_original),1)])):y("",!0),o.value.slogan?(a(),u("li",Qi,[l[43]||(l[43]=e("strong",null,"–°–ª–æ–≥–∞–Ω:",-1)),Z(" "+k(o.value.slogan),1)])):y("",!0),o.value.production_companies?(a(),u("li",Ji,[l[44]||(l[44]=e("strong",null,"–ü—Ä–æ–¥–∞–∫—à–Ω:",-1)),Z(" "+k(o.value.production_companies),1)])):y("",!0),(Lt=o.value.countries)!=null&&Lt.length?(a(),u("li",ea,[l[45]||(l[45]=e("strong",null,"–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:",-1)),Z(" "+k(o.value.countries.map(r=>r.country).join(", ")),1)])):y("",!0),(It=o.value.genres)!=null&&It.length?(a(),u("li",ta,[l[46]||(l[46]=e("strong",null,"–ñ–∞–Ω—Ä—ã:",-1)),Z(" "+k(o.value.genres.map(r=>r.genre).join(", ")),1)])):y("",!0),o.value.film_length?(a(),u("li",na,[l[47]||(l[47]=e("strong",null,"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:",-1)),Z(" "+k(ne(o.value.film_length)),1)])):y("",!0),o.value.rating_mpaa||o.value.rating_age_limits?(a(),u("li",oa,[o.value.rating_mpaa?(a(),u("div",la,[l[48]||(l[48]=e("strong",null,"MPAA",-1)),e("span",null,k(o.value.rating_mpaa.toUpperCase()),1)])):y("",!0),o.value.rating_age_limits?(a(),u("div",sa,[e("strong",null,k(o.value.rating_age_limits.replace("age",""))+"+",1)])):y("",!0)])):y("",!0)]),e("div",ia,[o.value.description?(a(),u("p",aa,k(o.value.description),1)):y("",!0)])])])]),B.value?(a(),u("div",ra,[(a(),We(ci,{"movie-id":g.value,key:g.value},null,8,["movie-id"]))])):y("",!0),o.value.staff?(a(),u("div",ua,[e("div",da,[p("ACTOR").length?(a(),u("div",ca,[l[50]||(l[50]=e("h3",{class:"additional-info-title"},"–ê–∫—Ç—ë—Ä—ã",-1)),e("div",va,[(a(!0),u(le,null,pe(p("ACTOR").slice(0,12),r=>(a(),u("div",{key:r.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:r.description||""},[e("img",{src:r.poster_url,alt:r.name_ru,class:"staff-photo"},null,8,fa),e("span",ga,k(r.name_ru||r.name_en),1),r.description?(a(),u("span",ka,k(r.description),1)):y("",!0)],8,ma)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("ACTOR").length," –∞–∫—Ç–µ—Ä–æ–≤")}," +"+k(p("ACTOR").length-12),9,ya)])])):y("",!0),p("DIRECTOR").length?(a(),u("div",pa,[l[51]||(l[51]=e("h3",{class:"additional-info-title"},"–†–µ–∂–∏—Å—Å—ë—Ä—ã",-1)),e("div",ba,[e("div",ha,[(a(!0),u(le,null,pe(p("DIRECTOR").slice(0,5),r=>(a(),u("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(r.name_ru||r.name_en),9,wa))),128)),p("DIRECTOR").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("DIRECTOR").length," —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤")}," +"+k(p("DIRECTOR").length-5),9,Ca)):y("",!0)])])])):y("",!0),p("PRODUCER").length?(a(),u("div",_a,[l[52]||(l[52]=e("h3",{class:"additional-info-title"},"–ü—Ä–æ–¥—é—Å–µ—Ä—ã",-1)),e("div",Ea,[e("div",Ma,[(a(!0),u(le,null,pe(p("PRODUCER").slice(0,5),r=>(a(),u("a",{key:r.staff_id,href:"https://www.kinopoisk.ru/name/".concat(r.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-name-link"},k(r.name_ru||r.name_en),9,La))),128)),p("PRODUCER").length>5?(a(),u("a",{key:0,class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(g.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ—Ö ".concat(p("PRODUCER").length," –ø—Ä–æ–¥—é—Å–µ—Ä–æ–≤")}," +"+k(p("PRODUCER").length-5),9,Ia)):y("",!0)])])])):y("",!0)])])):y("",!0),Ke.value.length&&X(x)?(a(),u("div",Ta,[ae(ul,{videos:Ke.value,"active-video-index":P.value,onSelect:v.playTrailer},null,8,["videos","active-video-index","onSelect"])])):y("",!0),J.value.length?(a(),u("div",Ra,[l[53]||(l[53]=e("h2",null,"–°–∏–∫–≤–µ–ª—ã –∏ –ø—Ä–∏–∫–≤–µ–ª—ã",-1)),ae(X(pn),{"movies-list":S.value?J.value:J.value.slice(0,b.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),J.value.length>b.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[11]||(l[11]=r=>S.value=!S.value),title:"".concat(S.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(J.value.length,")")},k(S.value?"‚àí":"+".concat(J.value.length-b.value)),9,Pa)):y("",!0)])):y("",!0),Ee.value.length?(a(),u("div",Sa,[l[54]||(l[54]=e("h2",null,"–ü–æ—Ö–æ–∂–∏–µ",-1)),ae(X(pn),{"movies-list":T.value?Ee.value:Ee.value.slice(0,b.value),loading:!1,"is-history":!1,class:"related-movies-list"},null,8,["movies-list"]),Ee.value.length>b.value?(a(),u("a",{key:0,class:"expand-circle-button",onClick:l[12]||(l[12]=r=>T.value=!T.value),title:"".concat(T.value?"–°–∫—Ä—ã—Ç—å":"–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ"," (").concat(Ee.value.length,")")},k(T.value?"‚àí":"+".concat(Ee.value.length-b.value)),9,Aa)):y("",!0)])):y("",!0)])):y("",!0)])]),ae(Tt,{ref_key:"notificationRef",ref:w},null,512),I.value!==null?(a(),u("div",{key:0,style:it(K.value),class:"nudity-info-popup"},[e("div",xa,[A.value?(a(),u("div",Ua,l[55]||(l[55]=[e("i",{class:"fas fa-spinner fa-spin"},null,-1),e("span",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏...",-1)]))):(a(),u("div",ja,k(I.value),1))]),e("div",Na,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"nudity-info-button"},l[56]||(l[56]=[e("i",{class:"fas fa-external-link-alt"},null,-1),e("span",null,"Parents Guide",-1)]),8,Ba),e("button",{class:"nudity-info-button",onClick:Q},l[57]||(l[57]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"Copy",-1)])),e("button",{class:"nudity-info-button",onClick:ut},l[58]||(l[58]=[e("i",{class:"fas fa-language"},null,-1),e("span",null,"Translate",-1)]))])],4)):y("",!0),R.value!==void 0?(a(),u("div",{key:1,style:it(be.value),class:"nudity-info-popup"},[e("div",Ha,[e("div",{class:"acknowledgment-table"},[l[61]||(l[61]=e("div",{class:"acknowledgment-header"},[e("i",{class:"fa-solid fa-heart"}),e("span",null,"–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏")],-1)),e("div",{class:"acknowledgment-content"},[l[60]||(l[60]=e("div",{class:"acknowledgment-row"},[e("a",{href:"https://www.twitch.tv/tanyabelkova",target:"_blank",rel:"noopener noreferrer",class:"twitch-link"},[e("i",{class:"fa-brands fa-twitch"}),e("span",null,"TanyaBelkova")]),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –æ—Å–Ω–æ–≤—É –±–∞–∑—ã —Ç–∞–π–º–∏–Ω–≥–æ–≤")],-1)),e("div",{class:"acknowledgment-row clickable",onClick:z},l[59]||(l[59]=[e("div",{class:"community-link"},[e("i",{class:"fa-solid fa-users"}),e("span",null,"–°–æ–æ–±—â–µ—Å—Ç–≤–æ")],-1),e("span",{class:"acknowledgment-text"},"‚Äî –∑–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤",-1)]))])]),e("div",{class:_(["timings-content",{"no-border":!R.value}])},[e("div",Da,[R.value.length>0?(a(),u("div",$a,[(a(!0),u(le,null,pe(R.value,r=>(a(),u("div",{key:r.id,class:_(["timing-entry",{pending:r.status==="pending"}])},[e("div",Va,[r.status==="pending"?(a(),u("div",Oa,"–ù–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏")):y("",!0),e("div",{class:_(["timing-hover-container",{blurred:r.status==="pending"}])},[e("span",Fa,k(r.timing_text),1),l[62]||(l[62]=e("br",null,null,-1)),e("span",qa,"by "+k(r.username),1)],2)])],2))),128))])):(a(),u("div",Ka,k("–ó–∞–ø–∏—Å–µ–π –æ —Ç–∞–π–º–∏–Ω–≥–∞—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–æ")))]),e("div",za,[R.value.length>0?(a(),u("button",{key:0,class:"nudity-info-button",onClick:Ve},l[63]||(l[63]=[e("i",{class:"fas fa-copy"},null,-1),e("span",null,"–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",-1)]))):y("",!0),e("button",{class:"nudity-info-button",onClick:l[13]||(l[13]=r=>q.value=!0)},l[64]||(l[64]=[e("i",{class:"fas fa-plus"},null,-1),e("span",null,"–î–æ–±–∞–≤–∏—Ç—å/–¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)]))])],2)])],4)):y("",!0),q.value?(a(),u("div",Wa,[e("div",Ga,[e("div",Ya,[l[66]||(l[66]=e("h3",null,"–î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∏–Ω–≥",-1)),e("button",{class:"close-modal-btn",onClick:l[14]||(l[14]=r=>q.value=!1)},l[65]||(l[65]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",Xa,[Y(e("input",{"onUpdate:modelValue":l[15]||(l[15]=r=>Je.value=r),placeholder:"–í–∞—à –Ω–∏–∫",class:"timing-input",maxlength:"50"},null,512),[[at,Je.value]]),Y(e("textarea",{"onUpdate:modelValue":l[16]||(l[16]=r=>Ge.value=r),placeholder:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å–º–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã –ø—Ä–∏–ª–∞–≥–∞–µ—Ç–µ —Ç–∞–π–º–∏–Ω–≥\n          \n–î–ª—è —Å–µ—Ä–∏–∞–ª–æ–≤, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∑—ã–≤–∞–π—Ç–µ —Å–µ–∑–æ–Ω –∏ –Ω–æ–º–µ—Ä —ç–ø–∏–∑–æ–¥–∞",class:"timing-textarea"},null,512),[[at,Ge.value]]),e("div",Za,[e("button",{class:"submit-timing-btn",onClick:j,disabled:!dt.value||Oe.value},[Oe.value?(a(),u("i",Ja)):(a(),u("span",er,"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"))],8,Qa)])])])])):y("",!0),Le.value?(a(),u("div",{key:3,class:"modal-overlay",onClick:l[19]||(l[19]=r=>Le.value=!1)},[e("div",{class:"modal-content",onClick:l[18]||(l[18]=Xe(()=>{},["stop"]))},[e("div",tr,[l[68]||(l[68]=e("h3",null,[Z(" –¢–æ–ø –∞–≤—Ç–æ—Ä–æ–≤ —Ç–∞–π–º–∏–Ω–≥–æ–≤ "),e("span",{class:"hint-text"},[Z("(–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∏–º/—Å–æ—Ü—Å–µ—Ç–∏? –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ "),e("a",{href:"https://t.me/ReYohoho_support",target:"_blank",rel:"noopener noreferrer"},"—Ç–µ–ª–µ–≥—Ä–∞–º"),Z(")")])],-1)),e("button",{class:"close-modal-btn",onClick:l[17]||(l[17]=r=>Le.value=!1)},l[67]||(l[67]=[e("i",{class:"fas fa-times"},null,-1)]))]),e("div",nr,[e("div",or,[(a(!0),u(le,null,pe(re.value,(r,s)=>(a(),u("div",{key:r.username,class:"top-submitter-item"},[e("div",{class:_(["submitter-rank",{gold:s===0,silver:s===1,bronze:s===2}])},k(s+1),3),e("div",lr,[e("div",sr,[r.stream_link?(a(),u("a",{key:0,href:r.stream_link,target:"_blank",rel:"noopener noreferrer"},[Z(k(r.username)+" ",1),l[69]||(l[69]=e("i",{class:"fa-brands fa-twitch"},null,-1))],8,ir)):(a(),u(le,{key:1},[Z(k(r.username),1)],64))]),e("div",ar,k(r.approved_submissions_count)+" "+k(He(r.approved_submissions_count,["—Ñ–∏–ª—å–º","—Ñ–∏–ª—å–º–∞","—Ñ–∏–ª—å–º–æ–≤"])),1)]),e("div",rr,[e("div",{class:"contribution-bar",style:it({width:ct(r.approved_submissions_count)+"%"})},null,4)])]))),128))])])])])):y("",!0)],64)}}},yr=qe(ur,[["__scopeId","data-v-fce8bbb1"]]);export{yr as default};

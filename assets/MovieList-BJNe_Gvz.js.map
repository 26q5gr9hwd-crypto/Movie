{"version":3,"file":"MovieList-BJNe_Gvz.js","sources":["../../src/components/icons/TrashIcon.vue","../../src/assets/icon-spinner.svg","../../src/components/CardMovie/CardMovieDetails.vue","../../src/assets/icon-kp-logo.svg","../../src/assets/icon-imdb-logo.svg","../../src/components/CardMovie/CardsMovieMainContent.vue","../../src/components/CardMovie/CardMovie.vue","../../src/components/CardMovie/CardMovieSwipeWrapper.vue","../../src/components/MovieList/MovieList.vue"],"sourcesContent":["<template>\n     <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      fill=\"none\"\n      viewBox=\"0 0 50 59\"\n      class=\"bin\"\n    >\n      <path\n        fill=\"#B5BAC1\"\n        d=\"M0 7.5C0 5.01472 2.01472 3 4.5 3H45.5C47.9853 3 50 5.01472 50 7.5V7.5C50 8.32843 49.3284 9 48.5 9H1.5C0.671571 9 0 8.32843 0 7.5V7.5Z\"\n      />\n      <path\n        fill=\"#B5BAC1\"\n        d=\"M17 3C17 1.34315 18.3431 0 20 0H29.3125C30.9694 0 32.3125 1.34315 32.3125 3V3H17V3Z\"\n      />\n      <path\n        fill=\"#B5BAC1\"\n        d=\"M2.18565 18.0974C2.08466 15.821 3.903 13.9202 6.18172 13.9202H43.8189C46.0976 13.9202 47.916 15.821 47.815 18.0975L46.1699 55.1775C46.0751 57.3155 44.314 59.0002 42.1739 59.0002H7.8268C5.68661 59.0002 3.92559 57.3155 3.83073 55.1775L2.18565 18.0974ZM18.0003 49.5402C16.6196 49.5402 15.5003 48.4209 15.5003 47.0402V24.9602C15.5003 23.5795 16.6196 22.4602 18.0003 22.4602C19.381 22.4602 20.5003 23.5795 20.5003 24.9602V47.0402C20.5003 48.4209 19.381 49.5402 18.0003 49.5402ZM29.5003 47.0402C29.5003 48.4209 30.6196 49.5402 32.0003 49.5402C33.381 49.5402 34.5003 48.4209 34.5003 47.0402V24.9602C34.5003 23.5795 33.381 22.4602 32.0003 22.4602C30.6196 22.4602 29.5003 23.5795 29.5003 24.9602V47.0402Z\"\n        clip-rule=\"evenodd\"\n        fill-rule=\"evenodd\"\n      />\n      <path fill=\"#B5BAC1\" d=\"M2 13H48L47.6742 21.28H2.32031L2 13Z\"/>\n    </svg>\n</template>","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-1%200%2020%2020'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%20id='Page-1'%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20id='Dribbble-Light-Preview'%20transform='translate(-381.000000,%20-8039.000000)'%20fill='%23fff'%3e%3cg%20id='icons'%20transform='translate(56.000000,%20160.000000)'%3e%3cpath%20d='M336.622775,7895.01452%20C333.022714,7895.3213%20329.929083,7892.89808%20329.177444,7889.58357%20C328.445822,7886.35728%20330.675718,7883.02874%20333.977526,7883.00969%20C336.468644,7882.99565%20338.540405,7884.8043%20338.941747,7887.1814%20C339.245004,7888.98202%20338.148072,7890.82275%20336.33453,7891.01324%20C334.529995,7891.20273%20333.0067,7889.7911%20333.0067,7888.02256%20C333.0067,7887.46914%20333.455081,7887.01999%20334.007551,7887.01999%20C334.560021,7887.01999%20335.008402,7887.46914%20335.008402,7888.02256%20C335.008402,7888.57598%20335.456783,7889.02513%20336.009253,7889.02513%20C336.561723,7889.02513%20337.010104,7888.57598%20337.010104,7888.02256%20C337.010104,7886.25402%20335.486809,7884.84239%20333.682275,7885.03188%20C331.868733,7885.22337%20330.7718,7887.0631%20331.075058,7888.86372%20C331.476399,7891.24183%20333.548161,7893.04947%20336.039279,7893.03543%20C339.341086,7893.01638%20341.570982,7889.68784%20340.83936,7886.46155%20C339.941597,7882.49938%20335.695987,7879.81147%20331.240198,7881.5369%20C328.964263,7882.41716%20327.340883,7884.52758%20327.062646,7886.95582%20C326.472144,7892.11507%20330.230339,7896.53241%20335.138513,7897.00463%20C335.637937,7897.05275%20336.009253,7897.49088%20336.009253,7897.99417%20C336.009253,7898.5917%20335.488811,7899.05489%20334.894305,7898.99474%20C329.388624,7898.44031%20325.07996,7893.82346%20325.000893,7888.18097%20C324.940842,7883.91401%20327.915371,7880.06111%20332.086918,7879.1989%20C337.477502,7878.08404%20342.265573,7881.79657%20342.935142,7886.81546%20C343.469596,7890.82075%20340.642192,7894.67164%20336.622775,7895.01452'%20id='-spiral-[%2330]'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\"","<template>\n  <div class=\"movie-details\">\n    <div class=\"movie-header\">\n      <h3>{{ removeYearFromTitle(movie.title) }}</h3>\n    </div>\n\n    <!-- –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ä–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è —Ç–∏–ø–∞ –≤—ã–≤–æ–¥–∏–º –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ -->\n    <div v-if=\"movie.year\" class=\"meta\">\n      <span class=\"year\">{{ movie.year }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst { movie } = defineProps({\n  movie: Object,\n  isHistory: Boolean\n})\n\nconst removeYearFromTitle = (title) => {\n  return title ? title.replace(/\\(\\d{4}\\)$/, '').trim() : title\n}\n</script>\n\n<style scoped>\n.movie-details {\n  padding: 15px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.movie-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: 10px;\n}\n\n.movie-header h3 {\n  font-size: 1.1em;\n  margin: 0;\n  display: -webkit-box;\n  display: box;\n  -webkit-line-clamp: 3;\n  -moz-line-clamp: 3;\n  line-clamp: 3;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  line-height: 1.2;\n  max-height: 3.6em;\n}\n\n.year {\n  font-size: 0.9em;\n  color: #ccc;\n}\n\n.meta {\n  margin-bottom: 10px;\n}\n\n@media (max-width: 600px) {\n  .movie-details {\n    padding: 10px;\n    flex-grow: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  .movie-header h3 {\n    font-size: 1.2em;\n    -webkit-line-clamp: 2;\n    -moz-line-clamp: 2;\n    line-clamp: 2;\n    max-height: 2.4em;\n  }\n\n  .year {\n    font-size: 1em;\n  }\n}\n</style>\n","export default \"data:image/svg+xml,%3csvg%20width='300'%20height='300'%20viewBox='0%200%20300%20300'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M297.414%20169.416L160.054%20160.146L285.858%20210.844C291.584%20197.897%20295.539%20183.984%20297.414%20169.416Z'%20fill='url(%23paint0_linear_1_70)'/%3e%3cpath%20d='M269.205%20239.454C241.988%20276.198%20198.425%20300%20149.327%20300C66.8558%20300%200%20232.843%200%20150C0%2067.1573%2066.8558%200%20149.327%200C198.516%200%20242.151%2023.8911%20269.357%2060.7518L144.608%20127.827L224.886%2045H180.387L125.733%20121.203V45H89.596V255H125.733V178.92L180.387%20255H224.886L146.693%20174.777L269.205%20239.454Z'%20fill='url(%23paint1_linear_1_70)'/%3e%3cpath%20d='M285.858%2089.1559L160.932%20139.494L297.413%20130.581C295.539%20116.014%20291.584%20102.102%20285.858%2089.1559Z'%20fill='url(%23paint2_linear_1_70)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1_70'%20x1='148.707'%20y1='150'%20x2='298.701'%20y2='298.701'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF5500'/%3e%3cstop%20offset='1'%20stop-color='%23BBFF00'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_1_70'%20x1='148.707'%20y1='150'%20x2='298.701'%20y2='298.701'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF5500'/%3e%3cstop%20offset='1'%20stop-color='%23BBFF00'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_1_70'%20x1='148.707'%20y1='150'%20x2='298.701'%20y2='298.701'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FF5500'/%3e%3cstop%20offset='1'%20stop-color='%23BBFF00'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\"","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20575%20289.83'%20width='575'%20height='289.83'%3e%3cdefs%3e%3cpath%20d='M575%2024.91C573.44%2012.15%20563.97%201.98%20551.91%200C499.05%200%2076.18%200%2023.32%200C10.11%202.17%200%2014.16%200%2028.61C0%2051.84%200%20237.64%200%20260.86C0%20276.86%2012.37%20289.83%2027.64%20289.83C79.63%20289.83%20495.6%20289.83%20547.59%20289.83C561.65%20289.83%20573.26%20278.82%20575%20264.57C575%20216.64%20575%2048.87%20575%2024.91Z'%20id='d1pwhf9wy2'%3e%3c/path%3e%3cpath%20d='M69.35%2058.24L114.98%2058.24L114.98%20233.89L69.35%20233.89L69.35%2058.24Z'%20id='g5jjnq26yS'%3e%3c/path%3e%3cpath%20d='M201.2%20139.15C197.28%20112.38%20195.1%2097.5%20194.67%2094.53C192.76%2080.2%20190.94%2067.73%20189.2%2057.09C185.25%2057.09%20165.54%2057.09%20130.04%2057.09L130.04%20232.74L170.01%20232.74L170.15%20116.76L186.97%20232.74L215.44%20232.74L231.39%20114.18L231.54%20232.74L271.38%20232.74L271.38%2057.09L211.77%2057.09L201.2%20139.15Z'%20id='i3Prh1JpXt'%3e%3c/path%3e%3cpath%20d='M346.71%2093.63C347.21%2095.87%20347.47%20100.95%20347.47%20108.89C347.47%20115.7%20347.47%20170.18%20347.47%20176.99C347.47%20188.68%20346.71%20195.84%20345.2%20198.48C343.68%20201.12%20339.64%20202.43%20333.09%20202.43C333.09%20190.9%20333.09%2098.66%20333.09%2087.13C338.06%2087.13%20341.45%2087.66%20343.25%2088.7C345.05%2089.75%20346.21%2091.39%20346.71%2093.63ZM367.32%20230.95C372.75%20229.76%20377.31%20227.66%20381.01%20224.67C384.7%20221.67%20387.29%20217.52%20388.77%20212.21C390.26%20206.91%20391.14%20196.38%20391.14%20180.63C391.14%20174.47%20391.14%20125.12%20391.14%20118.95C391.14%20102.33%20390.49%2091.19%20389.48%2085.53C388.46%2079.86%20385.93%2074.71%20381.88%2070.09C377.82%2065.47%20371.9%2062.15%20364.12%2060.13C356.33%2058.11%20343.63%2057.09%20321.54%2057.09C319.27%2057.09%20307.93%2057.09%20287.5%2057.09L287.5%20232.74L342.78%20232.74C355.52%20232.34%20363.7%20231.75%20367.32%20230.95Z'%20id='a4ov9rRGQm'%3e%3c/path%3e%3cpath%20d='M464.76%20204.7C463.92%20206.93%20460.24%20208.06%20457.46%20208.06C454.74%20208.06%20452.93%20206.98%20452.01%20204.81C451.09%20202.65%20450.64%20197.72%20450.64%20190C450.64%20185.36%20450.64%20148.22%20450.64%20143.58C450.64%20135.58%20451.04%20130.59%20451.85%20128.6C452.65%20126.63%20454.41%20125.63%20457.13%20125.63C459.91%20125.63%20463.64%20126.76%20464.6%20129.03C465.55%20131.3%20466.03%20136.15%20466.03%20143.58C466.03%20146.58%20466.03%20161.58%20466.03%20188.59C465.74%20197.84%20465.32%20203.21%20464.76%20204.7ZM406.68%20231.21L447.76%20231.21C449.47%20224.5%20450.41%20220.77%20450.6%20220.02C454.32%20224.52%20458.41%20227.9%20462.9%20230.14C467.37%20232.39%20474.06%20233.51%20479.24%20233.51C486.45%20233.51%20492.67%20231.62%20497.92%20227.83C503.16%20224.05%20506.5%20219.57%20507.92%20214.42C509.34%20209.26%20510.05%20201.42%20510.05%20190.88C510.05%20185.95%20510.05%20146.53%20510.05%20141.6C510.05%20131%20509.81%20124.08%20509.34%20120.83C508.87%20117.58%20507.47%20114.27%20505.14%20110.88C502.81%20107.49%20499.42%20104.86%20494.98%20102.98C490.54%20101.1%20485.3%20100.16%20479.26%20100.16C474.01%20100.16%20467.29%20101.21%20462.81%20103.28C458.34%20105.35%20454.28%20108.49%20450.64%20112.7C450.64%20108.89%20450.64%2089.85%20450.64%2055.56L406.68%2055.56L406.68%20231.21Z'%20id='fk968BpsX'%3e%3c/path%3e%3c/defs%3e%3cg%3e%3cg%3e%3cg%3e%3cuse%20xlink:href='%23d1pwhf9wy2'%20opacity='1'%20fill='%23f6c700'%20fill-opacity='1'%3e%3c/use%3e%3cg%3e%3cuse%20xlink:href='%23d1pwhf9wy2'%20opacity='1'%20fill-opacity='0'%20stroke='%23000000'%20stroke-width='1'%20stroke-opacity='0'%3e%3c/use%3e%3c/g%3e%3c/g%3e%3cg%3e%3cuse%20xlink:href='%23g5jjnq26yS'%20opacity='1'%20fill='%23000000'%20fill-opacity='1'%3e%3c/use%3e%3cg%3e%3cuse%20xlink:href='%23g5jjnq26yS'%20opacity='1'%20fill-opacity='0'%20stroke='%23000000'%20stroke-width='1'%20stroke-opacity='0'%3e%3c/use%3e%3c/g%3e%3c/g%3e%3cg%3e%3cuse%20xlink:href='%23i3Prh1JpXt'%20opacity='1'%20fill='%23000000'%20fill-opacity='1'%3e%3c/use%3e%3cg%3e%3cuse%20xlink:href='%23i3Prh1JpXt'%20opacity='1'%20fill-opacity='0'%20stroke='%23000000'%20stroke-width='1'%20stroke-opacity='0'%3e%3c/use%3e%3c/g%3e%3c/g%3e%3cg%3e%3cuse%20xlink:href='%23a4ov9rRGQm'%20opacity='1'%20fill='%23000000'%20fill-opacity='1'%3e%3c/use%3e%3cg%3e%3cuse%20xlink:href='%23a4ov9rRGQm'%20opacity='1'%20fill-opacity='0'%20stroke='%23000000'%20stroke-width='1'%20stroke-opacity='0'%3e%3c/use%3e%3c/g%3e%3c/g%3e%3cg%3e%3cuse%20xlink:href='%23fk968BpsX'%20opacity='1'%20fill='%23000000'%20fill-opacity='1'%3e%3c/use%3e%3cg%3e%3cuse%20xlink:href='%23fk968BpsX'%20opacity='1'%20fill-opacity='0'%20stroke='%23000000'%20stroke-width='1'%20stroke-opacity='0'%3e%3c/use%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e\"","<template>\n  <div class=\"movie-poster-container\">\n    <div v-if=\"movie.poster || movie.cover\">\n      <img v-lazy=\"movie.poster || movie.cover\" class=\"movie-poster\" />\n      <DeleteButton\n        v-if=\"!isMobile && (isHistory || isUserList)\"\n        class=\"delete-button\"\n        data-test-id=\"delete-button\"\n        @click.stop.prevent=\"emit('remove:from-history', movie.kp_id)\"\n      />\n      <div v-if=\"movie.rating_kp || movie.rating_imdb\" class=\"ratings-overlay\">\n        <span v-if=\"movie.rating_kp\" class=\"rating-kp\">\n          <img src=\"/src/assets/icon-kp-logo.svg\" alt=\"–ö–ü\" class=\"rating-logo\" />\n          {{ movie.rating_kp }}\n        </span>\n        <span v-if=\"movie.rating_imdb\" class=\"rating-imdb\">\n          <img src=\"/src/assets/icon-imdb-logo.svg\" alt=\"IMDb\" class=\"rating-logo\" />\n          {{ movie.rating_imdb }}\n        </span>\n      </div>\n      <!-- –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∏–ø–∞ (—Å–µ—Ä–∏–∞–ª/—Ñ–∏–ª—å–º) –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–æ—Å—Ç–µ—Ä–∞ -->\n      <div v-if=\"movie.type && TYPES_ENUM[movie.type]\" class=\"poster-type\">\n        {{ TYPES_ENUM[movie.type] ?? '' }}\n      </div>\n      <div v-if=\"movie.type && !TYPES_ENUM[movie.type]\" class=\"poster-type\">\n        {{ movie.type.replace('üé¨', '') }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport DeleteButton from '@/components/buttons/DeleteButton.vue'\nimport { TYPES_ENUM } from '@/constants'\n\nconst {\n  movie,\n  isMobile = false,\n  isHistory = false,\n  isUserList = false\n} = defineProps({\n  movie: Object,\n  isMobile: Boolean,\n  isHistory: Boolean,\n  isUserList: Boolean\n})\nconst emit = defineEmits(['remove:from-history'])\n</script>\n\n<style scoped>\n.movie-poster-container {\n  position: relative;\n}\n\n.movie-poster {\n  width: 100%;\n  aspect-ratio: 2 / 3;\n  object-fit: cover;\n}\n\n.delete-button {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  opacity: 0;\n}\n\n.ratings-overlay {\n  position: absolute;\n  bottom: 10px;\n  left: 10px;\n  display: flex;\n  gap: 10px;\n  background: rgba(0, 0, 0, 0.7);\n  padding: 5px 10px;\n  border-radius: 5px;\n  justify-content: center;\n  align-items: center;\n}\n\n/* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –±–ª–æ–∫–∞ —Å —Ç–∏–ø–æ–º, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É –ø–æ—Å—Ç–µ—Ä–∞ */\n.poster-type {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n  padding: 3px 8px;\n  border-radius: 3px;\n  font-size: 0.9em;\n  text-transform: uppercase;\n}\n\n.rating-kp,\n.rating-imdb {\n  font-size: 1.2em;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  gap: 5px;\n}\n\n.rating-logo {\n  width: 20px;\n  height: auto;\n  display: inline-block;\n}\n\n@media (max-width: 620px) {\n  .ratings-overlay {\n    bottom: 3px;\n    left: 0;\n    padding: 4px 8px;\n    font-size: 0.8em;\n    border-radius: 0;\n  }\n\n  .movie-poster-container {\n    width: 120px;\n  }\n\n  .movie-poster {\n    width: 120px;\n    aspect-ratio: 2 / 3;\n    border-radius: 10px 0 0 10px;\n  }\n\n  .delete-button {\n    left: 5px;\n    opacity: 1;\n  }\n\n  .rating-logo {\n    width: 15px;\n    height: auto;\n    display: inline-block;\n  }\n}\n</style>","<template>\n  <RouterLink\n    ref=\"element\"\n    class=\"movie-card\"\n    :class=\"{\n      active: activeMovieIndex === index,\n      'has-border': isCardBorder,\n      'hover-disabled': isCardHoverDisabled\n    }\"\n    :to=\"{ name: 'movie-info', params: { kp_id: movie.kp_id } }\"\n    :data-test-id=\"`movie-card-${movie.kp_id}`\"\n    tabindex=\"0\"\n  >\n    <CardsMovieMainContent\n      :movie\n      :is-history\n      :is-mobile\n      :is-user-list=\"isUserList\"\n      @remove:from-history=\"(data) => emit('remove:from-history', data)\"\n    />\n\n    <CardMovieDetails :movie :is-history />\n  </RouterLink>\n</template>\n\n<script setup>\nimport { onMounted, useTemplateRef, computed } from 'vue'\nimport CardMovieDetails from './CardMovieDetails.vue'\nimport CardsMovieMainContent from './CardsMovieMainContent.vue'\nimport { useBackgroundStore } from '@/store/background'\n\nconst backgroundStore = useBackgroundStore()\nconst isCardHoverDisabled = computed(() => backgroundStore.isCardHoverDisabled)\n\nconst {\n  movie,\n  isHistory = false,\n  isCardBorder = false,\n  isMobile = false,\n  isUserList = false,\n  activeMovieIndex = null,\n  index = 0\n} = defineProps({\n  movie: Object,\n  isHistory: Boolean,\n  isMobile: Boolean,\n  isCardBorder: Boolean,\n  isUserList: Boolean,\n  index: Number,\n  activeMovieIndex: [Number, null]\n})\n\nconst emit = defineEmits(['remove:from-history', 'save:element'])\nconst element = useTemplateRef('element')\n\nonMounted(() => {\n  if (element.value && element.value.$el) {\n    emit('save:element', element.value.$el)\n  }\n})\n</script>\n\n<style scoped>\n.movie-card {\n  text-decoration: none;\n  color: inherit;\n  width: 100%;\n  background: rgba(30, 30, 30, 0.6);\n  border-radius: 10px;\n  overflow: hidden;\n  cursor: pointer;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  transition:\n    transform 0.3s ease,\n    box-shadow 0.3s ease,\n    border 0.3s ease;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);\n  border: none;\n}\n\n.has-border {\n  border: 1px solid #ccc;\n}\n\n.movie-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);\n}\n\n.hover-disabled:hover {\n  transform: none;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);\n}\n\n.movie-card:focus {\n  outline: 2px solid white;\n  outline-offset: 2px;\n  box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);\n  transition: border 0.2s ease;\n  cursor: pointer;\n}\n\n.movie-card:hover :deep(.delete-button) {\n  opacity: 1;\n}\n\n/* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */\n@media (max-width: 620px) {\n  .movie-card {\n    flex-direction: row;\n    align-items: flex-start;\n    height: 180px;\n    width: 100%;\n    border-radius: 15px;\n  }\n}\n</style>\n","<template>\n  <div\n    class=\"swipe-container\"\n    @touchstart=\"onTouchStart\"\n    @touchmove=\"onTouchMove\"\n    @touchend=\"onTouchEnd\"\n  >\n    <div\n      v-show=\"!disabled && !isScrolling\"\n      class=\"swipe-background\"\n      :class=\"{\n        'swipe-left': deltaX > 0,\n        'swipe-right': deltaX < 0\n      }\"\n    >\n      <div v-show=\"startX\" class=\"icon-container\">\n        <slot name=\"swipe-icon\">\n          <TrashIcon />\n        </slot>\n      </div>\n    </div>\n\n    <div\n      ref=\"swipeElement\"\n      data-test-id=\"swipe-ref-element\"\n      class=\"swipe-wrapper\"\n      :class=\"{ swiping }\"\n      :style=\"{\n        transform: `translateX(${translateValue}px)`,\n        transition: swiping ? 'none' : 'transform 0.3s ease, opacity 0.3s ease'\n      }\"\n    >\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport TrashIcon from '@/components/icons/TrashIcon.vue'\nimport { computed, nextTick, ref, useTemplateRef } from 'vue'\n\nconst {\n  thresholdPercent = 55,\n  disabled = false,\n  backgroundSwipeColor = '#e53935'\n} = defineProps({\n  thresholdPercent: Number,\n  disabled: Boolean,\n  backgroundSwipeColor: String\n})\n\nconst emit = defineEmits(['slide'])\n\nconst swipeElement = useTemplateRef('swipeElement')\nconst startX = ref(0)\nconst currentX = ref(0)\nconst startY = ref(0)\nconst currentY = ref(0)\nconst swiping = ref(false)\nconst width = ref(0)\nconst isScrolling = ref(false)\n\nconst deltaX = computed(() => currentX.value - startX.value)\nconst deltaY = computed(() => currentY.value - startY.value)\nconst translateValue = computed(() => (swiping.value ? deltaX.value : 0))\nconst actualThreshold = computed(() => (width.value * thresholdPercent) / 100)\n\nfunction onTouchStart(e) {\n  if (disabled) return\n\n  width.value = swipeElement.value?.offsetWidth ?? 0\n  startX.value = e.touches[0].clientX\n  startY.value = e.touches[0].clientY\n  currentX.value = startX.value\n  currentY.value = startY.value\n  swiping.value = false\n  isScrolling.value = false\n}\n\nfunction onTouchMove(e) {\n  if (disabled || isScrolling.value) return\n\n  currentX.value = e.touches[0].clientX\n  currentY.value = e.touches[0].clientY\n\n  const absDeltaX = Math.abs(deltaX.value)\n  const absDeltaY = Math.abs(deltaY.value)\n\n  if (!swiping.value && !isScrolling.value) {\n    if (absDeltaY > absDeltaX) {\n      isScrolling.value = true\n      swiping.value = false\n    } else if (absDeltaX > absDeltaY && absDeltaX > 10) {\n      swiping.value = true\n    }\n  }\n\n  if (swiping.value) {\n    e.preventDefault()\n  }\n}\n\nfunction onTouchEnd() {\n  if (disabled || !swiping.value) {\n    resetSwipe()\n    return\n  }\n\n  if (deltaX.value < -actualThreshold.value) {\n    swiping.value = false\n    nextTick(() => {\n      swipeElement.value.style.transform = 'translateX(-100%)'\n      swipeElement.value.style.opacity = '0'\n    })\n    setTimeout(() => {\n      emit('slide')\n      resetSwipe()\n    }, 300)\n    return\n  }\n\n  if (deltaX.value > actualThreshold.value) {\n    swiping.value = false\n    nextTick(() => {\n      swipeElement.value.style.transform = 'translateX(100%)'\n      swipeElement.value.style.opacity = '0'\n    })\n    setTimeout(() => {\n      emit('slide')\n      resetSwipe()\n    }, 300)\n    return\n  }\n\n  resetSwipe()\n}\n\nfunction resetSwipe() {\n  startX.value = 0\n  currentX.value = 0\n  startY.value = 0\n  currentY.value = 0\n  swiping.value = false\n  isScrolling.value = false\n  if (swipeElement.value) {\n    swipeElement.value.style.transform = ''\n    swipeElement.value.style.opacity = ''\n  }\n}\n</script>\n\n<style scoped>\n.swipe-container {\n  position: relative;\n  overflow: hidden;\n}\n\n.swipe-background {\n  z-index: 0;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: transparent;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding-left: 16px;\n  transition: background-color 0.2s ease;\n  border-radius: 10px;\n}\n\n.swipe-background.swipe-left {\n  background-color: v-bind(backgroundSwipeColor);\n  justify-content: flex-start;\n}\n\n.swipe-background.swipe-right {\n  background-color: v-bind(backgroundSwipeColor);\n  justify-content: flex-end;\n  padding-right: 16px;\n}\n\n.swipe-wrapper {\n  position: relative;\n  z-index: 1;\n  transition:\n    transform 0.3s ease,\n    opacity 0.3s ease;\n  touch-action: pan-y;\n}\n\n.swipe-wrapper.swiping {\n  transition: none;\n}\n\n.icon-container {\n  width: 24px;\n  height: 24px;\n}\n\n@media (max-width: 620px) {\n  .swipe-background {\n    height: 180px;\n    border-radius: 15px;\n  }\n}\n</style>\n","<template>\n  <div>\n    <div v-show=\"!loading\" class=\"grid\">\n      <template v-if=\"isHistory && isMobile\">\n        <CardMovieSwipeWrapper\n          v-for=\"(movie, index) in moviesList\"\n          :key=\"movie.kp_id\"\n          :data-test-id=\"`movie-card-swipe-wrapper-${movie.kp_id}`\"\n          @slide=\"removeFromHistory(movie.kp_id)\"\n        >\n          <CardMovie\n            :movie\n            :is-history\n            :is-mobile\n            :is-user-list=\"isUserList\"\n            :index\n            :is-card-border=\"isCardBorder\"\n            :active-movie-index\n            @remove:from-history=\"removeFromHistory\"\n            @save:element=\"(el) => (movieRefs[index] = el)\"\n          />\n        </CardMovieSwipeWrapper>\n      </template>\n\n      <template v-else>\n        <CardMovie\n          v-for=\"(movie, index) in moviesList\"\n          :key=\"movie.kp_id\"\n          :movie\n          :is-history=\"isHistory\"\n          :is-mobile=\"isMobile\"\n          :is-user-list=\"isUserList\"\n          :index\n          :is-card-border=\"isCardBorder\"\n          :active-movie-index\n          @remove:from-history=\"removeFromHistory\"\n          @save:element=\"(el) => (movieRefs[index] = el)\"\n        />\n      </template>\n    </div>\n    <Spinner v-if=\"loading\" />\n  </div>\n</template>\n\n<script setup>\nimport Spinner from '@/components/SpinnerLoading.vue'\nimport { useBackgroundStore } from '@/store/background'\nimport { useMainStore } from '@/store/main'\nimport { useAuthStore } from '@/store/auth'\nimport { computed, onMounted, onUnmounted, ref, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { CardMovie, CardMovieSwipeWrapper } from '../CardMovie'\nimport { delFromList } from '@/api/user'\nimport { handleApiError } from '@/constants'\nimport { USER_LIST_TYPES_ENUM } from '@/constants'\n\nconst mainStore = useMainStore()\nconst authStore = useAuthStore()\nconst backgroundStore = useBackgroundStore()\nconst router = useRouter()\nconst route = useRoute()\n\nconst {\n  moviesList,\n  isHistory = false,\n  loading = true\n} = defineProps({\n  moviesList: Array,\n  isHistory: Boolean,\n  loading: Boolean\n})\n\nconst movieRefs = ref([])\nconst activeMovieIndex = ref(null)\n\nconst isCardBorder = computed(() => backgroundStore.isCardBorder)\nconst isMobile = computed(() => mainStore.isMobile)\nconst isUserList = computed(() => {\n  return route.name === 'lists' && (!route.params.user_id || String(route.params.user_id) === String(authStore.user?.id))\n})\n\nconst movieUrl = (movie) => {\n  return router.resolve({ name: 'movie-info', params: { kp_id: movie.kp_id } }).href\n}\n\nconst emit = defineEmits(['item-deleted'])\nconst removeFromHistory = async (kp_id) => {\n  if (authStore.token) {\n    try {\n      await delFromList(kp_id, USER_LIST_TYPES_ENUM.HISTORY)\n      emit('item-deleted', kp_id)\n    } catch (error) {\n      const { code } = handleApiError(error)\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏:', error)\n      if (code === 401) {\n        authStore.logout()\n        await router.push('/login')\n        router.go(0)\n      }\n    }\n  } else {\n    mainStore.removeFromHistory(kp_id)\n  }\n}\n\nconst handleKeyDown = (event) => {\n  if (!moviesList?.length) return\n\n  if (!event.target?.classList?.contains('movie-card')) {\n    movieRefs.value[activeMovieIndex.value]?.focus()\n  }\n\n  switch (event.key) {\n    case 'ArrowRight':\n      activeMovieIndex.value = (activeMovieIndex.value + 1) % moviesList.length\n      break\n    case 'ArrowLeft':\n      activeMovieIndex.value = (activeMovieIndex.value - 1 + moviesList.length) % moviesList.length\n      break\n    case 'ArrowUp':\n      event.preventDefault()\n      activeMovieIndex.value = Math.max(activeMovieIndex.value - 5, 0)\n      break\n    case 'ArrowDown':\n      event.preventDefault()\n      activeMovieIndex.value = Math.min(activeMovieIndex.value + 5, moviesList.length - 1)\n      break\n    case 'Home':\n      activeMovieIndex.value = 0\n      break\n    case 'End':\n      activeMovieIndex.value = moviesList.length - 1\n      break\n    case 'Enter':\n      if (event.ctrlKey || event.metaKey) {\n        event.preventDefault()\n        window.open(movieUrl(moviesList[activeMovieIndex.value]), '_blank')\n      } else {\n        router.push({\n          name: 'movie-info',\n          params: { kp_id: moviesList[activeMovieIndex.value]?.kp_id }\n        })\n      }\n      break\n  }\n}\n\nwatch(activeMovieIndex, (newIndex) => {\n  if (movieRefs.value[newIndex]) {\n    movieRefs.value[newIndex].scrollIntoView({\n      behavior: 'smooth',\n      block: 'center',\n      inline: 'center'\n    })\n    movieRefs.value[newIndex].focus()\n  }\n})\n\nonMounted(() => {\n  document.addEventListener('keydown', handleKeyDown)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('keydown', handleKeyDown)\n})\n</script>\n\n<style scoped>\n.grid {\n  display: grid;\n  gap: 15px;\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n  justify-content: center;\n  margin: 0 auto;\n  width: 100%;\n  padding: 0 15px;\n  box-sizing: border-box;\n  position: relative;\n  min-height: 300px;\n}\n\n@media (max-width: 620px) {\n  .grid {\n    grid-template-columns: 1fr;\n    gap: 10px;\n    padding: 5px;\n  }\n}\n</style>\n"],"names":["_hoisted_1","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_imports_0$1","removeYearFromTitle","title","_imports_0","_imports_2","emit","__emit","backgroundStore","useBackgroundStore","isCardHoverDisabled","computed","element","useTemplateRef","onMounted","swipeElement","startX","ref","currentX","startY","currentY","swiping","width","isScrolling","deltaX","deltaY","translateValue","actualThreshold","__props","onTouchStart","e","_b","_a","onTouchMove","absDeltaX","absDeltaY","onTouchEnd","resetSwipe","nextTick","mainStore","useMainStore","authStore","useAuthStore","router","useRouter","route","useRoute","movieRefs","activeMovieIndex","isCardBorder","isMobile","isUserList","movieUrl","movie","removeFromHistory","kp_id","delFromList","USER_LIST_TYPES_ENUM","error","code","handleApiError","handleKeyDown","event","_c","_d","_e","watch","newIndex","onUnmounted"],"mappings":"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"}
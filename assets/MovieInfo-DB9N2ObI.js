import{_ as Re,r as m,c as B,b as l,d as n,e,s as U,t as a,K as oe,g as d,L as be,n as _,q as We,u as De,i as Zt,N as jt,z as Qt,l as he,o as He,O as Jt,x as ke,E as eo,f as me,P as qe,m as R,Q as T,y as N,U as $,R as fo,D as ze,S as Ue,V as ko,W as to,X as yo,Y as Vt,Z as go,$ as _o,a as bo,a0 as Wt,a1 as qt,a2 as ho,a3 as $o,a4 as wo}from"./index-CzkSWlZS.js";import{S as oo,_ as Co,a as zt,b as Yt,M as Gt}from"./MovieList-_L5v-FpW.js";import{N as Ye}from"./ToastMessage-B3kCmIcM.js";import{u as Mo,S as Ao,a as Io}from"./trailer-DtpQ3dhN.js";const _e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/ElEQVR4nO2ZQUoDMRSGR7eewHoFsVS0HkUUXNXqASqK2EURBPFIVRe6c+UN1CvUXWvbT4KvMAwzNnnJdCrmg1BKad7/v7y0b5IkiUQiCwGoAx3gQjEugZ0qxTeAIX6MKjMBnBOGS62AVWAPOHVYdlMu9YArYOhphLeBT+ALmOKGEd2QubaAK+B2zngFxt4GgDXgGZjgR8ch5oEkCi8DkvlnRcYLV0Apfqw10M7JvPkV6AN3FmVwK+WyZRnvMEe8ef/ibECyb2o+zRuwnpQAxeLNivQ0BvYyE46qEJ/8fK4ycJKp/X4V4n0MdDNfukkqEO9jwP1LDgD7BeKPgmgp04CL+KUz4Cp+qQxoxC+NAdsNm4c0hWkukkUa8BGfegiadbFDq3/2UAZ8xc+QVvzMtqcKYkBaZ5/MN5xEl2DgLGDZ1KswsC09FPJqXTZoNm5oA6kyMGI2FxqfkluJ0uMTDfhBXAHiHvCCWEL8/RLqlv1MPCf+TSZ+13WC7KnEfWlqcwAeU7GNjnbiQsG5UC1ZAEAt1UMhOpquk6zknMy9l20C2AA+MnEHRo9msuOCs9EH4Fp5TVQ0rqVs0plH4re02Qh1Oq1lCjypsp+5H3gKcD/gykTirqnFZ/ZDy+OGxpapzD+QePrM/2KkKfcGPcv7AdvRkz23G1x4JPIP+AY3r/ywUk/2JAAAAABJRU5ErkJggg==",Ro="/reyohoho/assets/icon-shikimori-DGvXK9Jc.svg",Ve=k=>{const b=document.createElement("div");b.style.position="fixed",b.style.top="0",b.style.left="0",b.style.width="100%",b.style.height="100%",b.style.backgroundColor="rgba(0, 0, 0, 0.8)",b.style.color="white",b.style.display="flex",b.style.justifyContent="center",b.style.alignItems="center",b.style.fontSize="2rem",b.style.zIndex="99000",b.textContent=k,document.body.appendChild(b),setTimeout(()=>{document.body.removeChild(b)},2e3)},To={key:0},Eo={key:1},So={class:"players-list"},Po=["onClick"],Lo={key:0,class:"warning-icon material-icons",title:"Внимание!"},xo={key:0},No={key:0,class:"warning-icon material-icons",title:"Внимание!"},Do={key:1},Ho={key:0,class:"warning-icon material-icons",title:"Внимание!"},Oo=["onClick"],Bo={key:0,class:"warning-icon material-icons",title:"Внимание!"},Ko={__name:"PlayerModal",props:{players:{type:Array,required:!0},selectedPlayer:{type:Object,default:null}},emits:["close","select"],setup(k,{emit:b}){const H=k,x=b,E=m(null),V=B(()=>H.players.filter(u=>!C(u)&&!o(u))),h=B(()=>H.players.some(u=>C(u))),S=B(()=>H.players.some(u=>o(u))),C=u=>u.key.toUpperCase().includes("HDREZKA"),o=u=>u.key.toUpperCase().includes("KODIK"),M=u=>u.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"").replace(/KODIK>/,"").trim(),P=u=>{x("select",u),x("close")},z=u=>H.selectedPlayer&&H.selectedPlayer.key===u.key,w=u=>H.selectedPlayer?u==="hdrezka"&&C(H.selectedPlayer)||u==="kodik"&&o(H.selectedPlayer):!1,D=u=>{E.value=u},G=()=>{E.value=null},g=u=>{let v=H.players.filter(f=>u==="hdrezka"&&C(f)||u==="kodik"&&o(f));return u==="kodik"?v.sort((f,O)=>M(f.translate).localeCompare(M(O.translate))):v},y=u=>g(u).some(v=>v.warning);return(u,v)=>(n(),l("div",{class:"modal",onClick:v[4]||(v[4]=We(f=>u.$emit("close"),["self"]))},[e("div",{class:"modal-content",onClick:v[3]||(v[3]=We(()=>{},["stop"]))},[e("button",{class:"close",onClick:v[0]||(v[0]=f=>u.$emit("close"))},"×"),E.value?(n(),l("h2",Eo,[e("button",{class:"back-btn",onClick:G},"← Назад"),U(" "+a(E.value==="hdrezka"?"ReYohoho - HDrezka":"Kodik"),1)])):(n(),l("h2",To,"Выберите плеер")),e("ul",So,[E.value?(n(!0),l(oe,{key:1},be(g(E.value),f=>(n(),l("li",{key:f.key},[e("button",{class:_(["player-item",{active:z(f)}]),onClick:O=>P(f)},[U(a(M(f.translate))+" ",1),f.warning?(n(),l("span",Bo,"warning")):d("",!0)],10,Oo)]))),128)):(n(),l(oe,{key:0},[(n(!0),l(oe,null,be(V.value,f=>(n(),l("li",{key:f.key},[e("button",{class:_(["player-item",{active:z(f)}]),onClick:O=>P(f)},[U(a(M(f.translate))+" ",1),f.warning?(n(),l("span",Lo,"warning")):d("",!0)],10,Po)]))),128)),h.value?(n(),l("li",xo,[e("button",{class:_(["group-item",{active:w("hdrezka")}]),onClick:v[1]||(v[1]=f=>D("hdrezka"))},[v[5]||(v[5]=e("span",{class:"material-icons group-icon"},"folder",-1)),v[6]||(v[6]=U(" ReYohoho - HDrezka ")),y("hdrezka")?(n(),l("span",No,"warning")):d("",!0)],2)])):d("",!0),S.value?(n(),l("li",Do,[e("button",{class:_(["group-item",{active:w("kodik")}]),onClick:v[2]||(v[2]=f=>D("kodik"))},[v[7]||(v[7]=e("span",{class:"material-icons group-icon"},"folder",-1)),v[8]||(v[8]=U(" Kodik ")),y("kodik")?(n(),l("span",Ho,"warning")):d("",!0)],2)])):d("",!0)],64))])])]))}},Fo=Re(Ko,[["__scopeId","data-v-460326ba"]]),Uo={class:"players-list"},Vo=["src"],Wo={key:1,class:"controls"},qo={class:"main-controls"},zo={class:"material-icons"},Yo={class:"list-button-item"},Go={class:"material-icons"},Xo={class:"list-button-item"},Zo={class:"material-icons"},jo={class:"list-button-item"},Qo={class:"list-button-item"},Jo={class:"material-icons"},es={class:"list-button-item"},ts={class:"material-icons"},os={class:"tooltip-container"},ss={class:"material-icons"},ns={class:"tooltip-container"},ls={class:"tooltip-container"},is={class:"tooltip-container"},as={class:"tooltip-container"},rs={class:"material-symbols-outlined"},us={class:"custom-tooltip"},vs={class:"tooltip-container"},ds={class:"current-ratio"},cs=["onClick"],ms={key:0,class:"tooltip-container"},ps={class:"custom-tooltip"},fs={key:1,class:"tooltip-container"},ks={class:"custom-tooltip"},ys={key:0,class:"desktop-list-buttons"},gs={class:"tooltip-container"},_s={class:"material-icons"},bs={class:"custom-tooltip"},hs={class:"tooltip-container"},$s={class:"material-icons"},ws={class:"custom-tooltip"},Cs={class:"tooltip-container"},Ms={class:"custom-tooltip"},As={class:"tooltip-container"},Is={class:"material-icons"},Rs={class:"custom-tooltip"},Ts={class:"tooltip-container"},Es={class:"material-icons"},Ss={class:"custom-tooltip"},Ps={key:1,class:"mobile-list-buttons"},Ls={class:"tooltip-container"},xs={class:"material-icons"},Ns={class:"custom-tooltip"},Ds={class:"tooltip-container"},Hs={class:"material-icons"},Os={class:"custom-tooltip"},Bs={class:"tooltip-container"},Ks={class:"custom-tooltip"},Fs={class:"tooltip-container"},Us={class:"material-icons"},Vs={class:"custom-tooltip"},Ws={class:"tooltip-container"},qs={class:"material-icons"},zs={class:"custom-tooltip"},Ys={__name:"PlayerComponent",props:{kpId:String,movieInfo:{type:Object,default:()=>({})}},emits:["update:selectedPlayer","update:movieInfo"],setup(k,{emit:b}){const H=De(),x=Mo(),E=Zt(),V=jt(),h=Qt(),S=m(V.params.kp_id),C=k,o=b,M=m([]),P=m(null),z=m(!0),w=m(!1),D=m(!1),G=m(null),g=m(null),y=m(!1),u=m(""),v=m(null),f=m(window.innerHeight*.9),O=B(()=>"".concat(f.value,"px")),j=B(()=>H.isMobile),K=B(()=>!!window.electronAPI),p=m(null),pe=m(!1);let ne=null;const se=m(null),le=m(null),W=m(null),Q=()=>{if(!le.value||!W.value)return;const i=le.value.getBoundingClientRect(),t=W.value.getBoundingClientRect(),I=window.innerHeight;i.bottom+t.height>I?(W.value.style.top="auto",W.value.style.bottom="100%",W.value.style.marginTop="0",W.value.style.marginBottom="12px",W.value.style.transform="translateX(-50%)"):(W.value.style.top="100%",W.value.style.bottom="auto",W.value.style.marginTop="12px",W.value.style.marginBottom="0",W.value.style.transform="translateX(-50%)")},A=i=>{p.value=i,pe.value=!1,clearTimeout(ne),Ue(()=>{Q()})},ye=()=>{pe.value||(ne=setTimeout(()=>{p.value=null},300))},ge=()=>{pe.value=!0,clearTimeout(ne)},fe=()=>{pe.value=!1,p.value=null},J=B({get:()=>x.aspectRatio,set:i=>x.updateAspectRatio(i)}),ee=B({get:()=>x.isCentered,set:i=>x.updateCentering(i)}),c=B(()=>{var i,t,I,Z,ae,re,ue,ve,de,ce;return((t=(i=C.movieInfo)==null?void 0:i.lists)==null?void 0:t.isFavorite)||((Z=(I=C.movieInfo)==null?void 0:I.lists)==null?void 0:Z.isWatching)||((re=(ae=C.movieInfo)==null?void 0:ae.lists)==null?void 0:re.isLater)||((ve=(ue=C.movieInfo)==null?void 0:ue.lists)==null?void 0:ve.isCompleted)||((ce=(de=C.movieInfo)==null?void 0:de.lists)==null?void 0:ce.isAbandoned)}),s=B(()=>x.preferredPlayer),F=m(0),Y=i=>i.toUpperCase(),L=()=>{if(w.value||!g.value)return;const[i,t]=J.value.split(":").map(Number);f.value=window.innerHeight*.9,F.value=Math.min(g.value.clientWidth*(t/i),f.value)},Te=B(()=>{if(w.value)return{};const[i,t]=J.value.split(":").map(Number),I=f.value*(i/t);return{width:"100%",maxWidth:"".concat(I,"px"),maxHeight:O.value,margin:"0 auto",overflow:"hidden"}}),Ee=B(()=>{const[i,t]=J.value.split(":").map(Number);return{position:"relative",width:"100%",paddingTop:"".concat(t/i*100,"%")}}),ie=()=>{g.value&&setTimeout(()=>{Ue(()=>{g.value.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})},500)},Se=async()=>{try{u.value="",v.value=null;const i=await fo(C.kpId);if(M.value=Object.entries(i).map(([t,I])=>({key:t.toUpperCase(),...I})),M.value.length>0){if(s.value){const t=Y(s.value),I=M.value.find(Z=>Y(Z.key)===t);P.value=I||M.value[0]}else P.value=M.value[0];o("update:selectedPlayer",P.value)}}catch(i){const{message:t,code:I}=ze(i);u.value=t,v.value=I,console.error("Ошибка при загрузке плееров:",i)}},te=()=>{y.value=!0},X=()=>{y.value=!1},Pe=i=>{var t;if(((t=P.value)==null?void 0:t.key)===i.key){X();return}P.value=i,z.value=!0,x.updatePreferredPlayer(Y(i.key)),o("update:selectedPlayer",i)},$e=()=>{K.value?window.electronAPI.sendHotKey("F2"):(Ve("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},Oe=()=>{K.value?window.electronAPI.sendHotKey("F3"):(Ve("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},so=()=>{K.value?window.electronAPI.sendHotKey("F4"):(Ve("Доступно только в приложении ReYohoho Desktop"),window.open("https://t.me/ReYohoho/126","_blank"))},Le=()=>{w.value=!w.value,w.value?(window.addEventListener("mousemove",Be),document.addEventListener("keydown",Ke),document.body.classList.add("no-scroll")):(window.removeEventListener("mousemove",Be),document.removeEventListener("keydown",Ke),document.body.classList.remove("no-scroll")),D.value=w.value,Ue(()=>ie())},Ge=m(null),Be=()=>{Ge.value=setTimeout(()=>{clearTimeout(Ge.value),D.value=!1},4e3),D.value=!0},xe=B(()=>H.dimmingEnabled),no=()=>{w.value||H.toggleDimming()},Ke=i=>{(i.key==="Escape"&&w.value||i.altKey&&i.keyCode===84)&&Le()},Xe=i=>{J.value=i,setTimeout(()=>{ee.value&&ie()},310)},lo=()=>{const i="reyohoho://#".concat(S.value);try{window.location.href=i}catch(t){console.error("Ошибка при открытии ссылки:",t)}},io=()=>{const i=window.location.href;navigator.clipboard.writeText(i).then(()=>{}),se.value.showNotification("Ссылка на фильм скопирована")},ao=()=>{z.value=!1};function ro(i){return i.replace(/^REYOHOHO_PLAYER>HDREZKA>/,"HDRezka - ").replace(/KODIK>/,"Kodik - ").trim()}const uo=B(()=>{var i,t;return K.value?!1:!((t=(i=P.value)==null?void 0:i.key)!=null&&t.toUpperCase().includes("TORRENTS"))});he(P,i=>{if(i)if(z.value=!0,x.updatePreferredPlayer(Y(i.key)),o("update:selectedPlayer",i),i.key.toUpperCase().includes("TORRENTS")){const t=document.querySelector(".rocketme_fon");t&&(t.style.display="none");const I=document.querySelector(".pm_preloader");I&&(I.style.display="none")}else{const t=document.querySelector(".rocketme_fon");t&&(t.style.display="");const I=document.querySelector(".pm_preloader");I&&(I.style.display="")}}),he(()=>V.params.kp_id,async i=>{i&&i!==S.value&&(S.value=i,ee.value&&ie())},{immediate:!0});const Ne=["16:9","12:5","4:3"],vo=()=>{const t=(Ne.indexOf(J.value)+1)%Ne.length;Xe(Ne[t])},co=i=>{var I,Z,ae,re,ue,ve,de,ce,we,Ce,Me,Ae,Ie;return(Ie={[$.FAVORITE]:((Z=(I=C.movieInfo)==null?void 0:I.lists)==null?void 0:Z.isFavorite)||!1,[$.HISTORY]:((re=(ae=C.movieInfo)==null?void 0:ae.lists)==null?void 0:re.isHistory)||!1,[$.LATER]:((ve=(ue=C.movieInfo)==null?void 0:ue.lists)==null?void 0:ve.isLater)||!1,[$.COMPLETED]:((ce=(de=C.movieInfo)==null?void 0:de.lists)==null?void 0:ce.isCompleted)||!1,[$.ABANDONED]:((Ce=(we=C.movieInfo)==null?void 0:we.lists)==null?void 0:Ce.isAbandoned)||!1,[$.WATCHING]:((Ae=(Me=C.movieInfo)==null?void 0:Me.lists)==null?void 0:Ae.isWatching)||!1}[i])!=null?Ie:!1},q=async i=>{if(!E.token){se.value.showNotification('Необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:mo});return}try{const t={[$.FAVORITE]:"избранное",[$.HISTORY]:"историю",[$.LATER]:'список "Смотреть позже"',[$.COMPLETED]:'список "Просмотрено"',[$.ABANDONED]:'список "Брошено"',[$.WATCHING]:'список "Смотрю"'};co(i)?(await ko(S.value,i),se.value.showNotification("Удалено из ".concat(t[i]))):(await to(S.value,i),se.value.showNotification("Добавлено в ".concat(t[i])))}catch(t){const{message:I,code:Z}=ze(t);se.value.showNotification("".concat(I," ").concat(Z))}o("update:movieInfo")},mo=()=>{h.push("/login")},Fe=B(()=>x.showFavoriteTooltip),po=()=>{h.push("/settings"),fe()};return He(()=>{z.value=!0,Se(),j.value&&(J.value="4:3"),L(),window.addEventListener("resize",L),window.addEventListener("resize",Q),ee.value&&ie()}),Jt(()=>{window.removeEventListener("resize",L),window.removeEventListener("resize",Q),window.removeEventListener("mousemove",Be),document.removeEventListener("keydown",Ke),document.body.classList.remove("no-scroll")}),(i,t)=>{var I,Z,ae,re,ue,ve,de,ce,we,Ce,Me,Ae,Ie,Ze,je,Qe,Je,et,tt,ot,st,nt,lt,it,at,rt,ut,vt,dt,ct,mt,pt,ft,kt,yt,gt,_t,bt,ht,$t,wt,Ct,Mt,At,It,Rt,Tt,Et,St,Pt,Lt,xt,Nt,Dt,Ht,Ot,Bt,Kt,Ft,Ut;return u.value?(n(),ke(eo,{key:0,message:u.value,code:v.value},null,8,["message","code"])):(n(),l(oe,{key:1},[e("div",Uo,[t[54]||(t[54]=e("span",null,"Плеер:",-1)),e("button",{class:"player-btn",onClick:te},a(P.value?ro(P.value.translate).toUpperCase():"Загрузка плееров..."),1)]),y.value?(n(),ke(Fo,{key:0,players:M.value,"selected-player":P.value,onClose:X,onSelect:Pe},null,8,["players","selected-player"])):d("",!0),e("div",{ref_key:"containerRef",ref:g,class:_(["player-container",{"theater-mode":w.value}]),style:qe(w.value?{}:Te.value)},[e("div",{class:_(["iframe-wrapper",{pm_video:uo.value}]),style:qe(w.value?{}:Ee.value)},[R(e("iframe",{ref_key:"playerIframe",ref:G,src:(I=P.value)==null?void 0:I.iframe,frameborder:"0",allowfullscreen:"",webkitallowfullscreen:"",class:_(["responsive-iframe",{"theater-mode-unlock":D.value,"theater-mode-lock":w.value,dimmed:xe.value}]),onLoad:ao},null,42,Vo),[[T,!z.value&&((Z=P.value)==null?void 0:Z.iframe)]]),z.value?(n(),ke(oo,{key:0})):d("",!0)],6),w.value?(n(),l("button",{key:0,class:_(["close-theater-btn",{visible:D.value}]),onClick:Le}," ✖ ",2)):d("",!0)],6),w.value?d("",!0):(n(),l("div",Wo,[e("div",qo,[j.value?d("",!0):(n(),l("div",{key:0,ref_key:"tooltipContainer",ref:le,class:"tooltip-container list-buttons-container"},[Fe.value?(n(),l("button",{key:0,class:_(["favorite-btn",{active:(re=(ae=k.movieInfo)==null?void 0:ae.lists)==null?void 0:re.isFavorite}]),onMouseenter:t[0]||(t[0]=r=>A("favorite")),onMouseleave:ye,onClick:t[1]||(t[1]=r=>q(N($).FAVORITE))},[e("span",zo,a((ve=(ue=k.movieInfo)==null?void 0:ue.lists)!=null&&ve.isFavorite?"favorite":"favorite_border"),1),e("span",{class:_(["material-icons dropdown-arrow",{highlighted:c.value}])},"expand_more",2)],34)):d("",!0),R(e("div",{ref_key:"tooltip",ref:W,class:"custom-tooltip advanced-tooltip list-buttons-dropdown",onMouseenter:ge,onMouseleave:fe},[e("div",Yo,[e("button",{class:_(["favorite-btn",{active:(ce=(de=k.movieInfo)==null?void 0:de.lists)==null?void 0:ce.isFavorite}]),onClick:t[2]||(t[2]=r=>q(N($).FAVORITE))},[e("span",Go,a((Ce=(we=k.movieInfo)==null?void 0:we.lists)!=null&&Ce.isFavorite?"favorite":"favorite_border"),1),t[55]||(t[55]=e("span",{class:"button-label"},"В избранное",-1))],2)]),e("div",Xo,[e("button",{class:_(["watching-btn",{active:(Ae=(Me=k.movieInfo)==null?void 0:Me.lists)==null?void 0:Ae.isWatching}]),onClick:t[3]||(t[3]=r=>q(N($).WATCHING))},[e("span",Zo,a((Ze=(Ie=k.movieInfo)==null?void 0:Ie.lists)!=null&&Ze.isWatching?"visibility_off":"visibility"),1),t[56]||(t[56]=e("span",{class:"button-label"},"Смотрю",-1))],2)]),e("div",jo,[e("button",{class:_(["later-btn",{active:(Qe=(je=k.movieInfo)==null?void 0:je.lists)==null?void 0:Qe.isLater}]),onClick:t[4]||(t[4]=r=>q(N($).LATER))},t[57]||(t[57]=[e("span",{class:"material-icons"},"watch_later",-1),e("span",{class:"button-label"},"Смотреть позже",-1)]),2)]),e("div",Qo,[e("button",{class:_(["completed-btn",{active:(et=(Je=k.movieInfo)==null?void 0:Je.lists)==null?void 0:et.isCompleted}]),onClick:t[5]||(t[5]=r=>q(N($).COMPLETED))},[e("span",Jo,a((ot=(tt=k.movieInfo)==null?void 0:tt.lists)!=null&&ot.isCompleted?"check_circle":"check_circle_outline"),1),t[58]||(t[58]=e("span",{class:"button-label"},"Просмотрено",-1))],2)]),e("div",es,[e("button",{class:_(["abandoned-btn",{active:(nt=(st=k.movieInfo)==null?void 0:st.lists)==null?void 0:nt.isAbandoned}]),onClick:t[6]||(t[6]=r=>q(N($).ABANDONED))},[e("span",ts,a(((it=(lt=k.movieInfo)==null?void 0:lt.lists)!=null&&it.isAbandoned,"not_interested")),1),t[59]||(t[59]=e("span",{class:"button-label"},"Брошено",-1))],2)]),e("div",{class:"tooltip-hint"},[t[61]||(t[61]=e("span",{class:"material-icons"},"settings",-1)),e("span",null,[t[60]||(t[60]=U("Стиль отображения можно изменить в ")),e("a",{class:"settings-link",onClick:po},"настройках")])])],544),[[T,p.value==="favorite"&&Fe.value]])],512)),j.value?d("",!0):(n(),l(oe,{key:1},[e("div",os,[e("button",{class:_(["dimming-btn",{active:xe.value}]),onMouseenter:t[7]||(t[7]=r=>A("dimming")),onMouseleave:t[8]||(t[8]=r=>p.value=null),onClick:no},[e("span",ss,a(xe.value?"light_mode":"dark_mode"),1)],34),R(e("div",{class:"custom-tooltip"},a(xe.value?"Отключить затемнение":"Включить затемнение"),513),[[T,p.value==="dimming"]])]),e("div",ns,[e("button",{class:_(["blur-btn",{"electron-only":!K.value}]),onMouseenter:t[9]||(t[9]=r=>A("blur")),onMouseleave:t[10]||(t[10]=r=>p.value=null),onClick:$e},t[62]||(t[62]=[e("span",{class:"material-icons"},"blur_on",-1)]),34),R(e("div",{class:"custom-tooltip"},a(K.value?"Блюр":"Блюр, функция доступна в приложении"),513),[[T,p.value==="blur"]])]),e("div",ls,[e("button",{class:_(["material-symbols-outlined",{"electron-only":!K.value}]),onMouseenter:t[11]||(t[11]=r=>A("compressor")),onMouseleave:t[12]||(t[12]=r=>p.value=null),onClick:Oe},t[63]||(t[63]=[e("span",{class:"material-icons"},"graphic_eq",-1)]),34),R(e("div",{class:"custom-tooltip"},a(K.value?"Компрессор":"Компрессор, функция доступна в приложении"),513),[[T,p.value==="compressor"]])]),e("div",is,[e("button",{class:_(["mirror-btn",{"electron-only":!K.value}]),onMouseenter:t[13]||(t[13]=r=>A("mirror")),onMouseleave:t[14]||(t[14]=r=>p.value=null),onClick:so},t[64]||(t[64]=[e("span",{class:"material-icons"},"flip",-1)]),34),R(e("div",{class:"custom-tooltip"},a(K.value?"Зеркало":"Зеркало, функция доступна в приложении"),513),[[T,p.value==="mirror"]])]),e("div",as,[e("button",{class:"theater-mode-btn",onMouseenter:t[15]||(t[15]=r=>A("theater")),onMouseleave:t[16]||(t[16]=r=>p.value=null),onClick:Le},[e("span",rs,a(w.value?"fullscreen_exit":"aspect_ratio"),1)],32),R(e("div",us,[U(a(w.value?"Выйти из театрального режима":"Театральный режим")+" ",1),t[65]||(t[65]=e("span",{class:"shortcut-hint"},"Alt+T",-1))],512),[[T,p.value==="theater"]])]),e("div",vs,[e("button",{class:"aspect-ratio-dropdown-btn",onMouseenter:t[17]||(t[17]=r=>A("aspect_ratio")),onMouseleave:ye,onClick:vo},[e("span",ds,a(J.value),1)],32),R(e("div",{class:"custom-tooltip advanced-tooltip aspect-ratio-dropdown",onMouseenter:ge,onMouseleave:fe},[(n(),l(oe,null,be(Ne,r=>e("div",{key:r,class:_(["aspect-ratio-option",{active:J.value===r}]),onClick:gl=>Xe(r)},a(r),11,cs)),64))],544),[[T,p.value==="aspect_ratio"]])]),e("div",{class:"tooltip-container",onMouseenter:t[19]||(t[19]=r=>A("centering")),onMouseleave:ye},[e("button",{class:"center-btn",onClick:ie},t[66]||(t[66]=[e("span",{class:"material-icons"},"center_focus_strong",-1)])),R(e("div",{class:"custom-tooltip advanced-tooltip",onMouseenter:ge,onMouseleave:fe},[t[67]||(t[67]=U(" Отцентрировать плеер ")),me(Ao,{modelValue:ee.value,"onUpdate:modelValue":t[18]||(t[18]=r=>ee.value=r),title:"Автоцентрирование плеера"},null,8,["modelValue"]),t[68]||(t[68]=e("span",{class:"tooltip-title"},"Автоцентрирование плеера",-1))],544),[[T,p.value==="centering"]])],32),K.value?d("",!0):(n(),l("div",ms,[e("button",{class:"app-link-btn",onMouseenter:t[20]||(t[20]=r=>A("app_link")),onMouseleave:t[21]||(t[21]=r=>p.value=null),onClick:lo},t[69]||(t[69]=[e("span",{class:"material-icons"},"open_in_new",-1)]),32),R(e("div",ps," Открыть в приложении ",512),[[T,p.value==="app_link"]])])),K.value?(n(),l("div",fs,[e("button",{class:"copy-link-btn",onMouseenter:t[22]||(t[22]=r=>A("copy_link")),onMouseleave:t[23]||(t[23]=r=>p.value=null),onClick:io},t[70]||(t[70]=[e("span",{class:"material-icons"},"content_copy",-1)]),32),R(e("div",ks," Скопировать ссылку ",512),[[T,p.value==="copy_link"]])])):d("",!0)],64))]),!j.value&&!Fe.value?(n(),l("div",ys,[e("div",gs,[e("button",{class:_(["favorite-btn",{active:(rt=(at=k.movieInfo)==null?void 0:at.lists)==null?void 0:rt.isFavorite}]),onMouseenter:t[24]||(t[24]=r=>A("favorite")),onMouseleave:t[25]||(t[25]=r=>p.value=null),onClick:t[26]||(t[26]=r=>q(N($).FAVORITE))},[e("span",_s,a((vt=(ut=k.movieInfo)==null?void 0:ut.lists)!=null&&vt.isFavorite?"favorite":"favorite_border"),1)],34),R(e("div",bs,a("В избранное"),512),[[T,p.value==="favorite"]])]),e("div",hs,[e("button",{class:_(["watching-btn",{active:(ct=(dt=k.movieInfo)==null?void 0:dt.lists)==null?void 0:ct.isWatching}]),onMouseenter:t[27]||(t[27]=r=>A("watching")),onMouseleave:t[28]||(t[28]=r=>p.value=null),onClick:t[29]||(t[29]=r=>q(N($).WATCHING))},[e("span",$s,a((pt=(mt=k.movieInfo)==null?void 0:mt.lists)!=null&&pt.isWatching?"visibility_off":"visibility"),1)],34),R(e("div",ws,a("Смотрю"),512),[[T,p.value==="watching"]])]),e("div",Cs,[e("button",{class:_(["later-btn",{active:(kt=(ft=k.movieInfo)==null?void 0:ft.lists)==null?void 0:kt.isLater}]),onMouseenter:t[30]||(t[30]=r=>A("later")),onMouseleave:t[31]||(t[31]=r=>p.value=null),onClick:t[32]||(t[32]=r=>q(N($).LATER))},t[71]||(t[71]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),R(e("div",Ms,a("Смотреть позже"),512),[[T,p.value==="later"]])]),e("div",As,[e("button",{class:_(["completed-btn",{active:(gt=(yt=k.movieInfo)==null?void 0:yt.lists)==null?void 0:gt.isCompleted}]),onMouseenter:t[33]||(t[33]=r=>A("completed")),onMouseleave:t[34]||(t[34]=r=>p.value=null),onClick:t[35]||(t[35]=r=>q(N($).COMPLETED))},[e("span",Is,a((bt=(_t=k.movieInfo)==null?void 0:_t.lists)!=null&&bt.isCompleted?"check_circle":"check_circle_outline"),1)],34),R(e("div",Rs,a("Просмотрено"),512),[[T,p.value==="completed"]])]),e("div",Ts,[e("button",{class:_(["abandoned-btn",{active:($t=(ht=k.movieInfo)==null?void 0:ht.lists)==null?void 0:$t.isAbandoned}]),onMouseenter:t[36]||(t[36]=r=>A("abandoned")),onMouseleave:t[37]||(t[37]=r=>p.value=null),onClick:t[38]||(t[38]=r=>q(N($).ABANDONED))},[e("span",Es,a(((Ct=(wt=k.movieInfo)==null?void 0:wt.lists)!=null&&Ct.isAbandoned,"not_interested")),1)],34),R(e("div",Ss,a("Брошено"),512),[[T,p.value==="abandoned"]])])])):j.value?(n(),l("div",Ps,[e("div",Ls,[e("button",{class:_(["favorite-btn",{active:(At=(Mt=k.movieInfo)==null?void 0:Mt.lists)==null?void 0:At.isFavorite}]),onMouseenter:t[39]||(t[39]=r=>A("favorite")),onMouseleave:t[40]||(t[40]=r=>p.value=null),onClick:t[41]||(t[41]=r=>q(N($).FAVORITE))},[e("span",xs,a((Rt=(It=k.movieInfo)==null?void 0:It.lists)!=null&&Rt.isFavorite?"favorite":"favorite_border"),1)],34),R(e("div",Ns,a("В избранное"),512),[[T,p.value==="favorite"]])]),e("div",Ds,[e("button",{class:_(["watching-btn",{active:(Et=(Tt=k.movieInfo)==null?void 0:Tt.lists)==null?void 0:Et.isWatching}]),onMouseenter:t[42]||(t[42]=r=>A("watching")),onMouseleave:t[43]||(t[43]=r=>p.value=null),onClick:t[44]||(t[44]=r=>q(N($).WATCHING))},[e("span",Hs,a((Pt=(St=k.movieInfo)==null?void 0:St.lists)!=null&&Pt.isWatching?"visibility_off":"visibility"),1)],34),R(e("div",Os,a("Смотрю"),512),[[T,p.value==="watching"]])]),e("div",Bs,[e("button",{class:_(["later-btn",{active:(xt=(Lt=k.movieInfo)==null?void 0:Lt.lists)==null?void 0:xt.isLater}]),onMouseenter:t[45]||(t[45]=r=>A("later")),onMouseleave:t[46]||(t[46]=r=>p.value=null),onClick:t[47]||(t[47]=r=>q(N($).LATER))},t[72]||(t[72]=[e("span",{class:"material-icons"},"watch_later",-1)]),34),R(e("div",Ks,a("Смотреть позже"),512),[[T,p.value==="later"]])]),e("div",Fs,[e("button",{class:_(["completed-btn",{active:(Dt=(Nt=k.movieInfo)==null?void 0:Nt.lists)==null?void 0:Dt.isCompleted}]),onMouseenter:t[48]||(t[48]=r=>A("completed")),onMouseleave:t[49]||(t[49]=r=>p.value=null),onClick:t[50]||(t[50]=r=>q(N($).COMPLETED))},[e("span",Us,a((Ot=(Ht=k.movieInfo)==null?void 0:Ht.lists)!=null&&Ot.isCompleted?"check_circle":"check_circle_outline"),1)],34),R(e("div",Vs,a("Просмотрено"),512),[[T,p.value==="completed"]])]),e("div",Ws,[e("button",{class:_(["abandoned-btn",{active:(Kt=(Bt=k.movieInfo)==null?void 0:Bt.lists)==null?void 0:Kt.isAbandoned}]),onMouseenter:t[51]||(t[51]=r=>A("abandoned")),onMouseleave:t[52]||(t[52]=r=>p.value=null),onClick:t[53]||(t[53]=r=>q(N($).ABANDONED))},[e("span",qs,a(((Ut=(Ft=k.movieInfo)==null?void 0:Ft.lists)!=null&&Ut.isAbandoned,"not_interested")),1)],34),R(e("div",zs,a("Брошено"),512),[[T,p.value==="abandoned"]])])])):d("",!0)])),me(Ye,{ref_key:"notificationRef",ref:se},null,512)],64))}}},Xt=Re(Ys,[["__scopeId","data-v-cbe4529b"]]),Gs={key:0,class:"carousel-container"},Xs={class:"carousel-wrapper"},Zs=["onClick"],js=["src","alt"],Qs={class:"video-name"},Js={key:0,class:"video-player"},en=["src"],tn={__name:"TrailerCarousel",props:{videos:{type:Array,required:!0},activeVideoIndex:{type:Number,default:null}},emits:["select"],setup(k,{emit:b}){const H=De(),x=B(()=>H.isMobile),E=k,V=b,h=m(E.activeVideoIndex),S=m(null),C=m(!1),o=m(!1),M=()=>{if(!S.value)return;const{scrollLeft:g,scrollWidth:y,clientWidth:u}=S.value;C.value=g>0,o.value=g<y-u-1},P=g=>{if(!S.value)return;const y=S.value.querySelector(".carousel-item");if(!y)return;const u=y.clientWidth+16;S.value.scrollBy({left:u*g,behavior:"smooth"})},z=g=>{h.value=g,V("select",E.videos[g])},w=()=>M(),D=m([]),G=async g=>{try{return(await fetch("https://img.youtube.com/vi/".concat(g,"/0.jpg"))).ok}catch(y){return!1}};return He(async()=>{const g=E.videos.map(async u=>await G(u.videoId)?u:null),y=await Promise.all(g);D.value=y.filter(Boolean),M(),window.addEventListener("resize",w)}),he(()=>E.videos,async g=>{const y=g.map(async v=>await G(v.videoId)?v:null),u=await Promise.all(y);D.value=u.filter(Boolean)}),he(()=>E.activeVideoIndex,g=>{h.value=g}),Jt(()=>{window.removeEventListener("resize",w)}),(g,y)=>D.value.length?(n(),l("div",Gs,[y[4]||(y[4]=e("h2",null,"Трейлеры (YouTube)",-1)),e("div",Xs,[R(e("button",{class:"scroll-button left",onClick:y[0]||(y[0]=u=>P(-1))},y[2]||(y[2]=[e("span",{class:"material-symbols-outlined"},"arrow_back_ios",-1)]),512),[[T,!x.value&&C.value]]),e("div",{ref_key:"carousel",ref:S,class:"carousel",onScroll:M},[(n(!0),l(oe,null,be(D.value,(u,v)=>(n(),l("div",{key:v,class:"carousel-item",onClick:f=>z(v)},[e("img",{src:"https://img.youtube.com/vi/".concat(u.videoId,"/0.jpg"),alt:u.name},null,8,js),e("div",Qs,a(u.name),1)],8,Zs))),128))],544),R(e("button",{class:"scroll-button right",onClick:y[1]||(y[1]=u=>P(1))},y[3]||(y[3]=[e("span",{class:"material-symbols-outlined"},"arrow_forward_ios",-1)]),512),[[T,!x.value&&o.value]])]),h.value!==null?(n(),l("div",Js,[e("iframe",{src:k.videos[h.value].iframeUrl,frameborder:"0",allowfullscreen:""},null,8,en)])):d("",!0)])):d("",!0)}},on=Re(tn,[["__scopeId","data-v-e60b5c29"]]),sn={class:"rating-container"},nn={class:"rating-display"},ln={class:"average-rating"},an={class:"rating-numbers"},rn=["onClick","onMouseenter"],un={key:0,class:"tooltip-footer"},vn={__name:"MovieRating",props:{kpId:{type:String,required:!0},showDash:{type:Boolean,default:!1}},setup(k){const b=De(),H=Qt(),x=k,E=m(null),V=m(null),h=m(null),S=m(null),C=m(0),o=m(!1),M=m(!1);let P=null;const z=v=>v?v.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",w=()=>{P=setTimeout(()=>{o.value=!1,b.isMobile||(M.value=!1)},100)},D=()=>{P&&(clearTimeout(P),P=null),o.value=!0},G=()=>{b.isMobile&&(M.value=!M.value)},g=()=>{H.push("/login")},y=async()=>{try{const v=await yo(x.kpId);V.value=v.user_rating,h.value=v.average_rating,S.value=z(v.vote_count)}catch(v){console.error("Error loading rating:",v)}},u=async v=>{var f;try{v===V.value?(await Vt(x.kpId,null),V.value=null,E.value.showNotification("Оценка удалена")):(await Vt(x.kpId,v),V.value=v,E.value.showNotification("Оценка сохранена")),b.isMobile&&(M.value=!1),y()}catch(O){console.error("Error setting rating:",O),((f=O.response)==null?void 0:f.status)===401?E.value.showNotification('Для оценки необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:g}):E.value.showNotification("Ошибка при сохранении оценки"),b.isMobile&&(M.value=!1)}};return He(()=>{y()}),(v,f)=>(n(),l("div",sn,[e("div",nn,[e("a",{href:"#",class:_(["rating-link",{"has-rating":V.value}]),onMouseenter:f[0]||(f[0]=O=>o.value=!0),onMouseleave:w,onClick:We(G,["prevent"])},[f[2]||(f[2]=e("img",{src:Co,alt:"ReYohoho",class:"rating-logo"},null,-1)),e("span",ln,a(h.value?h.value.toFixed(1).replace(/\.0$/,""):"—"),1)],34),R(e("div",{class:_(["rating-tooltip",{"mobile-tooltip":N(b).isMobile}]),onMouseenter:D,onMouseleave:w},[e("div",an,[(n(),l(oe,null,be(10,O=>e("button",{key:O,class:_(["number-btn",{active:O===V.value,hover:O===C.value,"average-highlight":h.value&&O<=Math.round(h.value)}]),onClick:j=>u(O),onMouseenter:j=>C.value=O,onMouseleave:f[1]||(f[1]=j=>C.value=0)},a(O),43,rn)),64))]),S.value?(n(),l("div",un,"Оценок: "+a(S.value),1)):d("",!0)],34),[[T,o.value||M.value]])]),me(Ye,{ref_key:"notificationRef",ref:E},null,512)]))}},dn=Re(vn,[["__scopeId","data-v-ae986668"]]),cn={class:"movie-info"},mn={class:"content"},pn={key:0,class:"content-card"},fn={class:"movie-skeleton"},kn={class:"movie-skeleton__player"},yn={key:2,class:"content-card"},gn={key:3,class:"content-card"},_n={class:"content-header"},bn=["src"],hn={class:"content-title"},$n={key:0,class:"ratings-links"},wn={key:1},Cn=["href","title"],Mn={key:2},An=["href","title"],In={key:3},Rn=["href","title"],Tn={key:4},En=["href","title"],Sn={key:5},Pn=["href"],Ln={key:6,class:"rating-links-group"},xn=["href"],Nn=["title"],Dn={key:0,class:"fa-regular fa-face-grin-wink"},Hn={key:1,class:"fas fa-spinner fa-spin"},On={key:2,class:"nudity-info-popup"},Bn={class:"nudity-info-content"},Kn=["content"],Fn=["content"],Un={class:"additional-info"},Vn={class:"info-content"},Wn={class:"details-container"},qn={class:"info-list"},zn={key:0},Yn={key:1},Gn={key:2},Xn={key:3},Zn={key:4},jn={key:5},Qn={key:6},Jn={key:7},el={key:8},tl={class:"content-info"},ol={key:0,class:"content-description-text"},sl={key:2,class:"staff-section"},nl={class:"staff-categories"},ll={key:0,class:"staff-category"},il={class:"staff-list"},al=["href","title"],rl=["src","alt"],ul={class:"staff-name"},vl={key:0,class:"staff-role"},dl=["href","title"],cl={key:3,class:"yt-video-container"},ml={key:4,class:"related-movies"},pl=["title"],fl={key:5,class:"related-movies"},kl=["title"],yl={__name:"MovieInfo",setup(k){const b=m(!0),H=De(),x=Zt(),E=go(),V=jt(),h=m(V.params.kp_id),S=m(""),C=m(null),o=m(null),M=_o(),z=Io().areTrailersActive,w=m(null),D=m(!1),G=m(!1),g=m(6),y=m(null),u=m(!1),v=()=>{if(o.value){const c=o.value.name_ru||o.value.name_en||o.value.name_original||"Информация о фильме";document.title=c}},f=c=>c?c.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0",O=c=>(c||[]).map(s=>({kp_id:s.film_id,poster:s.poster_url_preview||s.poster_url,title:s.name_ru||s.name_en||s.name_original})),j=c=>{if(typeof c!="number")return;const s=Math.floor(c/60),F=c%60;return"".concat(s," ч. ").concat(F," мин.")},K=m(!1),p=m({top:"0px",left:"0px"}),pe=c=>{K.value=!0,p.value={top:"".concat(c.pageY+10,"px"),left:"".concat(c.pageX-70,"px")}},ne=m(null),se=async()=>{try{const c=[o.value.name_ru||o.value.name_en||o.value.name_original,...o.value.year?[o.value.year]:[],...o.value.film_length?[j(o.value.film_length)]:[]];await navigator.clipboard.writeText(c.join(", ")),ne.value.showNotification("Скопировано")}catch(c){console.error("Ошибка копирования:",c)}},le=async(c=!0)=>{var s,F,Y,L,Te,Ee,ie,Se;try{let te;if(h.value.startsWith("shiki")?te=await ho(h.value):te=await $o(h.value,x.token),Array.isArray(te)&&te.length===0)throw new Error("Данные не найдены. Пожалуйста, повторите поиск.");o.value=te,h.value.startsWith("shiki")?o.value={...o.value,title:o.value.name_ru||o.value.name_en,name_original:o.value.name_en,short_description:o.value.slogan}:o.value={...o.value,title:o.value.name_ru||o.value.name_en||o.value.name_original,kinopoisk_id:h.value},M.setHeaderContent({text:o.value.title,imageUrl:o.value.logo_url}),v();const X={kp_id:h.value,title:((s=o.value)==null?void 0:s.name_ru)||((F=o.value)==null?void 0:F.name_en)||((Y=o.value)==null?void 0:Y.name_original),poster:((L=o.value)==null?void 0:L.poster_url)||((Te=o.value)==null?void 0:Te.cover_url)||((Ee=o.value)==null?void 0:Ee.screenshots[0]),year:(ie=o.value)==null?void 0:ie.year,type:(Se=o.value)==null?void 0:Se.type};if(h.value.startsWith("shiki"))if(o.value.screenshots&&o.value.screenshots.length>0){const $e=Math.floor(Math.random()*o.value.screenshots.length),Oe=o.value.screenshots[$e];E.updateMoviePoster(Oe)}else X.poster&&E.updateMoviePoster(X.poster);else X.poster&&E.updateMoviePoster(X.poster);if(B(()=>H.isHistoryAllowed).value&&X.kp_id&&X.title&&c)if(x.token)try{await to(X.kp_id,$.HISTORY)}catch($e){console.error("Ошибка при добавлении в историю:",$e)}else H.addToHistory({...X})}catch(te){const{message:X,code:Pe}=ze(te);S.value=X,C.value=Pe,console.error("Ошибка при загрузке информации о фильмах:",te)}},W=B(()=>{var c,s;return console.log("Трейлеры:",(c=o.value)==null?void 0:c.videos),(s=o.value)==null?void 0:s.videos}),Q=B(()=>{var c;return O((c=o.value)==null?void 0:c.sequels_and_prequels)}),A=B(()=>{var c;return O((c=o.value)==null?void 0:c.similars)}),ye=()=>{var Y;const c=((Y=document.querySelector(".related-movies"))==null?void 0:Y.clientWidth)||0,F=Math.floor(c/260)||6;g.value=Math.max(1,F)},ge=()=>{ye()},fe=c=>{if(c.altKey&&c.keyCode===84&&document.querySelector(".player-container")){const F=document.querySelector(".theater-mode-btn");F&&F.click()}},J=async()=>{var c;if(!x.token){ne.value.showNotification('Для просмотра информации необходимо <a class="auth-link">авторизоваться</a>',5e3,{onClick:()=>M.openLogin()});return}if((c=o.value)!=null&&c.imdb_id){if(y.value){y.value=null;return}u.value=!0;try{const s=await wo(o.value.imdb_id);y.value=s.nudity_info}catch(s){console.error("Ошибка при загрузке информации о сценах:",s),ne.value.showNotification("Ошибка при загрузке информации о сценах")}finally{u.value=!1}}};He(async()=>{await le(),b.value=!1,document.addEventListener("keydown",fe),window.addEventListener("resize",ge),setTimeout(ye,100)}),bo(async()=>{M.clearHeaderContent(),document.removeEventListener("keydown",fe),window.removeEventListener("resize",ge)}),he(()=>V.params.kp_id,async c=>{c&&c!==h.value&&(M.clearHeaderContent(),h.value=c,w.value=null,await le(),b.value=!1)},{immediate:!0}),he(o,()=>{v()},{deep:!0});const ee=c=>{var s,F;return((F=(s=o.value)==null?void 0:s.staff)==null?void 0:F.filter(Y=>Y.profession_key===c))||[]};return(c,s)=>{var F,Y;return n(),l(oe,null,[e("div",cn,[e("div",mn,[(b.value||!o.value)&&!S.value?(n(),l("div",pn,[e("div",fn,[s[4]||(s[4]=Wt('<div class="movie-skeleton__header" data-v-37bed61e><div class="movie-skeleton__title" data-v-37bed61e></div></div><div class="movie-skeleton__ratings" data-v-37bed61e><div class="movie-skeleton__rating-item" data-v-37bed61e></div><div class="movie-skeleton__rating-item" data-v-37bed61e></div><div class="movie-skeleton__rating-item" data-v-37bed61e></div></div>',2)),e("div",kn,[me(oo)]),s[5]||(s[5]=Wt('<div class="movie-skeleton__additional-info" data-v-37bed61e><div class="movie-skeleton__section-title" data-v-37bed61e></div><div class="movie-skeleton__info-list" data-v-37bed61e><div class="movie-skeleton__info-item" data-v-37bed61e></div><div class="movie-skeleton__info-item" data-v-37bed61e></div><div class="movie-skeleton__info-item" data-v-37bed61e></div><div class="movie-skeleton__info-item" data-v-37bed61e></div><div class="movie-skeleton__info-item" data-v-37bed61e></div></div></div><div class="movie-skeleton__description" data-v-37bed61e><div class="movie-skeleton__description-line" data-v-37bed61e></div><div class="movie-skeleton__description-line" data-v-37bed61e></div><div class="movie-skeleton__description-line" data-v-37bed61e></div><div class="movie-skeleton__description-line" data-v-37bed61e></div></div>',2))])])):d("",!0),S.value?(n(),ke(eo,{key:1,message:S.value,code:C.value},null,8,["message","code"])):d("",!0),S.value?(n(),l("div",yn,[(n(),ke(Xt,{key:h.value,"kp-id":h.value,"movie-info":o.value,"onUpdate:movieInfo":le},null,8,["kp-id","movie-info"]))])):d("",!0),o.value&&!b.value?(n(),l("div",gn,[e("div",_n,[o.value.logo_url?(n(),l("div",{key:0,class:"content-logo",onMousemove:pe,onMouseleave:s[0]||(s[0]=L=>K.value=!1),onClick:se},[e("img",{src:o.value.logo_url,alt:"Логотип фильма",class:"content-logo"},null,8,bn)],32)):(n(),l("div",{key:1,onMousemove:pe,onMouseleave:s[1]||(s[1]=L=>K.value=!1),onClick:se},[e("h1",hn,a(o.value.title),1)],32)),R(e("div",{class:"title-copy-tooltip",style:qe(p.value)}," Скопировать ",4),[[T,K.value]])]),o.value.kinopoisk_id||o.value.title||o.value.imdb_id||o.value.rating_imdb||o.value.shikimori_id?(n(),l("div",$n,[o.value.kinopoisk_id?(n(),ke(dn,{key:0,"kp-id":o.value.kinopoisk_id,"show-dash":!0},null,8,["kp-id"])):d("",!0),o.value.kinopoisk_id?(n(),l("div",wn,[e("a",{href:"https://www.kinopoisk.ru/film/".concat(o.value.kinopoisk_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"Оценок: ".concat(f(o.value.rating_kinopoisk_vote_count)):"Нет данных о количестве голосов"},[s[6]||(s[6]=e("img",{src:zt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,a(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[7]||(s[7]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Cn)])):d("",!0),!o.value.kinopoisk_id&&o.value.title?(n(),l("div",Mn,[e("a",{href:"https://www.kinopoisk.ru/index.php?kp_query=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_kinopoisk_vote_count?"Оценок: ".concat(f(o.value.rating_kinopoisk_vote_count)):"Нет данных о количестве голосов"},[s[8]||(s[8]=e("img",{src:zt,alt:"КП",class:"rating-logo"},null,-1)),e("span",null,a(o.value.rating_kinopoisk?o.value.rating_kinopoisk:"—"),1),s[9]||(s[9]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,An)])):d("",!0),o.value.imdb_id?(n(),l("div",In,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"Оценок: ".concat(f(o.value.rating_imdb_vote_count)):"Нет данных о количестве голосов"},[s[10]||(s[10]=e("img",{src:Yt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,a(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[11]||(s[11]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,Rn)])):d("",!0),!o.value.imdb_id&&o.value.title?(n(),l("div",Tn,[e("a",{href:"https://www.imdb.com/find/?q=".concat(encodeURIComponent(o.value.title+(o.value.year?" "+o.value.year:""))),target:"_blank",rel:"noopener noreferrer",class:"rating-link",title:o.value.rating_imdb_vote_count?"Оценок: ".concat(f(o.value.rating_imdb_vote_count)):"Нет данных о количестве голосов"},[s[12]||(s[12]=e("img",{src:Yt,alt:"IMDb",class:"rating-logo"},null,-1)),e("span",null,a(o.value.rating_imdb?o.value.rating_imdb:"—"),1),s[13]||(s[13]=e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1))],8,En)])):d("",!0),o.value.shikimori_id?(n(),l("div",Sn,[e("a",{href:"https://shikimori.one/animes/".concat(o.value.shikimori_id),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[14]||(s[14]=[e("img",{src:Ro,alt:"Shiki",class:"rating-logo"},null,-1),e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,Pn)])):d("",!0),o.value.imdb_id?(n(),l("div",Ln,[e("a",{href:"https://www.imdb.com/title/".concat(o.value.imdb_id,"/parentalguide"),target:"_blank",rel:"noopener noreferrer",class:"rating-link"},s[15]||(s[15]=[e("span",null,"Parents Guide",-1),e("img",{src:_e,alt:"Внешняя ссылка",class:"external-link-icon"},null,-1)]),8,xn),e("button",{class:"rating-link nudity-info-btn",onClick:J,title:y.value?"Скрыть информацию":"Показать информацию о сценах(Sex & Nudity)"},[u.value?(n(),l("i",Hn)):(n(),l("i",Dn)),y.value?(n(),l("div",On,[e("div",Bn,a(y.value),1)])):d("",!0)],8,Nn)])):d("",!0)])):d("",!0),(n(),ke(Xt,{key:h.value,"kp-id":h.value,"movie-info":o.value,"onUpdate:movieInfo":le},null,8,["kp-id","movie-info"])),e("meta",{name:"title-and-year",content:o.value.type==="FILM"&&o.value.year?"".concat(o.value.title," (").concat(o.value.year,")"):o.value.title},null,8,Kn),o.value.name_original?(n(),l("meta",{key:1,name:"original-title",content:o.value.name_original},null,8,Fn)):d("",!0),e("div",Un,[s[25]||(s[25]=e("h2",{class:"additional-info-title"},"Подробнее",-1)),e("div",Vn,[e("div",Wn,[e("ul",qn,[o.value.type&&N(qt)[o.value.type]?(n(),l("li",zn,[s[16]||(s[16]=e("strong",null,"Тип:",-1)),U(" "+a(N(qt)[o.value.type]),1)])):d("",!0),o.value.year?(n(),l("li",Yn,[s[17]||(s[17]=e("strong",null,"Год выпуска:",-1)),U(" "+a(o.value.year),1)])):d("",!0),o.value.title?(n(),l("li",Gn,[s[18]||(s[18]=e("strong",null,"Название:",-1)),U(" "+a(o.value.title),1)])):d("",!0),o.value.name_original?(n(),l("li",Xn,[s[19]||(s[19]=e("strong",null,"Оригинальное название:",-1)),U(" "+a(o.value.name_original),1)])):d("",!0),o.value.slogan?(n(),l("li",Zn,[s[20]||(s[20]=e("strong",null,"Слоган:",-1)),U(" "+a(o.value.slogan),1)])):d("",!0),o.value.production_companies?(n(),l("li",jn,[s[21]||(s[21]=e("strong",null,"Продакшн:",-1)),U(" "+a(o.value.production_companies),1)])):d("",!0),(F=o.value.countries)!=null&&F.length?(n(),l("li",Qn,[s[22]||(s[22]=e("strong",null,"Страна производства:",-1)),U(" "+a(o.value.countries.map(L=>L.country).join(", ")),1)])):d("",!0),(Y=o.value.genres)!=null&&Y.length?(n(),l("li",Jn,[s[23]||(s[23]=e("strong",null,"Жанры:",-1)),U(" "+a(o.value.genres.map(L=>L.genre).join(", ")),1)])):d("",!0),o.value.film_length?(n(),l("li",el,[s[24]||(s[24]=e("strong",null,"Продолжительность:",-1)),U(" "+a(j(o.value.film_length)),1)])):d("",!0)])])])]),e("div",tl,[o.value.description?(n(),l("p",ol,a(o.value.description),1)):d("",!0)]),o.value.staff?(n(),l("div",sl,[e("div",nl,[ee("ACTOR").length?(n(),l("div",ll,[s[26]||(s[26]=e("h3",{class:"additional-info-title"},"Актёры",-1)),e("div",il,[(n(!0),l(oe,null,be(ee("ACTOR").slice(0,12),L=>(n(),l("div",{key:L.staff_id,class:"staff-item"},[e("a",{href:"https://www.kinopoisk.ru/name/".concat(L.staff_id,"/"),target:"_blank",rel:"noopener noreferrer",class:"staff-link",title:L.description||""},[e("img",{src:L.poster_url,alt:L.name_ru,class:"staff-photo"},null,8,rl),e("span",ul,a(L.name_ru||L.name_en),1),L.description?(n(),l("span",vl,a(L.description),1)):d("",!0)],8,al)]))),128)),e("a",{class:"expand-actors-circle-button",href:"https://www.kinopoisk.ru/film/".concat(h.value,"/cast/"),target:"_blank",rel:"noopener noreferrer",title:"Показать всех ".concat(ee("ACTOR").length," актеров")}," +"+a(ee("ACTOR").length-12),9,dl)])])):d("",!0)])])):d("",!0),W.value.length&&N(z)?(n(),l("div",cl,[me(on,{videos:W.value,"active-video-index":w.value,onSelect:c.playTrailer},null,8,["videos","active-video-index","onSelect"])])):d("",!0),Q.value.length?(n(),l("div",ml,[s[27]||(s[27]=e("h2",null,"Сиквелы и приквелы",-1)),me(N(Gt),{"movies-list":D.value?Q.value:Q.value.slice(0,g.value),loading:!1,"is-history":!1},null,8,["movies-list"]),Q.value.length>g.value?(n(),l("a",{key:0,class:"expand-circle-button",onClick:s[2]||(s[2]=L=>D.value=!D.value),title:"".concat(D.value?"Скрыть":"Показать все"," (").concat(Q.value.length,")")},a(D.value?"−":"+".concat(Q.value.length-g.value)),9,pl)):d("",!0)])):d("",!0),A.value.length?(n(),l("div",fl,[s[28]||(s[28]=e("h2",null,"Похожие",-1)),me(N(Gt),{"movies-list":G.value?A.value:A.value.slice(0,g.value),loading:!1,"is-history":!1},null,8,["movies-list"]),A.value.length>g.value?(n(),l("a",{key:0,class:"expand-circle-button",onClick:s[3]||(s[3]=L=>G.value=!G.value),title:"".concat(G.value?"Скрыть":"Показать все"," (").concat(A.value.length,")")},a(G.value?"−":"+".concat(A.value.length-g.value)),9,kl)):d("",!0)])):d("",!0)])):d("",!0)])]),me(Ye,{ref_key:"notificationRef",ref:ne},null,512)],64)}}},wl=Re(yl,[["__scopeId","data-v-37bed61e"]]);export{wl as default};

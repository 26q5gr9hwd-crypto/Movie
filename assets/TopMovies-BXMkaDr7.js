import{_ as U,r as t,o as x,b as m,e,x as _,g as b,K as g,L as y,y as B,E,M as L,D as w,d as i,n as f,t as h}from"./index-CsZVjhWA.js";import{M as D}from"./MovieList-CK8dEfLC.js";import"./SpinnerLoading-BG_2yz31.js";const N={class:"wrapper"},V={class:"top-100-page",tabindex:"0"},$={class:"controls"},z={class:"filter-card time-card"},A={class:"button-group time-buttons"},I=["onClick"],K={class:"filter-card type-card"},S={class:"button-group type-buttons"},j=["onClick"],q={__name:"TopMovies",setup(G){const r=t([]),n=t(!1),c=t("24h"),u=t("all"),o=t(""),v=t(null),k=[{label:"24 часа",apiUrl:"24h"},{label:"7 дней",apiUrl:"7d"},{label:"30 дней",apiUrl:"30d"},{label:"Всё время",apiUrl:"all"}],M=[{label:"Все",value:"all"},{label:"Фильмы",value:"movie"},{label:"Сериалы",value:"series"}],d=async()=>{n.value=!0,o.value="",v.value=null;try{r.value=await L({activeTime:c.value,typeFilter:u.value})}catch(s){const{message:l,code:a}=w(s);o.value=l,v.value=a,r.value=[]}finally{n.value=!1}},F=s=>{c.value=s,d()},C=s=>{u.value=s,d()};return x(d),(s,l)=>(i(),m("div",N,[e("div",V,[e("div",$,[e("div",z,[e("div",A,[l[0]||(l[0]=e("i",{class:"material-icons card-icon"},"schedule",-1)),(i(),m(g,null,y(k,(a,p)=>e("button",{key:p,class:f(["filter-btn time-btn",{active:c.value===a.apiUrl}]),onClick:T=>F(a.apiUrl)},h(a.label),11,I)),64))])]),e("div",K,[e("div",S,[l[1]||(l[1]=e("i",{class:"material-icons card-icon"},"movie",-1)),(i(),m(g,null,y(M,(a,p)=>e("button",{key:p,class:f(["filter-btn type-btn",{active:u.value===a.value}]),onClick:T=>C(a.value)},h(a.label),11,j)),64))])])]),o.value?b("",!0):(i(),_(B(D),{key:0,"movies-list":r.value,"is-history":!1,loading:n.value},null,8,["movies-list","loading"])),o.value?(i(),_(E,{key:1,message:o.value,code:v.value},null,8,["message","code"])):b("",!0)])]))}},P=U(q,[["__scopeId","data-v-8de6c3e8"]]);export{P as default};

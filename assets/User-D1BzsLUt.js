import{_ as g,b as l,e as s,g as v,t as u,r as c,i as m,o as p,aa as _,y as h,d as n}from"./index-fw0XDk9N.js";const k={name:"ProfilePage",setup(){const i=c(!1),o=m(),r=h(),t=c(o.user),d=c(null),f=()=>{i.value=!0},a=async(e=!1)=>{i.value=!1,o.logout(),e?await r.push("/"):await r.push("/login"),r.go(0)};return p(async()=>{if(t.value||a(!0),t.value.photo){const e=await _();d.value="".concat(e).concat(t.value.photo)}}),{user:t,showDialog:i,confirmLogout:f,logout:a,photoURL:d}}},b={class:"profile-container"},y={key:0,class:"profile-content"},L={class:"profile-photo"},U=["src"],w={key:1,class:"photo-placeholder"},C={class:"profile-info"},P={class:"info-item"},R={class:"info-item"},B={key:1,class:"loading"},D={key:2,class:"dialog-overlay"},S={class:"dialog modern-dark-dialog"},x={class:"dialog-footer"};function A(i,o,r,t,d,f){var a;return n(),l("div",b,[o[7]||(o[7]=s("div",{class:"profile-header"},[s("h1",null,"Профиль")],-1)),t.user?(n(),l("div",y,[s("div",L,[t.user.photo&&t.photoURL?(n(),l("img",{key:0,src:t.photoURL,alt:"Profile Photo"},null,8,U)):(n(),l("div",w,u(String.fromCodePoint(t.user.name.codePointAt(0)).toLocaleUpperCase()),1))]),s("div",C,[s("div",P,[o[3]||(o[3]=s("label",null,"Имя:",-1)),s("span",null,u(t.user.name),1)]),s("div",R,[o[4]||(o[4]=s("label",null,"Никнейм:",-1)),s("span",null,u((a=t.user.username)!=null?a:"Не указан"),1)])]),s("button",{class:"logout-btn",onClick:o[0]||(o[0]=(...e)=>t.confirmLogout&&t.confirmLogout(...e))},"Выйти")])):(n(),l("div",B,"Загрузка профиля...")),t.showDialog?(n(),l("div",D,[s("div",S,[o[5]||(o[5]=s("div",{class:"dialog-header"},[s("h3",null,"Выход")],-1)),o[6]||(o[6]=s("div",{class:"dialog-body"},[s("p",null,"Вы уверены?")],-1)),s("div",x,[s("button",{class:"modern-dark-btn",onClick:o[1]||(o[1]=e=>t.showDialog=!1)},"Отмена"),s("button",{class:"modern-dark-btn danger",onClick:o[2]||(o[2]=(...e)=>t.logout&&t.logout(...e))},"Выйти")])])])):v("",!0)])}const V=g(k,[["render",A],["__scopeId","data-v-1906e7e5"]]);export{V as default};
//# sourceMappingURL=User-D1BzsLUt.js.map

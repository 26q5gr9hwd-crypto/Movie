{"version":3,"file":"SettingsModal-BbUhX1_D.js","sources":["../../src/components/SettingsModal.vue"],"sourcesContent":["<template>\n  <div class=\"settings-page\">\n    <header class=\"settings-header\">\n      <button class=\"back-button\" @click=\"goBack\">← Назад</button>\n      <h1>Настройки</h1>\n    </header>\n\n    <div class=\"settings-container\">\n      <div class=\"settings-group\">\n        <h2>Фон</h2>\n        <div class=\"radio-group\">\n          <label class=\"radio\">\n            <input v-model=\"backgroundType\" type=\"radio\" value=\"dynamic\" />\n            <span class=\"radio-label\">Динамический фон</span>\n          </label>\n          <label class=\"radio\">\n            <input v-model=\"backgroundType\" type=\"radio\" value=\"stars\" />\n            <span class=\"radio-label\">Звездный фон</span>\n          </label>\n          <label class=\"radio\">\n            <input v-model=\"backgroundType\" type=\"radio\" value=\"disabled\" />\n            <span class=\"radio-label\">Отключить фон</span>\n          </label>\n        </div>\n        <div class=\"settings-actions\">\n          <button class=\"reset-button\" @click=\"resetBackground\">\n            <i class=\"fa-solid fa-arrow-rotate-left\"></i> Сбросить фон\n          </button>\n        </div>\n      </div>\n\n      <div class=\"settings-group\">\n        <h2>Плеер</h2>\n        <SliderRound v-model=\"isCentered\">Автоцентрирование плеера</SliderRound>\n        <SliderRound v-model=\"isCardBorder\">Окантовка вокруг карточек</SliderRound>\n        <SliderRound v-model=\"isCardHoverDisabled\"\n          >Отключить подъем карточек при наведении</SliderRound\n        >\n        <SliderRound v-model=\"showFavoriteTooltip\"\n          >Стиль отображения кнопок избранного:\n          {{ showFavoriteTooltip ? 'Тултип' : 'Все кнопки' }}</SliderRound\n        >\n      </div>\n\n      <div class=\"settings-group\">\n        <h2>Трейлеры</h2>\n        <SliderRound v-model=\"areTrailersActive\">Активировать трейлеры</SliderRound>\n      </div>\n\n      <div class=\"settings-group\">\n        <h2>История</h2>\n        <SliderRound v-model=\"isHistoryAllowed\"> Сохранять историю просмотра</SliderRound>\n        <div class=\"settings-actions\">\n          <button class=\"reset-button\" @click=\"showModal = true\">\n            <i class=\"fa-solid fa-trash-can\"></i>\n            Очистить историю просмотра\n          </button>\n          <BaseModal\n            :is-open=\"showModal\"\n            message=\"Вы уверены, что хотите очистить историю?\"\n            @confirm=\"clearAllHistory\"\n            @close=\"showModal = false\"\n          />\n        </div>\n      </div>\n\n      <div class=\"settings-group\">\n        <h2>Горячие клавиши</h2>\n        <SliderRound v-model=\"isCtrlFEnabled\">Перехватывать Ctrl+F для поиска</SliderRound>\n      </div>\n\n      <div class=\"settings-group\">\n        <h2>Версия</h2>\n        {{ appVersion }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport SliderRound from '@/components/slider/SliderRound.vue'\nimport { useBackgroundStore } from '@/store/background'\nimport { useMainStore } from '@/store/main'\nimport { usePlayerStore } from '@/store/player'\nimport { useTrailerStore } from '@/store/trailer' // Импортируем store для трейлеров\nimport { computed, ref, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport BaseModal from './BaseModal.vue'\n\nconst mainStore = useMainStore()\nconst backgroundStore = useBackgroundStore()\nconst playerStore = usePlayerStore()\nconst trailerStore = useTrailerStore() // Инициализируем store для трейлеров\nconst router = useRouter()\nconst showModal = ref(false)\nconst appVersion = ref(import.meta.env.VITE_APP_VERSION_FULL_VERSION)\n\nconst clearAllHistory = () => {\n  mainStore.clearAllHistory()\n  showModal.value = false\n}\n\n// Настройки фона (модуль background)\nconst backgroundType = computed({\n  get: () => backgroundStore.backgroundType,\n  set: (value) => backgroundStore.updateBackgroundType(value)\n})\n\n// Вычисляемое свойство, определяющее, нужно ли отключать размытие\nconst isBlurDisabled = computed(\n  () => backgroundType.value === 'stars' || backgroundType.value === 'disable'\n)\nwatch(isBlurDisabled, (newValue) => {\n  if (newValue) {\n    // Отключаем размытие, если выбран звездный фон\n    backgroundStore.toggleBlur(false)\n  }\n})\n\n// Автоцентрирование плеера (из модуля player)\nconst isCentered = computed({\n  get: () => playerStore.isCentered,\n  set: (value) => playerStore.updateCentering(value)\n})\n\nconst isCardBorder = computed({\n  get: () => backgroundStore.isCardBorder,\n  set: (value) => backgroundStore.toggleCardBorder(value)\n})\n\nconst isCardHoverDisabled = computed({\n  get: () => backgroundStore.isCardHoverDisabled,\n  set: (value) => backgroundStore.toggleCardHover(value)\n})\n\nconst isHistoryAllowed = computed({\n  get: () => mainStore.isHistoryAllowed,\n  set: (value) => mainStore.setHistoryAllowed(value)\n})\n\n// Управление трейлерами (из модуля trailer)\nconst areTrailersActive = computed({\n  get: () => trailerStore.areTrailersActive, // Получаем состояние из Pinia\n  set: (value) => {\n    if (value) {\n      trailerStore.activateTrailers() // Включаем трейлеры\n    } else {\n      trailerStore.deactivateTrailers() // Выключаем трейлеры\n    }\n  }\n})\n\nconst isCtrlFEnabled = computed({\n  get: () => mainStore.isCtrlFEnabled,\n  set: () => mainStore.toggleCtrlF()\n})\n\nconst showFavoriteTooltip = computed({\n  get: () => playerStore.showFavoriteTooltip,\n  set: (value) => playerStore.setFavoriteTooltip(value)\n})\n\n// Навигация\nconst goBack = () => {\n  router.go(-1)\n}\n\nconst resetBackground = () => {\n  backgroundStore.resetBackground()\n}\n</script>\n\n<style scoped>\n.settings-page {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  color: #fff;\n  height: 100vh;\n}\n\n.settings-header {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  justify-content: space-between;\n  margin-bottom: 20px;\n}\n\n.settings-group {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.back-button {\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 18px;\n  cursor: pointer;\n}\n\n.settings-container {\n  background: #2a2a2a;\n  padding: 20px;\n  border-radius: 10px;\n  max-width: 500px;\n  width: 100%;\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);\n  display: flex;\n  flex-direction: column;\n  gap: 35px;\n}\n\n.setting-item {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\nh2 {\n  font-size: 16px;\n  margin-bottom: 10px;\n  margin: 0;\n}\n\n.radio {\n  display: flex;\n  align-items: center;\n}\n\n.radio-group {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n.radio input {\n  margin-right: 10px;\n}\n\n.radio-label {\n  cursor: pointer;\n}\n\n.reset-button {\n  background: #d32f2f;\n  border: none;\n  padding: 10px 20px;\n  color: #fff;\n  font-size: 16px;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: 0.3s;\n  display: flex;\n  gap: 1rem;\n  align-items: baseline;\n}\n\n.reset-button:hover {\n  background: #b71c1c;\n}\n</style>\n"],"names":["mainStore","useMainStore","backgroundStore","useBackgroundStore","playerStore","usePlayerStore","trailerStore","useTrailerStore","router","useRouter","showModal","ref","appVersion","clearAllHistory","backgroundType","computed","value","isBlurDisabled","watch","newValue","isCentered","isCardBorder","isCardHoverDisabled","isHistoryAllowed","areTrailersActive","isCtrlFEnabled","showFavoriteTooltip","goBack","resetBackground"],"mappings":"wmBAyFA,MAAMA,EAAYC,EAAa,EACzBC,EAAkBC,EAAmB,EACrCC,EAAcC,EAAe,EAC7BC,EAAeC,EAAgB,EAC/BC,EAASC,EAAU,EACnBC,EAAYC,EAAI,EAAK,EACrBC,EAAaD,EAAI,gCAA6C,EAE9DE,EAAkB,IAAM,CAC5Bb,EAAU,gBAAgB,EAC1BU,EAAU,MAAQ,EACpB,EAGMI,EAAiBC,EAAS,CAC9B,IAAK,IAAMb,EAAgB,eAC3B,IAAMc,GAAUd,EAAgB,qBAAqBc,CAAK,CAAA,CAC3D,EAGKC,EAAiBF,EACrB,IAAMD,EAAe,QAAU,SAAWA,EAAe,QAAU,SACrE,EACMI,EAAAD,EAAiBE,GAAa,CAC9BA,GAEFjB,EAAgB,WAAW,EAAK,CAClC,CACD,EAGD,MAAMkB,EAAaL,EAAS,CAC1B,IAAK,IAAMX,EAAY,WACvB,IAAMY,GAAUZ,EAAY,gBAAgBY,CAAK,CAAA,CAClD,EAEKK,EAAeN,EAAS,CAC5B,IAAK,IAAMb,EAAgB,aAC3B,IAAMc,GAAUd,EAAgB,iBAAiBc,CAAK,CAAA,CACvD,EAEKM,EAAsBP,EAAS,CACnC,IAAK,IAAMb,EAAgB,oBAC3B,IAAMc,GAAUd,EAAgB,gBAAgBc,CAAK,CAAA,CACtD,EAEKO,EAAmBR,EAAS,CAChC,IAAK,IAAMf,EAAU,iBACrB,IAAMgB,GAAUhB,EAAU,kBAAkBgB,CAAK,CAAA,CAClD,EAGKQ,EAAoBT,EAAS,CACjC,IAAK,IAAMT,EAAa,kBACxB,IAAMU,GAAU,CACVA,EACFV,EAAa,iBAAiB,EAE9BA,EAAa,mBAAmB,CAClC,CACF,CACD,EAEKmB,EAAiBV,EAAS,CAC9B,IAAK,IAAMf,EAAU,eACrB,IAAK,IAAMA,EAAU,YAAY,CAAA,CAClC,EAEK0B,EAAsBX,EAAS,CACnC,IAAK,IAAMX,EAAY,oBACvB,IAAMY,GAAUZ,EAAY,mBAAmBY,CAAK,CAAA,CACrD,EAGKW,EAAS,IAAM,CACnBnB,EAAO,GAAG,EAAE,CACd,EAEMoB,EAAkB,IAAM,CAC5B1B,EAAgB,gBAAgB,CAClC"}
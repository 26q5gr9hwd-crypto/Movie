import{_ as T,r as o,o as x,b as i,e as a,x as y,g as b,K as _,L as f,y as B,E,M as L,D as w,d as s,n as g,t as h}from"./index--znLhfOx.js";import{M as D}from"./MovieList-CIA___AS.js";import"./SpinnerLoading-BN5A3Tgh.js";const N={class:"wrapper"},V={class:"top-100-page",tabindex:"0"},$={class:"controls"},z={class:"filter-card time-card"},A={class:"button-group time-buttons"},I={key:0,class:"filter-separator"},K=["onClick"],S={class:"filter-card type-card"},j={class:"button-group type-buttons"},q=["onClick"],G={__name:"TopMovies",setup(H){const c=o([]),n=o(!1),u=o("24h"),v=o("all"),r=o(""),d=o(null),k=[{label:"24 часа",apiUrl:"24h"},{label:"7 дней",apiUrl:"7d"},{label:"30 дней",apiUrl:"30d"},{label:"Всё время",apiUrl:"all"},{label:"---",apiUrl:"separator",type:"separator"},{label:"Обсуждаемое за месяц",apiUrl:"discussed"}],M=[{label:"Все",value:"all"},{label:"Фильмы",value:"movie"},{label:"Сериалы",value:"series"}],p=async()=>{n.value=!0,r.value="",d.value=null;try{c.value=await L({activeTime:u.value,typeFilter:v.value})}catch(l){const{message:t,code:e}=w(l);r.value=t,d.value=e,c.value=[]}finally{n.value=!1}},F=l=>{u.value=l,p()},U=l=>{v.value=l,p()};return x(p),(l,t)=>(s(),i("div",N,[a("div",V,[a("div",$,[a("div",z,[a("div",A,[t[0]||(t[0]=a("i",{class:"material-icons card-icon"},"schedule",-1)),(s(),i(_,null,f(k,(e,m)=>(s(),i(_,{key:m},[e.type==="separator"?(s(),i("div",I)):(s(),i("button",{key:1,class:g(["filter-btn time-btn",{active:u.value===e.apiUrl}]),onClick:C=>F(e.apiUrl)},h(e.label),11,K))],64))),64))])]),a("div",S,[a("div",j,[t[1]||(t[1]=a("i",{class:"material-icons card-icon"},"movie",-1)),(s(),i(_,null,f(M,(e,m)=>a("button",{key:m,class:g(["filter-btn type-btn",{active:v.value===e.value}]),onClick:C=>U(e.value)},h(e.label),11,q)),64))])])]),r.value?b("",!0):(s(),y(B(D),{key:0,"movies-list":c.value,"is-history":!1,loading:n.value},null,8,["movies-list","loading"])),r.value?(s(),y(E,{key:1,message:r.value,code:d.value},null,8,["message","code"])):b("",!0)])]))}},Q=T(G,[["__scopeId","data-v-8c091c2e"]]);export{Q as default};

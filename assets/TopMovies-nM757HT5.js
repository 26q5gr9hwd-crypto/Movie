import{_ as B,r,c as E,o as w,b as t,e as a,x as y,g as b,K as _,L as f,y as D,E as L,M as N,N as V,D as $,d as s,n as g,t as h}from"./index-BzqjmUNF.js";import{M as z}from"./MovieList-B9Z4sVH_.js";import"./SpinnerLoading-BmoOfdRa.js";const A={class:"wrapper"},I={class:"top-100-page",tabindex:"0"},K={class:"controls"},S={class:"filter-card time-card"},j={class:"button-group time-buttons"},q={key:0,class:"filter-separator"},G=["onClick"],H={class:"filter-card type-card"},J={class:"button-group type-buttons"},O=["onClick"],P={__name:"TopMovies",setup(Q){const u=r([]),v=r(!1),c=r("24h"),o=r("all"),n=r(""),d=r(null),k=[{label:"24 часа",apiUrl:"24h"},{label:"7 дней",apiUrl:"7d"},{label:"30 дней",apiUrl:"30d"},{label:"Всё время",apiUrl:"all"},{label:"---",apiUrl:"separator",type:"separator"},{label:"Обсуждаемое",apiUrl:"discussed"}],M=[{label:"Все",value:"all"},{label:"Фильмы",value:"movie"},{label:"Сериалы",value:"series"}],F=[{label:"Горячее",value:"hot"},{label:"Недавнее",value:"recent"}],T=E(()=>c.value==="discussed"?F:M),p=async()=>{v.value=!0,n.value="",d.value=null;try{c.value==="discussed"?u.value=await N(o.value):u.value=await V({activeTime:c.value,typeFilter:o.value})}catch(l){const{message:i,code:e}=$(l);n.value=i,d.value=e,u.value=[]}finally{v.value=!1}},C=l=>{c.value=l,l==="discussed"?o.value="hot":o.value="all",p()},U=l=>{o.value=l,p()};return w(p),(l,i)=>(s(),t("div",A,[a("div",I,[a("div",K,[a("div",S,[a("div",j,[i[0]||(i[0]=a("i",{class:"material-icons card-icon"},"schedule",-1)),(s(),t(_,null,f(k,(e,m)=>(s(),t(_,{key:m},[e.type==="separator"?(s(),t("div",q)):(s(),t("button",{key:1,class:g(["filter-btn time-btn",{active:c.value===e.apiUrl}]),onClick:x=>C(e.apiUrl)},h(e.label),11,G))],64))),64))])]),a("div",H,[a("div",J,[i[1]||(i[1]=a("i",{class:"material-icons card-icon"},"movie",-1)),(s(!0),t(_,null,f(T.value,(e,m)=>(s(),t("button",{key:m,class:g(["filter-btn type-btn",{active:o.value===e.value}]),onClick:x=>U(e.value)},h(e.label),11,O))),128))])])]),n.value?b("",!0):(s(),y(D(z),{key:0,"movies-list":u.value,"is-history":!1,loading:v.value},null,8,["movies-list","loading"])),n.value?(s(),y(L,{key:1,message:n.value,code:d.value},null,8,["message","code"])):b("",!0)])]))}},Y=B(P,[["__scopeId","data-v-d24b10bd"]]);export{Y as default};
